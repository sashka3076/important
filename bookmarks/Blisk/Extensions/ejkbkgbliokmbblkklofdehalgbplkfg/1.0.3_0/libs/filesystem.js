window.FSAPI=function(){function a(){}function b(a){return Array.prototype.slice.call(a||[],0)}function c(a){var b='';switch(a.code){case FileError.QUOTA_EXCEEDED_ERR:b='QUOTA_EXCEEDED_ERR';break;case FileError.NOT_FOUND_ERR:b='NOT_FOUND_ERR';break;case FileError.SECURITY_ERR:b='SECURITY_ERR';break;case FileError.INVALID_MODIFICATION_ERR:b='INVALID_MODIFICATION_ERR';break;case FileError.INVALID_STATE_ERR:b='INVALID_STATE_ERR';break;default:b='Unknown Error';}return b}function d(a,c,d){var e=a.root.createReader(),f=[];(function a(){e.readEntries(function(d){d.length?(f=f.concat(b(d)),a()):c(f.sort())},d)})()}window.requestFileSystem=window.requestFileSystem||window.webkitRequestFileSystem;var e='chrome-extension://'+chrome.i18n.getMessage('@@extension_id')+'/',f='filesystem:';return{withFs:function(c,d){var e=b(arguments).slice(2);window.requestFileSystem(window.TEMPORARY,1048576,function(a){e.unshift(a),d.apply(this,e)},c||a)},lookupFiles:d,loadMetadata:function(a,b){function c(){e++,e>=d&&b(a)}var d=a.length,e=0;a.forEach(function(a){a.getMetadata(function(b){a.metadata=b,c()},function(){a.metadata=null,c()})}),a.length||c()},clearTempFiles:function(b,f,e){function g(a){var b=c(a);f&&f(a,b)}e=e||a,window.requestFileSystem(window.TEMPORARY,1048576,function(a){d(a,function(a){function c(a,c,h){(h?f:g).push(a),e(a,c,d,h),f.length+g.length==d&&b(f,g)}var d=a.length,f=[],g=[];a.forEach(function(a,b){a.isFile?a.remove(function(){c(a,b,!0)},function(){c(a,b,!1)}):c(a,b,!1)})},g)},g)},extensionEndpoint:e,fsPrefix:f,imgPathBase:f+e+'temporary/',_:a}}();
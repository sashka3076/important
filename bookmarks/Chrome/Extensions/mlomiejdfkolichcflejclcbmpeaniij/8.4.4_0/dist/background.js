"undefined"!=typeof browser&&(chrome=browser),function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=395)}([,,function(e,t,r){"use strict";r.r(t),function(e){r.d(t,"log",(function(){return i})),r.d(t,"prefsGet",(function(){return s})),r.d(t,"prefsSet",(function(){return o})),r.d(t,"pref",(function(){return a})),r.d(t,"hashCode",(function(){return g})),r.d(t,"objectEntries",(function(){return A})),r.d(t,"decodeJwt",(function(){return I}));const n=chrome.runtime.getManifest().log||!1;function i(...e){if(!n)return!1;const t=e.toString().toLowerCase().includes("error");return e.unshift(`${(new Date).toLocaleTimeString()}\t`),t?(console.error(...e),console.trace()):console.log(...e),!0}function s(...e){return new Promise((t,r)=>{chrome.storage.local.get(e.length?e:null,n=>{if(chrome.runtime.lastError)i("prefsGet ERROR",chrome.runtime.lastError),r(new Error(chrome.runtime.lastError));else{let r=null;if(e.length<=0)r=n;else if(1===e.length){const t=e[0];n&&n.hasOwnProperty(t)&&(r=n[t])}else r={},e.forEach(e=>{r[e]=null,n&&n.hasOwnProperty(e)&&(r[e]=n[e])});t(r)}})})}function o(e){return i("PREFS SET",e),new Promise((t,r)=>{void 0!==e?chrome.storage.local.set(e,()=>{chrome.runtime.lastError?(i("prefsSet ERROR",chrome.runtime.lastError),r(new Error(chrome.runtime.lastError))):t(e)}):(i("prefsSet ERROR",chrome.runtime.lastError),r(new Error(chrome.runtime.lastError)))})}function a(e,t){if(void 0===t)return s(e);const r={};return r[e]=t,o(r)}function g(e){let t,r,n=0;if(0===e.length)return n;for(r=0;r<e.length;r++)n=(n<<5)-n+(t=e.charCodeAt(r)),n&=n;return n}function*A(e){const t=Object.keys(e);for(const r of t)yield[r,e[r]]}function u(t){return new e(function(e){return(e+=new Array(5-e.length%4).join("=")).replace(/\-/g,"+").replace(/_/g,"/")}(t),"base64").toString()}function I(e){const t=e.split(".");if(3!==t.length)return null;const r=t[0],n=t[1],i=t[2];return{header:JSON.parse(u(r)),payload:JSON.parse(u(n)),signature:i}}}.call(this,r(50).Buffer)},function(e,t,r){"use strict";var n=r(22),i=r(262),s=r(2),o=r(67),a=r(42),g=r(4);const{IS_CLIQZ:A}=g.a,u={set:(e,t,r)=>(Object(s.log)("Setting update value for",t),A&&("enable_human_web"!==t&&"enable_offers"!==t&&"enable_anti_tracking"!==t&&"enable_ad_block"!==t||(r=!1)),"reload_banner_status"!==t&&"trackers_banner_status"!==t||r&&"object"==typeof r&&(r=!!r.show),e[t]=r,g.a.INIT_COMPLETE?Object(s.pref)(t,r):g.a.initProps[t]=r,o.a.trigger(`conf.save.${t}`,r),(e.SYNC_SET.has(t)||"bugs_last_checked"===t)&&o.a.trigger("conf.changed.settings",t),Object(n.debounce)(a.a.setUninstallUrl.bind(a.a),200)(t),!0)};t.a=new Proxy(i.a,u)},function(e,t,r){"use strict";var n=r(34),i=r.n(n);const s=chrome.runtime.getManifest(),o=!!chrome.runtime.isCliqz;t.a=new class{constructor(){this.DEBUG=s.debug||!1,this.LOG=this.DEBUG&&s.log,this.EXTENSION_NAME=s.name||"Ghostery",this.EXTENSION_VERSION=s.version_name||s.version,this.BROWSER_INFO={displayName:"",name:"",token:"",version:"",os:"other"},this.IS_CLIQZ=!!(s.applications&&s.applications.gecko&&s.applications.gecko.update_url||o),this.JUST_INSTALLED=!1,this.JUST_UPGRADED=!1,this.JUST_UPGRADED_FROM_7=!1,this.JUST_UPGRADED_FROM_8_1=!1,this.HOTFIX=!1,this.LET_REDIRECTS_THROUGH=!1,this.C2P_LOADED=!1,this.NOTIFICATIONS_LOADED=!1,this.upgrade_alert_shown=!1,this.INIT_COMPLETE=!1,this.initProps={},this.GHOSTERY_DOMAIN=this.DEBUG?"ghosterystage":"ghostery",this.METRICS_SUB_DOMAIN=this.DEBUG?"staging-d":"d",this.CMP_SUB_DOMAIN=this.DEBUG?"staging-cmp-cdn":"cmp-cdn",this.CDN_SUB_DOMAIN=this.DEBUG?"staging-cdn":"cdn",this.APPS_SUB_DOMAIN=this.DEBUG?"staging-apps":"apps",this.GCACHE_SUB_DOMAIN=this.DEBUG?"staging-gcache":"gcache",this.AUTH_SERVER=`https://consumerapi.${this.GHOSTERY_DOMAIN}.com`,this.ACCOUNT_SERVER=`https://accountapi.${this.GHOSTERY_DOMAIN}.com`,this.GHOSTERY_TAB_CHROME_PRODUCTION_ID="plmapebanmikcofllaaddgeocahboejc",this.GHOSTERY_TAB_CHROME_PRERELEASE_ID="fenghpkndeggbbpjeojffgbmdmnaelmf",this.GHOSTERY_TAB_CHROME_TEST_ID="ifnpgdmcliingpambkkihjlhikmbbjid",this.GHOSTERY_TAB_FIREFOX_PRODUCTION_ID="firefoxtab@ghostery.com",this.GHOSTERY_TAB_FIREFOX_TEST_ID="{0ea88bc4-03bd-4baa-8153-acc861589c1c}",this.BLACKLISTED=1,this.WHITELISTED=2,this.BROKEN_PAGE_REFRESH=1,this.BROKEN_PAGE_WHITELIST=2,this.BROKEN_PAGE_PAUSE=3,this.BROKEN_PAGE_TRACKER_TRUST_OR_UNBLOCK=4,this.BROKEN_PAGE_NEW_TAB=5,this.REDIRECT_MAP=new Map,this.BLOCKED_REDIRECT_DATA={},this.EXCLUDES=["extension.ghostery.com","extension.ghosterystage.com","extension.ghosterydev.com","signon.ghostery.com","signon.ghosterystage.com","account.ghostery.com","account.ghosterystage.com"],this.SYNC_ARRAY=["alert_bubble_pos","alert_bubble_timeout","alert_expanded","block_by_default","cliqz_module_whitelist","current_theme","enable_ad_block","enable_anti_tracking","enable_autoupdate","enable_click2play","enable_click2play_social","enable_human_web","enable_metrics","enable_offers","enable_smart_block","expand_all_trackers","hide_alert_trusted","ignore_first_party","import_callout_dismissed","is_expanded","is_expert","notify_library_updates","notify_promotions","notify_upgrade_updates","reload_banner_status","selected_app_ids","show_alert","show_badge","show_cmp","show_tracker_urls","site_specific_blocks","site_specific_unblocks","toggle_individual_trackers","trackers_banner_status"],this.SESSION={paused_blocking:!1,paused_blocking_timeout:0,abtests:{},cmp_data:{}},this.buildBrowserInfo()}buildBrowserInfo(){const e=i()(navigator.userAgent),t=e.browser.name.toLowerCase(),r=parseInt(e.browser.version.toString(),10),n=e.os.name.toLowerCase();this.IS_CLIQZ?(this.BROWSER_INFO.displayName="Cliqz",this.BROWSER_INFO.name="cliqz",this.BROWSER_INFO.token="cl"):t.includes("edge")?(this.BROWSER_INFO.displayName="Edge",this.BROWSER_INFO.name="edge",this.BROWSER_INFO.token="ed"):t.includes("opera")?(this.BROWSER_INFO.displayName="Opera",this.BROWSER_INFO.name="opera",this.BROWSER_INFO.token="op"):t.includes("chrome")?(this.BROWSER_INFO.displayName="Chrome",this.BROWSER_INFO.name="chrome",this.BROWSER_INFO.token="ch"):t.includes("firefox")?(this.BROWSER_INFO.displayName="Firefox",this.BROWSER_INFO.name="firefox",this.BROWSER_INFO.token="ff"):t.includes("yandex")&&(this.BROWSER_INFO.displayName="Yandex",this.BROWSER_INFO.name="yandex",this.BROWSER_INFO.token="yx"),n.includes("mac")?this.BROWSER_INFO.os="mac":n.includes("win")?this.BROWSER_INFO.os="win":n.includes("linux")?this.BROWSER_INFO.os="linux":n.includes("android")&&(this.BROWSER_INFO.os="android"),this.BROWSER_INFO.version=r}}},,function(e,t,r){"use strict";r.d(t,"b",(function(){return i})),r.d(t,"a",(function(){return s})),r.d(t,"c",(function(){return o})),r.d(t,"f",(function(){return a})),r.d(t,"d",(function(){return g})),r.d(t,"e",(function(){return A}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};function i(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}function s(e,t,r,n){return new(r||(r=Promise))((function(i,s){function o(e){try{g(n.next(e))}catch(e){s(e)}}function a(e){try{g(n.throw(e))}catch(e){s(e)}}function g(e){e.done?i(e.value):new r((function(t){t(e.value)})).then(o,a)}g((n=n.apply(e,t||[])).next())}))}function o(e,t){var r,n,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,n&&(i=2&s[0]?n.return:s[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,s[1])).done)return i;switch(n=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,n=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],n=0}finally{r=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}function a(e){var t="function"==typeof Symbol&&e[Symbol.iterator],r=0;return t?t.call(e):{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}}function g(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,s=r.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(n=s.next()).done;)o.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=s.return)&&r.call(s)}finally{if(i)throw i.error}}return o}function A(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(g(arguments[t]));return e}},function(e,t,r){"use strict";r.d(t,"b",(function(){return i})),r.d(t,"h",(function(){return s})),r.d(t,"m",(function(){return o})),r.d(t,"c",(function(){return a})),r.d(t,"e",(function(){return A})),r.d(t,"j",(function(){return u})),r.d(t,"f",(function(){return I})),r.d(t,"g",(function(){return C})),r.d(t,"l",(function(){return l})),r.d(t,"k",(function(){return c})),r.d(t,"q",(function(){return p})),r.d(t,"n",(function(){return m})),r.d(t,"p",(function(){return _})),r.d(t,"o",(function(){return y})),r.d(t,"r",(function(){return b})),r.d(t,"d",(function(){return v})),r.d(t,"a",(function(){return w})),r.d(t,"i",(function(){return M}));var n=r(220);
/*!
 * Copyright (c) 2017-2019 Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */
function i(e){return 16843009*((e=(858993459&(e-=e>>1&1431655765))+(e>>2&858993459))+(e>>4)&252645135)>>24}function s(e,t){return!!(e&t)}function o(e,t){return e|t}function a(e,t){return e&~t}function g(e,t,r){for(var n=5381,i=t;i<r;i+=1)n=33*n^e.charCodeAt(i);return n>>>0}function A(e){return e?g(e,0,e.length):0}function u(e){for(var t=new Uint32Array(e.length),r=0;r<e.length;r+=1)t[r]=A(e[r]);return t}function I(e,t){if(e.length<t.length)return!1;for(var r=t.length,n=0;n<r;n+=1)if(e[n]!==t[n])return!1;return!0}function C(e,t,r){if(e.length-r<t.length)return!1;for(var n=r+t.length,i=r;i<n;i+=1)if(e[i]!==t[i-r])return!1;return!0}function l(e){return e>=48&&e<=57}function c(e){return(e|=32)>=97&&e<=122}function d(e){return l(e)||c(e)||function(e){return e>=192&&e<=450}(e)||function(e){return e>=1024&&e<=1279}(e)||37===e}var h=new(r(191).a)(200);function f(e,t,r,n,i){for(var s=!1,o=0,a=0,A=0;A<e.length;A+=1){var u=e.charCodeAt(A);if(t(u))!1===s&&(s=!0,o=A,A>0&&(a=e.charCodeAt(A-1)));else if(!0===s&&(s=!1,(!1===r||0!==o)&&A-o>1&&42!==u&&42!==a&&(i.push(g(e,o,A)),i.pos===i.size)))return}!0===s&&!1===n&&42!==a&&e.length-o>1&&i.push(g(e,o,e.length))}function p(e,t){f(e,d,!1,!1,t)}function m(e){return h.seekZero(),p(e,h),h.slice()}function _(e,t,r,n){f(e,d,t,r,n)}function y(e,t,r){return h.seekZero(),_(e,t,r,h),h.slice()}function b(e,t){for(var r=e.length-1,n=1,i=0;n<r;n+=1){if(124===(s=e.charCodeAt(n)))return;if(40===s||42===s||43===s||63===s||91===s||123===s||46===s&&92!==i||92===s&&c(e.charCodeAt(n+1)))break;i=s}for(i=0;r>=n;r-=1){var s;if(124===(s=e.charCodeAt(r)))return;if(41===s||42===s||43===s||63===s||93===s||125===s||46===s&&92!==e.charCodeAt(r-1)||92===s&&c(i))break;i=s}if(r<n){var o=94!==e.charCodeAt(1),a=36!==e.charCodeAt(e.length-1);_(e.slice(1,e.length-1),o,a,t)}else n>1&&_(e.slice(1,n),94!==e.charCodeAt(1),!0,t),r<e.length-1&&_(e.slice(r+1,e.length-1),!0,94!==e.charCodeAt(e.length-1),t)}function v(e){return h.seekZero(),function(e,t,r){for(var n=!1,i=0,s=0;s<e.length;s+=1){if(t(e.charCodeAt(s)))!1===n&&(n=!0,i=s);else if(!0===n&&(n=!1,r.push(g(e,i,s)),r.pos===r.size))return}!0===n&&r.push(g(e,i,e.length))}(e,d,h),Object(n.a)(new Uint32Array(h.slice()))}function w(e,t){return-1!==function(e,t){if(0===e.length)return-1;for(var r=0,n=e.length-1;r<=n;){var i=r+n>>>1,s=e[i];if(s<t)r=i+1;else{if(!(s>t))return i;n=i-1}}return-1}(e,t)}var k=/[^\u0000-\u00ff]/;function M(e){return k.test(e)}},,,function(e,t,r){"use strict";r.d(t,"a",(function(){return u}));var n=r(6),i=r(121),s=r(194),o=r(30),a=r(168),g=r(83),A=r(143),u=function(e){function t(r,n,i){var o=e.call(this)||this;switch(o.syncErrorValue=null,o.syncErrorThrown=!1,o.syncErrorThrowable=!1,o.isStopped=!1,arguments.length){case 0:o.destination=s.a;break;case 1:if(!r){o.destination=s.a;break}if("object"==typeof r){r instanceof t?(o.syncErrorThrowable=r.syncErrorThrowable,o.destination=r,r.add(o)):(o.syncErrorThrowable=!0,o.destination=new I(o,r));break}default:o.syncErrorThrowable=!0,o.destination=new I(o,r,n,i)}return o}return n.b(t,e),t.prototype[a.a]=function(){return this},t.create=function(e,r,n){var i=new t(e,r,n);return i.syncErrorThrowable=!1,i},t.prototype.next=function(e){this.isStopped||this._next(e)},t.prototype.error=function(e){this.isStopped||(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this))},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){this.destination.error(e),this.unsubscribe()},t.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},t.prototype._unsubscribeAndRecycle=function(){var e=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this},t}(o.a),I=function(e){function t(t,r,n,o){var a,g=e.call(this)||this;g._parentSubscriber=t;var A=g;return Object(i.a)(r)?a=r:r&&(a=r.next,n=r.error,o=r.complete,r!==s.a&&(A=Object.create(r),Object(i.a)(A.unsubscribe)&&g.add(A.unsubscribe.bind(A)),A.unsubscribe=g.unsubscribe.bind(g))),g._context=A,g._next=a,g._error=n,g._complete=o,g}return n.b(t,e),t.prototype.next=function(e){if(!this.isStopped&&this._next){var t=this._parentSubscriber;g.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}},t.prototype.error=function(e){if(!this.isStopped){var t=this._parentSubscriber,r=g.a.useDeprecatedSynchronousErrorHandling;if(this._error)r&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)r?(t.syncErrorValue=e,t.syncErrorThrown=!0):Object(A.a)(e),this.unsubscribe();else{if(this.unsubscribe(),r)throw e;Object(A.a)(e)}}},t.prototype.complete=function(){var e=this;if(!this.isStopped){var t=this._parentSubscriber;if(this._complete){var r=function(){return e._complete.call(e._context)};g.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,r),this.unsubscribe()):(this.__tryOrUnsub(r),this.unsubscribe())}else this.unsubscribe()}},t.prototype.__tryOrUnsub=function(e,t){try{e.call(this._context,t)}catch(e){if(this.unsubscribe(),g.a.useDeprecatedSynchronousErrorHandling)throw e;Object(A.a)(e)}},t.prototype.__tryOrSetError=function(e,t,r){if(!g.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,r)}catch(t){return g.a.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=t,e.syncErrorThrown=!0,!0):(Object(A.a)(t),!0)}return!1},t.prototype._unsubscribe=function(){var e=this._parentSubscriber;this._context=null,this._parentSubscriber=null,e.unsubscribe()},t}(u)},,function(e,t,r){"use strict";r.r(t),r.d(t,"sendMessage",(function(){return I})),r.d(t,"sendMessageToFrame",(function(){return C})),r.d(t,"sendMessageToPanel",(function(){return l})),r.d(t,"isValidTopLevelNavigation",(function(){return c})),r.d(t,"flushChromeMemoryCache",(function(){return d})),r.d(t,"defineLazyProperty",(function(){return h})),r.d(t,"processFpeUrl",(function(){return f})),r.d(t,"processUrl",(function(){return p})),r.d(t,"processUrlQuery",(function(){return m})),r.d(t,"getTab",(function(){return _})),r.d(t,"getActiveTab",(function(){return y})),r.d(t,"getTabByUrl",(function(){return b})),r.d(t,"openNewTab",(function(){return w})),r.d(t,"postJson",(function(){return M})),r.d(t,"getJson",(function(){return O})),r.d(t,"fetchLocalJSONResource",(function(){return S})),r.d(t,"injectScript",(function(){return D})),r.d(t,"injectNotifications",(function(){return T})),r.d(t,"isCliqzOffer",(function(){return L}));var n=r(22),i=r(265),s=r(18),o=r(4),a=r(2);const{BROWSER_INFO:g}=o.a,A="firefox"===g.name,u=()=>{chrome.runtime.lastError&&Object(a.log)("defaultCallback error:",chrome.runtime.lastError)};function I(e,t,r,n=u()){Object(a.log)(`BACKGROUND SENT ${t} TO TAB`),chrome.tabs.sendMessage(e,{name:t,message:r},n)}function C(e,t,r,n,i=u()){Object(a.log)(`BACKGROUND SENT ${r} TO TAB ${e} - FRAME ${t}`),chrome.tabs.sendMessage(e,{name:r,message:n},{frameId:t},i)}function l(e,t){Object(a.log)("BACKGROUND SENDS MESSAGE TO PANEL",e),chrome.runtime.sendMessage({name:e,message:t},()=>{chrome.runtime.lastError&&Object(a.log)("sendMessageToPanel error:",chrome.runtime.lastError)})}function c(e){const{url:t}=e;return 0===e.frameId&&e.tabId>0&&t.startsWith("http")&&!t.startsWith("https://chrome.google.com/webstore/")}const d=Object(n.debounce)(()=>{chrome.webRequest.handlerBehaviorChanged()},35e3,!0);function h(e,t,r){let n,i=!1;Object.defineProperty(e,t,{get:()=>(i||(n=r(),i=!0),n),set(e){n=e,i=!0}})}function f(e){const t=e.indexOf("/");return{host:-1===t?e:e.substring(0,t),path:-1===t?"":e.substring(t+1)}}function p(e){try{return new i.URL(e)}catch(e){return{protocol:"",hostname:"",pathname:""}}}function m(e){if(!e)return{};try{const t={};for(const[r,n]of new i.URL(e).searchParams.entries())t[r]=n;return t}catch(e){return{}}}function _(e,t,r){chrome.tabs.get(e,e=>{chrome.runtime.lastError?(Object(a.log)("getTab",chrome.runtime.lastError.message),r&&"function"==typeof r&&r(chrome.runtime.lastError)):e&&"function"==typeof t&&t(e)})}function y(e,t){chrome.tabs.query({active:!0,currentWindow:!0},r=>{chrome.runtime.lastError?(Object(a.log)("getActiveTab",chrome.runtime.lastError.message),t&&"function"==typeof t&&t(chrome.runtime.lastError)):0===r.length?t&&"function"==typeof t&&t():e&&"function"==typeof e&&e(r[0])})}function b(e,t,r){chrome.tabs.query({url:e},e=>{chrome.runtime.lastError?(Object(a.log)("getTabByUrl",chrome.runtime.lastError.message),r&&"function"==typeof r&&r(chrome.runtime.lastError)):0===e.length?r&&"function"==typeof r&&r():t&&"function"==typeof t&&t(e[0])})}function v(e){y(t=>{t?chrome.tabs.create({url:e.url,active:e.become_active||!1,openerTabId:t.id,index:t.index+1}):chrome.tabs.create({url:e.url,active:e.become_active||!1})})}function w(e){A?chrome.tabs.create({url:e.url,active:e.become_active||!1}):e.tab_id?chrome.tabs.get(e.tab_id,t=>{t?chrome.tabs.create({url:e.url,active:e.become_active||!1,openerTabId:t.id,index:t.index+1,windowId:t.windowId}):v(e)}):v(e)}function k(e,t,r,n,i="no-referrer",s="omit"){if("function"==typeof fetch){const o=new Headers({"Content-Type":"application/json",Accept:"application/json"});if(n)for(const[e,t]of Object(a.objectEntries)(n))o.append(e,t);const g={method:e,headers:o,body:r,referrerPolicy:i,credentials:s};"GET"!==e&&"HEAD"!==e||delete g.body;const A=new Request(t,g);return fetch(A).then(e=>{const r=e.headers.get("content-type");return e.ok?204!==e.status&&(r&&r.includes("application/json")?e.json():(r&&r.includes("text/html"),e.text())):Promise.reject(new Error(`Failed to fetch ${t} with status ${e.status} (${e.statusText})`))}).then(e=>{if("string"!=typeof e||!e.includes("{"))return e;try{return Object(a.log)("_fetchJson resolved",e?JSON.parse(e):{}),e?JSON.parse(e):{}}catch(e){return Object(a.log)("_fetchJson error",e),Promise.reject(new Error(e))}}).catch(e=>(Object(a.log)(`_fetchJson Error: ${e}`),Promise.reject(new Error(e))))}return new Promise((i,s)=>{const o=new XMLHttpRequest;if(o.onload=function(){if(o.status>=200&&o.status<400)if(204===o.status)i(!1);else if(o.responseText.includes("{"))try{Object(a.log)("_fetchJson resolved",o.responseText?JSON.parse(o.responseText):{}),i(o.responseText?JSON.parse(o.responseText):{})}catch(e){Object(a.log)("_fetchJson error",e),s(new Error(e))}else i(o.responseText);else Object(a.log)("_fetchJson error",o.statusText),s(new Error(o.statusText))},o.onerror=function(e){Object(a.log)("_fetchJson network error",e),s(new Error(e))},Object(a.log)("_fetchJson request",e,t,r,n),o.open(e,t,!0),o.setRequestHeader("Content-Type","application/json"),o.setRequestHeader("Accept","application/json"),n)for(const[e,t]of Object(a.objectEntries)(n))o.setRequestHeader(e,t);o.overrideMimeType("application/json"),o.send(r)})}function M(e,t,r){return k("POST",e,t,r).catch(e=>(Object(a.log)("postJson error",e),Promise.reject(e)))}function O(e,t){return k("GET",e,null,t).catch(e=>(Object(a.log)("getJson error",e),Promise.reject(e)))}function S(e){return"function"==typeof fetch?fetch(e).then(t=>t.ok?t.json():Promise.reject(new Error(`Failed to fetchLocalJSONResource ${e} with status ${t.status} (${t.statusText})`))).catch(e=>(Object(a.log)(`fetchLocalJSONResource error: ${e}`),Promise.reject(new Error(e)))):new Promise((t,r)=>{const n=new XMLHttpRequest;n.onload=function(){if(n.status>=200&&n.status<400)try{t(n.responseText?JSON.parse(n.responseText):{})}catch(e){Object(a.log)("fetchLocalJSONResource error",e),r(new Error(e))}else Object(a.log)("fetchLocalJSONResource error",n.statusText),r(new Error(n.statusText))},n.onerror=function(e){Object(a.log)("fetchLocalJSONResource network error",e),r(new Error(e))},Object(a.log)("fetchLocalJSONResource request",e),n.open("GET",e,!0),n.overrideMimeType("image/png"),n.send()})}function D(e,t,r,n){return new Promise((i,s)=>{chrome.tabs.executeScript(e,{file:t,runAt:n},()=>{if(chrome.runtime.lastError)return Object(a.log)("injectScript error",chrome.runtime.lastError),void s(new Error(chrome.runtime.lastError));r?chrome.tabs.insertCSS(e,{file:r,runAt:n},()=>{if(chrome.runtime.lastError)return Object(a.log)("insertCSS error",chrome.runtime.lastError),void s(new Error(chrome.runtime.lastError));i()}):i()})})}function T(e,t=!1){if(o.a.NOTIFICATIONS_LOADED)return Promise.resolve(!0);const r=s.a.getTabInfo(e);return r&&!0===r.prefetched||r.path.includes("_/chrome/newtab")||"about"===r.protocol||!t&&o.a.EXCLUDES.includes(r.host)?Promise.resolve(!1):D(e,"dist/notifications.js","","document_start").then(()=>(o.a.NOTIFICATIONS_LOADED=!0,!0)).catch(e=>(Object(a.log)("injectNotifications error",e),!1))}function L(e){return e&&"cliqz"===e.origin&&"offers"===e.type&&e.data}},,,,function(e,t,r){"use strict";var n=r(189),i=r(10),s=r(168),o=r(194);var a=r(109),g=r(163),A=r(83);r.d(t,"a",(function(){return u}));var u=function(){function e(e){this._isScalar=!1,e&&(this._subscribe=e)}return e.prototype.lift=function(t){var r=new e;return r.source=this,r.operator=t,r},e.prototype.subscribe=function(e,t,r){var n=this.operator,a=function(e,t,r){if(e){if(e instanceof i.a)return e;if(e[s.a])return e[s.a]()}return e||t||r?new i.a(e,t,r):new i.a(o.a)}(e,t,r);if(n?a.add(n.call(a,this.source)):a.add(this.source||A.a.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),A.a.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){A.a.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),Object(n.a)(e)?e.error(t):console.warn(t)}},e.prototype.forEach=function(e,t){var r=this;return new(t=I(t))((function(t,n){var i;i=r.subscribe((function(t){try{e(t)}catch(e){n(e),i&&i.unsubscribe()}}),n,t)}))},e.prototype._subscribe=function(e){var t=this.source;return t&&t.subscribe(e)},e.prototype[a.a]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 0===e.length?this:Object(g.b)(e)(this)},e.prototype.toPromise=function(e){var t=this;return new(e=I(e))((function(e,r){var n;t.subscribe((function(e){return n=e}),(function(e){return r(e)}),(function(){return e(n)}))}))},e.create=function(t){return new e(t)},e}();function I(e){if(e||(e=A.a.Promise||Promise),!e)throw new Error("no Promise impl found");return e}},,function(e,t,r){"use strict";var n=r(263),i=r(12);t.a=new class{constructor(){this.policySmartBlock=new n.a,this._tabInfo={},this._tabInfoPersist={}}create(e,t){const r=this.getTabInfoPersist(e,"numOfReloads")||0,n={needsReload:{changes:{}},partialScan:!0,prefetched:!1,purplebox:!1,rewards:!1,timestamp:Date.now(),firstLoadTimestamp:this.policySmartBlock.shouldCheck(e)&&(0===r?Date.now():this.getTabInfoPersist(e,"firstLoadTimestamp")||0)||0,reloaded:this.policySmartBlock.checkReloadThreshold(e),numOfReloads:r,smartBlock:{blocked:{},unblocked:{}},insecureRedirects:[]};this._tabInfo[e]=n,this._updateUrl(e,t)}getTabInfo(e,t){return!!this._tabInfo.hasOwnProperty(e)&&(t?this._tabInfo[e][t]:this._tabInfo[e])}getTabInfoPersist(e,t){return!!this._tabInfoPersist.hasOwnProperty(e)&&(t?this._tabInfoPersist[e][t]:this._tabInfoPersist[e])}setTabInfo(e,t,r){this._tabInfo.hasOwnProperty(e)&&("url"===t?this._updateUrl(e,r):this._tabInfo[e][t]=r)}setTabSmartBlockAppInfo(e,t,r,n){if(!this._tabInfo.hasOwnProperty(e))return;const i=n?"blocked":"unblocked";void 0===this._tabInfo[e].smartBlock[i][t]&&(this._tabInfo[e].smartBlock[i][t]=[]),-1===this._tabInfo[e].smartBlock[i][t].indexOf(r)&&this._tabInfo[e].smartBlock[i][t].push(r)}clear(e){if(!this._tabInfo.hasOwnProperty(e))return;const{numOfReloads:t,firstLoadTimestamp:r}=this._tabInfo[e];this._tabInfoPersist[e]={numOfReloads:t,firstLoadTimestamp:r},delete this._tabInfo[e]}_updateUrl(e,t){const r=Object(i.processUrl)(t);this._tabInfo[e].url=t,this._tabInfo[e].protocol=r.scheme,this._tabInfo[e].host=r.hostname,this._tabInfo[e].domain=r.generalDomain,this._tabInfo[e].path=r.pathname,this._tabInfo[e].hash=r.hash,this._tabInfo[e].partialScan=!1}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getCliqzPrefs=function(){const e={},t=(0,i.getAllCliqzPrefs)().filter(e=>a.has(e));for(let r=0;r<t.length;r+=1)e[t[r]]=(0,i.getPref)(t[r]);return i.PLATFORM_TELEMETRY_WHITELIST.forEach(t=>{e[t]=(0,i.getPref)(t,void 0,"")}),e},t.default=void 0;var n,i=r(317),s=(n=r(28))&&n.__esModule?n:{default:n};
/*!
 * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */
var o={get(e,t,r){let n=t;return!r&&s.default.default_prefs&&(n=void 0===s.default.default_prefs[e]?t:s.default.default_prefs[e]),(0,i.getPref)(e,n,r)},set:i.setPref,has:i.hasPref,clear:i.clearPref,getObject(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return JSON.parse(this.get(e,"{}",...r))},setObject(e,t){for(var r=arguments.length,n=new Array(r>2?r-2:0),i=2;i<r;i++)n[i-2]=arguments[i];if(t instanceof Function){const r=t(this.getObject(e));this.setObject(e,r,...n)}else{if("object"!=typeof t)throw new TypeError;this.set(e,JSON.stringify(t),...n)}},init:i.init};t.default=o;const a=new Set(["ABTests","abtests_running","adultContentFilter","antitracking.enabled","backend_country","cliqz-adb","cliqz-anti-phishing-enabled","config_location","config_ts","developer","distribution","full_distribution","freshtab.state","freshtabConfig","hpn-query","humanWebOptOut","install_date","lumen.protection.isEnabled","offers_location","offers2UserEnabled","offersDevFlag","onboardingVersion","session","share_location","telemetry","modules.autoconsent.enabled","modules.antitracking.enabled"])},function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r(82),i=r(172),s=r(16);function o(e,t,r,o,a){if(void 0===a&&(a=new n.a(e,r,o)),!a.closed)return t instanceof s.a?t.subscribe(a):Object(i.a)(t)(a)}},function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=r(6),i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.b(t,e),t.prototype.notifyNext=function(e,t,r,n,i){this.destination.next(t)},t.prototype.notifyError=function(e,t){this.destination.error(e)},t.prototype.notifyComplete=function(e){this.destination.complete()},t}(r(10).a)},function(e,t,r){(function(e,r){var n;!function(){var i="object"==typeof self&&self.self===self&&self||"object"==typeof e&&e.global===e&&e||this||{},s=i._,o=Array.prototype,a=Object.prototype,g="undefined"!=typeof Symbol?Symbol.prototype:null,A=o.push,u=o.slice,I=a.toString,C=a.hasOwnProperty,l=Array.isArray,c=Object.keys,d=Object.create,h=function(){},f=function(e){return e instanceof f?e:this instanceof f?void(this._wrapped=e):new f(e)};t.nodeType?i._=f:(!r.nodeType&&r.exports&&(t=r.exports=f),t._=f),f.VERSION="1.9.1";var p,m=function(e,t,r){if(void 0===t)return e;switch(null==r?3:r){case 1:return function(r){return e.call(t,r)};case 3:return function(r,n,i){return e.call(t,r,n,i)};case 4:return function(r,n,i,s){return e.call(t,r,n,i,s)}}return function(){return e.apply(t,arguments)}},_=function(e,t,r){return f.iteratee!==p?f.iteratee(e,t):null==e?f.identity:f.isFunction(e)?m(e,t,r):f.isObject(e)&&!f.isArray(e)?f.matcher(e):f.property(e)};f.iteratee=p=function(e,t){return _(e,t,1/0)};var y=function(e,t){return t=null==t?e.length-1:+t,function(){for(var r=Math.max(arguments.length-t,0),n=Array(r),i=0;i<r;i++)n[i]=arguments[i+t];switch(t){case 0:return e.call(this,n);case 1:return e.call(this,arguments[0],n);case 2:return e.call(this,arguments[0],arguments[1],n)}var s=Array(t+1);for(i=0;i<t;i++)s[i]=arguments[i];return s[t]=n,e.apply(this,s)}},b=function(e){if(!f.isObject(e))return{};if(d)return d(e);h.prototype=e;var t=new h;return h.prototype=null,t},v=function(e){return function(t){return null==t?void 0:t[e]}},w=function(e,t){return null!=e&&C.call(e,t)},k=function(e,t){for(var r=t.length,n=0;n<r;n++){if(null==e)return;e=e[t[n]]}return r?e:void 0},M=Math.pow(2,53)-1,O=v("length"),S=function(e){var t=O(e);return"number"==typeof t&&t>=0&&t<=M};f.each=f.forEach=function(e,t,r){var n,i;if(t=m(t,r),S(e))for(n=0,i=e.length;n<i;n++)t(e[n],n,e);else{var s=f.keys(e);for(n=0,i=s.length;n<i;n++)t(e[s[n]],s[n],e)}return e},f.map=f.collect=function(e,t,r){t=_(t,r);for(var n=!S(e)&&f.keys(e),i=(n||e).length,s=Array(i),o=0;o<i;o++){var a=n?n[o]:o;s[o]=t(e[a],a,e)}return s};var D=function(e){var t=function(t,r,n,i){var s=!S(t)&&f.keys(t),o=(s||t).length,a=e>0?0:o-1;for(i||(n=t[s?s[a]:a],a+=e);a>=0&&a<o;a+=e){var g=s?s[a]:a;n=r(n,t[g],g,t)}return n};return function(e,r,n,i){var s=arguments.length>=3;return t(e,m(r,i,4),n,s)}};f.reduce=f.foldl=f.inject=D(1),f.reduceRight=f.foldr=D(-1),f.find=f.detect=function(e,t,r){var n=(S(e)?f.findIndex:f.findKey)(e,t,r);if(void 0!==n&&-1!==n)return e[n]},f.filter=f.select=function(e,t,r){var n=[];return t=_(t,r),f.each(e,(function(e,r,i){t(e,r,i)&&n.push(e)})),n},f.reject=function(e,t,r){return f.filter(e,f.negate(_(t)),r)},f.every=f.all=function(e,t,r){t=_(t,r);for(var n=!S(e)&&f.keys(e),i=(n||e).length,s=0;s<i;s++){var o=n?n[s]:s;if(!t(e[o],o,e))return!1}return!0},f.some=f.any=function(e,t,r){t=_(t,r);for(var n=!S(e)&&f.keys(e),i=(n||e).length,s=0;s<i;s++){var o=n?n[s]:s;if(t(e[o],o,e))return!0}return!1},f.contains=f.includes=f.include=function(e,t,r,n){return S(e)||(e=f.values(e)),("number"!=typeof r||n)&&(r=0),f.indexOf(e,t,r)>=0},f.invoke=y((function(e,t,r){var n,i;return f.isFunction(t)?i=t:f.isArray(t)&&(n=t.slice(0,-1),t=t[t.length-1]),f.map(e,(function(e){var s=i;if(!s){if(n&&n.length&&(e=k(e,n)),null==e)return;s=e[t]}return null==s?s:s.apply(e,r)}))})),f.pluck=function(e,t){return f.map(e,f.property(t))},f.where=function(e,t){return f.filter(e,f.matcher(t))},f.findWhere=function(e,t){return f.find(e,f.matcher(t))},f.max=function(e,t,r){var n,i,s=-1/0,o=-1/0;if(null==t||"number"==typeof t&&"object"!=typeof e[0]&&null!=e)for(var a=0,g=(e=S(e)?e:f.values(e)).length;a<g;a++)null!=(n=e[a])&&n>s&&(s=n);else t=_(t,r),f.each(e,(function(e,r,n){((i=t(e,r,n))>o||i===-1/0&&s===-1/0)&&(s=e,o=i)}));return s},f.min=function(e,t,r){var n,i,s=1/0,o=1/0;if(null==t||"number"==typeof t&&"object"!=typeof e[0]&&null!=e)for(var a=0,g=(e=S(e)?e:f.values(e)).length;a<g;a++)null!=(n=e[a])&&n<s&&(s=n);else t=_(t,r),f.each(e,(function(e,r,n){((i=t(e,r,n))<o||i===1/0&&s===1/0)&&(s=e,o=i)}));return s},f.shuffle=function(e){return f.sample(e,1/0)},f.sample=function(e,t,r){if(null==t||r)return S(e)||(e=f.values(e)),e[f.random(e.length-1)];var n=S(e)?f.clone(e):f.values(e),i=O(n);t=Math.max(Math.min(t,i),0);for(var s=i-1,o=0;o<t;o++){var a=f.random(o,s),g=n[o];n[o]=n[a],n[a]=g}return n.slice(0,t)},f.sortBy=function(e,t,r){var n=0;return t=_(t,r),f.pluck(f.map(e,(function(e,r,i){return{value:e,index:n++,criteria:t(e,r,i)}})).sort((function(e,t){var r=e.criteria,n=t.criteria;if(r!==n){if(r>n||void 0===r)return 1;if(r<n||void 0===n)return-1}return e.index-t.index})),"value")};var T=function(e,t){return function(r,n,i){var s=t?[[],[]]:{};return n=_(n,i),f.each(r,(function(t,i){var o=n(t,i,r);e(s,t,o)})),s}};f.groupBy=T((function(e,t,r){w(e,r)?e[r].push(t):e[r]=[t]})),f.indexBy=T((function(e,t,r){e[r]=t})),f.countBy=T((function(e,t,r){w(e,r)?e[r]++:e[r]=1}));var L=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;f.toArray=function(e){return e?f.isArray(e)?u.call(e):f.isString(e)?e.match(L):S(e)?f.map(e,f.identity):f.values(e):[]},f.size=function(e){return null==e?0:S(e)?e.length:f.keys(e).length},f.partition=T((function(e,t,r){e[r?0:1].push(t)}),!0),f.first=f.head=f.take=function(e,t,r){return null==e||e.length<1?null==t?void 0:[]:null==t||r?e[0]:f.initial(e,e.length-t)},f.initial=function(e,t,r){return u.call(e,0,Math.max(0,e.length-(null==t||r?1:t)))},f.last=function(e,t,r){return null==e||e.length<1?null==t?void 0:[]:null==t||r?e[e.length-1]:f.rest(e,Math.max(0,e.length-t))},f.rest=f.tail=f.drop=function(e,t,r){return u.call(e,null==t||r?1:t)},f.compact=function(e){return f.filter(e,Boolean)};var E=function(e,t,r,n){for(var i=(n=n||[]).length,s=0,o=O(e);s<o;s++){var a=e[s];if(S(a)&&(f.isArray(a)||f.isArguments(a)))if(t)for(var g=0,A=a.length;g<A;)n[i++]=a[g++];else E(a,t,r,n),i=n.length;else r||(n[i++]=a)}return n};f.flatten=function(e,t){return E(e,t,!1)},f.without=y((function(e,t){return f.difference(e,t)})),f.uniq=f.unique=function(e,t,r,n){f.isBoolean(t)||(n=r,r=t,t=!1),null!=r&&(r=_(r,n));for(var i=[],s=[],o=0,a=O(e);o<a;o++){var g=e[o],A=r?r(g,o,e):g;t&&!r?(o&&s===A||i.push(g),s=A):r?f.contains(s,A)||(s.push(A),i.push(g)):f.contains(i,g)||i.push(g)}return i},f.union=y((function(e){return f.uniq(E(e,!0,!0))})),f.intersection=function(e){for(var t=[],r=arguments.length,n=0,i=O(e);n<i;n++){var s=e[n];if(!f.contains(t,s)){var o;for(o=1;o<r&&f.contains(arguments[o],s);o++);o===r&&t.push(s)}}return t},f.difference=y((function(e,t){return t=E(t,!0,!0),f.filter(e,(function(e){return!f.contains(t,e)}))})),f.unzip=function(e){for(var t=e&&f.max(e,O).length||0,r=Array(t),n=0;n<t;n++)r[n]=f.pluck(e,n);return r},f.zip=y(f.unzip),f.object=function(e,t){for(var r={},n=0,i=O(e);n<i;n++)t?r[e[n]]=t[n]:r[e[n][0]]=e[n][1];return r};var P=function(e){return function(t,r,n){r=_(r,n);for(var i=O(t),s=e>0?0:i-1;s>=0&&s<i;s+=e)if(r(t[s],s,t))return s;return-1}};f.findIndex=P(1),f.findLastIndex=P(-1),f.sortedIndex=function(e,t,r,n){for(var i=(r=_(r,n,1))(t),s=0,o=O(e);s<o;){var a=Math.floor((s+o)/2);r(e[a])<i?s=a+1:o=a}return s};var x=function(e,t,r){return function(n,i,s){var o=0,a=O(n);if("number"==typeof s)e>0?o=s>=0?s:Math.max(s+a,o):a=s>=0?Math.min(s+1,a):s+a+1;else if(r&&s&&a)return n[s=r(n,i)]===i?s:-1;if(i!=i)return(s=t(u.call(n,o,a),f.isNaN))>=0?s+o:-1;for(s=e>0?o:a-1;s>=0&&s<a;s+=e)if(n[s]===i)return s;return-1}};f.indexOf=x(1,f.findIndex,f.sortedIndex),f.lastIndexOf=x(-1,f.findLastIndex),f.range=function(e,t,r){null==t&&(t=e||0,e=0),r||(r=t<e?-1:1);for(var n=Math.max(Math.ceil((t-e)/r),0),i=Array(n),s=0;s<n;s++,e+=r)i[s]=e;return i},f.chunk=function(e,t){if(null==t||t<1)return[];for(var r=[],n=0,i=e.length;n<i;)r.push(u.call(e,n,n+=t));return r};var j=function(e,t,r,n,i){if(!(n instanceof t))return e.apply(r,i);var s=b(e.prototype),o=e.apply(s,i);return f.isObject(o)?o:s};f.bind=y((function(e,t,r){if(!f.isFunction(e))throw new TypeError("Bind must be called on a function");var n=y((function(i){return j(e,n,t,this,r.concat(i))}));return n})),f.partial=y((function(e,t){var r=f.partial.placeholder,n=function(){for(var i=0,s=t.length,o=Array(s),a=0;a<s;a++)o[a]=t[a]===r?arguments[i++]:t[a];for(;i<arguments.length;)o.push(arguments[i++]);return j(e,n,this,this,o)};return n})),f.partial.placeholder=f,f.bindAll=y((function(e,t){var r=(t=E(t,!1,!1)).length;if(r<1)throw new Error("bindAll must be passed function names");for(;r--;){var n=t[r];e[n]=f.bind(e[n],e)}})),f.memoize=function(e,t){var r=function(n){var i=r.cache,s=""+(t?t.apply(this,arguments):n);return w(i,s)||(i[s]=e.apply(this,arguments)),i[s]};return r.cache={},r},f.delay=y((function(e,t,r){return setTimeout((function(){return e.apply(null,r)}),t)})),f.defer=f.partial(f.delay,f,1),f.throttle=function(e,t,r){var n,i,s,o,a=0;r||(r={});var g=function(){a=!1===r.leading?0:f.now(),n=null,o=e.apply(i,s),n||(i=s=null)},A=function(){var A=f.now();a||!1!==r.leading||(a=A);var u=t-(A-a);return i=this,s=arguments,u<=0||u>t?(n&&(clearTimeout(n),n=null),a=A,o=e.apply(i,s),n||(i=s=null)):n||!1===r.trailing||(n=setTimeout(g,u)),o};return A.cancel=function(){clearTimeout(n),a=0,n=i=s=null},A},f.debounce=function(e,t,r){var n,i,s=function(t,r){n=null,r&&(i=e.apply(t,r))},o=y((function(o){if(n&&clearTimeout(n),r){var a=!n;n=setTimeout(s,t),a&&(i=e.apply(this,o))}else n=f.delay(s,t,this,o);return i}));return o.cancel=function(){clearTimeout(n),n=null},o},f.wrap=function(e,t){return f.partial(t,e)},f.negate=function(e){return function(){return!e.apply(this,arguments)}},f.compose=function(){var e=arguments,t=e.length-1;return function(){for(var r=t,n=e[t].apply(this,arguments);r--;)n=e[r].call(this,n);return n}},f.after=function(e,t){return function(){if(--e<1)return t.apply(this,arguments)}},f.before=function(e,t){var r;return function(){return--e>0&&(r=t.apply(this,arguments)),e<=1&&(t=null),r}},f.once=f.partial(f.before,2),f.restArguments=y;var R=!{toString:null}.propertyIsEnumerable("toString"),Y=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],N=function(e,t){var r=Y.length,n=e.constructor,i=f.isFunction(n)&&n.prototype||a,s="constructor";for(w(e,s)&&!f.contains(t,s)&&t.push(s);r--;)(s=Y[r])in e&&e[s]!==i[s]&&!f.contains(t,s)&&t.push(s)};f.keys=function(e){if(!f.isObject(e))return[];if(c)return c(e);var t=[];for(var r in e)w(e,r)&&t.push(r);return R&&N(e,t),t},f.allKeys=function(e){if(!f.isObject(e))return[];var t=[];for(var r in e)t.push(r);return R&&N(e,t),t},f.values=function(e){for(var t=f.keys(e),r=t.length,n=Array(r),i=0;i<r;i++)n[i]=e[t[i]];return n},f.mapObject=function(e,t,r){t=_(t,r);for(var n=f.keys(e),i=n.length,s={},o=0;o<i;o++){var a=n[o];s[a]=t(e[a],a,e)}return s},f.pairs=function(e){for(var t=f.keys(e),r=t.length,n=Array(r),i=0;i<r;i++)n[i]=[t[i],e[t[i]]];return n},f.invert=function(e){for(var t={},r=f.keys(e),n=0,i=r.length;n<i;n++)t[e[r[n]]]=r[n];return t},f.functions=f.methods=function(e){var t=[];for(var r in e)f.isFunction(e[r])&&t.push(r);return t.sort()};var U=function(e,t){return function(r){var n=arguments.length;if(t&&(r=Object(r)),n<2||null==r)return r;for(var i=1;i<n;i++)for(var s=arguments[i],o=e(s),a=o.length,g=0;g<a;g++){var A=o[g];t&&void 0!==r[A]||(r[A]=s[A])}return r}};f.extend=U(f.allKeys),f.extendOwn=f.assign=U(f.keys),f.findKey=function(e,t,r){t=_(t,r);for(var n,i=f.keys(e),s=0,o=i.length;s<o;s++)if(t(e[n=i[s]],n,e))return n};var H,F,B=function(e,t,r){return t in r};f.pick=y((function(e,t){var r={},n=t[0];if(null==e)return r;f.isFunction(n)?(t.length>1&&(n=m(n,t[1])),t=f.allKeys(e)):(n=B,t=E(t,!1,!1),e=Object(e));for(var i=0,s=t.length;i<s;i++){var o=t[i],a=e[o];n(a,o,e)&&(r[o]=a)}return r})),f.omit=y((function(e,t){var r,n=t[0];return f.isFunction(n)?(n=f.negate(n),t.length>1&&(r=t[1])):(t=f.map(E(t,!1,!1),String),n=function(e,r){return!f.contains(t,r)}),f.pick(e,n,r)})),f.defaults=U(f.allKeys,!0),f.create=function(e,t){var r=b(e);return t&&f.extendOwn(r,t),r},f.clone=function(e){return f.isObject(e)?f.isArray(e)?e.slice():f.extend({},e):e},f.tap=function(e,t){return t(e),e},f.isMatch=function(e,t){var r=f.keys(t),n=r.length;if(null==e)return!n;for(var i=Object(e),s=0;s<n;s++){var o=r[s];if(t[o]!==i[o]||!(o in i))return!1}return!0},H=function(e,t,r,n){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return!1;if(e!=e)return t!=t;var i=typeof e;return("function"===i||"object"===i||"object"==typeof t)&&F(e,t,r,n)},F=function(e,t,r,n){e instanceof f&&(e=e._wrapped),t instanceof f&&(t=t._wrapped);var i=I.call(e);if(i!==I.call(t))return!1;switch(i){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:0==+e?1/+e==1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object Symbol]":return g.valueOf.call(e)===g.valueOf.call(t)}var s="[object Array]"===i;if(!s){if("object"!=typeof e||"object"!=typeof t)return!1;var o=e.constructor,a=t.constructor;if(o!==a&&!(f.isFunction(o)&&o instanceof o&&f.isFunction(a)&&a instanceof a)&&"constructor"in e&&"constructor"in t)return!1}n=n||[];for(var A=(r=r||[]).length;A--;)if(r[A]===e)return n[A]===t;if(r.push(e),n.push(t),s){if((A=e.length)!==t.length)return!1;for(;A--;)if(!H(e[A],t[A],r,n))return!1}else{var u,C=f.keys(e);if(A=C.length,f.keys(t).length!==A)return!1;for(;A--;)if(u=C[A],!w(t,u)||!H(e[u],t[u],r,n))return!1}return r.pop(),n.pop(),!0},f.isEqual=function(e,t){return H(e,t)},f.isEmpty=function(e){return null==e||(S(e)&&(f.isArray(e)||f.isString(e)||f.isArguments(e))?0===e.length:0===f.keys(e).length)},f.isElement=function(e){return!(!e||1!==e.nodeType)},f.isArray=l||function(e){return"[object Array]"===I.call(e)},f.isObject=function(e){var t=typeof e;return"function"===t||"object"===t&&!!e},f.each(["Arguments","Function","String","Number","Date","RegExp","Error","Symbol","Map","WeakMap","Set","WeakSet"],(function(e){f["is"+e]=function(t){return I.call(t)==="[object "+e+"]"}})),f.isArguments(arguments)||(f.isArguments=function(e){return w(e,"callee")});var z=i.document&&i.document.childNodes;"object"!=typeof Int8Array&&"function"!=typeof z&&(f.isFunction=function(e){return"function"==typeof e||!1}),f.isFinite=function(e){return!f.isSymbol(e)&&isFinite(e)&&!isNaN(parseFloat(e))},f.isNaN=function(e){return f.isNumber(e)&&isNaN(e)},f.isBoolean=function(e){return!0===e||!1===e||"[object Boolean]"===I.call(e)},f.isNull=function(e){return null===e},f.isUndefined=function(e){return void 0===e},f.has=function(e,t){if(!f.isArray(t))return w(e,t);for(var r=t.length,n=0;n<r;n++){var i=t[n];if(null==e||!C.call(e,i))return!1;e=e[i]}return!!r},f.noConflict=function(){return i._=s,this},f.identity=function(e){return e},f.constant=function(e){return function(){return e}},f.noop=function(){},f.property=function(e){return f.isArray(e)?function(t){return k(t,e)}:v(e)},f.propertyOf=function(e){return null==e?function(){}:function(t){return f.isArray(t)?k(e,t):e[t]}},f.matcher=f.matches=function(e){return e=f.extendOwn({},e),function(t){return f.isMatch(t,e)}},f.times=function(e,t,r){var n=Array(Math.max(0,e));t=m(t,r,1);for(var i=0;i<e;i++)n[i]=t(i);return n},f.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))},f.now=Date.now||function(){return(new Date).getTime()};var W={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},G=f.invert(W),q=function(e){var t=function(t){return e[t]},r="(?:"+f.keys(e).join("|")+")",n=RegExp(r),i=RegExp(r,"g");return function(e){return e=null==e?"":""+e,n.test(e)?e.replace(i,t):e}};f.escape=q(W),f.unescape=q(G),f.result=function(e,t,r){f.isArray(t)||(t=[t]);var n=t.length;if(!n)return f.isFunction(r)?r.call(e):r;for(var i=0;i<n;i++){var s=null==e?void 0:e[t[i]];void 0===s&&(s=r,i=n),e=f.isFunction(s)?s.call(e):s}return e};var V=0;f.uniqueId=function(e){var t=++V+"";return e?e+t:t},f.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var K=/(.)^/,Z={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},J=/\\|'|\r|\n|\u2028|\u2029/g,$=function(e){return"\\"+Z[e]};f.template=function(e,t,r){!t&&r&&(t=r),t=f.defaults({},t,f.templateSettings);var n,i=RegExp([(t.escape||K).source,(t.interpolate||K).source,(t.evaluate||K).source].join("|")+"|$","g"),s=0,o="__p+='";e.replace(i,(function(t,r,n,i,a){return o+=e.slice(s,a).replace(J,$),s=a+t.length,r?o+="'+\n((__t=("+r+"))==null?'':_.escape(__t))+\n'":n?o+="'+\n((__t=("+n+"))==null?'':__t)+\n'":i&&(o+="';\n"+i+"\n__p+='"),t})),o+="';\n",t.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{n=new Function(t.variable||"obj","_",o)}catch(e){throw e.source=o,e}var a=function(e){return n.call(this,e,f)},g=t.variable||"obj";return a.source="function("+g+"){\n"+o+"}",a},f.chain=function(e){var t=f(e);return t._chain=!0,t};var Q=function(e,t){return e._chain?f(t).chain():t};f.mixin=function(e){return f.each(f.functions(e),(function(t){var r=f[t]=e[t];f.prototype[t]=function(){var e=[this._wrapped];return A.apply(e,arguments),Q(this,r.apply(f,e))}})),f},f.mixin(f),f.each(["pop","push","reverse","shift","sort","splice","unshift"],(function(e){var t=o[e];f.prototype[e]=function(){var r=this._wrapped;return t.apply(r,arguments),"shift"!==e&&"splice"!==e||0!==r.length||delete r[0],Q(this,r)}})),f.each(["concat","join","slice"],(function(e){var t=o[e];f.prototype[e]=function(){return Q(this,t.apply(this._wrapped,arguments))}})),f.prototype.value=function(){return this._wrapped},f.prototype.valueOf=f.prototype.toJSON=f.prototype.value,f.prototype.toString=function(){return String(this._wrapped)},void 0===(n=function(){return f}.apply(t,[]))||(r.exports=n)}()}).call(this,r(27),r(90)(e))},,,,function(e,t,r){"use strict";var n=r(197),i=["abort-on-property-read.js, app_vars.force_disable_adblock","abort-current-inline-script.js, ","abort-on-property-read.js, ","abort-on-property-write.js, ","cookie","addEventListener-defuser.js, ",'a[href^="http://',"setTimeout-defuser.js, ","ontainer",'div[style="background: #FFFFE1; border-bottom: 1px solid #A0A0A0; padding: 10px;line-height: 1.4em; text-align: justify; font-family: sans-serif; font-size: 12px;"]',"set-constant.js, ","social",'[href^="https://',"U","7","(","*","9","?","4","O","L","F","H","E","N","window.open-defuser.js",'div[style="',"8","banner","notification","newsletter","D",'[cellspacing="0"][cellpadding="0"][border="0"]',"^","I","T",")","Cookie","S","share","wrapper","R","document.getElementById, ","_","Math, zfgloaded","5",";","h","j","[","g","]","y","/",":","u","m","0","f","v","k","x","w","2"," ","P","ad","q","A","B","er","facebook","document.oncontextmenu","decodeURIComponent","content","widget","/^(?:click|mousedown|mousemove|touchstart|touchend|touchmove)$/, system.popund","block","sponsor","bottom","3","background-color:","article","ight","c",'[width="',"consent","sidebar","1","subscribe","d","message","in","remove-attr.js, oncontextmenu","aopr, app_vars.force_disable_","button","privacy",":first-child:last-child",'[href="http://',"aopr, document.dispatchEvent","b","google","policy","tion",'[target="_blank"]','div[class^="',"width:","/^(?:click|mousedown)$/, _0x",".com/","ar","background",'[style="',"Date.prototype.toUTCStr",":not(body):not(html)","tisement",":first-child","top","text-align:",'"]',"notice","foot","300x250","follow","disclaim","popup","nowebrtc.js","BlockDetected","le",'[href*="',"on","0px;","box","twitt","ent",'div[id^="',"al","accept","st","s-",'[href^="',"[data-","re","ic","bab-defus","puShown , /doOpen|popundr/","AaDetector","signup","#","Message","an","div","lay","ide","te",", noopFunc","promo","page","skyscrap","ol","he","or"," > ","Ad","#ctl00_","www.","C","float","gdpr","Facebook","rap","se","media","frame","G",", true","o",'="',"lo","mod","M","op","om","6","ac","a","s_","728x90","t-","dummy.js","n","ti","decodeURI, ","ed","ubscri","[class","http://","email","youtube","00","px;","nextFunc","r","id","img","Soci",":not(body)","p","Disclaim","affilia","https://","tab","en","z","ma",", ","ou","de","to","l","t","i","la","is","Box","down","like","Accept","et","Info","e","__","nav","-","s","it","e-","el","px ","il",": "," + ","featu","ot","ig",".m","ov","new","W","g-",".j","cript",".","tr"],s=["script-src 'self' *.leadpages.net *.gstatic.com *.google.com *.googleapis.com *.playwire.com *.facebook.com *.bootstrapcdn.com *.twitter.com *.spot.im","script-src 'self' *.leadpages.net *.gstatic.com *.google.com *.googleapis.com *.playwire.com *.facebook.com *.bootstrapcdn.com","script-src 'self' 'unsafe-inline' 'unsafe-eval' data: *.gstatic.com *.google-analytics.com *.google.com *.solvemedia.com *.scorecardresearch.com *.googletagmanager.com *.googletagservices.com; child-s","script-src 'self' *.gstatic.com *.google.com *.googleapis.com *.facebook.com *.bootstrapcdn.com *.twitter.com *.spot.im","script-src 'self' 'unsafe-inline' 'unsafe-eval' data: *.google.com *.gstatic.com *.google-analytics.com *.jwpcdn.com *.twimg.com *.twitter.com *.hydrax.net *.facebook.com *.googleapis.com *.facebook.n","script-src 'self' * 'unsafe-inline'","script-src 'self' 'unsafe-inline'","script-src 'self' 'unsafe-eval' 'unsafe-inline' data: *.air.tv *.b2c.com *.chartbeat.com *.cheezburger.com *.chzbgr.com *.complex.com *.facebook.net *.google-analytics.com *.google.com *.gstatic.com *","script-src 'self' 'unsafe-eval' 'unsafe-inline' data: *.youtube.com *.ytimg.com *.google-analytics.com *.facebook.net *.complex.com *.b2c.com *.chartbeat.com *.chzbgr.com *.scorecardresearch.com *.air","script-src 'self' 'unsafe-eval' http: https: data: blob: mediastream: filesystem:"," 'unsafe-eval' *.googletagservices.com *.wp.com *.air.tv *.addthis.com *.cloudflare.com *.facebook.net *.facebook.com *.gstatic.com *.youtube.com *.ytimg.com *.google.com *.googletagmanager.com"," 'unsafe-eval' data: blob: *.fbcdn.net *.gstatic.com *.google.com *.facebook.com *.disquscdn.com *.twitter.com https://disqus.com *.addthis.com *.facebook.net *.disqus.com *.kiss-anime.tv"," 'unsafe-eval' data: *.facebook.com *.searchiq.co *.cloudflare.com *.gstatic.com *.facebook.net *.google-analytics.com *.googletagmanager.com *.google.com *.googleapis.com *.twitter.com"," 'unsafe-eval' data: blob: *.google.com *.facebook.com *.google-analytics.com *.googleapis.com *.gstatic.com *.facebook.net *.disquscdn.com https://disqus.com *.disqus.com"," data: *.fbcdn.net *.facebook.com *.google-analytics.com *.facebook.net *.bwwstatic.com *.addthis.com *.cloudflare.com *.fontawesome.com *.onesignal.com *.googleapis.com",".instagram *.newrelic.com *.optimizely.com *.quantcount.com *.quantserve.com *.scorecardresearch.com *.spot.im *.twitter.com *.youtube.com *.ytimg.com"," 'unsafe-eval' *.chatango.com *.disqus.com *.disquscdn.com *.facebook.net *.google-analytics.com *.googleapis.com *.jquery.com"," 'unsafe-eval' data: *.cloudflare.com *.google.com *.addthis.com *.addthisedge.com *.facebook.net *.twitter.com *.jquery.com","child-src 'none';frame-src *;worker-src 'none';"," 'unsafe-eval' data: *.google.com *.gstatic.com *.google-analytics.com"," *.google-analytics.com *.cloudflare.com *.gstatic.com *.google.com *.solvemedia.com"," 'unsafe-eval' data: *.jwplatform.com *.jwpcdn.com *.googletagmanager.com *.google-analytics.com *.tickcounter.com"," 'unsafe-eval' data: *.zencdn.net *.fontawesome.com *.cloudflare.com *.googletagmanager.com *.bootstrapcdn.com"," 'unsafe-eval' data: *.facebook.net *.facebook.com *.google-analytics.com *.googletagmanager.com *.google.com","script-src 'self' * blob: data:","script-src 'self' 'unsafe-eval' 'unsafe-inline' data: *.googletagservices.com *.google-analytics.com"," 'unsafe-eval' data: *.jwpcdn.com *.gstatic.com *.googletagmanager.com *.addthis.com *.google.com"," 'unsafe-eval' data: *.googleapis.com *.scorecardresearch.com *.disqus.com *.google-analytics.com",".tv *.quantserve.com *.optimizely.com *.cheezburger.com *.quantcount.com *.newrelic.com *.spot.im"," 'unsafe-eval' data: *.googleapis.com *.cloudflare.com *.bootstrapcdn.com *.google-analytics.com","script-src 'self' 'unsafe-eval' 'unsafe-inline' data: *.statcounter.com *.google-analytics.com","worker-src 'none'"," 'unsafe-eval' data: https://disqus.com *.disqus.com *.google-analytics.com *.disquscdn.com"," 'unsafe-eval' data: *.google.com *.gstatic.com","rc 'self' *.solvemedia.com *.gstatic.com *.google.com"," 'unsafe-eval' data: *.gstatic.com *.google-analytics.com *.google.com *.cloudflare.com"," 'unsafe-eval' data: *.cloudflare.com *.google-analytics.com *.addthis.com *.query.com","script-src http: https: 'self' * 'unsafe-inline'"," 'unsafe-eval' data: *.bootstrapcdn.com *.cloudflare.com *.google-analytics.com"," *.disquscdn.com *.facebook.net *.twitter.com disqus.com"," 'unsafe-eval' data: *.facebook.com *.pinterest.com *.google-analytics.com"," 'unsafe-eval' data: disqus.com *.disqus.com disquscdn.com *.disquscdn.com"," 'unsafe-eval' data: blob: *.peer5.com *.jwpcdn.com *.googletagmanager.com"," *.gstatic.com *.google.com *.googleapis.com"," 'unsafe-eval' data: *.gstatic.com *.google.com *.googletagmanager.com","child-src 'self' *.camvideos.org *.cwtvembeds.com; script-src 'self' *","script-src 'self' * disquscdn.com 'unsafe-inline'"," data: *.google.com *.google-analytics.com *.scorecardresearch.com"," data: *.bootstrapcdn.com *.googleapis.com *.google-analytics.com","connect-src 'self' *.twitter.com *.disqus.com https://disqus.com"," 'unsafe-eval' data: *.googletagmanager.com *.cloudflare.com","default-src 'self' 'unsafe-inline' 'unsafe-eval';img-src *"," 'unsafe-eval' data: *.facebook.com *.googletagmanager.com"," data: *.gstatic.com *.google-analytics.com *.google.com"," data: *.fbcdn.net *.facebook.com *.google-analytics.com"," 'unsafe-eval' blob: *.googletagmanager.com *.amung.us","script-src 'self' 'unsafe-eval' 'unsafe-inline' data:"," 'unsafe-eval' *.alotporn.com *.google-analytics.com"," *.cloudflare.com *.googleapis.com *.jsdelivr.net","script-src 'unsafe-inline' 'unsafe-eval' data: *","child-src 'self' *.onesignal.com *.facebook.com","script-src 'self' * data: blob: 'unsafe-eval'","script-src 'self'"," *.solvemedia.com *.googletagmanager.com","child-src 'none'; frame-src "," *.google.com *.gstatic.com"," *.jquery.com *.google-analytics.com","child-src 'none';frame-src 'self' *;","default-src 'self' 'unsafe-inline'"," 'unsafe-eval' http: https: blob:","style-src 'self' *"," 'unsafe-eval'"," hcaptcha.com *.hcaptcha.com","script-src * 'unsafe-inline'","child-src 'self'"," http: https: blob:"," *.4cdn.org *.4channel.org","et *.iomovies.info"," * blob: 'unsafe-inline'","connect-src https: http:"," *.googleapis.com"," *.googletagmanager.com"," *.bootstrapcdn.com","connect-src 'self'"," *.updatetube.com"," *.solvemedia.com"," http: https:"," data:"," *.yimg.com","'self' *; ","child-src"," blob:"," ; "," *","*; ","o",".","c"," ","s","e","t","a","i","'","r","l","*","n","m","g","p","f","-","d","u","b","w","k",":","y","v","h",";","q","j","/","z","x","4","2","5"],o=["/^https?:\\/\\/([0-9a-z\\-]+\\.)?(9anime|animeland|animenova|animeplus|animetoon|animewow|gamestorrent|goodanime|gogoanime|igg-games|kimcartoon|memecenter|readcomiconline|toonget|toonova|watchcartoononlin","e)\\.[a-z]{2,4}\\/(?!([Ee]xternal|[Ii]mages|[Ss]cripts|[Uu]ploads|ac|ajax|assets|combined|content|cov|cover|(img\\/bg)|(img\\/icon)|inc|jwplayer|player|playlist-cat-rss|static|thumbs|wp-content|wp-include","/images/","/^(https?|wss?):\\/\\/([0-9a-z\\-]+\\.)?([0-9a-z\\-]+\\.)(accountant|bid|cf|club|cricket|date|download|faith|fun|ga|gdn|gq|loan|men|ml|network|ovh|party|pro|pw|racing|review|rocks|","/wp-content/uploads/","banner","/\\.(accountant|bid|click|club|com|cricket|date|download|faith|link|loan|lol|men|online|party|racing|review|science|site|space|stream|top|trade|webcam|website|win|xyz|com)\\/(([0-9]{2,9})(\\.|\\/)(css|\\?)","analytics","/pagead/js/adsbygoogle.js","/wp-content/plugins/","/js/sdkloader/ima3.js","tracking","cookie",".js","/ad","/ajax/libs/fuckadblock/*/fuckadblock","social","facebook","/www-static/js/","/cdn-cgi/pe/bag2?","track","/wp-content/","s/","newsletter","er","/^https?:\\/\\/.*\\.(info|pro|icu|app|xyz|app|pet|win|live|me|io|cc|pw|is|zone|bid|cf|ovh|site|review|ml|xyz)\\.*/",".php","^*/","script","google",".gif","affiliate","ad","share","stat","sponsor","in","widget","con","count","/asset","button","/http://[a-zA-Z0-9]+\\.[a-z]+\\/.*(?:[!\"#$%&'()*+,:;<=>?@/\\^_`{|}~-]).*[a-zA-Z0-9]+/","twitt",".png","ent","impression",".jpg","/img/","5","notification","\\/[0-9]{2,9}\\/$/","video",".html","frame","media","/p","youtube","click","log","age","re","/","/template","300x250","com","ic","tion","/j","block","background","ar","te","collect","st",".","/uplo","s","lay","le","or","view","follow","ixel","a","de","ubscribe",".aspx?","an","ro","li","et",".swf","/g","al","on","i","op","/i","e","source","visit","/*","728x90","rivacy","tisem","foot","/web","/m","en","s_","s-","id=","at","160x600","as","it","l","ampaign","right","kyscrap","\\","ag","8","/d","lu","ch","disclaim","/e","120x60","am","/w","lo","468x60","si","^*","ac","z","9","im","ed","home","html",".cgi?","3","ap","sp","heme","?","^","0","un","how",".m","bo","se","*","mo","new","up","dpr","4","2","00","fault","takeov","web","om","ve","il","ub","ol","6","ot","jax","v","co","ut","-p","/h","ct","o","umblr","ri","d","125x125","type=","us","=","7","/r","tn","qu","ig","_p","-","x","ava","ss",".htm","gi-b","tis","id","el","http","aff","mp","xt","la","/?","iff/251","ur",".xml","um","y","468","g/","20","m","g","w","-m",":","336x280","q","&","728","_","*&","down","he","h","u","k","di","c","t","60","s?","*/","be","ma","j","250","fi","sc","1","dn-cgi","r","e/","p","n","f","b"],a=[".com","pagead2.googlesyndication","cloudfront.net","doubleclick.net",".net","imasdk.googleapis",".bid","analytics",".de","er","in","media","google",".co.uk","track","cdnjs.cloudflare","stat","ad","amazonaws","or","affiliate","re","on","st","an","click","traffic","phncdn","it","count","en","ar","at","facebook","s","al","et","ic","h","ch","es","am","cdn","c","lo","video","ro","el","im","il","as","web","is","ed","ag",".ru","to","news","ap","ac","us","id","e","pl","fo","un","ur","ub","b","u","w","k","l","ho","sp","ex","iv","ec","tr","mo","ig","y","th","ay","bo","io","po","p","em","tv","go","ut","do","f","ir","o","le","ab","ip","au","so","se","up","v","um","av","ak","a","ew","iz","ul","sh","ix","g","no","af","me","ck","az","be","my","ep","fr","gr","br","if","t","ge","ol","fl","ik","te","de","sc","bl","op","ts","ie","m","yo","cl","ud","pr","qu","sm",".xyz","ly","2","sy","eu","ld","tw","mp","ib","-","i","xx","ok","eb","cr","d","di","ey","wn",".p","ot","om","ss","ev","tn","aw","ff","ce","hd","jo","ht","jp","yp","ek","dn","ti","uk","sk","j","bu","vi","sn","ll","dr","n",".za","e-","1","da","sw","sr","su","dd","tm",".b","nd","ve","wp","z","x","kr","gg","vo","ks","he","4","tu","gu","ef","ax","q",".n","wh","yn","sl","9","we","ia","cn","dm","zz","ah","7","si","bb","24","eo",".1","3","cp","db",".","ca","fm","6","r","li","fe","cc",".s","8","5","ty",".m","tk","tl","du","ws","0"],g=["fuckadblock.js-3.2.0","x2-transparent.png","googlesyndication.com/adsbygoogle.js","noopjs","noopmp3-0.1s","google-analytics.com/analytics.js","1x1-transparent.gif","googletagmanager.com/gtm.js","noopmp4-1s","ligatus.com/*/angular-tag.js","amazon-adsystem.com/aax2/amzn_ads.js","nooptext","static.chartbeat.com/chartbeat.js","widgets.outbrain.com/outbrain.js","scorecardresearch.com/beacon.js","google-analytics.com/cx/api.js","addthis.com/addthis_widget.js","32x32-transparent.png","googletagservices.com/gpt.js","google-analytics.com/ga.js","hd-main.js","noopframe","silent-noeval.js","popads-dummy.js","fingerprint2.js","popads.net.js","noop.txt","1x1.gif","none","o","n","p","s","j",".","a","t","-","e","m","g","r","c","1","2","x","3","l","0","d","i","k","f","b","u","/","4","y","h","*","v","_","w","z"],A=function(){this.cosmeticSelector=new n.Smaz(i),this.networkCSP=new n.Smaz(s),this.networkRedirect=new n.Smaz(g),this.networkHostname=new n.Smaz(a),this.networkFilter=new n.Smaz(o)},u=function(){for(var e=0,t=new Int32Array(256),r=0;256!==r;r+=1)e=1&(e=1&(e=1&(e=1&(e=1&(e=1&(e=1&(e=1&(e=r)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1,t[r]=e;return t}();
/*!
 * Copyright (c) 2017-2019 Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */var I=r(153);r.d(t,"a",(function(){return c}));
/*!
 * Copyright (c) 2017-2019 Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */
var C,l=new Uint8Array(0),c=new Uint32Array(0),d=1===new Int8Array(new Int16Array([1]).buffer)[0];function h(){return void 0===C&&(C=new A),C}var f=function(){function e(e,t){var r=t.enableCompression;if(!1===d)throw new Error("Adblocker currently does not support Big-endian systems");!0===r&&this.enableCompression(),this.buffer=e,this.pos=0}return e.sizeOfByte=function(){return 1},e.sizeOfBool=function(){return 1},e.sizeOfBytes=function(t,r){return e.sizeOfBytesWithLength(t.length,r)},e.sizeOfBytesWithLength=function(t,r){return t+(r?3:0)+e.sizeOfLength(t)},e.sizeOfASCII=function(t){return e.sizeOfLength(t.length)+t.length},e.sizeOfUTF8=function(t){var r=Object(I.b)(t);return e.sizeOfLength(r.length)+r.length},e.sizeOfUint32Array=function(t){return t.byteLength+e.sizeOfLength(t.length)},e.sizeOfNetworkRedirect=function(t,r){return!0===r?e.sizeOfBytesWithLength(h().networkRedirect.getCompressedSize(t),!1):e.sizeOfASCII(t)},e.sizeOfNetworkHostname=function(t,r){return!0===r?e.sizeOfBytesWithLength(h().networkHostname.getCompressedSize(t),!1):e.sizeOfASCII(t)},e.sizeOfNetworkCSP=function(t,r){return!0===r?e.sizeOfBytesWithLength(h().networkCSP.getCompressedSize(t),!1):e.sizeOfASCII(t)},e.sizeOfNetworkFilter=function(t,r){return!0===r?e.sizeOfBytesWithLength(h().networkFilter.getCompressedSize(t),!1):e.sizeOfASCII(t)},e.sizeOfCosmeticSelector=function(t,r){return!0===r?e.sizeOfBytesWithLength(h().cosmeticSelector.getCompressedSize(t),!1):e.sizeOfASCII(t)},e.empty=function(t){return e.fromUint8Array(l,t)},e.fromUint8Array=function(t,r){return new e(t,r)},e.allocate=function(t,r){return new e(new Uint8Array(t),r)},e.sizeOfLength=function(e){return e<=127?1:5},e.prototype.enableCompression=function(){this.compression=h()},e.prototype.checksum=function(){return function(e,t,r){for(var n=-1,i=r-7,s=t;s<i;)n=(n=(n=(n=(n=(n=(n=(n=n>>>8^u[255&(n^e[s++])])>>>8^u[255&(n^e[s++])])>>>8^u[255&(n^e[s++])])>>>8^u[255&(n^e[s++])])>>>8^u[255&(n^e[s++])])>>>8^u[255&(n^e[s++])])>>>8^u[255&(n^e[s++])])>>>8^u[255&(n^e[s++])];for(;s<i+7;)n=n>>>8^u[255&(n^e[s++])];return(-1^n)>>>0}(this.buffer,0,this.pos)},e.prototype.dataAvailable=function(){return this.pos<this.buffer.byteLength},e.prototype.setPos=function(e){this.pos=e},e.prototype.getPos=function(){return this.pos},e.prototype.seekZero=function(){this.pos=0},e.prototype.slice=function(){return this.checkSize(),this.buffer.slice(0,this.pos)},e.prototype.subarray=function(){return this.pos===this.buffer.byteLength?this.buffer:(this.checkSize(),this.buffer.subarray(0,this.pos))},e.prototype.align4=function(){this.pos=this.pos+3&-4},e.prototype.set=function(e){this.buffer=new Uint8Array(e),this.seekZero()},e.prototype.pushBool=function(e){this.pushByte(Number(e))},e.prototype.getBool=function(){return Boolean(this.getByte())},e.prototype.setByte=function(e,t){this.buffer[e]=t},e.prototype.pushByte=function(e){this.pushUint8(e)},e.prototype.getByte=function(){return this.getUint8()},e.prototype.pushBytes=function(e,t){void 0===t&&(t=!1),this.pushLength(e.length),!0===t&&this.align4(),this.buffer.set(e,this.pos),this.pos+=e.byteLength},e.prototype.getBytes=function(e){void 0===e&&(e=!1);var t=this.getLength();!0===e&&this.align4();var r=this.buffer.subarray(this.pos,this.pos+t);return this.pos+=t,r},e.prototype.getUint32ArrayView=function(e){if(this.align4(),0===e)return c;var t=new Uint32Array(this.buffer.buffer,this.pos+this.buffer.byteOffset,e);return this.pos+=4*e,t},e.prototype.pushUint8=function(e){this.buffer[this.pos++]=e},e.prototype.getUint8=function(){return this.buffer[this.pos++]},e.prototype.pushUint16=function(e){this.buffer[this.pos++]=e>>>8,this.buffer[this.pos++]=e},e.prototype.getUint16=function(){return(this.buffer[this.pos++]<<8|this.buffer[this.pos++])>>>0},e.prototype.pushUint32=function(e){this.buffer[this.pos++]=e>>>24,this.buffer[this.pos++]=e>>>16,this.buffer[this.pos++]=e>>>8,this.buffer[this.pos++]=e},e.prototype.getUint32=function(){return(this.buffer[this.pos++]<<24>>>0)+(this.buffer[this.pos++]<<16|this.buffer[this.pos++]<<8|this.buffer[this.pos++])>>>0},e.prototype.pushUint32Array=function(e){this.pushLength(e.length);for(var t=0;t<e.length;t+=1)this.pushUint32(e[t])},e.prototype.getUint32Array=function(){for(var e=this.getLength(),t=new Uint32Array(e),r=0;r<e;r+=1)t[r]=this.getUint32();return t},e.prototype.pushUTF8=function(e){var t=Object(I.b)(e);this.pushLength(t.length);for(var r=0;r<t.length;r+=1)this.buffer[this.pos++]=t.charCodeAt(r)},e.prototype.getUTF8=function(){var e=this.getLength();return this.pos+=e,Object(I.a)(String.fromCharCode.apply(null,this.buffer.subarray(this.pos-e,this.pos)))},e.prototype.pushASCII=function(e){this.pushLength(e.length);for(var t=0;t<e.length;t+=1)this.buffer[this.pos++]=e.charCodeAt(t)},e.prototype.getASCII=function(){var e=this.getLength();return this.pos+=e,String.fromCharCode.apply(null,this.buffer.subarray(this.pos-e,this.pos))},e.prototype.pushNetworkRedirect=function(e){void 0!==this.compression?this.pushBytes(this.compression.networkRedirect.compress(e)):this.pushASCII(e)},e.prototype.getNetworkRedirect=function(){return void 0!==this.compression?this.compression.networkRedirect.decompress(this.getBytes()):this.getASCII()},e.prototype.pushNetworkHostname=function(e){void 0!==this.compression?this.pushBytes(this.compression.networkHostname.compress(e)):this.pushASCII(e)},e.prototype.getNetworkHostname=function(){return void 0!==this.compression?this.compression.networkHostname.decompress(this.getBytes()):this.getASCII()},e.prototype.pushNetworkCSP=function(e){void 0!==this.compression?this.pushBytes(this.compression.networkCSP.compress(e)):this.pushASCII(e)},e.prototype.getNetworkCSP=function(){return void 0!==this.compression?this.compression.networkCSP.decompress(this.getBytes()):this.getASCII()},e.prototype.pushNetworkFilter=function(e){void 0!==this.compression?this.pushBytes(this.compression.networkFilter.compress(e)):this.pushASCII(e)},e.prototype.getNetworkFilter=function(){return void 0!==this.compression?this.compression.networkFilter.decompress(this.getBytes()):this.getASCII()},e.prototype.pushCosmeticSelector=function(e){void 0!==this.compression?this.pushBytes(this.compression.cosmeticSelector.compress(e)):this.pushASCII(e)},e.prototype.getCosmeticSelector=function(){return void 0!==this.compression?this.compression.cosmeticSelector.decompress(this.getBytes()):this.getASCII()},e.prototype.checkSize=function(){if(0!==this.pos&&this.pos>this.buffer.byteLength)throw new Error("StaticDataView too small: "+this.buffer.byteLength+", but required "+this.pos+" bytes")},e.prototype.pushLength=function(e){e<=127?this.pushUint8(e):(this.pushUint8(128),this.pushUint32(e))},e.prototype.getLength=function(){var e=this.getUint8();return 128===e?this.getUint32():e},e}();t.b=f},function(e,t){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(e){"object"==typeof window&&(r=window)}e.exports=r},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={platform:"webextension",brocfile:"Brocfile.ghostery.js",baseURL:"/cliqz/",pack:"npm pack",publish:'echo "Uploading version: browser-core-$PACKAGE_VERSION.tgz" && aws s3 cp browser-core-$PACKAGE_VERSION.tgz s3://cdncliqz/update/edge/ghostery/$BRANCH_NAME/$VERSION.${GIT_COMMIT:0:7}.tgz --acl public-read && aws s3 cp s3://cdncliqz/update/edge/ghostery/$BRANCH_NAME/$VERSION.${GIT_COMMIT:0:7}.tgz s3://cdncliqz/update/edge/ghostery/$BRANCH/latest.tgz --acl public-read',sourceMaps:!0,format:"common",settings:{ANOLYSIS_BACKEND_URL:"https://anolysis.privacy.ghostery.net",ANOLYSIS_STAGING_BACKEND_URL:"https://anolysis-staging.privacy.ghostery.net",BACKGROUND_IMAGE_URL:"https://cdn.ghostery.net/brands-database/database/",BW_URL:"https://antiphishing.ghostery.net/api/bwlist?md5=",CDN_BASEURL:"https://cdn.ghostery.net",ADBLOCKER_BASE_URL:"https://cdn.ghostery.net/adblocker/configs",CONFIG_PROVIDER:"https://api.ghostery.net/api/v1/config",ENDPOINT_ANONPATTERNSURL:"https://cdn2.ghostery.com/human-web-chromium/patterns-anon.gz",ENDPOINT_HPNV2_DIRECT:"https://collector-hpn.ghostery.net",ENDPOINT_HPNV2_ANONYMOUS:"https://collector-hpn.ghostery.net",ENDPOINT_PATTERNSURL:"https://cdn2.ghostery.com/human-web-chromium/patterns.gz",ENDPOINT_SAFE_QUORUM_ENDPOINT:"https://safe-browsing-quorum.privacy.ghostery.net/",ENDPOINT_SAFE_QUORUM_PROVIDER:"https://safe-browsing-quorum.privacy.ghostery.net/config",FEEDBACK:"https://ghostery.net/feedback/",HB_NEWS:"hb-news.ghostery.net",OFFERS_BE_BASE_URL:"https://offers-api.ghostery.net",PRIVACY_SCORE_URL:"https://anti-tracking.ghostery.net/api/v1/score?",RESULTS_PROVIDER:"https://api.ghostery.net/api/v2/results?nrh=1&q=",RESULTS_PROVIDER_LOG:"https://api.ghostery.net/api/v1/logging?q=",RICH_HEADER:"https://api.ghostery.net/api/v2/rich-header?path=/v2/map",ROTATED_TOP_NEWS:"rotated-top-news.ghostery.net",SAFE_BROWSING:"https://safe-browsing.ghostery.net",STATISTICS:"https://stats.ghostery.net",SUGGESTIONS_URL:"https://ghostery.net/search?q=",UNINSTALL:"https://ghostery.net/home/offboarding",WTM_API:"https://whotracks.me/data/",SUPPORT_URL:"https://ghostery.zendesk.com/hc/en-us",PRIVACY_POLICY_URL:"https://www.ghostery.com/about-ghostery/privacy-statements/",NEW_TAB_URL:"/freshtab/home.html",channel:"CH80",MSGCHANNEL:"web-extension",OFFERS_CHANNEL:"ghostery",ATTRACK_TELEMETRY_PROVIDER:"hpnv2",HW_CHANNEL:"ghostery",ALLOWED_COUNTRY_CODES:["de","at","ch","es","us","fr","nl","gb","it","be","se","dk","fi","cz","gr","hu","ro","no","ca","au","ru","ua","in","pl","jp","br","mx","cn","ar"],antitrackingPlaceholder:"ghostery",antitrackingHeader:"Ghostery-AntiTracking",frameScriptWhitelist:[]},default_prefs:{"modules.human-web.enabled":!0,"modules.offers-v2.enabled":!0,"modules.message-center.enabled":!0,"modules.antitracking.enabled":!0,"modules.anti-phishing.enabled":!1,"modules.adblocker.enabled":!0,"modules.insights.enabled":!1,offersLogsEnabled:!0,"cliqz-adb":1,attrackBloomFilter:!0,humanWeb:!0,"cliqz-anti-phishing":!0,"cliqz-anti-phishing-enabled":!0,attrackTelemetryMode:1,attrackDefaultAction:"placeholder",sendAntiTrackingHeader:!1,telemetry:!1,attrackCookieTrustReferers:!0,"attrack.cookieMode":"ghostery"},bundles:["core/content-script.bundle.js","hpnv2/worker.wasm.bundle.js","hpnv2/worker.asmjs.bundle.js","human-web/rusha.bundle.js"],modules:["core","message-center","human-web","hpnv2","antitracking","webrequest-pipeline","offers-v2","adblocker","anolysis","anti-phishing","myoffrz-helper","popup-notification","insights"],environment:"production",debugPages:!1,EXTENSION_VERSION:"7.40.1",VERSION:"7.40.1"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(r(74)),i=s(r(114));function s(e){return e&&e.__esModule?e:{default:e}}var o=n.default.get("offers-v2",{level:i.default.LOG_LEVEL});t.default=o},function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r(40),i=r(188),s=r(121),o=r(169),a=function(){function e(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._unsubscribe=e)}var t;return e.prototype.unsubscribe=function(){var t;if(!this.closed){var r=this._parentOrParents,a=this._unsubscribe,A=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,r instanceof e)r.remove(this);else if(null!==r)for(var u=0;u<r.length;++u){r[u].remove(this)}if(Object(s.a)(a))try{a.call(this)}catch(e){t=e instanceof o.a?g(e.errors):[e]}if(Object(n.a)(A)){u=-1;for(var I=A.length;++u<I;){var C=A[u];if(Object(i.a)(C))try{C.unsubscribe()}catch(e){t=t||[],e instanceof o.a?t=t.concat(g(e.errors)):t.push(e)}}}if(t)throw new o.a(t)}},e.prototype.add=function(t){var r=t;if(!t)return e.EMPTY;switch(typeof t){case"function":r=new e(t);case"object":if(r===this||r.closed||"function"!=typeof r.unsubscribe)return r;if(this.closed)return r.unsubscribe(),r;if(!(r instanceof e)){var n=r;(r=new e)._subscriptions=[n]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}var i=r._parentOrParents;if(null===i)r._parentOrParents=this;else if(i instanceof e){if(i===this)return r;r._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return r;i.push(this)}var s=this._subscriptions;return null===s?this._subscriptions=[r]:s.push(r),r},e.prototype.remove=function(e){var t=this._subscriptions;if(t){var r=t.indexOf(e);-1!==r&&t.splice(r,1)}},e.EMPTY=((t=new e).closed=!0,t),e}();function g(e){return e.reduce((function(e,t){return e.concat(t instanceof o.a?t.errors:t)}),[])}},,,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ifModuleEnabled=function(e){return e.catch(e=>e instanceof s.ModuleDisabledError?(i.default.get("core").debug('Ignoring disabled module exception while calling action, the following exception can be safely ignored. This log is only printed in "debug" mode.',e),Promise.resolve()):Promise.reject(e))},t.setGlobal=function(e){u=e},t.default=void 0;var n,i=(n=r(74))&&n.__esModule?n:{default:n},s=r(268);function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(r,!0).forEach((function(t){g(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function g(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function A(e,t,r,n,i,s,o){try{var a=e[s](o),g=a.value}catch(e){return void r(e)}a.done?t(g):Promise.resolve(g).then(n,i)}let u;class I{constructor(e){this.moduleName=e}get module(){return u&&u.modules[this.moduleName]}isPresent(){return!!this.module}isReady(){return this.module?this.module.isDisabled?Promise.reject(new s.ModuleDisabledError(this.moduleName)):this.module.isReady():Promise.reject(new s.ModuleMissingError(this.moduleName))}isEnabled(){return!(!this.module||this.module.isDisabled)}action(e){for(var t,r=this,n=arguments.length,i=new Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];return(t=function*(){yield r.isReady();const t=r.module.background.actions[e];if(!t)throw new s.ActionMissingError(r.module.name,e);return t(...i)},function(){var e=this,r=arguments;return new Promise((function(n,i){var s=t.apply(e,r);function o(e){A(s,n,i,o,a,"next",e)}function a(e){A(s,n,i,o,a,"throw",e)}o(void 0)}))})()}}var C={get app(){return{get version(){return u.version}}},module:e=>new I(e),service:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return t.reduce((t,r)=>a({},t,{[r]:function(){const t=u&&u.services[e]&&u.services[e].api;if(!t)throw new Error(`Service "${e}" is not available. Make sure it appears\n        in the "requiresServices" property of the module's background where is it used.`);if(!t[r])throw new Error(`Could not access '${r}' from service: ${e}.`);return t[r](...arguments)}}),{})}};t.default=C},function(e,t,r){var n;
/*!
 * UAParser.js v0.7.20
 * Lightweight JavaScript-based User-Agent string parser
 * https://github.com/faisalman/ua-parser-js
 *
 * Copyright  2012-2019 Faisal Salman <f@faisalman.com>
 * Licensed under MIT License
 */!function(i,s){"use strict";var o="model",a="name",g="type",A="vendor",u="version",I="mobile",C="tablet",l={extend:function(e,t){var r={};for(var n in e)t[n]&&t[n].length%2==0?r[n]=t[n].concat(e[n]):r[n]=e[n];return r},has:function(e,t){return"string"==typeof e&&-1!==t.toLowerCase().indexOf(e.toLowerCase())},lowerize:function(e){return e.toLowerCase()},major:function(e){return"string"==typeof e?e.replace(/[^\d\.]/g,"").split(".")[0]:void 0},trim:function(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}},c={rgx:function(e,t){for(var r,n,i,s,o,a,g=0;g<t.length&&!o;){var A=t[g],u=t[g+1];for(r=n=0;r<A.length&&!o;)if(o=A[r++].exec(e))for(i=0;i<u.length;i++)a=o[++n],"object"==typeof(s=u[i])&&s.length>0?2==s.length?"function"==typeof s[1]?this[s[0]]=s[1].call(this,a):this[s[0]]=s[1]:3==s.length?"function"!=typeof s[1]||s[1].exec&&s[1].test?this[s[0]]=a?a.replace(s[1],s[2]):void 0:this[s[0]]=a?s[1].call(this,a,s[2]):void 0:4==s.length&&(this[s[0]]=a?s[3].call(this,a.replace(s[1],s[2])):void 0):this[s]=a||void 0;g+=2}},str:function(e,t){for(var r in t)if("object"==typeof t[r]&&t[r].length>0){for(var n=0;n<t[r].length;n++)if(l.has(t[r][n],e))return"?"===r?void 0:r}else if(l.has(t[r],e))return"?"===r?void 0:r;return e}},d={browser:{oldsafari:{version:{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}}},device:{amazon:{model:{"Fire Phone":["SD","KF"]}},sprint:{model:{"Evo Shift 4G":"7373KT"},vendor:{HTC:"APA",Sprint:"Sprint"}}},os:{windows:{version:{ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"}}}},h={browser:[[/(opera\smini)\/([\w\.-]+)/i,/(opera\s[mobiletab]+).+version\/([\w\.-]+)/i,/(opera).+version\/([\w\.]+)/i,/(opera)[\/\s]+([\w\.]+)/i],[a,u],[/(opios)[\/\s]+([\w\.]+)/i],[[a,"Opera Mini"],u],[/\s(opr)\/([\w\.]+)/i],[[a,"Opera"],u],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?([\w\.]*)/i,/(avant\s|iemobile|slim|baidu)(?:browser)?[\/\s]?([\w\.]*)/i,/(?:ms|\()(ie)\s([\w\.]+)/i,/(rekonq)\/([\w\.]*)/i,/(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon)\/([\w\.-]+)/i],[a,u],[/(konqueror)\/([\w\.]+)/i],[[a,"Konqueror"],u],[/(trident).+rv[:\s]([\w\.]+).+like\sgecko/i],[[a,"IE"],u],[/(edge|edgios|edga|edg)\/((\d+)?[\w\.]+)/i],[[a,"Edge"],u],[/(yabrowser)\/([\w\.]+)/i],[[a,"Yandex"],u],[/(puffin)\/([\w\.]+)/i],[[a,"Puffin"],u],[/(focus)\/([\w\.]+)/i],[[a,"Firefox Focus"],u],[/(opt)\/([\w\.]+)/i],[[a,"Opera Touch"],u],[/((?:[\s\/])uc?\s?browser|(?:juc.+)ucweb)[\/\s]?([\w\.]+)/i],[[a,"UCBrowser"],u],[/(comodo_dragon)\/([\w\.]+)/i],[[a,/_/g," "],u],[/(windowswechat qbcore)\/([\w\.]+)/i],[[a,"WeChat(Win) Desktop"],u],[/(micromessenger)\/([\w\.]+)/i],[[a,"WeChat"],u],[/(brave)\/([\w\.]+)/i],[[a,"Brave"],u],[/(qqbrowserlite)\/([\w\.]+)/i],[a,u],[/(QQ)\/([\d\.]+)/i],[a,u],[/m?(qqbrowser)[\/\s]?([\w\.]+)/i],[a,u],[/(BIDUBrowser)[\/\s]?([\w\.]+)/i],[a,u],[/(2345Explorer)[\/\s]?([\w\.]+)/i],[a,u],[/(MetaSr)[\/\s]?([\w\.]+)/i],[a],[/(LBBROWSER)/i],[a],[/xiaomi\/miuibrowser\/([\w\.]+)/i],[u,[a,"MIUI Browser"]],[/;fbav\/([\w\.]+);/i],[u,[a,"Facebook"]],[/safari\s(line)\/([\w\.]+)/i,/android.+(line)\/([\w\.]+)\/iab/i],[a,u],[/headlesschrome(?:\/([\w\.]+)|\s)/i],[u,[a,"Chrome Headless"]],[/\swv\).+(chrome)\/([\w\.]+)/i],[[a,/(.+)/,"$1 WebView"],u],[/((?:oculus|samsung)browser)\/([\w\.]+)/i],[[a,/(.+(?:g|us))(.+)/,"$1 $2"],u],[/android.+version\/([\w\.]+)\s+(?:mobile\s?safari|safari)*/i],[u,[a,"Android Browser"]],[/(sailfishbrowser)\/([\w\.]+)/i],[[a,"Sailfish Browser"],u],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i],[a,u],[/(dolfin)\/([\w\.]+)/i],[[a,"Dolphin"],u],[/((?:android.+)crmo|crios)\/([\w\.]+)/i],[[a,"Chrome"],u],[/(coast)\/([\w\.]+)/i],[[a,"Opera Coast"],u],[/fxios\/([\w\.-]+)/i],[u,[a,"Firefox"]],[/version\/([\w\.]+).+?mobile\/\w+\s(safari)/i],[u,[a,"Mobile Safari"]],[/version\/([\w\.]+).+?(mobile\s?safari|safari)/i],[u,a],[/webkit.+?(gsa)\/([\w\.]+).+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[[a,"GSA"],u],[/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[a,[u,c.str,d.browser.oldsafari.version]],[/(webkit|khtml)\/([\w\.]+)/i],[a,u],[/(navigator|netscape)\/([\w\.-]+)/i],[[a,"Netscape"],u],[/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?([\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([\w\.-]+)$/i,/(mozilla)\/([\w\.]+).+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir)[\/\s]?([\w\.]+)/i,/(links)\s\(([\w\.]+)/i,/(gobrowser)\/?([\w\.]*)/i,/(ice\s?browser)\/v?([\w\._]+)/i,/(mosaic)[\/\s]([\w\.]+)/i],[a,u]],cpu:[[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i],[["architecture","amd64"]],[/(ia32(?=;))/i],[["architecture",l.lowerize]],[/((?:i[346]|x)86)[;\)]/i],[["architecture","ia32"]],[/windows\s(ce|mobile);\sppc;/i],[["architecture","arm"]],[/((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i],[["architecture",/ower/,"",l.lowerize]],[/(sun4\w)[;\)]/i],[["architecture","sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|arm(?:64|(?=v\d+[;l]))|(?=atmel\s)avr|(?:irix|mips|sparc)(?:64)?(?=;)|pa-risc)/i],[["architecture",l.lowerize]]],device:[[/\((ipad|playbook);[\w\s\),;-]+(rim|apple)/i],[o,A,[g,C]],[/applecoremedia\/[\w\.]+ \((ipad)/],[o,[A,"Apple"],[g,C]],[/(apple\s{0,1}tv)/i],[[o,"Apple TV"],[A,"Apple"]],[/(archos)\s(gamepad2?)/i,/(hp).+(touchpad)/i,/(hp).+(tablet)/i,/(kindle)\/([\w\.]+)/i,/\s(nook)[\w\s]+build\/(\w+)/i,/(dell)\s(strea[kpr\s\d]*[\dko])/i],[A,o,[g,C]],[/(kf[A-z]+)\sbuild\/.+silk\//i],[o,[A,"Amazon"],[g,C]],[/(sd|kf)[0349hijorstuw]+\sbuild\/.+silk\//i],[[o,c.str,d.device.amazon.model],[A,"Amazon"],[g,I]],[/android.+aft([bms])\sbuild/i],[o,[A,"Amazon"],[g,"smarttv"]],[/\((ip[honed|\s\w*]+);.+(apple)/i],[o,A,[g,I]],[/\((ip[honed|\s\w*]+);/i],[o,[A,"Apple"],[g,I]],[/(blackberry)[\s-]?(\w+)/i,/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[\s_-]?([\w-]*)/i,/(hp)\s([\w\s]+\w)/i,/(asus)-?(\w+)/i],[A,o,[g,I]],[/\(bb10;\s(\w+)/i],[o,[A,"BlackBerry"],[g,I]],[/android.+(transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+|nexus 7|padfone|p00c)/i],[o,[A,"Asus"],[g,C]],[/(sony)\s(tablet\s[ps])\sbuild\//i,/(sony)?(?:sgp.+)\sbuild\//i],[[A,"Sony"],[o,"Xperia Tablet"],[g,C]],[/android.+\s([c-g]\d{4}|so[-l]\w+)(?=\sbuild\/|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[o,[A,"Sony"],[g,I]],[/\s(ouya)\s/i,/(nintendo)\s([wids3u]+)/i],[A,o,[g,"console"]],[/android.+;\s(shield)\sbuild/i],[o,[A,"Nvidia"],[g,"console"]],[/(playstation\s[34portablevi]+)/i],[o,[A,"Sony"],[g,"console"]],[/(sprint\s(\w+))/i],[[A,c.str,d.device.sprint.vendor],[o,c.str,d.device.sprint.model],[g,I]],[/(htc)[;_\s-]+([\w\s]+(?=\)|\sbuild)|\w+)/i,/(zte)-(\w*)/i,/(alcatel|geeksphone|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]*)/i],[A,[o,/_/g," "],[g,I]],[/(nexus\s9)/i],[o,[A,"HTC"],[g,C]],[/d\/huawei([\w\s-]+)[;\)]/i,/(nexus\s6p)/i],[o,[A,"Huawei"],[g,I]],[/(microsoft);\s(lumia[\s\w]+)/i],[A,o,[g,I]],[/[\s\(;](xbox(?:\sone)?)[\s\);]/i],[o,[A,"Microsoft"],[g,"console"]],[/(kin\.[onetw]{3})/i],[[o,/\./g," "],[A,"Microsoft"],[g,I]],[/\s(milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?:?(\s4g)?)[\w\s]+build\//i,/mot[\s-]?(\w*)/i,/(XT\d{3,4}) build\//i,/(nexus\s6)/i],[o,[A,"Motorola"],[g,I]],[/android.+\s(mz60\d|xoom[\s2]{0,2})\sbuild\//i],[o,[A,"Motorola"],[g,C]],[/hbbtv\/\d+\.\d+\.\d+\s+\([\w\s]*;\s*(\w[^;]*);([^;]*)/i],[[A,l.trim],[o,l.trim],[g,"smarttv"]],[/hbbtv.+maple;(\d+)/i],[[o,/^/,"SmartTV"],[A,"Samsung"],[g,"smarttv"]],[/\(dtv[\);].+(aquos)/i],[o,[A,"Sharp"],[g,"smarttv"]],[/android.+((sch-i[89]0\d|shw-m380s|gt-p\d{4}|gt-n\d+|sgh-t8[56]9|nexus 10))/i,/((SM-T\w+))/i],[[A,"Samsung"],o,[g,C]],[/smart-tv.+(samsung)/i],[A,[g,"smarttv"],o],[/((s[cgp]h-\w+|gt-\w+|galaxy\snexus|sm-\w[\w\d]+))/i,/(sam[sung]*)[\s-]*(\w+-?[\w-]*)/i,/sec-((sgh\w+))/i],[[A,"Samsung"],o,[g,I]],[/sie-(\w*)/i],[o,[A,"Siemens"],[g,I]],[/(maemo|nokia).*(n900|lumia\s\d+)/i,/(nokia)[\s_-]?([\w-]*)/i],[[A,"Nokia"],o,[g,I]],[/android[x\d\.\s;]+\s([ab][1-7]\-?[0178a]\d\d?)/i],[o,[A,"Acer"],[g,C]],[/android.+([vl]k\-?\d{3})\s+build/i],[o,[A,"LG"],[g,C]],[/android\s3\.[\s\w;-]{10}(lg?)-([06cv9]{3,4})/i],[[A,"LG"],o,[g,C]],[/(lg) netcast\.tv/i],[A,o,[g,"smarttv"]],[/(nexus\s[45])/i,/lg[e;\s\/-]+(\w*)/i,/android.+lg(\-?[\d\w]+)\s+build/i],[o,[A,"LG"],[g,I]],[/(lenovo)\s?(s(?:5000|6000)(?:[\w-]+)|tab(?:[\s\w]+))/i],[A,o,[g,C]],[/android.+(ideatab[a-z0-9\-\s]+)/i],[o,[A,"Lenovo"],[g,C]],[/(lenovo)[_\s-]?([\w-]+)/i],[A,o,[g,I]],[/linux;.+((jolla));/i],[A,o,[g,I]],[/((pebble))app\/[\d\.]+\s/i],[A,o,[g,"wearable"]],[/android.+;\s(oppo)\s?([\w\s]+)\sbuild/i],[A,o,[g,I]],[/crkey/i],[[o,"Chromecast"],[A,"Google"]],[/android.+;\s(glass)\s\d/i],[o,[A,"Google"],[g,"wearable"]],[/android.+;\s(pixel c)[\s)]/i],[o,[A,"Google"],[g,C]],[/android.+;\s(pixel( [23])?( xl)?)[\s)]/i],[o,[A,"Google"],[g,I]],[/android.+;\s(\w+)\s+build\/hm\1/i,/android.+(hm[\s\-_]*note?[\s_]*(?:\d\w)?)\s+build/i,/android.+(mi[\s\-_]*(?:a\d|one|one[\s_]plus|note lte)?[\s_]*(?:\d?\w?)[\s_]*(?:plus)?)\s+build/i,/android.+(redmi[\s\-_]*(?:note)?(?:[\s_]*[\w\s]+))\s+build/i],[[o,/_/g," "],[A,"Xiaomi"],[g,I]],[/android.+(mi[\s\-_]*(?:pad)(?:[\s_]*[\w\s]+))\s+build/i],[[o,/_/g," "],[A,"Xiaomi"],[g,C]],[/android.+;\s(m[1-5]\snote)\sbuild/i],[o,[A,"Meizu"],[g,I]],[/(mz)-([\w-]{2,})/i],[[A,"Meizu"],o,[g,I]],[/android.+a000(1)\s+build/i,/android.+oneplus\s(a\d{4})\s+build/i],[o,[A,"OnePlus"],[g,I]],[/android.+[;\/]\s*(RCT[\d\w]+)\s+build/i],[o,[A,"RCA"],[g,C]],[/android.+[;\/\s]+(Venue[\d\s]{2,7})\s+build/i],[o,[A,"Dell"],[g,C]],[/android.+[;\/]\s*(Q[T|M][\d\w]+)\s+build/i],[o,[A,"Verizon"],[g,C]],[/android.+[;\/]\s+(Barnes[&\s]+Noble\s+|BN[RT])(V?.*)\s+build/i],[[A,"Barnes & Noble"],o,[g,C]],[/android.+[;\/]\s+(TM\d{3}.*\b)\s+build/i],[o,[A,"NuVision"],[g,C]],[/android.+;\s(k88)\sbuild/i],[o,[A,"ZTE"],[g,C]],[/android.+[;\/]\s*(gen\d{3})\s+build.*49h/i],[o,[A,"Swiss"],[g,I]],[/android.+[;\/]\s*(zur\d{3})\s+build/i],[o,[A,"Swiss"],[g,C]],[/android.+[;\/]\s*((Zeki)?TB.*\b)\s+build/i],[o,[A,"Zeki"],[g,C]],[/(android).+[;\/]\s+([YR]\d{2})\s+build/i,/android.+[;\/]\s+(Dragon[\-\s]+Touch\s+|DT)(\w{5})\sbuild/i],[[A,"Dragon Touch"],o,[g,C]],[/android.+[;\/]\s*(NS-?\w{0,9})\sbuild/i],[o,[A,"Insignia"],[g,C]],[/android.+[;\/]\s*((NX|Next)-?\w{0,9})\s+build/i],[o,[A,"NextBook"],[g,C]],[/android.+[;\/]\s*(Xtreme\_)?(V(1[045]|2[015]|30|40|60|7[05]|90))\s+build/i],[[A,"Voice"],o,[g,I]],[/android.+[;\/]\s*(LVTEL\-)?(V1[12])\s+build/i],[[A,"LvTel"],o,[g,I]],[/android.+;\s(PH-1)\s/i],[o,[A,"Essential"],[g,I]],[/android.+[;\/]\s*(V(100MD|700NA|7011|917G).*\b)\s+build/i],[o,[A,"Envizen"],[g,C]],[/android.+[;\/]\s*(Le[\s\-]+Pan)[\s\-]+(\w{1,9})\s+build/i],[A,o,[g,C]],[/android.+[;\/]\s*(Trio[\s\-]*.*)\s+build/i],[o,[A,"MachSpeed"],[g,C]],[/android.+[;\/]\s*(Trinity)[\-\s]*(T\d{3})\s+build/i],[A,o,[g,C]],[/android.+[;\/]\s*TU_(1491)\s+build/i],[o,[A,"Rotor"],[g,C]],[/android.+(KS(.+))\s+build/i],[o,[A,"Amazon"],[g,C]],[/android.+(Gigaset)[\s\-]+(Q\w{1,9})\s+build/i],[A,o,[g,C]],[/\s(tablet|tab)[;\/]/i,/\s(mobile)(?:[;\/]|\ssafari)/i],[[g,l.lowerize],A,o],[/[\s\/\(](smart-?tv)[;\)]/i],[[g,"smarttv"]],[/(android[\w\.\s\-]{0,9});.+build/i],[o,[A,"Generic"]]],engine:[[/windows.+\sedge\/([\w\.]+)/i],[u,[a,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)/i],[[a,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],[a,u],[/rv\:([\w\.]{1,9}).+(gecko)/i],[u,a]],os:[[/microsoft\s(windows)\s(vista|xp)/i],[a,u],[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*)[\s\/]?([\d\.\s\w]*)/i,/(windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)/i],[a,[u,c.str,d.os.windows.version]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[[a,"Windows"],[u,c.str,d.os.windows.version]],[/\((bb)(10);/i],[[a,"BlackBerry"],u],[/(blackberry)\w*\/?([\w\.]*)/i,/(tizen)[\/\s]([\w\.]+)/i,/(android|webos|palm\sos|qnx|bada|rim\stablet\sos|meego|sailfish|contiki)[\/\s-]?([\w\.]*)/i],[a,u],[/(symbian\s?os|symbos|s60(?=;))[\/\s-]?([\w\.]*)/i],[[a,"Symbian"],u],[/\((series40);/i],[a],[/mozilla.+\(mobile;.+gecko.+firefox/i],[[a,"Firefox OS"],u],[/(nintendo|playstation)\s([wids34portablevu]+)/i,/(mint)[\/\s\(]?(\w*)/i,/(mageia|vectorlinux)[;\s]/i,/(joli|[kxln]?ubuntu|debian|suse|opensuse|gentoo|(?=\s)arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus)[\/\s-]?(?!chrom)([\w\.-]*)/i,/(hurd|linux)\s?([\w\.]*)/i,/(gnu)\s?([\w\.]*)/i],[a,u],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[[a,"Chromium OS"],u],[/(sunos)\s?([\w\.\d]*)/i],[[a,"Solaris"],u],[/\s([frentopc-]{0,4}bsd|dragonfly)\s?([\w\.]*)/i],[a,u],[/(haiku)\s(\w+)/i],[a,u],[/cfnetwork\/.+darwin/i,/ip[honead]{2,4}(?:.*os\s([\w]+)\slike\smac|;\sopera)/i],[[u,/_/g,"."],[a,"iOS"]],[/(mac\sos\sx)\s?([\w\s\.]*)/i,/(macintosh|mac(?=_powerpc)\s)/i],[[a,"Mac OS"],[u,/_/g,"."]],[/((?:open)?solaris)[\/\s-]?([\w\.]*)/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.])*/i,/(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms|fuchsia)/i,/(unix)\s?([\w\.]*)/i],[a,u]]},f=function(e,t){if("object"==typeof e&&(t=e,e=void 0),!(this instanceof f))return new f(e,t).getResult();var r=e||(i&&i.navigator&&i.navigator.userAgent?i.navigator.userAgent:""),n=t?l.extend(h,t):h;return this.getBrowser=function(){var e={name:void 0,version:void 0};return c.rgx.call(e,r,n.browser),e.major=l.major(e.version),e},this.getCPU=function(){var e={architecture:void 0};return c.rgx.call(e,r,n.cpu),e},this.getDevice=function(){var e={vendor:void 0,model:void 0,type:void 0};return c.rgx.call(e,r,n.device),e},this.getEngine=function(){var e={name:void 0,version:void 0};return c.rgx.call(e,r,n.engine),e},this.getOS=function(){var e={name:void 0,version:void 0};return c.rgx.call(e,r,n.os),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return r},this.setUA=function(e){return r=e,this},this};f.VERSION="0.7.20",f.BROWSER={NAME:a,MAJOR:"major",VERSION:u},f.CPU={ARCHITECTURE:"architecture"},f.DEVICE={MODEL:o,VENDOR:A,TYPE:g,CONSOLE:"console",MOBILE:I,SMARTTV:"smarttv",TABLET:C,WEARABLE:"wearable",EMBEDDED:"embedded"},f.ENGINE={NAME:a,VERSION:u},f.OS={NAME:a,VERSION:u},void 0!==t?(void 0!==e&&e.exports&&(t=e.exports=f),t.UAParser=f):void 0===(n=function(){return f}.call(t,r,t,e))||(e.exports=n);var p=i&&(i.jQuery||i.Zepto);if(void 0!==p&&!p.ua){var m=new f;p.ua=m.getResult(),p.ua.get=function(){return m.getUA()},p.ua.set=function(e){m.setUA(e);var t=m.getResult();for(var r in t)p.ua[r]=t[r]}}}("object"==typeof window?window:this)},function(e,t,r){"use strict";r.d(t,"b",(function(){return o}));var n=r(310),i=r.n(n),s=r(4);t.a=new i.a.App({debug:s.a.DEBUG});const{prefs:o}=i.a},function(e,t,r){"use strict";(function(e){var n=r(22),i=r(222),s=r.n(i),o=r(223),a=r.n(o),g=r(164),A=r(4),u=r(3),I=r(67),C=r(2);function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const c=new(r(132).b),{GHOSTERY_DOMAIN:d,AUTH_SERVER:h,ACCOUNT_SERVER:f,SYNC_ARRAY:p,IS_CLIQZ:m}=A.a,_=new Set(p);t.a=new class{constructor(){l(this,"login",(t,r)=>{const n=`email=${window.encodeURIComponent(t)}&password=${encodeURIComponent(r)}`;return fetch(`${h}/api/v2/login`,{method:"POST",body:n,headers:{"Content-Type":"application/x-www-form-urlencoded","Content-Length":e.byteLength(n)},credentials:"include"}).then(e=>e.status>=400?e.json():(this._getUserIDFromCookie().then(e=>{this._setAccountInfo(e),this.getUserSubscriptionData()}),{}))}),l(this,"register",(t,r,n,i,s)=>{const o=`email=${window.encodeURIComponent(t)}&email_confirmation=${window.encodeURIComponent(r)}&first_name=${window.encodeURIComponent(i)}&last_name=${window.encodeURIComponent(s)}&password=${window.encodeURIComponent(n)}`;return fetch(`${h}/api/v2/register`,{method:"POST",body:o,headers:{"Content-Type":"application/x-www-form-urlencoded","Content-Length":e.byteLength(o)},credentials:"include"}).then(e=>e.status>=400?e.json():(this._getUserIDFromCookie().then(e=>{this._setAccountInfo(e)}),{}))}),l(this,"logout",()=>new g.a.Promise((e,t)=>{chrome.cookies.get({url:`https://${d}.com`,name:"csrf_token"},r=>null===r?t():fetch(`${h}/api/v2/logout`,{method:"POST",credentials:"include",headers:{"X-CSRF-Token":r.value}}).then(r=>r.status<400?e():r.json().then(e=>t(e))).catch(e=>t(e)))}).finally(()=>{this._removeCookies(),this._clearAccountInfo()})),l(this,"getUser",()=>this._getUserID().then(e=>c.get("users",e)).then(e=>{const t=a()(s()(e),"users",e.data.id);return this._setAccountUserInfo(t),t})),l(this,"getUserSettings",()=>this._getUserIDIfEmailIsValidated().then(e=>c.get("settings",e)).then(e=>{const t=a()(s()(e,{camelizeKeys:!1}),"settings",e.data.id),{settings_json:r}=t;return this._setConfUserSettings(r),this._setAccountUserSettings(r),r})),l(this,"getUserSubscriptionData",()=>this._getUserID().then(e=>c.get("stripe/customers",e,"cards,subscriptions")).then(e=>{const t=a()(s()(e),"customers",e.data.id);let r=t.subscriptions;Array.isArray()||(r=[r]);const n=r.reduce((e,t)=>{let r=e;return t.productName.includes("Plus")&&(r=t),r},{});return this._setSubscriptionData(n),t})),l(this,"saveUserSettings",()=>this._getUserIDIfEmailIsValidated().then(e=>c.update("settings",{type:"settings",id:e,attributes:{settings_json:this.buildUserSettings()}}))),l(this,"getTheme",e=>this._getUserID().then(()=>{const t=Date.now(),{themeData:r}=u.a.account;if(!r||!r[e])return!0;const{timestamp:n}=r[e];return t-n>864e5}).then(t=>t?c.get("themes",`${e}.css`).then(t=>{const{css:r}=a()(s()(t),"themes",t.data.id);return this._setThemeData({name:e,css:r}),r}):u.a.account.themeData[e].css)),l(this,"updateEmailPreferences",e=>this._getUserID().then(t=>c.update("email_preferences",{type:"email_preferences",id:t,attributes:{updates:e,promotions:e}}))),l(this,"sendValidateAccountEmail",()=>this._getUserID().then(e=>fetch(`${h}/api/v2/send_email/validate_account/${e}`)).then(e=>e.status<400)),l(this,"resetPassword",t=>{const r=`email=${window.encodeURIComponent(t)}`;return fetch(`${h}/api/v2/send_email/reset_password`,{method:"POST",body:r,headers:{"Content-Type":"application/x-www-form-urlencoded","Content-Length":e.byteLength(r)}}).then(e=>e.status>=400?e.json():{})}),l(this,"migrate",()=>new Promise(e=>{chrome.storage.local.get("login_info",t=>{if(chrome.runtime.lastError)return void e(new Error(chrome.runtime.lastError));const{login_info:r}=t;if(!t||!r)return void e();const{decoded_user_token:n,user_token:i}=r;if(!n||!i)return void chrome.storage.local.remove("login_info",()=>e());const{UserId:s,csrf_token:o,RefreshToken:a,exp:g}=n;s&&o&&a&&g?Promise.all([this._setLoginCookie({name:"refresh_token",value:a,expirationDate:g+604800,httpOnly:!0}),this._setLoginCookie({name:"access_token",value:i,expirationDate:g,httpOnly:!0}),this._setLoginCookie({name:"csrf_token",value:o,expirationDate:g,httpOnly:!1}),this._setLoginCookie({name:"user_id",value:s,expirationDate:1893456e3,httpOnly:!1})]).then(()=>{this._setAccountInfo(s),this.getUserSubscriptionData(),chrome.storage.local.remove("login_info",()=>e())}).catch(t=>{e(t)}):chrome.storage.local.remove("login_info",()=>e())})}).then(()=>new Promise(e=>{null===u.a.account?chrome.cookies.get({url:`https://${d}.com`,name:"user_id"},t=>{null!==t&&(this._setAccountInfo(t.value),this.getUserSubscriptionData()),e()}):e()}))),l(this,"hasScopesUnverified",(...e)=>{if(null===u.a.account)return!1;if(null===u.a.account.user)return!1;const t=u.a.account.user.scopes;if(null===t)return!1;if(0===e.length)return!1;if(t.indexOf("god")>=0)return!0;for(const r of e){let e=!0;if(r.length>0){for(const n of r)if(-1===t.indexOf(n)){e=!1;break}if(e)return!0}}return!1}),l(this,"buildUserSettings",()=>{const e={},t=Number((new Date).getTime());return _.forEach(r=>{e[r]="reload_banner_status"===r||"trackers_banner_status"===r?{dismissals:[],show_time:t,show:u.a[r]}:u.a[r]}),e}),l(this,"_setLoginCookie",e=>new Promise((t,r)=>{const{name:n,value:i,expirationDate:s,httpOnly:o}=e;n&&i?chrome.cookies.set({name:n,value:i,url:`https://${d}.com`,domain:`.${d}.com`,expirationDate:s,secure:!0,httpOnly:o},n=>{chrome.runtime.lastError||null===n?r(new Error(`Error setting cookie ${JSON.stringify(e)}: ${chrome.runtime.lastError}`)):t(n)}):r(new Error(`One or more required values missing: ${JSON.stringify({name:n,value:i})}`))})),l(this,"_getUserID",()=>new Promise((e,t)=>null===u.a.account?this._getUserIDFromCookie().then(t=>{this._setAccountInfo(t),e(u.a.account.userID)}).catch(()=>{t(new Error("_getUserID() Not logged in"))}):e(u.a.account.userID))),l(this,"_getUserIDIfEmailIsValidated",()=>this._getUserID().then(e=>new Promise((t,r)=>{const{user:n}=u.a.account;return null===n?this.getUser().then(n=>!0!==n.emailValidated?r(new Error("_getUserIDIfEmailIsValidated() Email not validated")):t(e)):!0!==n.emailValidated?r(new Error("_getUserIDIfEmailIsValidated() Email not validated")):t(e)}))),l(this,"_setAccountInfo",e=>{u.a.account={userID:e,user:null,userSettings:null,subscriptionData:null,themeData:null}}),l(this,"_setAccountUserInfo",e=>{u.a.account.user=e,I.a.trigger("conf.save.account")}),l(this,"_setAccountUserSettings",e=>{u.a.account.userSettings=e,I.a.trigger("conf.save.account")}),l(this,"_setSubscriptionData",e=>{!u.a.paid_subscription&&e&&(u.a.paid_subscription=!0,I.a.trigger("conf.save.paid_subscription")),u.a.account.subscriptionData=e||null,I.a.trigger("conf.save.account")}),l(this,"_setThemeData",e=>{null===u.a.account.themeData&&(u.a.account.themeData={});const{name:t}=e;u.a.account.themeData[t]=Object.assign({timestamp:Date.now()},e),I.a.trigger("conf.save.account")}),l(this,"_clearAccountInfo",()=>{u.a.account=null,u.a.current_theme="default"}),l(this,"_getUserIDFromCookie",()=>new Promise((e,t)=>{chrome.cookies.get({url:`https://${d}.com`,name:"user_id"},r=>{r?e(r.value):t(new Error("err getting login user_id cookie"))})})),l(this,"_setConfUserSettings",e=>(Object(C.log)("SET USER SETTINGS",e),m&&(e.enable_human_web=!1,e.enable_offers=!1,e.enable_ad_block=!1,e.enable_anti_tracking=!1),_.forEach(t=>{void 0===e[t]||Object(n.isEqual)(u.a[t],e[t])||(u.a[t]=e[t])}),e)),l(this,"_removeCookies",()=>{["user_id","access_token","refresh_token","csrf_token","AUTH"].forEach(e=>{chrome.cookies.remove({url:`https://${d}.com`,name:e},()=>{Object(C.log)(`Removed cookie with name: ${e}`)})})});const t={AUTH_SERVER:h,ACCOUNT_SERVER:f,CSRF_DOMAIN:d},r={errorHandler:e=>new Promise((t,r)=>{for(const n of e)switch(n.code){case"10020":case"10060":case"10180":case"10181":case"10190":case"10200":case"10201":case"10300":case"10301":return this.logout().then(()=>t()).catch(()=>t());case"10030":case"not-found":return r(n);default:return t()}return t()})};c.init(t,r)}}}).call(this,r(50).Buffer)},function(e,t,r){"use strict";r.d(t,"b",(function(){return u})),r.d(t,"a",(function(){return I}));var n=r(6),i=r(16),s=r(10),o=r(30),a=r(110),g=r(257),A=r(168),u=function(e){function t(t){var r=e.call(this,t)||this;return r.destination=t,r}return n.b(t,e),t}(s.a),I=function(e){function t(){var t=e.call(this)||this;return t.observers=[],t.closed=!1,t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return n.b(t,e),t.prototype[A.a]=function(){return new u(this)},t.prototype.lift=function(e){var t=new C(this,this);return t.operator=e,t},t.prototype.next=function(e){if(this.closed)throw new a.a;if(!this.isStopped)for(var t=this.observers,r=t.length,n=t.slice(),i=0;i<r;i++)n[i].next(e)},t.prototype.error=function(e){if(this.closed)throw new a.a;this.hasError=!0,this.thrownError=e,this.isStopped=!0;for(var t=this.observers,r=t.length,n=t.slice(),i=0;i<r;i++)n[i].error(e);this.observers.length=0},t.prototype.complete=function(){if(this.closed)throw new a.a;this.isStopped=!0;for(var e=this.observers,t=e.length,r=e.slice(),n=0;n<t;n++)r[n].complete();this.observers.length=0},t.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},t.prototype._trySubscribe=function(t){if(this.closed)throw new a.a;return e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){if(this.closed)throw new a.a;return this.hasError?(e.error(this.thrownError),o.a.EMPTY):this.isStopped?(e.complete(),o.a.EMPTY):(this.observers.push(e),new g.a(this,e))},t.prototype.asObservable=function(){var e=new i.a;return e.source=this,e},t.create=function(e,t){return new C(e,t)},t}(i.a),C=function(e){function t(t,r){var n=e.call(this)||this;return n.destination=t,n.source=r,n}return n.b(t,e),t.prototype.next=function(e){var t=this.destination;t&&t.next&&t.next(e)},t.prototype.error=function(e){var t=this.destination;t&&t.error&&this.destination.error(e)},t.prototype.complete=function(){var e=this.destination;e&&e.complete&&this.destination.complete()},t.prototype._subscribe=function(e){return this.source?this.source.subscribe(e):o.a.EMPTY},t}(I)},,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.subscribe=t.default=void 0;var n,i=(n=r(43))&&n.__esModule?n:{default:n},s=r(91);
/*!
 * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */
const o={cache:{},tickCallbacks:[],queue:[],pub(e){const t=o.cache[e]||[];if(0===t.length)return;const r=[],n=t=>{i.default.error(`CliqzEvents error: ${e}`,t)};for(var a=arguments.length,g=new Array(a>1?a-1:0),A=1;A<a;A++)g[A-1]=arguments[A];for(let e=0;e<t.length;e+=1)r.push((0,s.nextTick)(t[e].bind(null,...g)).catch(n));const u=Promise.all(r).then(()=>{const e=this.queue.indexOf(u);this.queue.splice(e,1),0===this.queue.length&&this.triggerNextTick()});this.queue.push(u)},triggerNextTick(){this.tickCallbacks.forEach(e=>{try{e()}catch(e){}}),this.tickCallbacks=[]},nextTick(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:()=>{};this.tickCallbacks=this.tickCallbacks||[],this.tickCallbacks.push(e)},sub(e,t){o.cache[e]=o.cache[e]||[],o.cache[e].push(t)},subscribe(e,t,r){let n;return n=r?t.bind(r):t,o.sub(e,n),{unsubscribe(){o.un_sub(e,n)}}},un_sub(e,t){if(!o.cache[e]||0===o.cache[e].length)return void i.default.error(e,"Trying to unsubscribe event that had no subscribers");const r=o.cache[e].indexOf(t);r>-1?o.cache[e].splice(r,1):i.default.error(e,"Trying to unsubscribe an unknown listener",e,t)},clean_channel(e){if(!o.cache[e])throw new Error(`Trying to unsubscribe an unknown channel: ${e}`);o.cache[e]=[]},proxyEvent(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4?arguments[4]:void 0;const s=o.pub.bind(o,e);function a(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];const n=i?i.call(null,...t):t;s.call(null,...n)}return t.addEventListener(r,a,n),{unsubscribe(){t.removeEventListener(r,a)}}},nextId:function e(){return e.id=e.id||0,e.id+=1},purge(){this.cache={},this.tickCallbacks=[],this.queue=[]}};var a=o;t.default=a;const g=o.subscribe;t.subscribe=g},function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));var n=function(){return Array.isArray||function(e){return e&&"number"==typeof e.length}}()},,function(e,t,r){"use strict";var n=r(4),i=r(3),s=r(2),o=r(12),a=r(49);const g={daily:864e5,weekly:6048e5,biweekly:12096e5,monthly:24192e5},A=["install","install_complete","upgrade","active","engaged","uninstall"],u=["install","active","uninstall"],I=["rewards_first_accept","rewards_first_reject","rewards_first_reject_optin","rewards_first_reject_optout","rewards_first_learn_more"],{METRICS_SUB_DOMAIN:C,EXTENSION_VERSION:l,BROWSER_INFO:c}=n.a,d="edge"===c.name,h=100,f=6e4;t.a=new class{constructor(){this.utm_source="",this.utm_campaign="",this.ping_set=new Set,this._brokenPageWatcher={on:!1,triggerId:"",triggerTime:"",timeoutId:null,url:""}}init(e){return e?d?new Promise(e=>{chrome.tabs.query({},t=>{let r=!1;t.forEach(e=>{if(!r&&e.url&&e.url.includes("https://www.ghostery.com/")){const t=Object(o.processUrlQuery)(e.url);if(!t.utm_source||!t.utm_campaign)return;this.utm_source=t.utm_source,this.utm_campaign=t.utm_campaign,r=!0,Object(s.prefsSet)({utm_source:this.utm_source,utm_campaign:this.utm_campaign})}}),e()})}):new Promise(e=>{let t=!1;chrome.tabs.query({url:["https://www.ghostery.com/*"]},r=>{r.forEach(e=>{if(t)return;const r=Object(o.processUrlQuery)(e.url);r.utm_source&&r.utm_campaign&&(this.utm_source=r.utm_source,this.utm_campaign=r.utm_campaign,t=!0,Object(s.prefsSet)({utm_source:this.utm_source,utm_campaign:this.utm_campaign}))}),e()})}):Object(s.prefsGet)("utm_source","utm_campaign").then(e=>{this.utm_source=e.utm_source||"",this.utm_campaign=e.utm_campaign||""}).catch(e=>{Object(s.log)("Metrics init() error",e)})}handleBrokenPageTrigger(e,t=null){return this._brokenPageWatcher.on&&e===n.a.BROKEN_PAGE_REFRESH?(this.ping("broken_page"),void this._unplugBrokenPageWatcher()):this._brokenPageWatcher.on&&e===n.a.BROKEN_PAGE_NEW_TAB&&this._brokenPageWatcher.url===t?(this.ping("broken_page"),void this._unplugBrokenPageWatcher()):void(e!==n.a.BROKEN_PAGE_NEW_TAB&&this._resetBrokenPageWatcher(e))}_resetBrokenPageWatcher(e){this._clearBrokenPageWatcherTimeout(),Object(o.getActiveTab)(t=>{const r=t&&t.url?t.url:"";this._brokenPageWatcher=Object.assign({},{on:!0,triggerId:e,triggerTime:Date.now(),timeoutId:setTimeout(this._clearBrokenPageWatcherTimeout.bind(this),f),url:r})})}_unplugBrokenPageWatcher(){this._clearBrokenPageWatcherTimeout(),this._brokenPageWatcher=Object.assign({},{on:!1,triggerId:"",triggerTime:"",timeoutId:null,url:""})}_clearBrokenPageWatcherTimeout(){const{timeoutId:e}=this._brokenPageWatcher;e&&clearTimeout(e)}ping(e){switch(e){case"install":this._recordInstall();break;case"install_complete":this._recordInstallComplete();break;case"upgrade":this._recordUpgrade();break;case"active":this._recordActive();break;case"engaged":this._recordEngaged();break;case"pause":case"restrict_site":case"resume":case"sign_in":case"trust_site":this._sendReq(e,["all","daily"]);break;case"adblock_off":case"adblock_on":case"antitrack_off":case"antitrack_on":case"create_account_extension":case"create_account_setup":case"list_dash":case"rewards_learn":case"pause_snooze":case"smartblock_off":case"smartblock_on":case"viewchange_from_detailed":case"viewchange_from_expanded":case"viewchange_from_simple":this._sendReq(e,["all","daily"]);break;case"rewards_dash":this._sendReq(e,["all","daily","monthly"]);break;case"engaged_offer":this._sendReq("engaged_offer",["daily","weekly","monthly"]);break;case"rewards_off":case"rewards_on":this._sendReq(e,["all","daily"]);break;case"rewards_first_learn_more":case"rewards_first_accept":case"rewards_first_reject":case"rewards_first_reject_optin":case"rewards_first_reject_optout":this._sendReq(e,["all"]);break;case"sign_in_success":case"create_account_success":case"tutorial_start":case"tutorial_complete":case"setup_start":case"plus_cta_hub":case"plus_cta_extension":case"products_cta_android":case"products_cta_ios":case"products_cta_lite":case"hist_plus_cta":case"hist_stats_panel":case"hist_reset_stats":case"plus_panel_from_badge":case"plus_panel_from_menu":case"resubscribe":case"priority_support_submit":case"theme_change":case"manage_subscription":case"broken_page":this._sendReq(e,["all"]);break;case"promo_modals_insights_upgrade_cta":case"promo_modals_plus_upgrade_cta":case"promo_modals_select_plus_panel":case"promo_modals_select_basic_panel":case"promo_modals_select_plus_hub":case"promo_modals_select_basic_hub":case"promo_modals_decline_insights_upgrade":case"promo_modals_decline_plus_upgrade":case"promo_modals_show_plus_choice_hub":case"promo_modals_show_plus_choice_panel":case"promo_modals_show_upgrade_plus":case"promo_modals_show_insights":this._sendReq(e,["all"]);break;default:Object(s.log)(`metrics ping() error: ping name ${e} not found`)}}setUninstallUrl(e){if("function"==typeof chrome.runtime.setUninstallURL){const t=new Set(["enable_human_web","enable_offers","account","enable_metrics","show_alert","alert_expanded","show_cmp"]);if(!e||t.has(e)){const e=this._buildMetricsUrl("uninstall");e.length&&chrome.runtime.setUninstallURL(e)}}}_buildMetricsUrl(e,t){let r=`https://${C}.ghostery.com/${e}${"uninstall"!==e?`/${t}`:""}?gr=-1`+`&hw=${encodeURIComponent(i.a.enable_human_web?"1":"0")}`+`&v=${encodeURIComponent(l)}`+`&ua=${encodeURIComponent(c.token)}`+`&os=${encodeURIComponent(c.os)}`+`&l=${encodeURIComponent(i.a.language)}`+`&bv=${encodeURIComponent(c.version)}`+`&of=${encodeURIComponent(i.a.enable_offers?"1":"0")}`+`&ir=${encodeURIComponent(i.a.install_random_number)}`+`&sn=${encodeURIComponent(i.a.account?"1":"0")}`+`&id=${encodeURIComponent(i.a.install_date)}`+`&nc=${encodeURIComponent(i.a.enable_metrics?"1":"0")}`+`&pb=${encodeURIComponent(i.a.show_alert?i.a.alert_expanded?"1":"2":"0")}`+`&sc=${encodeURIComponent(i.a.show_cmp?"1":"0")}`+`&ev=${encodeURIComponent(i.a.is_expert?i.a.is_expanded?"3":"2":"1")}`+`&ab=${encodeURIComponent(i.a.enable_ad_block?"1":"0")}`+`&sm=${encodeURIComponent(i.a.enable_smart_block?"1":"0")}`+`&at=${encodeURIComponent(i.a.enable_anti_tracking?"1":"0")}`+`&ss=${encodeURIComponent(i.a.metrics.install_complete_all||"install_complete"===e?i.a.setup_step.toString():"-1")}`+`&sl=${encodeURIComponent(i.a.setup_number.toString())}`+`&sb=${encodeURIComponent(i.a.setup_block.toString())}`+`&rc=${encodeURIComponent(this._getRecencyActive(e,t).toString())}`+`&rr=${encodeURIComponent(this._getRewardsCount().toString())}`+`&st=${encodeURIComponent(this._getSubscriptionType().toString())}`+`&ps=${encodeURIComponent(i.a.paid_subscription?"1":"0")}`+`&va=${encodeURIComponent(this._getVelocityActive(e).toString())}`+`&re=${encodeURIComponent(this._getRecencyEngaged(e,t).toString())}`+`&ve=${encodeURIComponent(this._getVelocityEngaged(e).toString())}`+`&th=${encodeURIComponent(this._getThemeValue().toString())}`;return u.includes(e)?r+=`&us=${encodeURIComponent(this.utm_source)}`+`&uc=${encodeURIComponent(this.utm_campaign)}`:I.includes(e)?r+=`&rid=${encodeURIComponent(this._getRewardId().toString())}`:"broken_page"===e&&this._brokenPageWatcher.on&&(r+=`&setup_path=${encodeURIComponent(this._brokenPageWatcher.triggerId.toString())}`+`&setup_block=${encodeURIComponent((Date.now()-this._brokenPageWatcher.triggerTime).toString())}`),r}_sendReq(e,t){let r={};if(void 0===t&&(t=["all"]),!d&&"function"==typeof fetch){const e=new Headers;e.append("Content-Type","image/gif"),r={headers:e,referrerPolicy:"no-referrer",credentials:"omit",type:"image"}}t.forEach(t=>{if(this._checkPing(e,t)){const n=Number((new Date).getTime()),o=this._buildMetricsUrl(e,t),a=i.a.metrics||{};if(a[`${e}_${t}`]=n,i.a.metrics=a,Object(s.log)(`sending ${e} ping with ${t} frequency`),d||"function"!=typeof fetch){const e=new XMLHttpRequest;e.open("GET",o,!0),e.setRequestHeader("Content-Type","image/gif"),e.send()}else{const t=new Request(o,r);fetch(t).catch(t=>{Object(s.log)(`Error sending Metrics ${e} ping`,t)})}}})}_getRecencyActive(e,t){return!i.a.metrics.active_daily||"active"!==e&&"engaged"!==e||"daily"!==t?-1:Math.floor((Number((new Date).getTime())-i.a.metrics.active_daily)/864e5)}_getRecencyEngaged(e,t){return!i.a.metrics.engaged_daily||"active"!==e&&"engaged"!==e||"daily"!==t?-1:Math.floor((Number((new Date).getTime())-i.a.metrics.engaged_daily)/864e5)}_getVelocityActive(e){if("active"!==e&&"engaged"!==e)return-1;const t=i.a.metrics.active_daily_velocity||[],r=Math.floor(Number((new Date).getTime())/864e5);return t.filter(e=>e>r-7).length}_getVelocityEngaged(e){if("active"!==e&&"engaged"!==e)return-1;const t=i.a.metrics.engaged_daily_velocity||[],r=Math.floor(Number((new Date).getTime())/864e5);return t.filter(e=>e>r-7).length}_getSubscriptionType(){if(!i.a.account)return-1;const e=i.a.account.subscriptionData;return e?e.productName.toUpperCase().replace(" ","_"):-1}_getRewardsCount(){const e=a.a.totalOffersSeen;return e>=6?"6+":e>=2?"2-5":1===e?"1":"0"}_getRewardId(){return(a.a.currentOffer||{offer_id:"no_id"}).offer_id}_getThemeValue(){const{current_theme:e}=i.a;return"midnight-theme"===e?1:0}_timeToExpired(e,t){if("all"===t)return 0;const r=i.a.metrics[`${e}_${t}`],n=void 0===r?0:r,s=Number((new Date).getTime())-g[t];return null===n?0:n-s}_checkPing(e,t){return!(this._timeToExpired(e,t)>0)&&(!!A.includes(e)||(!!i.a.enable_metrics||!i.a.metrics.install_complete_all&&(this.ping_set&&this.ping_set.size<h?this.ping_set.add(e):this.ping_set=[],!1)))}_recordInstall(){i.a.metrics.install_all||this._sendReq("install")}_recordInstallComplete(){i.a.metrics.install_complete_all||(this._sendReq("install_complete"),this.ping_set.forEach(e=>{this.ping(e)}),delete this.ping_set)}_recordUpgrade(){const{metrics:e}=i.a;e.install_all=Number((new Date).getTime()),i.a.metrics=e,this._sendReq("upgrade")}_recordActive(){const e=i.a.metrics.active_daily_velocity||[],t=Math.floor(Number((new Date).getTime())/864e5);e.sort(),e.includes(t)||(e.push(t),e.length>7&&e.shift()),i.a.metrics.active_daily_velocity=e;const r=this._timeToExpired("active","daily");r>0?setTimeout(()=>{this._sendReq("active",["daily"]),setInterval(()=>{this._sendReq("active",["daily"])},g.daily)},r):(this._sendReq("active",["daily"]),setInterval(()=>{this._sendReq("active",["daily"])},g.daily));const n=this._timeToExpired("active","weekly");n>0?setTimeout(()=>{this._sendReq("active",["weekly"]),setInterval(()=>{this._sendReq("active",["weekly"])},g.weekly)},n):(this._sendReq("active",["weekly"]),setInterval(()=>{this._sendReq("active",["weekly"])},g.weekly));const s=this._timeToExpired("active","monthly");s>0?s<=g.biweekly?setTimeout(()=>{this._sendReq("active",["monthly"]),this._repeat()},s):setTimeout(()=>{setTimeout(()=>{this._sendReq("active",["monthly"]),this._repeat()},s-g.biweekly)},g.biweekly):(this._sendReq("active",["monthly"]),this._repeat())}_recordEngaged(){const e=i.a.metrics.engaged_daily_velocity||[],t=i.a.metrics.engaged_daily_count||new Array(e.length).fill(0),r=Math.floor(Number((new Date).getTime())/864e5);e.sort(),e.includes(r)?t[e.indexOf(r)]++:(e.push(r),t.push(1),e.length>7&&(t.shift(),e.shift())),i.a.metrics.engaged_daily_count=t,i.a.metrics.engaged_daily_velocity=e,this._sendReq("engaged",["daily","weekly","monthly"])}_repeat(){let e=!1;setInterval(()=>{e&&this._sendReq("active",["monthly"]),e=!e},g.biweekly)}}},function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.isLoggingEnabled=A,t.enable=I,t.disable=C,t.default=void 0;var n=a(r(315)),i=a(r(19)),s=a(r(28)),o=r(225);function a(e){return e&&e.__esModule?e:{default:e}}
/*!
 * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */function g(){}function A(){try{return void 0!==e&&!0===e.__DEV__||("development"===s.default.environment||(!!(0,o.isBetaVersion)()||(!!i.default.get("developer",!1)||i.default.get("showConsoleLogs",!1))))}catch(e){return!1}}const u={};function I(){u.debug=n.default.log.bind(n.default,"Cliqz [debug]"),u.log=n.default.log.bind(n.default,"Cliqz"),u.error=n.default.error.bind(n.default,"Cliqz [error]"),u.warn=n.default.warn.bind(n.default,"Cliqz [warning]"),u.warning=u.warn,u.time=(n.default.time||g).bind(n.default),u.timeEnd=(n.default.timeEnd||g).bind(n.default)}function C(){u.debug=g,u.log=g,u.warn=g,u.warning=g,u.error=g,u.time=g,u.timeEnd=g}A()?I():C();var l=u;t.default=l}).call(this,r(27))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.service=function e(){const t=new C;e.unload=()=>{t.stop()};return t},t.default=void 0;var n=o(r(33)),i=o(r(74)),s=r(145);function o(e){return e&&e.__esModule?e:{default:e}}
/*!
 * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */const a=i.default.get("pacemaker",{level:"log"}),g=1e3,A=60*g,u=60*A;class I{constructor(e){let t=e.fn,r=e.timeout,n=e.once,i=e.startImmediately,s=e.args;this.name=t.name||"<anon>",this.fn=t,this.timeout=r,this.once=n,this.args=s,this.last=i?-r:Date.now(),this.startImmediately=i}run(e){a.debug("run task:",this.name);const t=Date.now();try{this.fn(...this.args),this.last=e,a.debug("task",this.name,"took",Date.now()-t,"ms")}catch(e){a.error("error executing task",this.name,e)}}}class C{constructor(){this.freq=null,this.timer=null,this.tasks=new Set}stop(){clearTimeout(this.timer),this.timer=null,this.freq=null,this.tasks=new Set}_adjustFrequency(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.added,r=void 0===t?[]:t,n=e.removed,i=void 0===n?[]:n;if(a.debug("_adjustFrequency",{added:r,removed:i}),0===this.tasks.size)return a.log("no task in pacemaker, stop interval"),void this.stop();if(null!==this.freq){let e=Number.MAX_SAFE_INTEGER;if(0!==r.length){var s=!0,o=!1,g=void 0;try{for(var A,u=r[Symbol.iterator]();!(s=(A=u.next()).done);s=!0){const t=A.value.timeout;t<e&&(e=t)}}catch(e){o=!0,g=e}finally{try{s||null==u.return||u.return()}finally{if(o)throw g}}}let t=Number.MAX_SAFE_INTEGER;if(0!==i.length){var I=!0,C=!1,l=void 0;try{for(var c,d=i[Symbol.iterator]();!(I=(c=d.next()).done);I=!0){const e=c.value.timeout;e<t&&(t=e)}}catch(e){C=!0,l=e}finally{try{I||null==d.return||d.return()}finally{if(C)throw l}}}if(e>=this.freq&&t>this.freq)return}let h=Number.MAX_SAFE_INTEGER;var f=!0,p=!1,m=void 0;try{for(var _,y=this.tasks[Symbol.iterator]();!(f=(_=y.next()).done);f=!0){const e=_.value.timeout;e<h&&(h=e)}}catch(e){p=!0,m=e}finally{try{f||null==y.return||y.return()}finally{if(p)throw m}}if(a.debug("current minimum timeout:",h),null===this.freq||this.freq!==h){a.log("interval timeout change detected",this.freq,"->",h),clearTimeout(this.timer),this.freq=h;const e=r.some(e=>{return e.startImmediately});this._scheduleNextTick(e?0:this.freq)}}_scheduleNextTick(e){clearTimeout(this.timer),this.timer=(0,s.setTimeout)(()=>this._tick(),e)}_tick(){const e=Date.now();a.debug("_tick",e);const t=[];var r=!0,n=!1,i=void 0;try{for(var s,o=this.tasks[Symbol.iterator]();!(r=(s=o.next()).done);r=!0){const r=s.value;e>=r.last+r.timeout&&(r.run(e),!0===r.once&&(this.tasks.delete(r),t.push(r)))}}catch(e){n=!0,i=e}finally{try{r||null==o.return||o.return()}finally{if(n)throw i}}a.debug("duration sync",Date.now()-e),this._scheduleNextTick(this.freq),0!==t.length&&this._adjustFrequency({removed:t})}register(e,t){let r=t.timeout,n=t.once,i=void 0!==n&&n,s=t.startImmediately,o=void 0!==s&&s,g=t.args,A=void 0===g?[]:g;if(void 0===e)throw new Error("fn cannot be undefined");if(void 0===r)throw new Error("timeout cannot be undefined");const u=new I({fn:e,timeout:r,once:i,startImmediately:o,args:A});return a.debug("new task",u),this.tasks.add(u),this._adjustFrequency({added:[u]}),{stop:()=>{this.tasks.delete(u),this._adjustFrequency({removed:[u]})}}}everySecond(e){return this.register(e,{timeout:g})}everyFewSeconds(e){return this.register(e,{timeout:10*g})}everyMinute(e){return this.register(e,{timeout:A})}everyFewMinutes(e){return this.register(e,{timeout:10*A})}everyHour(e){return this.register(e,{timeout:u})}setTimeout(e,t){for(var r=arguments.length,n=new Array(r>2?r-2:0),i=2;i<r;i++)n[i-2]=arguments[i];return this.register(e,{timeout:t,once:!0,args:n})}clearTimeout(e){e&&e.stop&&e.stop()}}var l=n.default.service("pacemaker",["register","everySecond","everyFewSeconds","everyMinute","everyFewMinutes","everyHour","setTimeout","clearTimeout"]);t.default=l},function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=r(129),i=new(r(127).a)(n.a)},function(e,t,r){(function(e){e.exports=function(){"use strict";var t,r;function n(){return t.apply(null,arguments)}function i(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function s(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function o(e){return void 0===e}function a(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function g(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function A(e,t){var r,n=[];for(r=0;r<e.length;++r)n.push(t(e[r],r));return n}function u(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function I(e,t){for(var r in t)u(t,r)&&(e[r]=t[r]);return u(t,"toString")&&(e.toString=t.toString),u(t,"valueOf")&&(e.valueOf=t.valueOf),e}function C(e,t,r,n){return Ot(e,t,r,n,!0).utc()}function l(e){return null==e._pf&&(e._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}),e._pf}function c(e){if(null==e._isValid){var t=l(e),n=r.call(t.parsedDateParts,(function(e){return null!=e})),i=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n);if(e._strict&&(i=i&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return i;e._isValid=i}return e._isValid}function d(e){var t=C(NaN);return null!=e?I(l(t),e):l(t).userInvalidated=!0,t}r=Array.prototype.some?Array.prototype.some:function(e){for(var t=Object(this),r=t.length>>>0,n=0;n<r;n++)if(n in t&&e.call(this,t[n],n,t))return!0;return!1};var h=n.momentProperties=[];function f(e,t){var r,n,i;if(o(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),o(t._i)||(e._i=t._i),o(t._f)||(e._f=t._f),o(t._l)||(e._l=t._l),o(t._strict)||(e._strict=t._strict),o(t._tzm)||(e._tzm=t._tzm),o(t._isUTC)||(e._isUTC=t._isUTC),o(t._offset)||(e._offset=t._offset),o(t._pf)||(e._pf=l(t)),o(t._locale)||(e._locale=t._locale),0<h.length)for(r=0;r<h.length;r++)o(i=t[n=h[r]])||(e[n]=i);return e}var p=!1;function m(e){f(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===p&&(p=!0,n.updateOffset(this),p=!1)}function _(e){return e instanceof m||null!=e&&null!=e._isAMomentObject}function y(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function b(e){var t=+e,r=0;return 0!==t&&isFinite(t)&&(r=y(t)),r}function v(e,t,r){var n,i=Math.min(e.length,t.length),s=Math.abs(e.length-t.length),o=0;for(n=0;n<i;n++)(r&&e[n]!==t[n]||!r&&b(e[n])!==b(t[n]))&&o++;return o+s}function w(e){!1===n.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function k(e,t){var r=!0;return I((function(){if(null!=n.deprecationHandler&&n.deprecationHandler(null,e),r){for(var i,s=[],o=0;o<arguments.length;o++){if(i="","object"==typeof arguments[o]){for(var a in i+="\n["+o+"] ",arguments[0])i+=a+": "+arguments[0][a]+", ";i=i.slice(0,-2)}else i=arguments[o];s.push(i)}w(e+"\nArguments: "+Array.prototype.slice.call(s).join("")+"\n"+(new Error).stack),r=!1}return t.apply(this,arguments)}),t)}var M,O={};function S(e,t){null!=n.deprecationHandler&&n.deprecationHandler(e,t),O[e]||(w(t),O[e]=!0)}function D(e){return e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function T(e,t){var r,n=I({},e);for(r in t)u(t,r)&&(s(e[r])&&s(t[r])?(n[r]={},I(n[r],e[r]),I(n[r],t[r])):null!=t[r]?n[r]=t[r]:delete n[r]);for(r in e)u(e,r)&&!u(t,r)&&s(e[r])&&(n[r]=I({},n[r]));return n}function L(e){null!=e&&this.set(e)}n.suppressDeprecationWarnings=!1,n.deprecationHandler=null,M=Object.keys?Object.keys:function(e){var t,r=[];for(t in e)u(e,t)&&r.push(t);return r};var E={};function P(e,t){var r=e.toLowerCase();E[r]=E[r+"s"]=E[t]=e}function x(e){return"string"==typeof e?E[e]||E[e.toLowerCase()]:void 0}function j(e){var t,r,n={};for(r in e)u(e,r)&&(t=x(r))&&(n[t]=e[r]);return n}var R={};function Y(e,t){R[e]=t}function N(e,t,r){var n=""+Math.abs(e),i=t-n.length;return(0<=e?r?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+n}var U=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,H=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,F={},B={};function z(e,t,r,n){var i=n;"string"==typeof n&&(i=function(){return this[n]()}),e&&(B[e]=i),t&&(B[t[0]]=function(){return N(i.apply(this,arguments),t[1],t[2])}),r&&(B[r]=function(){return this.localeData().ordinal(i.apply(this,arguments),e)})}function W(e,t){return e.isValid()?(t=G(t,e.localeData()),F[t]=F[t]||function(e){var t,r,n,i=e.match(U);for(t=0,r=i.length;t<r;t++)B[i[t]]?i[t]=B[i[t]]:i[t]=(n=i[t]).match(/\[[\s\S]/)?n.replace(/^\[|\]$/g,""):n.replace(/\\/g,"");return function(t){var n,s="";for(n=0;n<r;n++)s+=D(i[n])?i[n].call(t,e):i[n];return s}}(t),F[t](e)):e.localeData().invalidDate()}function G(e,t){var r=5;function n(e){return t.longDateFormat(e)||e}for(H.lastIndex=0;0<=r&&H.test(e);)e=e.replace(H,n),H.lastIndex=0,r-=1;return e}var q=/\d/,V=/\d\d/,K=/\d{3}/,Z=/\d{4}/,J=/[+-]?\d{6}/,$=/\d\d?/,Q=/\d\d\d\d?/,X=/\d\d\d\d\d\d?/,ee=/\d{1,3}/,te=/\d{1,4}/,re=/[+-]?\d{1,6}/,ne=/\d+/,ie=/[+-]?\d+/,se=/Z|[+-]\d\d:?\d\d/gi,oe=/Z|[+-]\d\d(?::?\d\d)?/gi,ae=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,ge={};function Ae(e,t,r){ge[e]=D(t)?t:function(e,n){return e&&r?r:t}}function ue(e,t){return u(ge,e)?ge[e](t._strict,t._locale):new RegExp(Ie(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(function(e,t,r,n,i){return t||r||n||i}))))}function Ie(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var Ce={};function le(e,t){var r,n=t;for("string"==typeof e&&(e=[e]),a(t)&&(n=function(e,r){r[t]=b(e)}),r=0;r<e.length;r++)Ce[e[r]]=n}function ce(e,t){le(e,(function(e,r,n,i){n._w=n._w||{},t(e,n._w,n,i)}))}var de=0,he=1,fe=2,pe=3,me=4,_e=5,ye=6,be=7,ve=8;function we(e){return ke(e)?366:365}function ke(e){return e%4==0&&e%100!=0||e%400==0}z("Y",0,0,(function(){var e=this.year();return e<=9999?""+e:"+"+e})),z(0,["YY",2],0,(function(){return this.year()%100})),z(0,["YYYY",4],0,"year"),z(0,["YYYYY",5],0,"year"),z(0,["YYYYYY",6,!0],0,"year"),P("year","y"),Y("year",1),Ae("Y",ie),Ae("YY",$,V),Ae("YYYY",te,Z),Ae("YYYYY",re,J),Ae("YYYYYY",re,J),le(["YYYYY","YYYYYY"],de),le("YYYY",(function(e,t){t[de]=2===e.length?n.parseTwoDigitYear(e):b(e)})),le("YY",(function(e,t){t[de]=n.parseTwoDigitYear(e)})),le("Y",(function(e,t){t[de]=parseInt(e,10)})),n.parseTwoDigitYear=function(e){return b(e)+(68<b(e)?1900:2e3)};var Me,Oe=Se("FullYear",!0);function Se(e,t){return function(r){return null!=r?(Te(this,e,r),n.updateOffset(this,t),this):De(this,e)}}function De(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function Te(e,t,r){e.isValid()&&!isNaN(r)&&("FullYear"===t&&ke(e.year())&&1===e.month()&&29===e.date()?e._d["set"+(e._isUTC?"UTC":"")+t](r,e.month(),Le(r,e.month())):e._d["set"+(e._isUTC?"UTC":"")+t](r))}function Le(e,t){if(isNaN(e)||isNaN(t))return NaN;var r=(t%12+12)%12;return e+=(t-r)/12,1===r?ke(e)?29:28:31-r%7%2}Me=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},z("M",["MM",2],"Mo",(function(){return this.month()+1})),z("MMM",0,0,(function(e){return this.localeData().monthsShort(this,e)})),z("MMMM",0,0,(function(e){return this.localeData().months(this,e)})),P("month","M"),Y("month",8),Ae("M",$),Ae("MM",$,V),Ae("MMM",(function(e,t){return t.monthsShortRegex(e)})),Ae("MMMM",(function(e,t){return t.monthsRegex(e)})),le(["M","MM"],(function(e,t){t[he]=b(e)-1})),le(["MMM","MMMM"],(function(e,t,r,n){var i=r._locale.monthsParse(e,n,r._strict);null!=i?t[he]=i:l(r).invalidMonth=e}));var Ee=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Pe="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),xe="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_");function je(e,t){var r;if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=b(t);else if(!a(t=e.localeData().monthsParse(t)))return e;return r=Math.min(e.date(),Le(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,r),e}function Re(e){return null!=e?(je(this,e),n.updateOffset(this,!0),this):De(this,"Month")}var Ye=ae,Ne=ae;function Ue(){function e(e,t){return t.length-e.length}var t,r,n=[],i=[],s=[];for(t=0;t<12;t++)r=C([2e3,t]),n.push(this.monthsShort(r,"")),i.push(this.months(r,"")),s.push(this.months(r,"")),s.push(this.monthsShort(r,""));for(n.sort(e),i.sort(e),s.sort(e),t=0;t<12;t++)n[t]=Ie(n[t]),i[t]=Ie(i[t]);for(t=0;t<24;t++)s[t]=Ie(s[t]);this._monthsRegex=new RegExp("^("+s.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+n.join("|")+")","i")}function He(e){var t;if(e<100&&0<=e){var r=Array.prototype.slice.call(arguments);r[0]=e+400,t=new Date(Date.UTC.apply(null,r)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)}else t=new Date(Date.UTC.apply(null,arguments));return t}function Fe(e,t,r){var n=7+t-r;return-(7+He(e,0,n).getUTCDay()-t)%7+n-1}function Be(e,t,r,n,i){var s,o,a=1+7*(t-1)+(7+r-n)%7+Fe(e,n,i);return o=a<=0?we(s=e-1)+a:a>we(e)?(s=e+1,a-we(e)):(s=e,a),{year:s,dayOfYear:o}}function ze(e,t,r){var n,i,s=Fe(e.year(),t,r),o=Math.floor((e.dayOfYear()-s-1)/7)+1;return o<1?n=o+We(i=e.year()-1,t,r):o>We(e.year(),t,r)?(n=o-We(e.year(),t,r),i=e.year()+1):(i=e.year(),n=o),{week:n,year:i}}function We(e,t,r){var n=Fe(e,t,r),i=Fe(e+1,t,r);return(we(e)-n+i)/7}function Ge(e,t){return e.slice(t,7).concat(e.slice(0,t))}z("w",["ww",2],"wo","week"),z("W",["WW",2],"Wo","isoWeek"),P("week","w"),P("isoWeek","W"),Y("week",5),Y("isoWeek",5),Ae("w",$),Ae("ww",$,V),Ae("W",$),Ae("WW",$,V),ce(["w","ww","W","WW"],(function(e,t,r,n){t[n.substr(0,1)]=b(e)})),z("d",0,"do","day"),z("dd",0,0,(function(e){return this.localeData().weekdaysMin(this,e)})),z("ddd",0,0,(function(e){return this.localeData().weekdaysShort(this,e)})),z("dddd",0,0,(function(e){return this.localeData().weekdays(this,e)})),z("e",0,0,"weekday"),z("E",0,0,"isoWeekday"),P("day","d"),P("weekday","e"),P("isoWeekday","E"),Y("day",11),Y("weekday",11),Y("isoWeekday",11),Ae("d",$),Ae("e",$),Ae("E",$),Ae("dd",(function(e,t){return t.weekdaysMinRegex(e)})),Ae("ddd",(function(e,t){return t.weekdaysShortRegex(e)})),Ae("dddd",(function(e,t){return t.weekdaysRegex(e)})),ce(["dd","ddd","dddd"],(function(e,t,r,n){var i=r._locale.weekdaysParse(e,n,r._strict);null!=i?t.d=i:l(r).invalidWeekday=e})),ce(["d","e","E"],(function(e,t,r,n){t[n]=b(e)}));var qe="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Ve="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Ke="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Ze=ae,Je=ae,$e=ae;function Qe(){function e(e,t){return t.length-e.length}var t,r,n,i,s,o=[],a=[],g=[],A=[];for(t=0;t<7;t++)r=C([2e3,1]).day(t),n=this.weekdaysMin(r,""),i=this.weekdaysShort(r,""),s=this.weekdays(r,""),o.push(n),a.push(i),g.push(s),A.push(n),A.push(i),A.push(s);for(o.sort(e),a.sort(e),g.sort(e),A.sort(e),t=0;t<7;t++)a[t]=Ie(a[t]),g[t]=Ie(g[t]),A[t]=Ie(A[t]);this._weekdaysRegex=new RegExp("^("+A.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+g.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+o.join("|")+")","i")}function Xe(){return this.hours()%12||12}function et(e,t){z(e,0,0,(function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)}))}function tt(e,t){return t._meridiemParse}z("H",["HH",2],0,"hour"),z("h",["hh",2],0,Xe),z("k",["kk",2],0,(function(){return this.hours()||24})),z("hmm",0,0,(function(){return""+Xe.apply(this)+N(this.minutes(),2)})),z("hmmss",0,0,(function(){return""+Xe.apply(this)+N(this.minutes(),2)+N(this.seconds(),2)})),z("Hmm",0,0,(function(){return""+this.hours()+N(this.minutes(),2)})),z("Hmmss",0,0,(function(){return""+this.hours()+N(this.minutes(),2)+N(this.seconds(),2)})),et("a",!0),et("A",!1),P("hour","h"),Y("hour",13),Ae("a",tt),Ae("A",tt),Ae("H",$),Ae("h",$),Ae("k",$),Ae("HH",$,V),Ae("hh",$,V),Ae("kk",$,V),Ae("hmm",Q),Ae("hmmss",X),Ae("Hmm",Q),Ae("Hmmss",X),le(["H","HH"],pe),le(["k","kk"],(function(e,t,r){var n=b(e);t[pe]=24===n?0:n})),le(["a","A"],(function(e,t,r){r._isPm=r._locale.isPM(e),r._meridiem=e})),le(["h","hh"],(function(e,t,r){t[pe]=b(e),l(r).bigHour=!0})),le("hmm",(function(e,t,r){var n=e.length-2;t[pe]=b(e.substr(0,n)),t[me]=b(e.substr(n)),l(r).bigHour=!0})),le("hmmss",(function(e,t,r){var n=e.length-4,i=e.length-2;t[pe]=b(e.substr(0,n)),t[me]=b(e.substr(n,2)),t[_e]=b(e.substr(i)),l(r).bigHour=!0})),le("Hmm",(function(e,t,r){var n=e.length-2;t[pe]=b(e.substr(0,n)),t[me]=b(e.substr(n))})),le("Hmmss",(function(e,t,r){var n=e.length-4,i=e.length-2;t[pe]=b(e.substr(0,n)),t[me]=b(e.substr(n,2)),t[_e]=b(e.substr(i))}));var rt,nt=Se("Hours",!0),it={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:Pe,monthsShort:xe,week:{dow:0,doy:6},weekdays:qe,weekdaysMin:Ke,weekdaysShort:Ve,meridiemParse:/[ap]\.?m?\.?/i},st={},ot={};function at(e){return e?e.toLowerCase().replace("_","-"):e}function gt(t){var r=null;if(!st[t]&&void 0!==e&&e&&e.exports)try{r=rt._abbr,function(){var e=new Error("Cannot find module 'undefined'");throw e.code="MODULE_NOT_FOUND",e}(),At(r)}catch(t){}return st[t]}function At(e,t){var r;return e&&((r=o(t)?It(e):ut(e,t))?rt=r:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),rt._abbr}function ut(e,t){if(null===t)return delete st[e],null;var r,n=it;if(t.abbr=e,null!=st[e])S("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=st[e]._config;else if(null!=t.parentLocale)if(null!=st[t.parentLocale])n=st[t.parentLocale]._config;else{if(null==(r=gt(t.parentLocale)))return ot[t.parentLocale]||(ot[t.parentLocale]=[]),ot[t.parentLocale].push({name:e,config:t}),null;n=r._config}return st[e]=new L(T(n,t)),ot[e]&&ot[e].forEach((function(e){ut(e.name,e.config)})),At(e),st[e]}function It(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return rt;if(!i(e)){if(t=gt(e))return t;e=[e]}return function(e){for(var t,r,n,i,s=0;s<e.length;){for(t=(i=at(e[s]).split("-")).length,r=(r=at(e[s+1]))?r.split("-"):null;0<t;){if(n=gt(i.slice(0,t).join("-")))return n;if(r&&r.length>=t&&v(i,r,!0)>=t-1)break;t--}s++}return rt}(e)}function Ct(e){var t,r=e._a;return r&&-2===l(e).overflow&&(t=r[he]<0||11<r[he]?he:r[fe]<1||r[fe]>Le(r[de],r[he])?fe:r[pe]<0||24<r[pe]||24===r[pe]&&(0!==r[me]||0!==r[_e]||0!==r[ye])?pe:r[me]<0||59<r[me]?me:r[_e]<0||59<r[_e]?_e:r[ye]<0||999<r[ye]?ye:-1,l(e)._overflowDayOfYear&&(t<de||fe<t)&&(t=fe),l(e)._overflowWeeks&&-1===t&&(t=be),l(e)._overflowWeekday&&-1===t&&(t=ve),l(e).overflow=t),e}function lt(e,t,r){return null!=e?e:null!=t?t:r}function ct(e){var t,r,i,s,o,a=[];if(!e._d){var g,A;for(g=e,A=new Date(n.now()),i=g._useUTC?[A.getUTCFullYear(),A.getUTCMonth(),A.getUTCDate()]:[A.getFullYear(),A.getMonth(),A.getDate()],e._w&&null==e._a[fe]&&null==e._a[he]&&function(e){var t,r,n,i,s,o,a,g;if(null!=(t=e._w).GG||null!=t.W||null!=t.E)s=1,o=4,r=lt(t.GG,e._a[de],ze(St(),1,4).year),n=lt(t.W,1),((i=lt(t.E,1))<1||7<i)&&(g=!0);else{s=e._locale._week.dow,o=e._locale._week.doy;var A=ze(St(),s,o);r=lt(t.gg,e._a[de],A.year),n=lt(t.w,A.week),null!=t.d?((i=t.d)<0||6<i)&&(g=!0):null!=t.e?(i=t.e+s,(t.e<0||6<t.e)&&(g=!0)):i=s}n<1||n>We(r,s,o)?l(e)._overflowWeeks=!0:null!=g?l(e)._overflowWeekday=!0:(a=Be(r,n,i,s,o),e._a[de]=a.year,e._dayOfYear=a.dayOfYear)}(e),null!=e._dayOfYear&&(o=lt(e._a[de],i[de]),(e._dayOfYear>we(o)||0===e._dayOfYear)&&(l(e)._overflowDayOfYear=!0),r=He(o,0,e._dayOfYear),e._a[he]=r.getUTCMonth(),e._a[fe]=r.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=a[t]=i[t];for(;t<7;t++)e._a[t]=a[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[pe]&&0===e._a[me]&&0===e._a[_e]&&0===e._a[ye]&&(e._nextDay=!0,e._a[pe]=0),e._d=(e._useUTC?He:function(e,t,r,n,i,s,o){var a;return e<100&&0<=e?(a=new Date(e+400,t,r,n,i,s,o),isFinite(a.getFullYear())&&a.setFullYear(e)):a=new Date(e,t,r,n,i,s,o),a}).apply(null,a),s=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[pe]=24),e._w&&void 0!==e._w.d&&e._w.d!==s&&(l(e).weekdayMismatch=!0)}}var dt=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,ht=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,ft=/Z|[+-]\d\d(?::?\d\d)?/,pt=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],mt=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],_t=/^\/?Date\((\-?\d+)/i;function yt(e){var t,r,n,i,s,o,a=e._i,g=dt.exec(a)||ht.exec(a);if(g){for(l(e).iso=!0,t=0,r=pt.length;t<r;t++)if(pt[t][1].exec(g[1])){i=pt[t][0],n=!1!==pt[t][2];break}if(null==i)return void(e._isValid=!1);if(g[3]){for(t=0,r=mt.length;t<r;t++)if(mt[t][1].exec(g[3])){s=(g[2]||" ")+mt[t][0];break}if(null==s)return void(e._isValid=!1)}if(!n&&null!=s)return void(e._isValid=!1);if(g[4]){if(!ft.exec(g[4]))return void(e._isValid=!1);o="Z"}e._f=i+(s||"")+(o||""),kt(e)}else e._isValid=!1}var bt=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,vt={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function wt(e){var t,r,n,i=bt.exec(e._i.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,""));if(i){var s=function(e,t,r,n,i,s){var o=[function(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}(e),xe.indexOf(t),parseInt(r,10),parseInt(n,10),parseInt(i,10)];return s&&o.push(parseInt(s,10)),o}(i[4],i[3],i[2],i[5],i[6],i[7]);if(r=s,n=e,(t=i[1])&&Ve.indexOf(t)!==new Date(r[0],r[1],r[2]).getDay()&&(l(n).weekdayMismatch=!0,!(n._isValid=!1)))return;e._a=s,e._tzm=function(e,t,r){if(e)return vt[e];if(t)return 0;var n=parseInt(r,10),i=n%100;return(n-i)/100*60+i}(i[8],i[9],i[10]),e._d=He.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),l(e).rfc2822=!0}else e._isValid=!1}function kt(e){if(e._f!==n.ISO_8601)if(e._f!==n.RFC_2822){e._a=[],l(e).empty=!0;var t,r,i,s,o,a,g,A,I=""+e._i,C=I.length,c=0;for(i=G(e._f,e._locale).match(U)||[],t=0;t<i.length;t++)s=i[t],(r=(I.match(ue(s,e))||[])[0])&&(0<(o=I.substr(0,I.indexOf(r))).length&&l(e).unusedInput.push(o),I=I.slice(I.indexOf(r)+r.length),c+=r.length),B[s]?(r?l(e).empty=!1:l(e).unusedTokens.push(s),a=s,A=e,null!=(g=r)&&u(Ce,a)&&Ce[a](g,A._a,A,a)):e._strict&&!r&&l(e).unusedTokens.push(s);l(e).charsLeftOver=C-c,0<I.length&&l(e).unusedInput.push(I),e._a[pe]<=12&&!0===l(e).bigHour&&0<e._a[pe]&&(l(e).bigHour=void 0),l(e).parsedDateParts=e._a.slice(0),l(e).meridiem=e._meridiem,e._a[pe]=function(e,t,r){var n;return null==r?t:null!=e.meridiemHour?e.meridiemHour(t,r):(null!=e.isPM&&((n=e.isPM(r))&&t<12&&(t+=12),n||12!==t||(t=0)),t)}(e._locale,e._a[pe],e._meridiem),ct(e),Ct(e)}else wt(e);else yt(e)}function Mt(e){var t,r,u,C,h=e._i,p=e._f;return e._locale=e._locale||It(e._l),null===h||void 0===p&&""===h?d({nullInput:!0}):("string"==typeof h&&(e._i=h=e._locale.preparse(h)),_(h)?new m(Ct(h)):(g(h)?e._d=h:i(p)?function(e){var t,r,n,i,s;if(0===e._f.length)return l(e).invalidFormat=!0,e._d=new Date(NaN);for(i=0;i<e._f.length;i++)s=0,t=f({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[i],kt(t),c(t)&&(s+=l(t).charsLeftOver,s+=10*l(t).unusedTokens.length,l(t).score=s,(null==n||s<n)&&(n=s,r=t));I(e,r||t)}(e):p?kt(e):o(r=(t=e)._i)?t._d=new Date(n.now()):g(r)?t._d=new Date(r.valueOf()):"string"==typeof r?(u=t,null===(C=_t.exec(u._i))?(yt(u),!1===u._isValid&&(delete u._isValid,wt(u),!1===u._isValid&&(delete u._isValid,n.createFromInputFallback(u)))):u._d=new Date(+C[1])):i(r)?(t._a=A(r.slice(0),(function(e){return parseInt(e,10)})),ct(t)):s(r)?function(e){if(!e._d){var t=j(e._i);e._a=A([t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],(function(e){return e&&parseInt(e,10)})),ct(e)}}(t):a(r)?t._d=new Date(r):n.createFromInputFallback(t),c(e)||(e._d=null),e))}function Ot(e,t,r,n,o){var a,g={};return!0!==r&&!1!==r||(n=r,r=void 0),(s(e)&&function(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;var t;for(t in e)if(e.hasOwnProperty(t))return!1;return!0}(e)||i(e)&&0===e.length)&&(e=void 0),g._isAMomentObject=!0,g._useUTC=g._isUTC=o,g._l=r,g._i=e,g._f=t,g._strict=n,(a=new m(Ct(Mt(g))))._nextDay&&(a.add(1,"d"),a._nextDay=void 0),a}function St(e,t,r,n){return Ot(e,t,r,n,!1)}n.createFromInputFallback=k("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",(function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))})),n.ISO_8601=function(){},n.RFC_2822=function(){};var Dt=k("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=St.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:d()})),Tt=k("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=St.apply(null,arguments);return this.isValid()&&e.isValid()?this<e?this:e:d()}));function Lt(e,t){var r,n;if(1===t.length&&i(t[0])&&(t=t[0]),!t.length)return St();for(r=t[0],n=1;n<t.length;++n)t[n].isValid()&&!t[n][e](r)||(r=t[n]);return r}var Et=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Pt(e){var t=j(e),r=t.year||0,n=t.quarter||0,i=t.month||0,s=t.week||t.isoWeek||0,o=t.day||0,a=t.hour||0,g=t.minute||0,A=t.second||0,u=t.millisecond||0;this._isValid=function(e){for(var t in e)if(-1===Me.call(Et,t)||null!=e[t]&&isNaN(e[t]))return!1;for(var r=!1,n=0;n<Et.length;++n)if(e[Et[n]]){if(r)return!1;parseFloat(e[Et[n]])!==b(e[Et[n]])&&(r=!0)}return!0}(t),this._milliseconds=+u+1e3*A+6e4*g+1e3*a*60*60,this._days=+o+7*s,this._months=+i+3*n+12*r,this._data={},this._locale=It(),this._bubble()}function xt(e){return e instanceof Pt}function jt(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function Rt(e,t){z(e,0,0,(function(){var e=this.utcOffset(),r="+";return e<0&&(e=-e,r="-"),r+N(~~(e/60),2)+t+N(~~e%60,2)}))}Rt("Z",":"),Rt("ZZ",""),Ae("Z",oe),Ae("ZZ",oe),le(["Z","ZZ"],(function(e,t,r){r._useUTC=!0,r._tzm=Nt(oe,e)}));var Yt=/([\+\-]|\d\d)/gi;function Nt(e,t){var r=(t||"").match(e);if(null===r)return null;var n=((r[r.length-1]||[])+"").match(Yt)||["-",0,0],i=60*n[1]+b(n[2]);return 0===i?0:"+"===n[0]?i:-i}function Ut(e,t){var r,i;return t._isUTC?(r=t.clone(),i=(_(e)||g(e)?e.valueOf():St(e).valueOf())-r.valueOf(),r._d.setTime(r._d.valueOf()+i),n.updateOffset(r,!1),r):St(e).local()}function Ht(e){return 15*-Math.round(e._d.getTimezoneOffset()/15)}function Ft(){return!!this.isValid()&&this._isUTC&&0===this._offset}n.updateOffset=function(){};var Bt=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,zt=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Wt(e,t){var r,n,i,s=e,o=null;return xt(e)?s={ms:e._milliseconds,d:e._days,M:e._months}:a(e)?(s={},t?s[t]=e:s.milliseconds=e):(o=Bt.exec(e))?(r="-"===o[1]?-1:1,s={y:0,d:b(o[fe])*r,h:b(o[pe])*r,m:b(o[me])*r,s:b(o[_e])*r,ms:b(jt(1e3*o[ye]))*r}):(o=zt.exec(e))?(r="-"===o[1]?-1:1,s={y:Gt(o[2],r),M:Gt(o[3],r),w:Gt(o[4],r),d:Gt(o[5],r),h:Gt(o[6],r),m:Gt(o[7],r),s:Gt(o[8],r)}):null==s?s={}:"object"==typeof s&&("from"in s||"to"in s)&&(i=function(e,t){var r;return e.isValid()&&t.isValid()?(t=Ut(t,e),e.isBefore(t)?r=qt(e,t):((r=qt(t,e)).milliseconds=-r.milliseconds,r.months=-r.months),r):{milliseconds:0,months:0}}(St(s.from),St(s.to)),(s={}).ms=i.milliseconds,s.M=i.months),n=new Pt(s),xt(e)&&u(e,"_locale")&&(n._locale=e._locale),n}function Gt(e,t){var r=e&&parseFloat(e.replace(",","."));return(isNaN(r)?0:r)*t}function qt(e,t){var r={};return r.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(r.months,"M").isAfter(t)&&--r.months,r.milliseconds=+t-+e.clone().add(r.months,"M"),r}function Vt(e,t){return function(r,n){var i;return null===n||isNaN(+n)||(S(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),i=r,r=n,n=i),Kt(this,Wt(r="string"==typeof r?+r:r,n),e),this}}function Kt(e,t,r,i){var s=t._milliseconds,o=jt(t._days),a=jt(t._months);e.isValid()&&(i=null==i||i,a&&je(e,De(e,"Month")+a*r),o&&Te(e,"Date",De(e,"Date")+o*r),s&&e._d.setTime(e._d.valueOf()+s*r),i&&n.updateOffset(e,o||a))}Wt.fn=Pt.prototype,Wt.invalid=function(){return Wt(NaN)};var Zt=Vt(1,"add"),Jt=Vt(-1,"subtract");function $t(e,t){var r=12*(t.year()-e.year())+(t.month()-e.month()),n=e.clone().add(r,"months");return-(r+(t-n<0?(t-n)/(n-e.clone().add(r-1,"months")):(t-n)/(e.clone().add(r+1,"months")-n)))||0}function Qt(e){var t;return void 0===e?this._locale._abbr:(null!=(t=It(e))&&(this._locale=t),this)}n.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",n.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var Xt=k("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",(function(e){return void 0===e?this.localeData():this.locale(e)}));function er(){return this._locale}var tr=126227808e5;function rr(e,t){return(e%t+t)%t}function nr(e,t,r){return e<100&&0<=e?new Date(e+400,t,r)-tr:new Date(e,t,r).valueOf()}function ir(e,t,r){return e<100&&0<=e?Date.UTC(e+400,t,r)-tr:Date.UTC(e,t,r)}function sr(e,t){z(0,[e,e.length],0,t)}function or(e,t,r,n,i){var s;return null==e?ze(this,n,i).year:((s=We(e,n,i))<t&&(t=s),function(e,t,r,n,i){var s=Be(e,t,r,n,i),o=He(s.year,0,s.dayOfYear);return this.year(o.getUTCFullYear()),this.month(o.getUTCMonth()),this.date(o.getUTCDate()),this}.call(this,e,t,r,n,i))}z(0,["gg",2],0,(function(){return this.weekYear()%100})),z(0,["GG",2],0,(function(){return this.isoWeekYear()%100})),sr("gggg","weekYear"),sr("ggggg","weekYear"),sr("GGGG","isoWeekYear"),sr("GGGGG","isoWeekYear"),P("weekYear","gg"),P("isoWeekYear","GG"),Y("weekYear",1),Y("isoWeekYear",1),Ae("G",ie),Ae("g",ie),Ae("GG",$,V),Ae("gg",$,V),Ae("GGGG",te,Z),Ae("gggg",te,Z),Ae("GGGGG",re,J),Ae("ggggg",re,J),ce(["gggg","ggggg","GGGG","GGGGG"],(function(e,t,r,n){t[n.substr(0,2)]=b(e)})),ce(["gg","GG"],(function(e,t,r,i){t[i]=n.parseTwoDigitYear(e)})),z("Q",0,"Qo","quarter"),P("quarter","Q"),Y("quarter",7),Ae("Q",q),le("Q",(function(e,t){t[he]=3*(b(e)-1)})),z("D",["DD",2],"Do","date"),P("date","D"),Y("date",9),Ae("D",$),Ae("DD",$,V),Ae("Do",(function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient})),le(["D","DD"],fe),le("Do",(function(e,t){t[fe]=b(e.match($)[0])}));var ar=Se("Date",!0);z("DDD",["DDDD",3],"DDDo","dayOfYear"),P("dayOfYear","DDD"),Y("dayOfYear",4),Ae("DDD",ee),Ae("DDDD",K),le(["DDD","DDDD"],(function(e,t,r){r._dayOfYear=b(e)})),z("m",["mm",2],0,"minute"),P("minute","m"),Y("minute",14),Ae("m",$),Ae("mm",$,V),le(["m","mm"],me);var gr=Se("Minutes",!1);z("s",["ss",2],0,"second"),P("second","s"),Y("second",15),Ae("s",$),Ae("ss",$,V),le(["s","ss"],_e);var Ar,ur=Se("Seconds",!1);for(z("S",0,0,(function(){return~~(this.millisecond()/100)})),z(0,["SS",2],0,(function(){return~~(this.millisecond()/10)})),z(0,["SSS",3],0,"millisecond"),z(0,["SSSS",4],0,(function(){return 10*this.millisecond()})),z(0,["SSSSS",5],0,(function(){return 100*this.millisecond()})),z(0,["SSSSSS",6],0,(function(){return 1e3*this.millisecond()})),z(0,["SSSSSSS",7],0,(function(){return 1e4*this.millisecond()})),z(0,["SSSSSSSS",8],0,(function(){return 1e5*this.millisecond()})),z(0,["SSSSSSSSS",9],0,(function(){return 1e6*this.millisecond()})),P("millisecond","ms"),Y("millisecond",16),Ae("S",ee,q),Ae("SS",ee,V),Ae("SSS",ee,K),Ar="SSSS";Ar.length<=9;Ar+="S")Ae(Ar,ne);function Ir(e,t){t[ye]=b(1e3*("0."+e))}for(Ar="S";Ar.length<=9;Ar+="S")le(Ar,Ir);var Cr=Se("Milliseconds",!1);z("z",0,0,"zoneAbbr"),z("zz",0,0,"zoneName");var lr=m.prototype;function cr(e){return e}lr.add=Zt,lr.calendar=function(e,t){var r=e||St(),i=Ut(r,this).startOf("day"),s=n.calendarFormat(this,i)||"sameElse",o=t&&(D(t[s])?t[s].call(this,r):t[s]);return this.format(o||this.localeData().calendar(s,this,St(r)))},lr.clone=function(){return new m(this)},lr.diff=function(e,t,r){var n,i,s;if(!this.isValid())return NaN;if(!(n=Ut(e,this)).isValid())return NaN;switch(i=6e4*(n.utcOffset()-this.utcOffset()),t=x(t)){case"year":s=$t(this,n)/12;break;case"month":s=$t(this,n);break;case"quarter":s=$t(this,n)/3;break;case"second":s=(this-n)/1e3;break;case"minute":s=(this-n)/6e4;break;case"hour":s=(this-n)/36e5;break;case"day":s=(this-n-i)/864e5;break;case"week":s=(this-n-i)/6048e5;break;default:s=this-n}return r?s:y(s)},lr.endOf=function(e){var t;if(void 0===(e=x(e))||"millisecond"===e||!this.isValid())return this;var r=this._isUTC?ir:nr;switch(e){case"year":t=r(this.year()+1,0,1)-1;break;case"quarter":t=r(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=r(this.year(),this.month()+1,1)-1;break;case"week":t=r(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=r(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=r(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=36e5-rr(t+(this._isUTC?0:6e4*this.utcOffset()),36e5)-1;break;case"minute":t=this._d.valueOf(),t+=6e4-rr(t,6e4)-1;break;case"second":t=this._d.valueOf(),t+=1e3-rr(t,1e3)-1}return this._d.setTime(t),n.updateOffset(this,!0),this},lr.format=function(e){e||(e=this.isUtc()?n.defaultFormatUtc:n.defaultFormat);var t=W(this,e);return this.localeData().postformat(t)},lr.from=function(e,t){return this.isValid()&&(_(e)&&e.isValid()||St(e).isValid())?Wt({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},lr.fromNow=function(e){return this.from(St(),e)},lr.to=function(e,t){return this.isValid()&&(_(e)&&e.isValid()||St(e).isValid())?Wt({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},lr.toNow=function(e){return this.to(St(),e)},lr.get=function(e){return D(this[e=x(e)])?this[e]():this},lr.invalidAt=function(){return l(this).overflow},lr.isAfter=function(e,t){var r=_(e)?e:St(e);return!(!this.isValid()||!r.isValid())&&("millisecond"===(t=x(t)||"millisecond")?this.valueOf()>r.valueOf():r.valueOf()<this.clone().startOf(t).valueOf())},lr.isBefore=function(e,t){var r=_(e)?e:St(e);return!(!this.isValid()||!r.isValid())&&("millisecond"===(t=x(t)||"millisecond")?this.valueOf()<r.valueOf():this.clone().endOf(t).valueOf()<r.valueOf())},lr.isBetween=function(e,t,r,n){var i=_(e)?e:St(e),s=_(t)?t:St(t);return!!(this.isValid()&&i.isValid()&&s.isValid())&&("("===(n=n||"()")[0]?this.isAfter(i,r):!this.isBefore(i,r))&&(")"===n[1]?this.isBefore(s,r):!this.isAfter(s,r))},lr.isSame=function(e,t){var r,n=_(e)?e:St(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=x(t)||"millisecond")?this.valueOf()===n.valueOf():(r=n.valueOf(),this.clone().startOf(t).valueOf()<=r&&r<=this.clone().endOf(t).valueOf()))},lr.isSameOrAfter=function(e,t){return this.isSame(e,t)||this.isAfter(e,t)},lr.isSameOrBefore=function(e,t){return this.isSame(e,t)||this.isBefore(e,t)},lr.isValid=function(){return c(this)},lr.lang=Xt,lr.locale=Qt,lr.localeData=er,lr.max=Tt,lr.min=Dt,lr.parsingFlags=function(){return I({},l(this))},lr.set=function(e,t){if("object"==typeof e)for(var r=function(e){var t=[];for(var r in e)t.push({unit:r,priority:R[r]});return t.sort((function(e,t){return e.priority-t.priority})),t}(e=j(e)),n=0;n<r.length;n++)this[r[n].unit](e[r[n].unit]);else if(D(this[e=x(e)]))return this[e](t);return this},lr.startOf=function(e){var t;if(void 0===(e=x(e))||"millisecond"===e||!this.isValid())return this;var r=this._isUTC?ir:nr;switch(e){case"year":t=r(this.year(),0,1);break;case"quarter":t=r(this.year(),this.month()-this.month()%3,1);break;case"month":t=r(this.year(),this.month(),1);break;case"week":t=r(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=r(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=r(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=rr(t+(this._isUTC?0:6e4*this.utcOffset()),36e5);break;case"minute":t=this._d.valueOf(),t-=rr(t,6e4);break;case"second":t=this._d.valueOf(),t-=rr(t,1e3)}return this._d.setTime(t),n.updateOffset(this,!0),this},lr.subtract=Jt,lr.toArray=function(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]},lr.toObject=function(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}},lr.toDate=function(){return new Date(this.valueOf())},lr.toISOString=function(e){if(!this.isValid())return null;var t=!0!==e,r=t?this.clone().utc():this;return r.year()<0||9999<r.year()?W(r,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):D(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",W(r,"Z")):W(r,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},lr.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="";this.isLocal()||(e=0===this.utcOffset()?"moment.utc":"moment.parseZone",t="Z");var r="["+e+'("]',n=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",i=t+'[")]';return this.format(r+n+"-MM-DD[T]HH:mm:ss.SSS"+i)},lr.toJSON=function(){return this.isValid()?this.toISOString():null},lr.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},lr.unix=function(){return Math.floor(this.valueOf()/1e3)},lr.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},lr.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},lr.year=Oe,lr.isLeapYear=function(){return ke(this.year())},lr.weekYear=function(e){return or.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},lr.isoWeekYear=function(e){return or.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)},lr.quarter=lr.quarters=function(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)},lr.month=Re,lr.daysInMonth=function(){return Le(this.year(),this.month())},lr.week=lr.weeks=function(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")},lr.isoWeek=lr.isoWeeks=function(e){var t=ze(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")},lr.weeksInYear=function(){var e=this.localeData()._week;return We(this.year(),e.dow,e.doy)},lr.isoWeeksInYear=function(){return We(this.year(),1,4)},lr.date=ar,lr.day=lr.days=function(e){if(!this.isValid())return null!=e?this:NaN;var t,r,n=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(t=e,r=this.localeData(),e="string"!=typeof t?t:isNaN(t)?"number"==typeof(t=r.weekdaysParse(t))?t:null:parseInt(t,10),this.add(e-n,"d")):n},lr.weekday=function(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")},lr.isoWeekday=function(e){if(!this.isValid())return null!=e?this:NaN;if(null==e)return this.day()||7;var t,r,n=(t=e,r=this.localeData(),"string"==typeof t?r.weekdaysParse(t)%7||7:isNaN(t)?null:t);return this.day(this.day()%7?n:n-7)},lr.dayOfYear=function(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")},lr.hour=lr.hours=nt,lr.minute=lr.minutes=gr,lr.second=lr.seconds=ur,lr.millisecond=lr.milliseconds=Cr,lr.utcOffset=function(e,t,r){var i,s=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null==e)return this._isUTC?s:Ht(this);if("string"==typeof e){if(null===(e=Nt(oe,e)))return this}else Math.abs(e)<16&&!r&&(e*=60);return!this._isUTC&&t&&(i=Ht(this)),this._offset=e,this._isUTC=!0,null!=i&&this.add(i,"m"),s!==e&&(!t||this._changeInProgress?Kt(this,Wt(e-s,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,n.updateOffset(this,!0),this._changeInProgress=null)),this},lr.utc=function(e){return this.utcOffset(0,e)},lr.local=function(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Ht(this),"m")),this},lr.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var e=Nt(se,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this},lr.hasAlignedHourOffset=function(e){return!!this.isValid()&&(e=e?St(e).utcOffset():0,(this.utcOffset()-e)%60==0)},lr.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},lr.isLocal=function(){return!!this.isValid()&&!this._isUTC},lr.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},lr.isUtc=Ft,lr.isUTC=Ft,lr.zoneAbbr=function(){return this._isUTC?"UTC":""},lr.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},lr.dates=k("dates accessor is deprecated. Use date instead.",ar),lr.months=k("months accessor is deprecated. Use month instead",Re),lr.years=k("years accessor is deprecated. Use year instead",Oe),lr.zone=k("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",(function(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()})),lr.isDSTShifted=k("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",(function(){if(!o(this._isDSTShifted))return this._isDSTShifted;var e={};if(f(e,this),(e=Mt(e))._a){var t=e._isUTC?C(e._a):St(e._a);this._isDSTShifted=this.isValid()&&0<v(e._a,t.toArray())}else this._isDSTShifted=!1;return this._isDSTShifted}));var dr=L.prototype;function hr(e,t,r,n){var i=It(),s=C().set(n,t);return i[r](s,e)}function fr(e,t,r){if(a(e)&&(t=e,e=void 0),e=e||"",null!=t)return hr(e,t,r,"month");var n,i=[];for(n=0;n<12;n++)i[n]=hr(e,n,r,"month");return i}function pr(e,t,r,n){"boolean"==typeof e?a(t)&&(r=t,t=void 0):(t=e,e=!1,a(r=t)&&(r=t,t=void 0)),t=t||"";var i,s=It(),o=e?s._week.dow:0;if(null!=r)return hr(t,(r+o)%7,n,"day");var g=[];for(i=0;i<7;i++)g[i]=hr(t,(i+o)%7,n,"day");return g}dr.calendar=function(e,t,r){var n=this._calendar[e]||this._calendar.sameElse;return D(n)?n.call(t,r):n},dr.longDateFormat=function(e){var t=this._longDateFormat[e],r=this._longDateFormat[e.toUpperCase()];return t||!r?t:(this._longDateFormat[e]=r.replace(/MMMM|MM|DD|dddd/g,(function(e){return e.slice(1)})),this._longDateFormat[e])},dr.invalidDate=function(){return this._invalidDate},dr.ordinal=function(e){return this._ordinal.replace("%d",e)},dr.preparse=cr,dr.postformat=cr,dr.relativeTime=function(e,t,r,n){var i=this._relativeTime[r];return D(i)?i(e,t,r,n):i.replace(/%d/i,e)},dr.pastFuture=function(e,t){var r=this._relativeTime[0<e?"future":"past"];return D(r)?r(t):r.replace(/%s/i,t)},dr.set=function(e){var t,r;for(r in e)D(t=e[r])?this[r]=t:this["_"+r]=t;this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},dr.months=function(e,t){return e?i(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||Ee).test(t)?"format":"standalone"][e.month()]:i(this._months)?this._months:this._months.standalone},dr.monthsShort=function(e,t){return e?i(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[Ee.test(t)?"format":"standalone"][e.month()]:i(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},dr.monthsParse=function(e,t,r){var n,i,s;if(this._monthsParseExact)return function(e,t,r){var n,i,s,o=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],n=0;n<12;++n)s=C([2e3,n]),this._shortMonthsParse[n]=this.monthsShort(s,"").toLocaleLowerCase(),this._longMonthsParse[n]=this.months(s,"").toLocaleLowerCase();return r?"MMM"===t?-1!==(i=Me.call(this._shortMonthsParse,o))?i:null:-1!==(i=Me.call(this._longMonthsParse,o))?i:null:"MMM"===t?-1!==(i=Me.call(this._shortMonthsParse,o))?i:-1!==(i=Me.call(this._longMonthsParse,o))?i:null:-1!==(i=Me.call(this._longMonthsParse,o))?i:-1!==(i=Me.call(this._shortMonthsParse,o))?i:null}.call(this,e,t,r);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),n=0;n<12;n++){if(i=C([2e3,n]),r&&!this._longMonthsParse[n]&&(this._longMonthsParse[n]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[n]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),r||this._monthsParse[n]||(s="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[n]=new RegExp(s.replace(".",""),"i")),r&&"MMMM"===t&&this._longMonthsParse[n].test(e))return n;if(r&&"MMM"===t&&this._shortMonthsParse[n].test(e))return n;if(!r&&this._monthsParse[n].test(e))return n}},dr.monthsRegex=function(e){return this._monthsParseExact?(u(this,"_monthsRegex")||Ue.call(this),e?this._monthsStrictRegex:this._monthsRegex):(u(this,"_monthsRegex")||(this._monthsRegex=Ne),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)},dr.monthsShortRegex=function(e){return this._monthsParseExact?(u(this,"_monthsRegex")||Ue.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(u(this,"_monthsShortRegex")||(this._monthsShortRegex=Ye),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)},dr.week=function(e){return ze(e,this._week.dow,this._week.doy).week},dr.firstDayOfYear=function(){return this._week.doy},dr.firstDayOfWeek=function(){return this._week.dow},dr.weekdays=function(e,t){var r=i(this._weekdays)?this._weekdays:this._weekdays[e&&!0!==e&&this._weekdays.isFormat.test(t)?"format":"standalone"];return!0===e?Ge(r,this._week.dow):e?r[e.day()]:r},dr.weekdaysMin=function(e){return!0===e?Ge(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin},dr.weekdaysShort=function(e){return!0===e?Ge(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort},dr.weekdaysParse=function(e,t,r){var n,i,s;if(this._weekdaysParseExact)return function(e,t,r){var n,i,s,o=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],n=0;n<7;++n)s=C([2e3,1]).day(n),this._minWeekdaysParse[n]=this.weekdaysMin(s,"").toLocaleLowerCase(),this._shortWeekdaysParse[n]=this.weekdaysShort(s,"").toLocaleLowerCase(),this._weekdaysParse[n]=this.weekdays(s,"").toLocaleLowerCase();return r?"dddd"===t?-1!==(i=Me.call(this._weekdaysParse,o))?i:null:"ddd"===t?-1!==(i=Me.call(this._shortWeekdaysParse,o))?i:null:-1!==(i=Me.call(this._minWeekdaysParse,o))?i:null:"dddd"===t?-1!==(i=Me.call(this._weekdaysParse,o))?i:-1!==(i=Me.call(this._shortWeekdaysParse,o))?i:-1!==(i=Me.call(this._minWeekdaysParse,o))?i:null:"ddd"===t?-1!==(i=Me.call(this._shortWeekdaysParse,o))?i:-1!==(i=Me.call(this._weekdaysParse,o))?i:-1!==(i=Me.call(this._minWeekdaysParse,o))?i:null:-1!==(i=Me.call(this._minWeekdaysParse,o))?i:-1!==(i=Me.call(this._weekdaysParse,o))?i:-1!==(i=Me.call(this._shortWeekdaysParse,o))?i:null}.call(this,e,t,r);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),n=0;n<7;n++){if(i=C([2e3,1]).day(n),r&&!this._fullWeekdaysParse[n]&&(this._fullWeekdaysParse[n]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[n]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[n]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[n]||(s="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[n]=new RegExp(s.replace(".",""),"i")),r&&"dddd"===t&&this._fullWeekdaysParse[n].test(e))return n;if(r&&"ddd"===t&&this._shortWeekdaysParse[n].test(e))return n;if(r&&"dd"===t&&this._minWeekdaysParse[n].test(e))return n;if(!r&&this._weekdaysParse[n].test(e))return n}},dr.weekdaysRegex=function(e){return this._weekdaysParseExact?(u(this,"_weekdaysRegex")||Qe.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(u(this,"_weekdaysRegex")||(this._weekdaysRegex=Ze),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)},dr.weekdaysShortRegex=function(e){return this._weekdaysParseExact?(u(this,"_weekdaysRegex")||Qe.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(u(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Je),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},dr.weekdaysMinRegex=function(e){return this._weekdaysParseExact?(u(this,"_weekdaysRegex")||Qe.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(u(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=$e),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},dr.isPM=function(e){return"p"===(e+"").toLowerCase().charAt(0)},dr.meridiem=function(e,t,r){return 11<e?r?"pm":"PM":r?"am":"AM"},At("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===b(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),n.lang=k("moment.lang is deprecated. Use moment.locale instead.",At),n.langData=k("moment.langData is deprecated. Use moment.localeData instead.",It);var mr=Math.abs;function _r(e,t,r,n){var i=Wt(t,r);return e._milliseconds+=n*i._milliseconds,e._days+=n*i._days,e._months+=n*i._months,e._bubble()}function yr(e){return e<0?Math.floor(e):Math.ceil(e)}function br(e){return 4800*e/146097}function vr(e){return 146097*e/4800}function wr(e){return function(){return this.as(e)}}var kr=wr("ms"),Mr=wr("s"),Or=wr("m"),Sr=wr("h"),Dr=wr("d"),Tr=wr("w"),Lr=wr("M"),Er=wr("Q"),Pr=wr("y");function xr(e){return function(){return this.isValid()?this._data[e]:NaN}}var jr=xr("milliseconds"),Rr=xr("seconds"),Yr=xr("minutes"),Nr=xr("hours"),Ur=xr("days"),Hr=xr("months"),Fr=xr("years"),Br=Math.round,zr={ss:44,s:45,m:45,h:22,d:26,M:11},Wr=Math.abs;function Gr(e){return(0<e)-(e<0)||+e}function qr(){if(!this.isValid())return this.localeData().invalidDate();var e,t,r=Wr(this._milliseconds)/1e3,n=Wr(this._days),i=Wr(this._months);t=y((e=y(r/60))/60),r%=60,e%=60;var s=y(i/12),o=i%=12,a=n,g=t,A=e,u=r?r.toFixed(3).replace(/\.?0+$/,""):"",I=this.asSeconds();if(!I)return"P0D";var C=I<0?"-":"",l=Gr(this._months)!==Gr(I)?"-":"",c=Gr(this._days)!==Gr(I)?"-":"",d=Gr(this._milliseconds)!==Gr(I)?"-":"";return C+"P"+(s?l+s+"Y":"")+(o?l+o+"M":"")+(a?c+a+"D":"")+(g||A||u?"T":"")+(g?d+g+"H":"")+(A?d+A+"M":"")+(u?d+u+"S":"")}var Vr=Pt.prototype;Vr.isValid=function(){return this._isValid},Vr.abs=function(){var e=this._data;return this._milliseconds=mr(this._milliseconds),this._days=mr(this._days),this._months=mr(this._months),e.milliseconds=mr(e.milliseconds),e.seconds=mr(e.seconds),e.minutes=mr(e.minutes),e.hours=mr(e.hours),e.months=mr(e.months),e.years=mr(e.years),this},Vr.add=function(e,t){return _r(this,e,t,1)},Vr.subtract=function(e,t){return _r(this,e,t,-1)},Vr.as=function(e){if(!this.isValid())return NaN;var t,r,n=this._milliseconds;if("month"===(e=x(e))||"quarter"===e||"year"===e)switch(t=this._days+n/864e5,r=this._months+br(t),e){case"month":return r;case"quarter":return r/3;case"year":return r/12}else switch(t=this._days+Math.round(vr(this._months)),e){case"week":return t/7+n/6048e5;case"day":return t+n/864e5;case"hour":return 24*t+n/36e5;case"minute":return 1440*t+n/6e4;case"second":return 86400*t+n/1e3;case"millisecond":return Math.floor(864e5*t)+n;default:throw new Error("Unknown unit "+e)}},Vr.asMilliseconds=kr,Vr.asSeconds=Mr,Vr.asMinutes=Or,Vr.asHours=Sr,Vr.asDays=Dr,Vr.asWeeks=Tr,Vr.asMonths=Lr,Vr.asQuarters=Er,Vr.asYears=Pr,Vr.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*b(this._months/12):NaN},Vr._bubble=function(){var e,t,r,n,i,s=this._milliseconds,o=this._days,a=this._months,g=this._data;return 0<=s&&0<=o&&0<=a||s<=0&&o<=0&&a<=0||(s+=864e5*yr(vr(a)+o),a=o=0),g.milliseconds=s%1e3,e=y(s/1e3),g.seconds=e%60,t=y(e/60),g.minutes=t%60,r=y(t/60),g.hours=r%24,a+=i=y(br(o+=y(r/24))),o-=yr(vr(i)),n=y(a/12),a%=12,g.days=o,g.months=a,g.years=n,this},Vr.clone=function(){return Wt(this)},Vr.get=function(e){return e=x(e),this.isValid()?this[e+"s"]():NaN},Vr.milliseconds=jr,Vr.seconds=Rr,Vr.minutes=Yr,Vr.hours=Nr,Vr.days=Ur,Vr.weeks=function(){return y(this.days()/7)},Vr.months=Hr,Vr.years=Fr,Vr.humanize=function(e){if(!this.isValid())return this.localeData().invalidDate();var t,r,n,i,s,o,a,g,A,u,I=this.localeData(),C=(t=!e,r=I,n=Wt(this).abs(),i=Br(n.as("s")),s=Br(n.as("m")),o=Br(n.as("h")),a=Br(n.as("d")),g=Br(n.as("M")),A=Br(n.as("y")),(u=i<=zr.ss&&["s",i]||i<zr.s&&["ss",i]||s<=1&&["m"]||s<zr.m&&["mm",s]||o<=1&&["h"]||o<zr.h&&["hh",o]||a<=1&&["d"]||a<zr.d&&["dd",a]||g<=1&&["M"]||g<zr.M&&["MM",g]||A<=1&&["y"]||["yy",A])[2]=t,u[3]=0<+this,u[4]=r,function(e,t,r,n,i){return i.relativeTime(t||1,!!r,e,n)}.apply(null,u));return e&&(C=I.pastFuture(+this,C)),I.postformat(C)},Vr.toISOString=qr,Vr.toString=qr,Vr.toJSON=qr,Vr.locale=Qt,Vr.localeData=er,Vr.toIsoString=k("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",qr),Vr.lang=Xt,z("X",0,0,"unix"),z("x",0,0,"valueOf"),Ae("x",ie),Ae("X",/[+-]?\d+(\.\d{1,3})?/),le("X",(function(e,t,r){r._d=new Date(1e3*parseFloat(e,10))})),le("x",(function(e,t,r){r._d=new Date(b(e))})),n.version="2.24.0",t=St,n.fn=lr,n.min=function(){return Lt("isBefore",[].slice.call(arguments,0))},n.max=function(){return Lt("isAfter",[].slice.call(arguments,0))},n.now=function(){return Date.now?Date.now():+new Date},n.utc=C,n.unix=function(e){return St(1e3*e)},n.months=function(e,t){return fr(e,t,"months")},n.isDate=g,n.locale=At,n.invalid=d,n.duration=Wt,n.isMoment=_,n.weekdays=function(e,t,r){return pr(e,t,r,"weekdays")},n.parseZone=function(){return St.apply(null,arguments).parseZone()},n.localeData=It,n.isDuration=xt,n.monthsShort=function(e,t){return fr(e,t,"monthsShort")},n.weekdaysMin=function(e,t,r){return pr(e,t,r,"weekdaysMin")},n.defineLocale=ut,n.updateLocale=function(e,t){if(null!=t){var r,n,i=it;null!=(n=gt(e))&&(i=n._config),(r=new L(t=T(i,t))).parentLocale=st[e],st[e]=r,At(e)}else null!=st[e]&&(null!=st[e].parentLocale?st[e]=st[e].parentLocale:null!=st[e]&&delete st[e]);return st[e]},n.locales=function(){return M(st)},n.weekdaysShort=function(e,t,r){return pr(e,t,r,"weekdaysShort")},n.normalizeUnits=x,n.relativeTimeRounding=function(e){return void 0===e?Br:"function"==typeof e&&(Br=e,!0)},n.relativeTimeThreshold=function(e,t){return void 0!==zr[e]&&(void 0===t?zr[e]:(zr[e]=t,"s"===e&&(zr.ss=t-1),!0))},n.calendarFormat=function(e,t){var r=e.diff(t,"days",!0);return r<-6?"sameElse":r<-1?"lastWeek":r<0?"lastDay":r<1?"sameDay":r<2?"nextDay":r<7?"nextWeek":"sameElse"},n.prototype=lr,n.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},n.defineLocale("af",{months:"Januarie_Februarie_Maart_April_Mei_Junie_Julie_Augustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mrt_Apr_Mei_Jun_Jul_Aug_Sep_Okt_Nov_Des".split("_"),weekdays:"Sondag_Maandag_Dinsdag_Woensdag_Donderdag_Vrydag_Saterdag".split("_"),weekdaysShort:"Son_Maa_Din_Woe_Don_Vry_Sat".split("_"),weekdaysMin:"So_Ma_Di_Wo_Do_Vr_Sa".split("_"),meridiemParse:/vm|nm/i,isPM:function(e){return/^nm$/i.test(e)},meridiem:function(e,t,r){return e<12?r?"vm":"VM":r?"nm":"NM"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Vandag om] LT",nextDay:"[Mre om] LT",nextWeek:"dddd [om] LT",lastDay:"[Gister om] LT",lastWeek:"[Laas] dddd [om] LT",sameElse:"L"},relativeTime:{future:"oor %s",past:"%s gelede",s:"'n paar sekondes",ss:"%d sekondes",m:"'n minuut",mm:"%d minute",h:"'n uur",hh:"%d ure",d:"'n dag",dd:"%d dae",M:"'n maand",MM:"%d maande",y:"'n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(e){return e+(1===e||8===e||20<=e?"ste":"de")},week:{dow:1,doy:4}}),n.defineLocale("ar-dz",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},week:{dow:0,doy:4}}),n.defineLocale("ar-kw",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},week:{dow:0,doy:12}});var Kr={1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",0:"0"},Zr=function(e){return 0===e?0:1===e?1:2===e?2:3<=e%100&&e%100<=10?3:11<=e%100?4:5},Jr={s:["  "," ",["",""],"%d ","%d ","%d "],m:["  "," ",["",""],"%d ","%d ","%d "],h:["  "," ",["",""],"%d ","%d ","%d "],d:["  "," ",["",""],"%d ","%d ","%d "],M:["  "," ",["",""],"%d ","%d ","%d "],y:["  "," ",["",""],"%d ","%d ","%d "]},$r=function(e){return function(t,r,n,i){var s=Zr(t),o=Jr[e][Zr(t)];return 2===s&&(o=o[r?0:1]),o.replace(/%d/i,t)}},Qr=["","","","","","","","","","","",""];n.defineLocale("ar-ly",{months:Qr,monthsShort:Qr,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/M/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/\u0635|\u0645/,isPM:function(e){return""===e},meridiem:function(e,t,r){return e<12?"":""},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:$r("s"),ss:$r("s"),m:$r("m"),mm:$r("m"),h:$r("h"),hh:$r("h"),d:$r("d"),dd:$r("d"),M:$r("M"),MM:$r("M"),y:$r("y"),yy:$r("y")},preparse:function(e){return e.replace(/\u060c/g,",")},postformat:function(e){return e.replace(/\d/g,(function(e){return Kr[e]})).replace(/,/g,"")},week:{dow:6,doy:12}}),n.defineLocale("ar-ma",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},week:{dow:6,doy:12}});var Xr={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},en={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};n.defineLocale("ar-sa",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/\u0635|\u0645/,isPM:function(e){return""===e},meridiem:function(e,t,r){return e<12?"":""},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},preparse:function(e){return e.replace(/[\u0661\u0662\u0663\u0664\u0665\u0666\u0667\u0668\u0669\u0660]/g,(function(e){return en[e]})).replace(/\u060c/g,",")},postformat:function(e){return e.replace(/\d/g,(function(e){return Xr[e]})).replace(/,/g,"")},week:{dow:0,doy:6}}),n.defineLocale("ar-tn",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},week:{dow:1,doy:4}});var tn={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},rn={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},nn=function(e){return 0===e?0:1===e?1:2===e?2:3<=e%100&&e%100<=10?3:11<=e%100?4:5},sn={s:["  "," ",["",""],"%d ","%d ","%d "],m:["  "," ",["",""],"%d ","%d ","%d "],h:["  "," ",["",""],"%d ","%d ","%d "],d:["  "," ",["",""],"%d ","%d ","%d "],M:["  "," ",["",""],"%d ","%d ","%d "],y:["  "," ",["",""],"%d ","%d ","%d "]},on=function(e){return function(t,r,n,i){var s=nn(t),o=sn[e][nn(t)];return 2===s&&(o=o[r?0:1]),o.replace(/%d/i,t)}},an=["","","","","","","","","","","",""];n.defineLocale("ar",{months:an,monthsShort:an,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/M/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/\u0635|\u0645/,isPM:function(e){return""===e},meridiem:function(e,t,r){return e<12?"":""},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:on("s"),ss:on("s"),m:on("m"),mm:on("m"),h:on("h"),hh:on("h"),d:on("d"),dd:on("d"),M:on("M"),MM:on("M"),y:on("y"),yy:on("y")},preparse:function(e){return e.replace(/[\u0661\u0662\u0663\u0664\u0665\u0666\u0667\u0668\u0669\u0660]/g,(function(e){return rn[e]})).replace(/\u060c/g,",")},postformat:function(e){return e.replace(/\d/g,(function(e){return tn[e]})).replace(/,/g,"")},week:{dow:6,doy:12}});var gn={1:"-inci",5:"-inci",8:"-inci",70:"-inci",80:"-inci",2:"-nci",7:"-nci",20:"-nci",50:"-nci",3:"-nc",4:"-nc",100:"-nc",6:"-nc",9:"-uncu",10:"-uncu",30:"-uncu",60:"-nc",90:"-nc"};function An(e,t,r){var n,i;return"m"===r?t?"":"":"h"===r?t?"":"":e+" "+(n=+e,i={ss:t?"__":"__",mm:t?"__":"__",hh:t?"__":"__",dd:"__",MM:"__",yy:"__"}[r].split("_"),n%10==1&&n%100!=11?i[0]:2<=n%10&&n%10<=4&&(n%100<10||20<=n%100)?i[1]:i[2])}n.defineLocale("az",{months:"yanvar_fevral_mart_aprel_may_iyun_iyul_avqust_sentyabr_oktyabr_noyabr_dekabr".split("_"),monthsShort:"yan_fev_mar_apr_may_iyn_iyl_avq_sen_okt_noy_dek".split("_"),weekdays:"Bazar_Bazar ertsi_rnb axam_rnb_Cm axam_Cm_nb".split("_"),weekdaysShort:"Baz_BzE_Ax_r_CAx_Cm_n".split("_"),weekdaysMin:"Bz_BE_A__CA_C_".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bugn saat] LT",nextDay:"[sabah saat] LT",nextWeek:"[gln hft] dddd [saat] LT",lastDay:"[dnn] LT",lastWeek:"[ken hft] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s vvl",s:"birne saniy",ss:"%d saniy",m:"bir dqiq",mm:"%d dqiq",h:"bir saat",hh:"%d saat",d:"bir gn",dd:"%d gn",M:"bir ay",MM:"%d ay",y:"bir il",yy:"%d il"},meridiemParse:/gec\u0259|s\u0259h\u0259r|g\xfcnd\xfcz|ax\u015fam/,isPM:function(e){return/^(g\xfcnd\xfcz|ax\u015fam)$/.test(e)},meridiem:function(e,t,r){return e<4?"gec":e<12?"shr":e<17?"gndz":"axam"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0131nc\u0131|inci|nci|\xfcnc\xfc|nc\u0131|uncu)/,ordinal:function(e){if(0===e)return e+"-nc";var t=e%10;return e+(gn[t]||gn[e%100-t]||gn[100<=e?100:null])},week:{dow:1,doy:7}}),n.defineLocale("be",{months:{format:"___________".split("_"),standalone:"___________".split("_")},monthsShort:"___________".split("_"),weekdays:{format:"______".split("_"),standalone:"______".split("_"),isFormat:/\[ ?[\u0423\u0443\u045e] ?(?:\u043c\u0456\u043d\u0443\u043b\u0443\u044e|\u043d\u0430\u0441\u0442\u0443\u043f\u043d\u0443\u044e)? ?\] ?dddd/},weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., HH:mm",LLLL:"dddd, D MMMM YYYY ., HH:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",lastDay:"[ ] LT",nextWeek:function(){return"[] dddd [] LT"},lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return"[ ] dddd [] LT";case 1:case 2:case 4:return"[ ] dddd [] LT"}},sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",m:An,mm:An,h:An,hh:An,d:"",dd:An,M:"",MM:An,y:"",yy:An},meridiemParse:/\u043d\u043e\u0447\u044b|\u0440\u0430\u043d\u0456\u0446\u044b|\u0434\u043d\u044f|\u0432\u0435\u0447\u0430\u0440\u0430/,isPM:function(e){return/^(\u0434\u043d\u044f|\u0432\u0435\u0447\u0430\u0440\u0430)$/.test(e)},meridiem:function(e,t,r){return e<4?"":e<12?"":e<17?"":""},dayOfMonthOrdinalParse:/\d{1,2}-(\u0456|\u044b|\u0433\u0430)/,ordinal:function(e,t){switch(t){case"M":case"d":case"DDD":case"w":case"W":return e%10!=2&&e%10!=3||e%100==12||e%100==13?e+"-":e+"-";case"D":return e+"-";default:return e}},week:{dow:1,doy:7}}),n.defineLocale("bg",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[ ] dddd [] LT";case 1:case 2:case 4:case 5:return"[ ] dddd [] LT"}},sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:" ",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}-(\u0435\u0432|\u0435\u043d|\u0442\u0438|\u0432\u0438|\u0440\u0438|\u043c\u0438)/,ordinal:function(e){var t=e%10,r=e%100;return 0===e?e+"-":0===r?e+"-":10<r&&r<20?e+"-":1===t?e+"-":2===t?e+"-":7===t||8===t?e+"-":e+"-"},week:{dow:1,doy:7}}),n.defineLocale("bm",{months:"Zanwuyekalo_Fewuruyekalo_Marisikalo_Awirilikalo_Mkalo_Zuwnkalo_Zuluyekalo_Utikalo_Stanburukalo_kutburukalo_Nowanburukalo_Desanburukalo".split("_"),monthsShort:"Zan_Few_Mar_Awi_M_Zuw_Zul_Uti_St_ku_Now_Des".split("_"),weekdays:"Kari_Ntnn_Tarata_Araba_Alamisa_Juma_Sibiri".split("_"),weekdaysShort:"Kar_Nt_Tar_Ara_Ala_Jum_Sib".split("_"),weekdaysMin:"Ka_Nt_Ta_Ar_Al_Ju_Si".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"MMMM [tile] D [san] YYYY",LLL:"MMMM [tile] D [san] YYYY [lr] HH:mm",LLLL:"dddd MMMM [tile] D [san] YYYY [lr] HH:mm"},calendar:{sameDay:"[Bi lr] LT",nextDay:"[Sini lr] LT",nextWeek:"dddd [don lr] LT",lastDay:"[Kunu lr] LT",lastWeek:"dddd [tmnen lr] LT",sameElse:"L"},relativeTime:{future:"%s kn",past:"a b %s b",s:"sanga dama dama",ss:"sekondi %d",m:"miniti kelen",mm:"miniti %d",h:"lr kelen",hh:"lr %d",d:"tile kelen",dd:"tile %d",M:"kalo kelen",MM:"kalo %d",y:"san kelen",yy:"san %d"},week:{dow:1,doy:4}});var un={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},In={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};n.defineLocale("bn",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(e){return e.replace(/[\u09e7\u09e8\u09e9\u09ea\u09eb\u09ec\u09ed\u09ee\u09ef\u09e6]/g,(function(e){return In[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return un[e]}))},meridiemParse:/\u09b0\u09be\u09a4|\u09b8\u0995\u09be\u09b2|\u09a6\u09c1\u09aa\u09c1\u09b0|\u09ac\u09bf\u0995\u09be\u09b2|\u09b0\u09be\u09a4/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t&&4<=e||""===t&&e<5||""===t?e+12:e},meridiem:function(e,t,r){return e<4?"":e<10?"":e<17?"":e<20?"":""},week:{dow:0,doy:6}});var Cn={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},ln={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};function cn(e,t,r){var n,i,s;return e+" "+(n={mm:"munutenn",MM:"miz",dd:"devezh"}[r],2!==e?n:void 0!==(s={m:"v",b:"v",d:"z"})[(i=n).charAt(0)]?s[i.charAt(0)]+i.substring(1):i)}function dn(e,t,r){var n=e+" ";switch(r){case"ss":return n+(1===e?"sekunda":2===e||3===e||4===e?"sekunde":"sekundi");case"m":return t?"jedna minuta":"jedne minute";case"mm":return n+(1===e?"minuta":2===e||3===e||4===e?"minute":"minuta");case"h":return t?"jedan sat":"jednog sata";case"hh":return n+(1===e?"sat":2===e||3===e||4===e?"sata":"sati");case"dd":return n+(1===e?"dan":"dana");case"MM":return n+(1===e?"mjesec":2===e||3===e||4===e?"mjeseca":"mjeseci");case"yy":return n+(1===e?"godina":2===e||3===e||4===e?"godine":"godina")}}n.defineLocale("bo",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[], LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},preparse:function(e){return e.replace(/[\u0f21\u0f22\u0f23\u0f24\u0f25\u0f26\u0f27\u0f28\u0f29\u0f20]/g,(function(e){return ln[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return Cn[e]}))},meridiemParse:/\u0f58\u0f5a\u0f53\u0f0b\u0f58\u0f7c|\u0f5e\u0f7c\u0f42\u0f66\u0f0b\u0f40\u0f66|\u0f49\u0f72\u0f53\u0f0b\u0f42\u0f74\u0f44|\u0f51\u0f42\u0f7c\u0f44\u0f0b\u0f51\u0f42|\u0f58\u0f5a\u0f53\u0f0b\u0f58\u0f7c/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t&&4<=e||""===t&&e<5||""===t?e+12:e},meridiem:function(e,t,r){return e<4?"":e<10?"":e<17?"":e<20?"":""},week:{dow:0,doy:6}}),n.defineLocale("br",{months:"Genver_C'hwevrer_Meurzh_Ebrel_Mae_Mezheven_Gouere_Eost_Gwengolo_Here_Du_Kerzu".split("_"),monthsShort:"Gen_C'hwe_Meu_Ebr_Mae_Eve_Gou_Eos_Gwe_Her_Du_Ker".split("_"),weekdays:"Sul_Lun_Meurzh_Merc'her_Yaou_Gwener_Sadorn".split("_"),weekdaysShort:"Sul_Lun_Meu_Mer_Yao_Gwe_Sad".split("_"),weekdaysMin:"Su_Lu_Me_Mer_Ya_Gw_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h[e]mm A",LTS:"h[e]mm:ss A",L:"DD/MM/YYYY",LL:"D [a viz] MMMM YYYY",LLL:"D [a viz] MMMM YYYY h[e]mm A",LLLL:"dddd, D [a viz] MMMM YYYY h[e]mm A"},calendar:{sameDay:"[Hiziv da] LT",nextDay:"[Warc'hoazh da] LT",nextWeek:"dddd [da] LT",lastDay:"[Dec'h da] LT",lastWeek:"dddd [paset da] LT",sameElse:"L"},relativeTime:{future:"a-benn %s",past:"%s 'zo",s:"un nebeud segondenno",ss:"%d eilenn",m:"ur vunutenn",mm:cn,h:"un eur",hh:"%d eur",d:"un devezh",dd:cn,M:"ur miz",MM:cn,y:"ur bloaz",yy:function(e){switch(function e(t){return 9<t?e(t%10):t}(e)){case 1:case 3:case 4:case 5:case 9:return e+" bloaz";default:return e+" vloaz"}}},dayOfMonthOrdinalParse:/\d{1,2}(a\xf1|vet)/,ordinal:function(e){return e+(1===e?"a":"vet")},week:{dow:1,doy:4}}),n.defineLocale("bs",{months:"januar_februar_mart_april_maj_juni_juli_august_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._aug._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_etvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._et._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_e_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[juer u] LT",lastWeek:function(){switch(this.day()){case 0:case 3:return"[prolu] dddd [u] LT";case 6:return"[prole] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[proli] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",ss:dn,m:dn,mm:dn,h:dn,hh:dn,d:"dan",dd:dn,M:"mjesec",MM:dn,y:"godinu",yy:dn},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}}),n.defineLocale("ca",{months:{standalone:"gener_febrer_mar_abril_maig_juny_juliol_agost_setembre_octubre_novembre_desembre".split("_"),format:"de gener_de febrer_de mar_d'abril_de maig_de juny_de juliol_d'agost_de setembre_d'octubre_de novembre_de desembre".split("_"),isFormat:/D[oD]?(\s)+MMMM/},monthsShort:"gen._febr._mar_abr._maig_juny_jul._ag._set._oct._nov._des.".split("_"),monthsParseExact:!0,weekdays:"diumenge_dilluns_dimarts_dimecres_dijous_divendres_dissabte".split("_"),weekdaysShort:"dg._dl._dt._dc._dj._dv._ds.".split("_"),weekdaysMin:"dg_dl_dt_dc_dj_dv_ds".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [de] YYYY",ll:"D MMM YYYY",LLL:"D MMMM [de] YYYY [a les] H:mm",lll:"D MMM YYYY, H:mm",LLLL:"dddd D MMMM [de] YYYY [a les] H:mm",llll:"ddd D MMM YYYY, H:mm"},calendar:{sameDay:function(){return"[avui a "+(1!==this.hours()?"les":"la")+"] LT"},nextDay:function(){return"[dem a "+(1!==this.hours()?"les":"la")+"] LT"},nextWeek:function(){return"dddd [a "+(1!==this.hours()?"les":"la")+"] LT"},lastDay:function(){return"[ahir a "+(1!==this.hours()?"les":"la")+"] LT"},lastWeek:function(){return"[el] dddd [passat a "+(1!==this.hours()?"les":"la")+"] LT"},sameElse:"L"},relativeTime:{future:"d'aqu %s",past:"fa %s",s:"uns segons",ss:"%d segons",m:"un minut",mm:"%d minuts",h:"una hora",hh:"%d hores",d:"un dia",dd:"%d dies",M:"un mes",MM:"%d mesos",y:"un any",yy:"%d anys"},dayOfMonthOrdinalParse:/\d{1,2}(r|n|t|\xe8|a)/,ordinal:function(e,t){var r=1===e?"r":2===e?"n":3===e?"r":4===e?"t":"";return"w"!==t&&"W"!==t||(r="a"),e+r},week:{dow:1,doy:4}});var hn="leden_nor_bezen_duben_kvten_erven_ervenec_srpen_z_jen_listopad_prosinec".split("_"),fn="led_no_be_dub_kv_vn_vc_srp_z_j_lis_pro".split("_"),pn=[/^led/i,/^\xfano/i,/^b\u0159e/i,/^dub/i,/^kv\u011b/i,/^(\u010dvn|\u010derven$|\u010dervna)/i,/^(\u010dvc|\u010dervenec|\u010dervence)/i,/^srp/i,/^z\xe1\u0159/i,/^\u0159\xedj/i,/^lis/i,/^pro/i],mn=/^(leden|\xfanor|b\u0159ezen|duben|kv\u011bten|\u010dervenec|\u010dervence|\u010derven|\u010dervna|srpen|z\xe1\u0159\xed|\u0159\xedjen|listopad|prosinec|led|\xfano|b\u0159e|dub|kv\u011b|\u010dvn|\u010dvc|srp|z\xe1\u0159|\u0159\xedj|lis|pro)/i;function _n(e){return 1<e&&e<5&&1!=~~(e/10)}function yn(e,t,r,n){var i=e+" ";switch(r){case"s":return t||n?"pr sekund":"pr sekundami";case"ss":return t||n?i+(_n(e)?"sekundy":"sekund"):i+"sekundami";case"m":return t?"minuta":n?"minutu":"minutou";case"mm":return t||n?i+(_n(e)?"minuty":"minut"):i+"minutami";case"h":return t?"hodina":n?"hodinu":"hodinou";case"hh":return t||n?i+(_n(e)?"hodiny":"hodin"):i+"hodinami";case"d":return t||n?"den":"dnem";case"dd":return t||n?i+(_n(e)?"dny":"dn"):i+"dny";case"M":return t||n?"msc":"mscem";case"MM":return t||n?i+(_n(e)?"msce":"msc"):i+"msci";case"y":return t||n?"rok":"rokem";case"yy":return t||n?i+(_n(e)?"roky":"let"):i+"lety"}}function bn(e,t,r,n){var i={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[e+" Tage",e+" Tagen"],M:["ein Monat","einem Monat"],MM:[e+" Monate",e+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[e+" Jahre",e+" Jahren"]};return t?i[r][0]:i[r][1]}function vn(e,t,r,n){var i={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[e+" Tage",e+" Tagen"],M:["ein Monat","einem Monat"],MM:[e+" Monate",e+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[e+" Jahre",e+" Jahren"]};return t?i[r][0]:i[r][1]}function wn(e,t,r,n){var i={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[e+" Tage",e+" Tagen"],M:["ein Monat","einem Monat"],MM:[e+" Monate",e+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[e+" Jahre",e+" Jahren"]};return t?i[r][0]:i[r][1]}n.defineLocale("cs",{months:hn,monthsShort:fn,monthsRegex:mn,monthsShortRegex:mn,monthsStrictRegex:/^(leden|ledna|\xfanora|\xfanor|b\u0159ezen|b\u0159ezna|duben|dubna|kv\u011bten|kv\u011btna|\u010dervenec|\u010dervence|\u010derven|\u010dervna|srpen|srpna|z\xe1\u0159\xed|\u0159\xedjen|\u0159\xedjna|listopadu|listopad|prosinec|prosince)/i,monthsShortStrictRegex:/^(led|\xfano|b\u0159e|dub|kv\u011b|\u010dvn|\u010dvc|srp|z\xe1\u0159|\u0159\xedj|lis|pro)/i,monthsParse:pn,longMonthsParse:pn,shortMonthsParse:pn,weekdays:"nedle_pondl_ter_steda_tvrtek_ptek_sobota".split("_"),weekdaysShort:"ne_po_t_st_t_p_so".split("_"),weekdaysMin:"ne_po_t_st_t_p_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd D. MMMM YYYY H:mm",l:"D. M. YYYY"},calendar:{sameDay:"[dnes v] LT",nextDay:"[ztra v] LT",nextWeek:function(){switch(this.day()){case 0:return"[v nedli v] LT";case 1:case 2:return"[v] dddd [v] LT";case 3:return"[ve stedu v] LT";case 4:return"[ve tvrtek v] LT";case 5:return"[v ptek v] LT";case 6:return"[v sobotu v] LT"}},lastDay:"[vera v] LT",lastWeek:function(){switch(this.day()){case 0:return"[minulou nedli v] LT";case 1:case 2:return"[minul] dddd [v] LT";case 3:return"[minulou stedu v] LT";case 4:case 5:return"[minul] dddd [v] LT";case 6:return"[minulou sobotu v] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"ped %s",s:yn,ss:yn,m:yn,mm:yn,h:yn,hh:yn,d:yn,dd:yn,M:yn,MM:yn,y:yn,yy:yn},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),n.defineLocale("cv",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"YYYY [] MMMM [] D[-]",LLL:"YYYY [] MMMM [] D[-], HH:mm",LLLL:"dddd, YYYY [] MMMM [] D[-], HH:mm"},calendar:{sameDay:"[] LT []",nextDay:"[] LT []",lastDay:"[] LT []",nextWeek:"[] dddd LT []",lastWeek:"[] dddd LT []",sameElse:"L"},relativeTime:{future:function(e){return e+(/\u0441\u0435\u0445\u0435\u0442$/i.exec(e)?"":/\u04ab\u0443\u043b$/i.exec(e)?"":"")},past:"%s ",s:"- ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}-\u043c\u04d7\u0448/,ordinal:"%d-",week:{dow:1,doy:7}}),n.defineLocale("cy",{months:"Ionawr_Chwefror_Mawrth_Ebrill_Mai_Mehefin_Gorffennaf_Awst_Medi_Hydref_Tachwedd_Rhagfyr".split("_"),monthsShort:"Ion_Chwe_Maw_Ebr_Mai_Meh_Gor_Aws_Med_Hyd_Tach_Rhag".split("_"),weekdays:"Dydd Sul_Dydd Llun_Dydd Mawrth_Dydd Mercher_Dydd Iau_Dydd Gwener_Dydd Sadwrn".split("_"),weekdaysShort:"Sul_Llun_Maw_Mer_Iau_Gwe_Sad".split("_"),weekdaysMin:"Su_Ll_Ma_Me_Ia_Gw_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Heddiw am] LT",nextDay:"[Yfory am] LT",nextWeek:"dddd [am] LT",lastDay:"[Ddoe am] LT",lastWeek:"dddd [diwethaf am] LT",sameElse:"L"},relativeTime:{future:"mewn %s",past:"%s yn l",s:"ychydig eiliadau",ss:"%d eiliad",m:"munud",mm:"%d munud",h:"awr",hh:"%d awr",d:"diwrnod",dd:"%d diwrnod",M:"mis",MM:"%d mis",y:"blwyddyn",yy:"%d flynedd"},dayOfMonthOrdinalParse:/\d{1,2}(fed|ain|af|il|ydd|ed|eg)/,ordinal:function(e){var t="";return 20<e?t=40===e||50===e||60===e||80===e||100===e?"fed":"ain":0<e&&(t=["","af","il","ydd","ydd","ed","ed","ed","fed","fed","fed","eg","fed","eg","eg","fed","eg","eg","fed","eg","fed"][e]),e+t},week:{dow:1,doy:4}}),n.defineLocale("da",{months:"januar_februar_marts_april_maj_juni_juli_august_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"sndag_mandag_tirsdag_onsdag_torsdag_fredag_lrdag".split("_"),weekdaysShort:"sn_man_tir_ons_tor_fre_lr".split("_"),weekdaysMin:"s_ma_ti_on_to_fr_l".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd [d.] D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[i dag kl.] LT",nextDay:"[i morgen kl.] LT",nextWeek:"p dddd [kl.] LT",lastDay:"[i gr kl.] LT",lastWeek:"[i] dddd[s kl.] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"f sekunder",ss:"%d sekunder",m:"et minut",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dage",M:"en mned",MM:"%d mneder",y:"et r",yy:"%d r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),n.defineLocale("de-at",{months:"Jnner_Februar_Mrz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jn._Feb._Mrz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:bn,mm:"%d Minuten",h:bn,hh:"%d Stunden",d:bn,dd:bn,M:bn,MM:bn,y:bn,yy:bn},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),n.defineLocale("de-ch",{months:"Januar_Februar_Mrz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Feb._Mrz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:vn,mm:"%d Minuten",h:vn,hh:"%d Stunden",d:vn,dd:vn,M:vn,MM:vn,y:vn,yy:vn},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),n.defineLocale("de",{months:"Januar_Februar_Mrz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Feb._Mrz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:wn,mm:"%d Minuten",h:wn,hh:"%d Stunden",d:wn,dd:wn,M:wn,MM:wn,y:wn,yy:wn},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});var kn=["","","","","","","","","","","",""],Mn=["","","","","","",""];n.defineLocale("dv",{months:kn,monthsShort:kn,weekdays:Mn,weekdaysShort:Mn,weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/M/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/\u0789\u0786|\u0789\u078a/,isPM:function(e){return""===e},meridiem:function(e,t,r){return e<12?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd LT",lastDay:"[] LT",lastWeek:"[] dddd LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",ss:"d% ",m:"",mm:" %d",h:"",hh:" %d",d:"",dd:" %d",M:"",MM:" %d",y:"",yy:" %d"},preparse:function(e){return e.replace(/\u060c/g,",")},postformat:function(e){return e.replace(/,/g,"")},week:{dow:7,doy:12}}),n.defineLocale("el",{monthsNominativeEl:"___________".split("_"),monthsGenitiveEl:"___________".split("_"),months:function(e,t){return e?"string"==typeof t&&/D/.test(t.substring(0,t.indexOf("MMMM")))?this._monthsGenitiveEl[e.month()]:this._monthsNominativeEl[e.month()]:this._monthsNominativeEl},monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),meridiem:function(e,t,r){return 11<e?r?"":"":r?"":""},isPM:function(e){return""===(e+"").toLowerCase()[0]},meridiemParse:/[\u03a0\u039c]\.?\u039c?\.?/i,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendarEl:{sameDay:"[ {}] LT",nextDay:"[ {}] LT",nextWeek:"dddd [{}] LT",lastDay:"[ {}] LT",lastWeek:function(){switch(this.day()){case 6:return"[ ] dddd [{}] LT";default:return"[ ] dddd [{}] LT"}},sameElse:"L"},calendar:function(e,t){var r=this._calendarEl[e],n=t&&t.hours();return D(r)&&(r=r.apply(t)),r.replace("{}",n%12==1?"":"")},relativeTime:{future:" %s",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}\u03b7/,ordinal:"%d",week:{dow:1,doy:4}}),n.defineLocale("en-SG",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:1,doy:4}}),n.defineLocale("en-au",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:1,doy:4}}),n.defineLocale("en-ca",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"YYYY-MM-DD",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),n.defineLocale("en-gb",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:1,doy:4}}),n.defineLocale("en-ie",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:1,doy:4}}),n.defineLocale("en-il",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),n.defineLocale("en-nz",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:1,doy:4}}),n.defineLocale("eo",{months:"januaro_februaro_marto_aprilo_majo_junio_julio_agusto_septembro_oktobro_novembro_decembro".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_ag_sep_okt_nov_dec".split("_"),weekdays:"dimano_lundo_mardo_merkredo_ado_vendredo_sabato".split("_"),weekdaysShort:"dim_lun_mard_merk_a_ven_sab".split("_"),weekdaysMin:"di_lu_ma_me_a_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D[-a de] MMMM, YYYY",LLL:"D[-a de] MMMM, YYYY HH:mm",LLLL:"dddd, [la] D[-a de] MMMM, YYYY HH:mm"},meridiemParse:/[ap]\.t\.m/i,isPM:function(e){return"p"===e.charAt(0).toLowerCase()},meridiem:function(e,t,r){return 11<e?r?"p.t.m.":"P.T.M.":r?"a.t.m.":"A.T.M."},calendar:{sameDay:"[Hodia je] LT",nextDay:"[Morga je] LT",nextWeek:"dddd [je] LT",lastDay:"[Hiera je] LT",lastWeek:"[pasinta] dddd [je] LT",sameElse:"L"},relativeTime:{future:"post %s",past:"anta %s",s:"sekundoj",ss:"%d sekundoj",m:"minuto",mm:"%d minutoj",h:"horo",hh:"%d horoj",d:"tago",dd:"%d tagoj",M:"monato",MM:"%d monatoj",y:"jaro",yy:"%d jaroj"},dayOfMonthOrdinalParse:/\d{1,2}a/,ordinal:"%da",week:{dow:1,doy:7}});var On="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),Sn="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),Dn=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],Tn=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;n.defineLocale("es-do",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(e,t){return e?/-MMM-/.test(t)?Sn[e.month()]:On[e.month()]:On},monthsRegex:Tn,monthsShortRegex:Tn,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:Dn,longMonthsParse:Dn,shortMonthsParse:Dn,weekdays:"domingo_lunes_martes_mircoles_jueves_viernes_sbado".split("_"),weekdaysShort:"dom._lun._mar._mi._jue._vie._sb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY h:mm A",LLLL:"dddd, D [de] MMMM [de] YYYY h:mm A"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[maana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un da",dd:"%d das",M:"un mes",MM:"%d meses",y:"un ao",yy:"%d aos"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d",week:{dow:1,doy:4}});var Ln="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),En="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),Pn=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],xn=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;n.defineLocale("es-us",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(e,t){return e?/-MMM-/.test(t)?En[e.month()]:Ln[e.month()]:Ln},monthsRegex:xn,monthsShortRegex:xn,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:Pn,longMonthsParse:Pn,shortMonthsParse:Pn,weekdays:"domingo_lunes_martes_mircoles_jueves_viernes_sbado".split("_"),weekdaysShort:"dom._lun._mar._mi._jue._vie._sb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"MM/DD/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY h:mm A",LLLL:"dddd, D [de] MMMM [de] YYYY h:mm A"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[maana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un da",dd:"%d das",M:"un mes",MM:"%d meses",y:"un ao",yy:"%d aos"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d",week:{dow:0,doy:6}});var jn="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),Rn="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),Yn=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],Nn=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;function Un(e,t,r,n){var i={s:["mne sekundi","mni sekund","paar sekundit"],ss:[e+"sekundi",e+"sekundit"],m:["he minuti","ks minut"],mm:[e+" minuti",e+" minutit"],h:["he tunni","tund aega","ks tund"],hh:[e+" tunni",e+" tundi"],d:["he peva","ks pev"],M:["kuu aja","kuu aega","ks kuu"],MM:[e+" kuu",e+" kuud"],y:["he aasta","aasta","ks aasta"],yy:[e+" aasta",e+" aastat"]};return t?i[r][2]?i[r][2]:i[r][1]:n?i[r][0]:i[r][1]}n.defineLocale("es",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(e,t){return e?/-MMM-/.test(t)?Rn[e.month()]:jn[e.month()]:jn},monthsRegex:Nn,monthsShortRegex:Nn,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:Yn,longMonthsParse:Yn,shortMonthsParse:Yn,weekdays:"domingo_lunes_martes_mircoles_jueves_viernes_sbado".split("_"),weekdaysShort:"dom._lun._mar._mi._jue._vie._sb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[maana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un da",dd:"%d das",M:"un mes",MM:"%d meses",y:"un ao",yy:"%d aos"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d",week:{dow:1,doy:4}}),n.defineLocale("et",{months:"jaanuar_veebruar_mrts_aprill_mai_juuni_juuli_august_september_oktoober_november_detsember".split("_"),monthsShort:"jaan_veebr_mrts_apr_mai_juuni_juuli_aug_sept_okt_nov_dets".split("_"),weekdays:"phapev_esmaspev_teisipev_kolmapev_neljapev_reede_laupev".split("_"),weekdaysShort:"P_E_T_K_N_R_L".split("_"),weekdaysMin:"P_E_T_K_N_R_L".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[Tna,] LT",nextDay:"[Homme,] LT",nextWeek:"[Jrgmine] dddd LT",lastDay:"[Eile,] LT",lastWeek:"[Eelmine] dddd LT",sameElse:"L"},relativeTime:{future:"%s prast",past:"%s tagasi",s:Un,ss:Un,m:Un,mm:Un,h:Un,hh:Un,d:Un,dd:"%d peva",M:Un,MM:Un,y:Un,yy:Un},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),n.defineLocale("eu",{months:"urtarrila_otsaila_martxoa_apirila_maiatza_ekaina_uztaila_abuztua_iraila_urria_azaroa_abendua".split("_"),monthsShort:"urt._ots._mar._api._mai._eka._uzt._abu._ira._urr._aza._abe.".split("_"),monthsParseExact:!0,weekdays:"igandea_astelehena_asteartea_asteazkena_osteguna_ostirala_larunbata".split("_"),weekdaysShort:"ig._al._ar._az._og._ol._lr.".split("_"),weekdaysMin:"ig_al_ar_az_og_ol_lr".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY[ko] MMMM[ren] D[a]",LLL:"YYYY[ko] MMMM[ren] D[a] HH:mm",LLLL:"dddd, YYYY[ko] MMMM[ren] D[a] HH:mm",l:"YYYY-M-D",ll:"YYYY[ko] MMM D[a]",lll:"YYYY[ko] MMM D[a] HH:mm",llll:"ddd, YYYY[ko] MMM D[a] HH:mm"},calendar:{sameDay:"[gaur] LT[etan]",nextDay:"[bihar] LT[etan]",nextWeek:"dddd LT[etan]",lastDay:"[atzo] LT[etan]",lastWeek:"[aurreko] dddd LT[etan]",sameElse:"L"},relativeTime:{future:"%s barru",past:"duela %s",s:"segundo batzuk",ss:"%d segundo",m:"minutu bat",mm:"%d minutu",h:"ordu bat",hh:"%d ordu",d:"egun bat",dd:"%d egun",M:"hilabete bat",MM:"%d hilabete",y:"urte bat",yy:"%d urte"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}});var Hn={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},Fn={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};n.defineLocale("fa",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/\u0642\u0628\u0644 \u0627\u0632 \u0638\u0647\u0631|\u0628\u0639\u062f \u0627\u0632 \u0638\u0647\u0631/,isPM:function(e){return/\u0628\u0639\u062f \u0627\u0632 \u0638\u0647\u0631/.test(e)},meridiem:function(e,t,r){return e<12?"  ":"  "},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"dddd [] [] LT",sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",ss:" d%",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(e){return e.replace(/[\u06f0-\u06f9]/g,(function(e){return Fn[e]})).replace(/\u060c/g,",")},postformat:function(e){return e.replace(/\d/g,(function(e){return Hn[e]})).replace(/,/g,"")},dayOfMonthOrdinalParse:/\d{1,2}\u0645/,ordinal:"%d",week:{dow:6,doy:12}});var Bn="nolla yksi kaksi kolme nelj viisi kuusi seitsemn kahdeksan yhdeksn".split(" "),zn=["nolla","yhden","kahden","kolmen","neljn","viiden","kuuden",Bn[7],Bn[8],Bn[9]];function Wn(e,t,r,n){var i,s="";switch(r){case"s":return n?"muutaman sekunnin":"muutama sekunti";case"ss":return n?"sekunnin":"sekuntia";case"m":return n?"minuutin":"minuutti";case"mm":s=n?"minuutin":"minuuttia";break;case"h":return n?"tunnin":"tunti";case"hh":s=n?"tunnin":"tuntia";break;case"d":return n?"pivn":"piv";case"dd":s=n?"pivn":"piv";break;case"M":return n?"kuukauden":"kuukausi";case"MM":s=n?"kuukauden":"kuukautta";break;case"y":return n?"vuoden":"vuosi";case"yy":s=n?"vuoden":"vuotta"}return((i=e)<10?n?zn[i]:Bn[i]:i)+" "+s}n.defineLocale("fi",{months:"tammikuu_helmikuu_maaliskuu_huhtikuu_toukokuu_keskuu_heinkuu_elokuu_syyskuu_lokakuu_marraskuu_joulukuu".split("_"),monthsShort:"tammi_helmi_maalis_huhti_touko_kes_hein_elo_syys_loka_marras_joulu".split("_"),weekdays:"sunnuntai_maanantai_tiistai_keskiviikko_torstai_perjantai_lauantai".split("_"),weekdaysShort:"su_ma_ti_ke_to_pe_la".split("_"),weekdaysMin:"su_ma_ti_ke_to_pe_la".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"Do MMMM[ta] YYYY",LLL:"Do MMMM[ta] YYYY, [klo] HH.mm",LLLL:"dddd, Do MMMM[ta] YYYY, [klo] HH.mm",l:"D.M.YYYY",ll:"Do MMM YYYY",lll:"Do MMM YYYY, [klo] HH.mm",llll:"ddd, Do MMM YYYY, [klo] HH.mm"},calendar:{sameDay:"[tnn] [klo] LT",nextDay:"[huomenna] [klo] LT",nextWeek:"dddd [klo] LT",lastDay:"[eilen] [klo] LT",lastWeek:"[viime] dddd[na] [klo] LT",sameElse:"L"},relativeTime:{future:"%s pst",past:"%s sitten",s:Wn,ss:Wn,m:Wn,mm:Wn,h:Wn,hh:Wn,d:Wn,dd:Wn,M:Wn,MM:Wn,y:Wn,yy:Wn},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),n.defineLocale("fo",{months:"januar_februar_mars_aprl_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),weekdays:"sunnudagur_mnadagur_tsdagur_mikudagur_hsdagur_frggjadagur_leygardagur".split("_"),weekdaysShort:"sun_mn_ts_mik_hs_fr_ley".split("_"),weekdaysMin:"su_m_t_mi_h_fr_le".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D. MMMM, YYYY HH:mm"},calendar:{sameDay:"[ dag kl.] LT",nextDay:"[ morgin kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[ gjr kl.] LT",lastWeek:"[sstu] dddd [kl] LT",sameElse:"L"},relativeTime:{future:"um %s",past:"%s sani",s:"f sekund",ss:"%d sekundir",m:"ein minuttur",mm:"%d minuttir",h:"ein tmi",hh:"%d tmar",d:"ein dagur",dd:"%d dagar",M:"ein mnaur",MM:"%d mnair",y:"eitt r",yy:"%d r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),n.defineLocale("fr-ca",{months:"janvier_fvrier_mars_avril_mai_juin_juillet_aot_septembre_octobre_novembre_dcembre".split("_"),monthsShort:"janv._fvr._mars_avr._mai_juin_juil._aot_sept._oct._nov._dc.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourdhui ] LT",nextDay:"[Demain ] LT",nextWeek:"dddd [] LT",lastDay:"[Hier ] LT",lastWeek:"dddd [dernier ] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|e)/,ordinal:function(e,t){switch(t){default:case"M":case"Q":case"D":case"DDD":case"d":return e+(1===e?"er":"e");case"w":case"W":return e+(1===e?"re":"e")}}}),n.defineLocale("fr-ch",{months:"janvier_fvrier_mars_avril_mai_juin_juillet_aot_septembre_octobre_novembre_dcembre".split("_"),monthsShort:"janv._fvr._mars_avr._mai_juin_juil._aot_sept._oct._nov._dc.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourdhui ] LT",nextDay:"[Demain ] LT",nextWeek:"dddd [] LT",lastDay:"[Hier ] LT",lastWeek:"dddd [dernier ] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|e)/,ordinal:function(e,t){switch(t){default:case"M":case"Q":case"D":case"DDD":case"d":return e+(1===e?"er":"e");case"w":case"W":return e+(1===e?"re":"e")}},week:{dow:1,doy:4}}),n.defineLocale("fr",{months:"janvier_fvrier_mars_avril_mai_juin_juillet_aot_septembre_octobre_novembre_dcembre".split("_"),monthsShort:"janv._fvr._mars_avr._mai_juin_juil._aot_sept._oct._nov._dc.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourdhui ] LT",nextDay:"[Demain ] LT",nextWeek:"dddd [] LT",lastDay:"[Hier ] LT",lastWeek:"dddd [dernier ] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|)/,ordinal:function(e,t){switch(t){case"D":return e+(1===e?"er":"");default:case"M":case"Q":case"DDD":case"d":return e+(1===e?"er":"e");case"w":case"W":return e+(1===e?"re":"e")}},week:{dow:1,doy:4}});var Gn="jan._feb._mrt._apr._mai_jun._jul._aug._sep._okt._nov._des.".split("_"),qn="jan_feb_mrt_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_");function Vn(e,t,r,n){var i={s:["thodde secondanim","thodde second"],ss:[e+" secondanim",e+" second"],m:["eka mintan","ek minute"],mm:[e+" mintanim",e+" mintam"],h:["eka voran","ek vor"],hh:[e+" voranim",e+" voram"],d:["eka disan","ek dis"],dd:[e+" disanim",e+" dis"],M:["eka mhoinean","ek mhoino"],MM:[e+" mhoineanim",e+" mhoine"],y:["eka vorsan","ek voros"],yy:[e+" vorsanim",e+" vorsam"]};return t?i[r][0]:i[r][1]}n.defineLocale("fy",{months:"jannewaris_febrewaris_maart_april_maaie_juny_july_augustus_septimber_oktober_novimber_desimber".split("_"),monthsShort:function(e,t){return e?/-MMM-/.test(t)?qn[e.month()]:Gn[e.month()]:Gn},monthsParseExact:!0,weekdays:"snein_moandei_tiisdei_woansdei_tongersdei_freed_sneon".split("_"),weekdaysShort:"si._mo._ti._wo._to._fr._so.".split("_"),weekdaysMin:"Si_Mo_Ti_Wo_To_Fr_So".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[hjoed om] LT",nextDay:"[moarn om] LT",nextWeek:"dddd [om] LT",lastDay:"[juster om] LT",lastWeek:"[frne] dddd [om] LT",sameElse:"L"},relativeTime:{future:"oer %s",past:"%s lyn",s:"in pear sekonden",ss:"%d sekonden",m:"ien mint",mm:"%d minuten",h:"ien oere",hh:"%d oeren",d:"ien dei",dd:"%d dagen",M:"ien moanne",MM:"%d moannen",y:"ien jier",yy:"%d jierren"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(e){return e+(1===e||8===e||20<=e?"ste":"de")},week:{dow:1,doy:4}}),n.defineLocale("ga",{months:["Eanir","Feabhra","Mrta","Aibren","Bealtaine","Mitheamh","Iil","Lnasa","Men Fmhair","Deaireadh Fmhair","Samhain","Nollaig"],monthsShort:["Ean","Feab","Mrt","Aibr","Beal","Mit","Iil","Lna","Men","Deai","Samh","Noll"],monthsParseExact:!0,weekdays:["D Domhnaigh","D Luain","D Mirt","D Cadaoin","Dardaoin","D hAoine","D Satharn"],weekdaysShort:["Dom","Lua","Mi","Ca","Da","hAo","Sat"],weekdaysMin:["Do","Lu","M","Ce","D","hA","Sa"],longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Inniu ag] LT",nextDay:"[Amrach ag] LT",nextWeek:"dddd [ag] LT",lastDay:"[Inn aig] LT",lastWeek:"dddd [seo caite] [ag] LT",sameElse:"L"},relativeTime:{future:"i %s",past:"%s  shin",s:"cpla soicind",ss:"%d soicind",m:"nimad",mm:"%d nimad",h:"uair an chloig",hh:"%d uair an chloig",d:"l",dd:"%d l",M:"m",MM:"%d m",y:"bliain",yy:"%d bliain"},dayOfMonthOrdinalParse:/\d{1,2}(d|na|mh)/,ordinal:function(e){return e+(1===e?"d":e%10==2?"na":"mh")},week:{dow:1,doy:4}}),n.defineLocale("gd",{months:["Am Faoilleach","An Gearran","Am Mrt","An Giblean","An Citean","An t-gmhios","An t-Iuchar","An Lnastal","An t-Sultain","An Dmhair","An t-Samhain","An Dbhlachd"],monthsShort:["Faoi","Gear","Mrt","Gibl","Cit","gmh","Iuch","Ln","Sult","Dmh","Samh","Dbh"],monthsParseExact:!0,weekdays:["Didmhnaich","Diluain","Dimirt","Diciadain","Diardaoin","Dihaoine","Disathairne"],weekdaysShort:["Did","Dil","Dim","Dic","Dia","Dih","Dis"],weekdaysMin:["D","Lu","M","Ci","Ar","Ha","Sa"],longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[An-diugh aig] LT",nextDay:"[A-mireach aig] LT",nextWeek:"dddd [aig] LT",lastDay:"[An-d aig] LT",lastWeek:"dddd [seo chaidh] [aig] LT",sameElse:"L"},relativeTime:{future:"ann an %s",past:"bho chionn %s",s:"beagan diogan",ss:"%d diogan",m:"mionaid",mm:"%d mionaidean",h:"uair",hh:"%d uairean",d:"latha",dd:"%d latha",M:"mos",MM:"%d mosan",y:"bliadhna",yy:"%d bliadhna"},dayOfMonthOrdinalParse:/\d{1,2}(d|na|mh)/,ordinal:function(e){return e+(1===e?"d":e%10==2?"na":"mh")},week:{dow:1,doy:4}}),n.defineLocale("gl",{months:"xaneiro_febreiro_marzo_abril_maio_xuo_xullo_agosto_setembro_outubro_novembro_decembro".split("_"),monthsShort:"xan._feb._mar._abr._mai._xu._xul._ago._set._out._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"domingo_luns_martes_mrcores_xoves_venres_sbado".split("_"),weekdaysShort:"dom._lun._mar._mr._xov._ven._sb.".split("_"),weekdaysMin:"do_lu_ma_m_xo_ve_s".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoxe "+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[ma "+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd ["+(1!==this.hours()?"s":"a")+"] LT"},lastDay:function(){return"[onte "+(1!==this.hours()?"":"a")+"] LT"},lastWeek:function(){return"[o] dddd [pasado "+(1!==this.hours()?"s":"a")+"] LT"},sameElse:"L"},relativeTime:{future:function(e){return 0===e.indexOf("un")?"n"+e:"en "+e},past:"hai %s",s:"uns segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"unha hora",hh:"%d horas",d:"un da",dd:"%d das",M:"un mes",MM:"%d meses",y:"un ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d",week:{dow:1,doy:4}}),n.defineLocale("gom-latn",{months:"Janer_Febrer_Mars_Abril_Mai_Jun_Julai_Agost_Setembr_Otubr_Novembr_Dezembr".split("_"),monthsShort:"Jan._Feb._Mars_Abr._Mai_Jun_Jul._Ago._Set._Otu._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Aitar_Somar_Mongllar_Budvar_Brestar_Sukrar_Son'var".split("_"),weekdaysShort:"Ait._Som._Mon._Bud._Bre._Suk._Son.".split("_"),weekdaysMin:"Ai_Sm_Mo_Bu_Br_Su_Sn".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"A h:mm [vazta]",LTS:"A h:mm:ss [vazta]",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY A h:mm [vazta]",LLLL:"dddd, MMMM[achea] Do, YYYY, A h:mm [vazta]",llll:"ddd, D MMM YYYY, A h:mm [vazta]"},calendar:{sameDay:"[Aiz] LT",nextDay:"[Faleam] LT",nextWeek:"[Ieta to] dddd[,] LT",lastDay:"[Kal] LT",lastWeek:"[Fatlo] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s adim",s:Vn,ss:Vn,m:Vn,mm:Vn,h:Vn,hh:Vn,d:Vn,dd:Vn,M:Vn,MM:Vn,y:Vn,yy:Vn},dayOfMonthOrdinalParse:/\d{1,2}(er)/,ordinal:function(e,t){switch(t){case"D":return e+"er";default:case"M":case"Q":case"DDD":case"d":case"w":case"W":return e}},week:{dow:1,doy:4},meridiemParse:/rati|sokalli|donparam|sanje/,meridiemHour:function(e,t){return 12===e&&(e=0),"rati"===t?e<4?e:e+12:"sokalli"===t?e:"donparam"===t?12<e?e:e+12:"sanje"===t?e+12:void 0},meridiem:function(e,t,r){return e<4?"rati":e<12?"sokalli":e<16?"donparam":e<20?"sanje":"rati"}});var Kn={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},Zn={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};n.defineLocale("gu",{months:"___________".split("_"),monthsShort:"._.__.___._._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(e){return e.replace(/[\u0ae7\u0ae8\u0ae9\u0aea\u0aeb\u0aec\u0aed\u0aee\u0aef\u0ae6]/g,(function(e){return Zn[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return Kn[e]}))},meridiemParse:/\u0ab0\u0abe\u0aa4|\u0aac\u0aaa\u0acb\u0ab0|\u0ab8\u0ab5\u0abe\u0ab0|\u0ab8\u0abe\u0a82\u0a9c/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t?e<4?e:e+12:""===t?e:""===t?10<=e?e:e+12:""===t?e+12:void 0},meridiem:function(e,t,r){return e<4?"":e<10?"":e<17?"":e<20?"":""},week:{dow:0,doy:6}}),n.defineLocale("he",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D []MMMM YYYY",LLL:"D []MMMM YYYY HH:mm",LLLL:"dddd, D []MMMM YYYY HH:mm",l:"D/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"},calendar:{sameDay:"[ ]LT",nextDay:"[ ]LT",nextWeek:"dddd [] LT",lastDay:"[ ]LT",lastWeek:"[] dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:" ",ss:"%d ",m:"",mm:"%d ",h:"",hh:function(e){return 2===e?"":e+" "},d:"",dd:function(e){return 2===e?"":e+" "},M:"",MM:function(e){return 2===e?"":e+" "},y:"",yy:function(e){return 2===e?"":e%10==0&&10!==e?e+" ":e+" "}},meridiemParse:/\u05d0\u05d7\u05d4"\u05e6|\u05dc\u05e4\u05e0\u05d4"\u05e6|\u05d0\u05d7\u05e8\u05d9 \u05d4\u05e6\u05d4\u05e8\u05d9\u05d9\u05dd|\u05dc\u05e4\u05e0\u05d9 \u05d4\u05e6\u05d4\u05e8\u05d9\u05d9\u05dd|\u05dc\u05e4\u05e0\u05d5\u05ea \u05d1\u05d5\u05e7\u05e8|\u05d1\u05d1\u05d5\u05e7\u05e8|\u05d1\u05e2\u05e8\u05d1/i,isPM:function(e){return/^(\u05d0\u05d7\u05d4"\u05e6|\u05d0\u05d7\u05e8\u05d9 \u05d4\u05e6\u05d4\u05e8\u05d9\u05d9\u05dd|\u05d1\u05e2\u05e8\u05d1)$/.test(e)},meridiem:function(e,t,r){return e<5?" ":e<10?"":e<12?r?'"':" ":e<18?r?'"':" ":""}});var Jn={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},$n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};function Qn(e,t,r){var n=e+" ";switch(r){case"ss":return n+(1===e?"sekunda":2===e||3===e||4===e?"sekunde":"sekundi");case"m":return t?"jedna minuta":"jedne minute";case"mm":return n+(1===e?"minuta":2===e||3===e||4===e?"minute":"minuta");case"h":return t?"jedan sat":"jednog sata";case"hh":return n+(1===e?"sat":2===e||3===e||4===e?"sata":"sati");case"dd":return n+(1===e?"dan":"dana");case"MM":return n+(1===e?"mjesec":2===e||3===e||4===e?"mjeseca":"mjeseci");case"yy":return n+(1===e?"godina":2===e||3===e||4===e?"godine":"godina")}}n.defineLocale("hi",{months:"___________".split("_"),monthsShort:"._.__.___._._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"  ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(e){return e.replace(/[\u0967\u0968\u0969\u096a\u096b\u096c\u096d\u096e\u096f\u0966]/g,(function(e){return $n[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return Jn[e]}))},meridiemParse:/\u0930\u093e\u0924|\u0938\u0941\u092c\u0939|\u0926\u094b\u092a\u0939\u0930|\u0936\u093e\u092e/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t?e<4?e:e+12:""===t?e:""===t?10<=e?e:e+12:""===t?e+12:void 0},meridiem:function(e,t,r){return e<4?"":e<10?"":e<17?"":e<20?"":""},week:{dow:0,doy:6}}),n.defineLocale("hr",{months:{format:"sijenja_veljae_oujka_travnja_svibnja_lipnja_srpnja_kolovoza_rujna_listopada_studenoga_prosinca".split("_"),standalone:"sijeanj_veljaa_oujak_travanj_svibanj_lipanj_srpanj_kolovoz_rujan_listopad_studeni_prosinac".split("_")},monthsShort:"sij._velj._ou._tra._svi._lip._srp._kol._ruj._lis._stu._pro.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_etvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._et._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_e_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[juer u] LT",lastWeek:function(){switch(this.day()){case 0:case 3:return"[prolu] dddd [u] LT";case 6:return"[prole] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[proli] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",ss:Qn,m:Qn,mm:Qn,h:Qn,hh:Qn,d:"dan",dd:Qn,M:"mjesec",MM:Qn,y:"godinu",yy:Qn},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}});var Xn="vasrnap htfn kedden szerdn cstrtkn pnteken szombaton".split(" ");function ei(e,t,r,n){var i=e;switch(r){case"s":return n||t?"nhny msodperc":"nhny msodperce";case"ss":return i+(n||t)?" msodperc":" msodperce";case"m":return"egy"+(n||t?" perc":" perce");case"mm":return i+(n||t?" perc":" perce");case"h":return"egy"+(n||t?" ra":" rja");case"hh":return i+(n||t?" ra":" rja");case"d":return"egy"+(n||t?" nap":" napja");case"dd":return i+(n||t?" nap":" napja");case"M":return"egy"+(n||t?" hnap":" hnapja");case"MM":return i+(n||t?" hnap":" hnapja");case"y":return"egy"+(n||t?" v":" ve");case"yy":return i+(n||t?" v":" ve")}return""}function ti(e){return(e?"":"[mlt] ")+"["+Xn[this.day()]+"] LT[-kor]"}function ri(e){return e%100==11||e%10!=1}function ni(e,t,r,n){var i=e+" ";switch(r){case"s":return t||n?"nokkrar sekndur":"nokkrum sekndum";case"ss":return ri(e)?i+(t||n?"sekndur":"sekndum"):i+"seknda";case"m":return t?"mnta":"mntu";case"mm":return ri(e)?i+(t||n?"mntur":"mntum"):t?i+"mnta":i+"mntu";case"hh":return ri(e)?i+(t||n?"klukkustundir":"klukkustundum"):i+"klukkustund";case"d":return t?"dagur":n?"dag":"degi";case"dd":return ri(e)?t?i+"dagar":i+(n?"daga":"dgum"):t?i+"dagur":i+(n?"dag":"degi");case"M":return t?"mnuur":n?"mnu":"mnui";case"MM":return ri(e)?t?i+"mnuir":i+(n?"mnui":"mnuum"):t?i+"mnuur":i+(n?"mnu":"mnui");case"y":return t||n?"r":"ri";case"yy":return ri(e)?i+(t||n?"r":"rum"):i+(t||n?"r":"ri")}}n.defineLocale("hu",{months:"janur_februr_mrcius_prilis_mjus_jnius_jlius_augusztus_szeptember_oktber_november_december".split("_"),monthsShort:"jan_feb_mrc_pr_mj_jn_jl_aug_szept_okt_nov_dec".split("_"),weekdays:"vasrnap_htf_kedd_szerda_cstrtk_pntek_szombat".split("_"),weekdaysShort:"vas_ht_kedd_sze_cst_pn_szo".split("_"),weekdaysMin:"v_h_k_sze_cs_p_szo".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"YYYY.MM.DD.",LL:"YYYY. MMMM D.",LLL:"YYYY. MMMM D. H:mm",LLLL:"YYYY. MMMM D., dddd H:mm"},meridiemParse:/de|du/i,isPM:function(e){return"u"===e.charAt(1).toLowerCase()},meridiem:function(e,t,r){return e<12?!0===r?"de":"DE":!0===r?"du":"DU"},calendar:{sameDay:"[ma] LT[-kor]",nextDay:"[holnap] LT[-kor]",nextWeek:function(){return ti.call(this,!0)},lastDay:"[tegnap] LT[-kor]",lastWeek:function(){return ti.call(this,!1)},sameElse:"L"},relativeTime:{future:"%s mlva",past:"%s",s:ei,ss:ei,m:ei,mm:ei,h:ei,hh:ei,d:ei,dd:ei,M:ei,MM:ei,y:ei,yy:ei},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),n.defineLocale("hy-am",{months:{format:"___________".split("_"),standalone:"___________".split("_")},monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., HH:mm",LLLL:"dddd, D MMMM YYYY ., HH:mm"},calendar:{sameDay:"[] LT",nextDay:"[] LT",lastDay:"[] LT",nextWeek:function(){return"dddd [ ] LT"},lastWeek:function(){return"[] dddd [ ] LT"},sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"  ",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},meridiemParse:/\u0563\u056b\u0577\u0565\u0580\u057e\u0561|\u0561\u057c\u0561\u057e\u0578\u057f\u057e\u0561|\u0581\u0565\u0580\u0565\u056f\u057e\u0561|\u0565\u0580\u0565\u056f\u0578\u0575\u0561\u0576/,isPM:function(e){return/^(\u0581\u0565\u0580\u0565\u056f\u057e\u0561|\u0565\u0580\u0565\u056f\u0578\u0575\u0561\u0576)$/.test(e)},meridiem:function(e){return e<4?"":e<12?"":e<17?"":""},dayOfMonthOrdinalParse:/\d{1,2}|\d{1,2}-(\u056b\u0576|\u0580\u0564)/,ordinal:function(e,t){switch(t){case"DDD":case"w":case"W":case"DDDo":return 1===e?e+"-":e+"-";default:return e}},week:{dow:1,doy:7}}),n.defineLocale("id",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Agt_Sep_Okt_Nov_Des".split("_"),weekdays:"Minggu_Senin_Selasa_Rabu_Kamis_Jumat_Sabtu".split("_"),weekdaysShort:"Min_Sen_Sel_Rab_Kam_Jum_Sab".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|siang|sore|malam/,meridiemHour:function(e,t){return 12===e&&(e=0),"pagi"===t?e:"siang"===t?11<=e?e:e+12:"sore"===t||"malam"===t?e+12:void 0},meridiem:function(e,t,r){return e<11?"pagi":e<15?"siang":e<19?"sore":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Besok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kemarin pukul] LT",lastWeek:"dddd [lalu pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lalu",s:"beberapa detik",ss:"%d detik",m:"semenit",mm:"%d menit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}}),n.defineLocale("is",{months:"janar_febrar_mars_aprl_ma_jn_jl_gst_september_oktber_nvember_desember".split("_"),monthsShort:"jan_feb_mar_apr_ma_jn_jl_g_sep_okt_nv_des".split("_"),weekdays:"sunnudagur_mnudagur_rijudagur_mivikudagur_fimmtudagur_fstudagur_laugardagur".split("_"),weekdaysShort:"sun_mn_ri_mi_fim_fs_lau".split("_"),weekdaysMin:"Su_M_r_Mi_Fi_F_La".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] H:mm",LLLL:"dddd, D. MMMM YYYY [kl.] H:mm"},calendar:{sameDay:"[ dag kl.] LT",nextDay:"[ morgun kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[ gr kl.] LT",lastWeek:"[sasta] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"eftir %s",past:"fyrir %s san",s:ni,ss:ni,m:ni,mm:ni,h:"klukkustund",hh:ni,d:ni,dd:ni,M:ni,MM:ni,y:ni,yy:ni},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),n.defineLocale("it-ch",{months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),weekdays:"domenica_luned_marted_mercoled_gioved_venerd_sabato".split("_"),weekdaysShort:"dom_lun_mar_mer_gio_ven_sab".split("_"),weekdaysMin:"do_lu_ma_me_gi_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Oggi alle] LT",nextDay:"[Domani alle] LT",nextWeek:"dddd [alle] LT",lastDay:"[Ieri alle] LT",lastWeek:function(){switch(this.day()){case 0:return"[la scorsa] dddd [alle] LT";default:return"[lo scorso] dddd [alle] LT"}},sameElse:"L"},relativeTime:{future:function(e){return(/^[0-9].+$/.test(e)?"tra":"in")+" "+e},past:"%s fa",s:"alcuni secondi",ss:"%d secondi",m:"un minuto",mm:"%d minuti",h:"un'ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d",week:{dow:1,doy:4}}),n.defineLocale("it",{months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),weekdays:"domenica_luned_marted_mercoled_gioved_venerd_sabato".split("_"),weekdaysShort:"dom_lun_mar_mer_gio_ven_sab".split("_"),weekdaysMin:"do_lu_ma_me_gi_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Oggi alle] LT",nextDay:"[Domani alle] LT",nextWeek:"dddd [alle] LT",lastDay:"[Ieri alle] LT",lastWeek:function(){switch(this.day()){case 0:return"[la scorsa] dddd [alle] LT";default:return"[lo scorso] dddd [alle] LT"}},sameElse:"L"},relativeTime:{future:function(e){return(/^[0-9].+$/.test(e)?"tra":"in")+" "+e},past:"%s fa",s:"alcuni secondi",ss:"%d secondi",m:"un minuto",mm:"%d minuti",h:"un'ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d",week:{dow:1,doy:4}}),n.defineLocale("ja",{months:"___________".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYYMD",LLL:"YYYYMD HH:mm",LLLL:"YYYYMD dddd HH:mm",l:"YYYY/MM/DD",ll:"YYYYMD",lll:"YYYYMD HH:mm",llll:"YYYYMD(ddd) HH:mm"},meridiemParse:/\u5348\u524d|\u5348\u5f8c/i,isPM:function(e){return""===e},meridiem:function(e,t,r){return e<12?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:function(e){return e.week()<this.week()?"[]dddd LT":"dddd LT"},lastDay:"[] LT",lastWeek:function(e){return this.week()<e.week()?"[]dddd LT":"dddd LT"},sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}\u65e5/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"";default:return e}},relativeTime:{future:"%s",past:"%s",s:"",ss:"%d",m:"1",mm:"%d",h:"1",hh:"%d",d:"1",dd:"%d",M:"1",MM:"%d",y:"1",yy:"%d"}}),n.defineLocale("jv",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_Nopember_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Ags_Sep_Okt_Nop_Des".split("_"),weekdays:"Minggu_Senen_Seloso_Rebu_Kemis_Jemuwah_Septu".split("_"),weekdaysShort:"Min_Sen_Sel_Reb_Kem_Jem_Sep".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sp".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/enjing|siyang|sonten|ndalu/,meridiemHour:function(e,t){return 12===e&&(e=0),"enjing"===t?e:"siyang"===t?11<=e?e:e+12:"sonten"===t||"ndalu"===t?e+12:void 0},meridiem:function(e,t,r){return e<11?"enjing":e<15?"siyang":e<19?"sonten":"ndalu"},calendar:{sameDay:"[Dinten puniko pukul] LT",nextDay:"[Mbenjang pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kala wingi pukul] LT",lastWeek:"dddd [kepengker pukul] LT",sameElse:"L"},relativeTime:{future:"wonten ing %s",past:"%s ingkang kepengker",s:"sawetawis detik",ss:"%d detik",m:"setunggal menit",mm:"%d menit",h:"setunggal jam",hh:"%d jam",d:"sedinten",dd:"%d dinten",M:"sewulan",MM:"%d wulan",y:"setaun",yy:"%d taun"},week:{dow:1,doy:7}}),n.defineLocale("ka",{months:{standalone:"___________".split("_"),format:"___________".split("_")},monthsShort:"___________".split("_"),weekdays:{standalone:"______".split("_"),format:"______".split("_"),isFormat:/(\u10ec\u10d8\u10dc\u10d0|\u10e8\u10d4\u10db\u10d3\u10d4\u10d2)/},weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[] LT[-]",nextDay:"[] LT[-]",lastDay:"[] LT[-]",nextWeek:"[] dddd LT[-]",lastWeek:"[] dddd LT-",sameElse:"L"},relativeTime:{future:function(e){return/(\u10ec\u10d0\u10db\u10d8|\u10ec\u10e3\u10d7\u10d8|\u10e1\u10d0\u10d0\u10d7\u10d8|\u10ec\u10d4\u10da\u10d8)/.test(e)?e.replace(/\u10d8$/,""):e+""},past:function(e){return/(\u10ec\u10d0\u10db\u10d8|\u10ec\u10e3\u10d7\u10d8|\u10e1\u10d0\u10d0\u10d7\u10d8|\u10d3\u10e6\u10d4|\u10d7\u10d5\u10d4)/.test(e)?e.replace(/(\u10d8|\u10d4)$/," "):/\u10ec\u10d4\u10da\u10d8/.test(e)?e.replace(/\u10ec\u10d4\u10da\u10d8$/," "):void 0},s:" ",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},dayOfMonthOrdinalParse:/0|1-\u10da\u10d8|\u10db\u10d4-\d{1,2}|\d{1,2}-\u10d4/,ordinal:function(e){return 0===e?e:1===e?e+"-":e<20||e<=100&&e%20==0||e%100==0?"-"+e:e+"-"},week:{dow:1,doy:7}});var ii={0:"-",1:"-",2:"-",3:"-",4:"-",5:"-",6:"-",7:"-",8:"-",9:"-",10:"-",20:"-",30:"-",40:"-",50:"-",60:"-",70:"-",80:"-",90:"-",100:"-"};n.defineLocale("kk",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"[ ] dddd [] LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}-(\u0448\u0456|\u0448\u044b)/,ordinal:function(e){return e+(ii[e]||ii[e%10]||ii[100<=e?100:null])},week:{dow:1,doy:7}});var si={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},oi={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};n.defineLocale("km",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/\u1796\u17d2\u179a\u17b9\u1780|\u179b\u17d2\u1784\u17b6\u1785/,isPM:function(e){return""===e},meridiem:function(e,t,r){return e<12?"":""},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"dddd [] [] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},dayOfMonthOrdinalParse:/\u1791\u17b8\d{1,2}/,ordinal:"%d",preparse:function(e){return e.replace(/[\u17e1\u17e2\u17e3\u17e4\u17e5\u17e6\u17e7\u17e8\u17e9\u17e0]/g,(function(e){return oi[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return si[e]}))},week:{dow:1,doy:4}});var ai={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},gi={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};n.defineLocale("kn",{months:"___________".split("_"),monthsShort:"___________".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(e){return e.replace(/[\u0ce7\u0ce8\u0ce9\u0cea\u0ceb\u0cec\u0ced\u0cee\u0cef\u0ce6]/g,(function(e){return gi[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return ai[e]}))},meridiemParse:/\u0cb0\u0cbe\u0ca4\u0ccd\u0cb0\u0cbf|\u0cac\u0cc6\u0cb3\u0cbf\u0c97\u0ccd\u0c97\u0cc6|\u0cae\u0ca7\u0ccd\u0caf\u0cbe\u0cb9\u0ccd\u0ca8|\u0cb8\u0c82\u0c9c\u0cc6/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t?e<4?e:e+12:""===t?e:""===t?10<=e?e:e+12:""===t?e+12:void 0},meridiem:function(e,t,r){return e<4?"":e<10?"":e<17?"":e<20?"":""},dayOfMonthOrdinalParse:/\d{1,2}(\u0ca8\u0cc6\u0cd5)/,ordinal:function(e){return e+""},week:{dow:0,doy:6}}),n.defineLocale("ko",{months:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"YYYY.MM.DD.",LL:"YYYY MMMM D",LLL:"YYYY MMMM D A h:mm",LLLL:"YYYY MMMM D dddd A h:mm",l:"YYYY.MM.DD.",ll:"YYYY MMMM D",lll:"YYYY MMMM D A h:mm",llll:"YYYY MMMM D dddd A h:mm"},calendar:{sameDay:" LT",nextDay:" LT",nextWeek:"dddd LT",lastDay:" LT",lastWeek:" dddd LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d",m:"1",mm:"%d",h:" ",hh:"%d",d:"",dd:"%d",M:" ",MM:"%d",y:" ",yy:"%d"},dayOfMonthOrdinalParse:/\d{1,2}(\uc77c|\uc6d4|\uc8fc)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"";case"M":return e+"";case"w":case"W":return e+"";default:return e}},meridiemParse:/\uc624\uc804|\uc624\ud6c4/,isPM:function(e){return""===e},meridiem:function(e,t,r){return e<12?"":""}});var Ai={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},ui={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},Ii=[" ","","","","","","","",""," "," "," "];n.defineLocale("ku",{months:Ii,monthsShort:Ii,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/\u0626\u06ce\u0648\u0627\u0631\u0647\u200c|\u0628\u0647\u200c\u06cc\u0627\u0646\u06cc/,isPM:function(e){return/\u0626\u06ce\u0648\u0627\u0631\u0647\u200c/.test(e)},meridiem:function(e,t,r){return e<12?"":""},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"dddd [] LT",sameElse:"L"},relativeTime:{future:" %s",past:"%s",s:" ",ss:" %d",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(e){return e.replace(/[\u0661\u0662\u0663\u0664\u0665\u0666\u0667\u0668\u0669\u0660]/g,(function(e){return ui[e]})).replace(/\u060c/g,",")},postformat:function(e){return e.replace(/\d/g,(function(e){return Ai[e]})).replace(/,/g,"")},week:{dow:6,doy:12}});var Ci={0:"-",1:"-",2:"-",3:"-",4:"-",5:"-",6:"-",7:"-",8:"-",9:"-",10:"-",20:"-",30:"-",40:"-",50:"-",60:"-",70:"-",80:"-",90:"-",100:"-"};function li(e,t,r,n){var i={m:["eng Minutt","enger Minutt"],h:["eng Stonn","enger Stonn"],d:["een Dag","engem Dag"],M:["ee Mount","engem Mount"],y:["ee Joer","engem Joer"]};return t?i[r][0]:i[r][1]}function ci(e){if(e=parseInt(e,10),isNaN(e))return!1;if(e<0)return!0;if(e<10)return 4<=e&&e<=7;if(e<100){var t=e%10;return ci(0===t?e/10:t)}if(e<1e4){for(;10<=e;)e/=10;return ci(e)}return ci(e/=1e3)}n.defineLocale("ky",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"[ ] dddd [] [] LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}-(\u0447\u0438|\u0447\u044b|\u0447\u04af|\u0447\u0443)/,ordinal:function(e){return e+(Ci[e]||Ci[e%10]||Ci[100<=e?100:null])},week:{dow:1,doy:7}}),n.defineLocale("lb",{months:"Januar_Februar_Merz_Abrll_Mee_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Febr._Mrz._Abr._Mee_Jun._Jul._Aug._Sept._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonndeg_Mindeg_Dnschdeg_Mttwoch_Donneschdeg_Freideg_Samschdeg".split("_"),weekdaysShort:"So._M._D._M._Do._Fr._Sa.".split("_"),weekdaysMin:"So_M_D_M_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm [Auer]",LTS:"H:mm:ss [Auer]",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm [Auer]",LLLL:"dddd, D. MMMM YYYY H:mm [Auer]"},calendar:{sameDay:"[Haut um] LT",sameElse:"L",nextDay:"[Muer um] LT",nextWeek:"dddd [um] LT",lastDay:"[Gschter um] LT",lastWeek:function(){switch(this.day()){case 2:case 4:return"[Leschten] dddd [um] LT";default:return"[Leschte] dddd [um] LT"}}},relativeTime:{future:function(e){return ci(e.substr(0,e.indexOf(" ")))?"a "+e:"an "+e},past:function(e){return ci(e.substr(0,e.indexOf(" ")))?"viru "+e:"virun "+e},s:"e puer Sekonnen",ss:"%d Sekonnen",m:li,mm:"%d Minutten",h:li,hh:"%d Stonnen",d:li,dd:"%d Deeg",M:li,MM:"%d Mint",y:li,yy:"%d Joer"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),n.defineLocale("lo",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/\u0e95\u0ead\u0e99\u0ec0\u0e8a\u0ebb\u0ec9\u0eb2|\u0e95\u0ead\u0e99\u0ec1\u0ea5\u0e87/,isPM:function(e){return""===e},meridiem:function(e,t,r){return e<12?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[]dddd[] LT",lastDay:"[] LT",lastWeek:"[]dddd[] LT",sameElse:"L"},relativeTime:{future:" %s",past:"%s",s:"",ss:"%d ",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "},dayOfMonthOrdinalParse:/(\u0e97\u0eb5\u0ec8)\d{1,2}/,ordinal:function(e){return""+e}});var di={ss:"sekund_sekundi_sekundes",m:"minut_minuts_minut",mm:"minuts_minui_minutes",h:"valanda_valandos_valand",hh:"valandos_valand_valandas",d:"diena_dienos_dien",dd:"dienos_dien_dienas",M:"mnuo_mnesio_mnes",MM:"mnesiai_mnesi_mnesius",y:"metai_met_metus",yy:"metai_met_metus"};function hi(e,t,r,n){return t?pi(r)[0]:n?pi(r)[1]:pi(r)[2]}function fi(e){return e%10==0||10<e&&e<20}function pi(e){return di[e].split("_")}function mi(e,t,r,n){var i=e+" ";return 1===e?i+hi(0,t,r[0],n):t?i+(fi(e)?pi(r)[1]:pi(r)[0]):n?i+pi(r)[1]:i+(fi(e)?pi(r)[1]:pi(r)[2])}n.defineLocale("lt",{months:{format:"sausio_vasario_kovo_balandio_gegus_birelio_liepos_rugpjio_rugsjo_spalio_lapkriio_gruodio".split("_"),standalone:"sausis_vasaris_kovas_balandis_gegu_birelis_liepa_rugpjtis_rugsjis_spalis_lapkritis_gruodis".split("_"),isFormat:/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?|MMMM?(\[[^\[\]]*\]|\s)+D[oD]?/},monthsShort:"sau_vas_kov_bal_geg_bir_lie_rgp_rgs_spa_lap_grd".split("_"),weekdays:{format:"sekmadien_pirmadien_antradien_treiadien_ketvirtadien_penktadien_etadien".split("_"),standalone:"sekmadienis_pirmadienis_antradienis_treiadienis_ketvirtadienis_penktadienis_etadienis".split("_"),isFormat:/dddd HH:mm/},weekdaysShort:"Sek_Pir_Ant_Tre_Ket_Pen_e".split("_"),weekdaysMin:"S_P_A_T_K_Pn_".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY [m.] MMMM D [d.]",LLL:"YYYY [m.] MMMM D [d.], HH:mm [val.]",LLLL:"YYYY [m.] MMMM D [d.], dddd, HH:mm [val.]",l:"YYYY-MM-DD",ll:"YYYY [m.] MMMM D [d.]",lll:"YYYY [m.] MMMM D [d.], HH:mm [val.]",llll:"YYYY [m.] MMMM D [d.], ddd, HH:mm [val.]"},calendar:{sameDay:"[iandien] LT",nextDay:"[Rytoj] LT",nextWeek:"dddd LT",lastDay:"[Vakar] LT",lastWeek:"[Prajus] dddd LT",sameElse:"L"},relativeTime:{future:"po %s",past:"prie %s",s:function(e,t,r,n){return t?"kelios sekunds":n?"keli sekundi":"kelias sekundes"},ss:mi,m:hi,mm:mi,h:hi,hh:mi,d:hi,dd:mi,M:hi,MM:mi,y:hi,yy:mi},dayOfMonthOrdinalParse:/\d{1,2}-oji/,ordinal:function(e){return e+"-oji"},week:{dow:1,doy:4}});var _i={ss:"sekundes_sekundm_sekunde_sekundes".split("_"),m:"mintes_mintm_minte_mintes".split("_"),mm:"mintes_mintm_minte_mintes".split("_"),h:"stundas_stundm_stunda_stundas".split("_"),hh:"stundas_stundm_stunda_stundas".split("_"),d:"dienas_dienm_diena_dienas".split("_"),dd:"dienas_dienm_diena_dienas".split("_"),M:"mnea_mneiem_mnesis_mnei".split("_"),MM:"mnea_mneiem_mnesis_mnei".split("_"),y:"gada_gadiem_gads_gadi".split("_"),yy:"gada_gadiem_gads_gadi".split("_")};function yi(e,t,r){return r?t%10==1&&t%100!=11?e[2]:e[3]:t%10==1&&t%100!=11?e[0]:e[1]}function bi(e,t,r){return e+" "+yi(_i[r],e,t)}function vi(e,t,r){return yi(_i[r],e,t)}n.defineLocale("lv",{months:"janvris_februris_marts_aprlis_maijs_jnijs_jlijs_augusts_septembris_oktobris_novembris_decembris".split("_"),monthsShort:"jan_feb_mar_apr_mai_jn_jl_aug_sep_okt_nov_dec".split("_"),weekdays:"svtdiena_pirmdiena_otrdiena_trediena_ceturtdiena_piektdiena_sestdiena".split("_"),weekdaysShort:"Sv_P_O_T_C_Pk_S".split("_"),weekdaysMin:"Sv_P_O_T_C_Pk_S".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY.",LL:"YYYY. [gada] D. MMMM",LLL:"YYYY. [gada] D. MMMM, HH:mm",LLLL:"YYYY. [gada] D. MMMM, dddd, HH:mm"},calendar:{sameDay:"[odien pulksten] LT",nextDay:"[Rt pulksten] LT",nextWeek:"dddd [pulksten] LT",lastDay:"[Vakar pulksten] LT",lastWeek:"[Pagju] dddd [pulksten] LT",sameElse:"L"},relativeTime:{future:"pc %s",past:"pirms %s",s:function(e,t){return t?"daas sekundes":"dam sekundm"},ss:bi,m:vi,mm:bi,h:vi,hh:bi,d:vi,dd:bi,M:vi,MM:bi,y:vi,yy:bi},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});var wi={words:{ss:["sekund","sekunda","sekundi"],m:["jedan minut","jednog minuta"],mm:["minut","minuta","minuta"],h:["jedan sat","jednog sata"],hh:["sat","sata","sati"],dd:["dan","dana","dana"],MM:["mjesec","mjeseca","mjeseci"],yy:["godina","godine","godina"]},correctGrammaticalCase:function(e,t){return 1===e?t[0]:2<=e&&e<=4?t[1]:t[2]},translate:function(e,t,r){var n=wi.words[r];return 1===r.length?t?n[0]:n[1]:e+" "+wi.correctGrammaticalCase(e,n)}};function ki(e,t,r,n){switch(r){case"s":return t?" ":" ";case"ss":return e+(t?" ":" ");case"m":case"mm":return e+(t?" ":" ");case"h":case"hh":return e+(t?" ":" ");case"d":case"dd":return e+(t?" ":" ");case"M":case"MM":return e+(t?" ":" ");case"y":case"yy":return e+(t?" ":" ");default:return e}}n.defineLocale("me",{months:"januar_februar_mart_april_maj_jun_jul_avgust_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj_jun_jul_avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_etvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._et._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_e_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sjutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[jue u] LT",lastWeek:function(){return["[prole] [nedjelje] [u] LT","[prolog] [ponedjeljka] [u] LT","[prolog] [utorka] [u] LT","[prole] [srijede] [u] LT","[prolog] [etvrtka] [u] LT","[prolog] [petka] [u] LT","[prole] [subote] [u] LT"][this.day()]},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"nekoliko sekundi",ss:wi.translate,m:wi.translate,mm:wi.translate,h:wi.translate,hh:wi.translate,d:"dan",dd:wi.translate,M:"mjesec",MM:wi.translate,y:"godinu",yy:wi.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}}),n.defineLocale("mi",{months:"Kohi-tte_Hui-tanguru_Pout-te-rangi_Paenga-whwh_Haratua_Pipiri_Hngoingoi_Here-turi-kk_Mahuru_Whiringa--nuku_Whiringa--rangi_Hakihea".split("_"),monthsShort:"Kohi_Hui_Pou_Pae_Hara_Pipi_Hngoi_Here_Mahu_Whi-nu_Whi-ra_Haki".split("_"),monthsRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsStrictRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsShortRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsShortStrictRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,2}/i,weekdays:"Rtapu_Mane_Trei_Wenerei_Tite_Paraire_Htarei".split("_"),weekdaysShort:"Ta_Ma_T_We_Ti_Pa_H".split("_"),weekdaysMin:"Ta_Ma_T_We_Ti_Pa_H".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [i] HH:mm",LLLL:"dddd, D MMMM YYYY [i] HH:mm"},calendar:{sameDay:"[i teie mahana, i] LT",nextDay:"[apopo i] LT",nextWeek:"dddd [i] LT",lastDay:"[inanahi i] LT",lastWeek:"dddd [whakamutunga i] LT",sameElse:"L"},relativeTime:{future:"i roto i %s",past:"%s i mua",s:"te hkona ruarua",ss:"%d hkona",m:"he meneti",mm:"%d meneti",h:"te haora",hh:"%d haora",d:"he ra",dd:"%d ra",M:"he marama",MM:"%d marama",y:"he tau",yy:"%d tau"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d",week:{dow:1,doy:4}}),n.defineLocale("mk",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"e_o_____a".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"[] dddd [] LT",lastDay:"[ ] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[] dddd [] LT";case 1:case 2:case 4:case 5:return"[] dddd [] LT"}},sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:" ",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}-(\u0435\u0432|\u0435\u043d|\u0442\u0438|\u0432\u0438|\u0440\u0438|\u043c\u0438)/,ordinal:function(e){var t=e%10,r=e%100;return 0===e?e+"-":0===r?e+"-":10<r&&r<20?e+"-":1===t?e+"-":2===t?e+"-":7===t||8===t?e+"-":e+"-"},week:{dow:1,doy:7}}),n.defineLocale("ml",{months:"___________".split("_"),monthsShort:"._._._.___._._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm -",LTS:"A h:mm:ss -",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm -",LLLL:"dddd, D MMMM YYYY, A h:mm -"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},meridiemParse:/\u0d30\u0d3e\u0d24\u0d4d\u0d30\u0d3f|\u0d30\u0d3e\u0d35\u0d3f\u0d32\u0d46|\u0d09\u0d1a\u0d4d\u0d1a \u0d15\u0d34\u0d3f\u0d1e\u0d4d\u0d1e\u0d4d|\u0d35\u0d48\u0d15\u0d41\u0d28\u0d4d\u0d28\u0d47\u0d30\u0d02|\u0d30\u0d3e\u0d24\u0d4d\u0d30\u0d3f/i,meridiemHour:function(e,t){return 12===e&&(e=0),""===t&&4<=e||" "===t||""===t?e+12:e},meridiem:function(e,t,r){return e<4?"":e<12?"":e<17?" ":e<20?"":""}}),n.defineLocale("mn",{months:" _ _ _ _ _ _ _ _ _ _  _  ".split("_"),monthsShort:"1 _2 _3 _4 _5 _6 _7 _8 _9 _10 _11 _12 ".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY  MMMM D",LLL:"YYYY  MMMM D HH:mm",LLLL:"dddd, YYYY  MMMM D HH:mm"},meridiemParse:/\u04ae\u04e8|\u04ae\u0425/i,isPM:function(e){return""===e},meridiem:function(e,t,r){return e<12?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[] dddd LT",lastDay:"[] LT",lastWeek:"[] dddd LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:ki,ss:ki,m:ki,mm:ki,h:ki,hh:ki,d:ki,dd:ki,M:ki,MM:ki,y:ki,yy:ki},dayOfMonthOrdinalParse:/\d{1,2} \u04e9\u0434\u04e9\u0440/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+" ";default:return e}}});var Mi={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},Oi={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};function Si(e,t,r,n){var i="";if(t)switch(r){case"s":i=" ";break;case"ss":i="%d ";break;case"m":i=" ";break;case"mm":i="%d ";break;case"h":i=" ";break;case"hh":i="%d ";break;case"d":i=" ";break;case"dd":i="%d ";break;case"M":i=" ";break;case"MM":i="%d ";break;case"y":i=" ";break;case"yy":i="%d "}else switch(r){case"s":i=" ";break;case"ss":i="%d ";break;case"m":i=" ";break;case"mm":i="%d ";break;case"h":i=" ";break;case"hh":i="%d ";break;case"d":i=" ";break;case"dd":i="%d ";break;case"M":i=" ";break;case"MM":i="%d ";break;case"y":i=" ";break;case"yy":i="%d "}return i.replace(/%d/i,e)}n.defineLocale("mr",{months:"___________".split("_"),monthsShort:"._._._._._._._._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s",s:Si,ss:Si,m:Si,mm:Si,h:Si,hh:Si,d:Si,dd:Si,M:Si,MM:Si,y:Si,yy:Si},preparse:function(e){return e.replace(/[\u0967\u0968\u0969\u096a\u096b\u096c\u096d\u096e\u096f\u0966]/g,(function(e){return Oi[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return Mi[e]}))},meridiemParse:/\u0930\u093e\u0924\u094d\u0930\u0940|\u0938\u0915\u093e\u0933\u0940|\u0926\u0941\u092a\u093e\u0930\u0940|\u0938\u093e\u092f\u0902\u0915\u093e\u0933\u0940/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t?e<4?e:e+12:""===t?e:""===t?10<=e?e:e+12:""===t?e+12:void 0},meridiem:function(e,t,r){return e<4?"":e<10?"":e<17?"":e<20?"":""},week:{dow:0,doy:6}}),n.defineLocale("ms-my",{months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|tengahari|petang|malam/,meridiemHour:function(e,t){return 12===e&&(e=0),"pagi"===t?e:"tengahari"===t?11<=e?e:e+12:"petang"===t||"malam"===t?e+12:void 0},meridiem:function(e,t,r){return e<11?"pagi":e<15?"tengahari":e<19?"petang":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Esok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kelmarin pukul] LT",lastWeek:"dddd [lepas pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",ss:"%d saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}}),n.defineLocale("ms",{months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|tengahari|petang|malam/,meridiemHour:function(e,t){return 12===e&&(e=0),"pagi"===t?e:"tengahari"===t?11<=e?e:e+12:"petang"===t||"malam"===t?e+12:void 0},meridiem:function(e,t,r){return e<11?"pagi":e<15?"tengahari":e<19?"petang":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Esok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kelmarin pukul] LT",lastWeek:"dddd [lepas pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",ss:"%d saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}}),n.defineLocale("mt",{months:"Jannar_Frar_Marzu_April_Mejju_unju_Lulju_Awwissu_Settembru_Ottubru_Novembru_Diembru".split("_"),monthsShort:"Jan_Fra_Mar_Apr_Mej_un_Lul_Aww_Set_Ott_Nov_Di".split("_"),weekdays:"Il-add_It-Tnejn_It-Tlieta_L-Erbga_Il-amis_Il-imga_Is-Sibt".split("_"),weekdaysShort:"ad_Tne_Tli_Erb_am_im_Sib".split("_"),weekdaysMin:"a_Tn_Tl_Er_a_i_Si".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Illum fil-]LT",nextDay:"[Gada fil-]LT",nextWeek:"dddd [fil-]LT",lastDay:"[Il-biera fil-]LT",lastWeek:"dddd [li gadda] [fil-]LT",sameElse:"L"},relativeTime:{future:"f %s",past:"%s ilu",s:"ftit sekondi",ss:"%d sekondi",m:"minuta",mm:"%d minuti",h:"siega",hh:"%d siegat",d:"urnata",dd:"%d ranet",M:"xahar",MM:"%d xhur",y:"sena",yy:"%d sni"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d",week:{dow:1,doy:4}});var Di={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},Ti={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};n.defineLocale("my",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[.] LT []",nextDay:"[] LT []",nextWeek:"dddd LT []",lastDay:"[.] LT []",lastWeek:"[] dddd LT []",sameElse:"L"},relativeTime:{future:" %s ",past:" %s ",s:".",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},preparse:function(e){return e.replace(/[\u1041\u1042\u1043\u1044\u1045\u1046\u1047\u1048\u1049\u1040]/g,(function(e){return Ti[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return Di[e]}))},week:{dow:1,doy:4}}),n.defineLocale("nb",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan._feb._mars_april_mai_juni_juli_aug._sep._okt._nov._des.".split("_"),monthsParseExact:!0,weekdays:"sndag_mandag_tirsdag_onsdag_torsdag_fredag_lrdag".split("_"),weekdaysShort:"s._ma._ti._on._to._fr._l.".split("_"),weekdaysMin:"s_ma_ti_on_to_fr_l".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] HH:mm",LLLL:"dddd D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[i dag kl.] LT",nextDay:"[i morgen kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[i gr kl.] LT",lastWeek:"[forrige] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"noen sekunder",ss:"%d sekunder",m:"ett minutt",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dager",M:"en mned",MM:"%d mneder",y:"ett r",yy:"%d r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});var Li={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},Ei={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};n.defineLocale("ne",{months:"___________".split("_"),monthsShort:"._.__.___._._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"._._._._._._.".split("_"),weekdaysMin:"._._._._._._.".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},preparse:function(e){return e.replace(/[\u0967\u0968\u0969\u096a\u096b\u096c\u096d\u096e\u096f\u0966]/g,(function(e){return Ei[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return Li[e]}))},meridiemParse:/\u0930\u093e\u0924\u093f|\u092c\u093f\u0939\u093e\u0928|\u0926\u093f\u0909\u0901\u0938\u094b|\u0938\u093e\u0901\u091d/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t?e<4?e:e+12:""===t?e:""===t?10<=e?e:e+12:""===t?e+12:void 0},meridiem:function(e,t,r){return e<3?"":e<12?"":e<16?"":e<20?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[] dddd[,] LT",lastDay:"[] LT",lastWeek:"[] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},week:{dow:0,doy:6}});var Pi="jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),xi="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),ji=[/^jan/i,/^feb/i,/^maart|mrt.?$/i,/^apr/i,/^mei$/i,/^jun[i.]?$/i,/^jul[i.]?$/i,/^aug/i,/^sep/i,/^okt/i,/^nov/i,/^dec/i],Ri=/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december|jan\.?|feb\.?|mrt\.?|apr\.?|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i;n.defineLocale("nl-be",{months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function(e,t){return e?/-MMM-/.test(t)?xi[e.month()]:Pi[e.month()]:Pi},monthsRegex:Ri,monthsShortRegex:Ri,monthsStrictRegex:/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december)/i,monthsShortStrictRegex:/^(jan\.?|feb\.?|mrt\.?|apr\.?|mei|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,monthsParse:ji,longMonthsParse:ji,shortMonthsParse:ji,weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"zo_ma_di_wo_do_vr_za".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",ss:"%d seconden",m:"n minuut",mm:"%d minuten",h:"n uur",hh:"%d uur",d:"n dag",dd:"%d dagen",M:"n maand",MM:"%d maanden",y:"n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(e){return e+(1===e||8===e||20<=e?"ste":"de")},week:{dow:1,doy:4}});var Yi="jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),Ni="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),Ui=[/^jan/i,/^feb/i,/^maart|mrt.?$/i,/^apr/i,/^mei$/i,/^jun[i.]?$/i,/^jul[i.]?$/i,/^aug/i,/^sep/i,/^okt/i,/^nov/i,/^dec/i],Hi=/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december|jan\.?|feb\.?|mrt\.?|apr\.?|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i;n.defineLocale("nl",{months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function(e,t){return e?/-MMM-/.test(t)?Ni[e.month()]:Yi[e.month()]:Yi},monthsRegex:Hi,monthsShortRegex:Hi,monthsStrictRegex:/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december)/i,monthsShortStrictRegex:/^(jan\.?|feb\.?|mrt\.?|apr\.?|mei|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,monthsParse:Ui,longMonthsParse:Ui,shortMonthsParse:Ui,weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"zo_ma_di_wo_do_vr_za".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",ss:"%d seconden",m:"n minuut",mm:"%d minuten",h:"n uur",hh:"%d uur",d:"n dag",dd:"%d dagen",M:"n maand",MM:"%d maanden",y:"n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(e){return e+(1===e||8===e||20<=e?"ste":"de")},week:{dow:1,doy:4}}),n.defineLocale("nn",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),weekdays:"sundag_mndag_tysdag_onsdag_torsdag_fredag_laurdag".split("_"),weekdaysShort:"sun_mn_tys_ons_tor_fre_lau".split("_"),weekdaysMin:"su_m_ty_on_to_fr_l".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] H:mm",LLLL:"dddd D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[I dag klokka] LT",nextDay:"[I morgon klokka] LT",nextWeek:"dddd [klokka] LT",lastDay:"[I gr klokka] LT",lastWeek:"[Fregande] dddd [klokka] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s sidan",s:"nokre sekund",ss:"%d sekund",m:"eit minutt",mm:"%d minutt",h:"ein time",hh:"%d timar",d:"ein dag",dd:"%d dagar",M:"ein mnad",MM:"%d mnader",y:"eit r",yy:"%d r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});var Fi={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},Bi={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};n.defineLocale("pa-in",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[] dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(e){return e.replace(/[\u0a67\u0a68\u0a69\u0a6a\u0a6b\u0a6c\u0a6d\u0a6e\u0a6f\u0a66]/g,(function(e){return Bi[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return Fi[e]}))},meridiemParse:/\u0a30\u0a3e\u0a24|\u0a38\u0a35\u0a47\u0a30|\u0a26\u0a41\u0a2a\u0a39\u0a3f\u0a30|\u0a38\u0a3c\u0a3e\u0a2e/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t?e<4?e:e+12:""===t?e:""===t?10<=e?e:e+12:""===t?e+12:void 0},meridiem:function(e,t,r){return e<4?"":e<10?"":e<17?"":e<20?"":""},week:{dow:0,doy:6}});var zi="stycze_luty_marzec_kwiecie_maj_czerwiec_lipiec_sierpie_wrzesie_padziernik_listopad_grudzie".split("_"),Wi="stycznia_lutego_marca_kwietnia_maja_czerwca_lipca_sierpnia_wrzenia_padziernika_listopada_grudnia".split("_");function Gi(e){return e%10<5&&1<e%10&&~~(e/10)%10!=1}function qi(e,t,r){var n=e+" ";switch(r){case"ss":return n+(Gi(e)?"sekundy":"sekund");case"m":return t?"minuta":"minut";case"mm":return n+(Gi(e)?"minuty":"minut");case"h":return t?"godzina":"godzin";case"hh":return n+(Gi(e)?"godziny":"godzin");case"MM":return n+(Gi(e)?"miesice":"miesicy");case"yy":return n+(Gi(e)?"lata":"lat")}}function Vi(e,t,r){var n=" ";return(20<=e%100||100<=e&&e%100==0)&&(n=" de "),e+n+{ss:"secunde",mm:"minute",hh:"ore",dd:"zile",MM:"luni",yy:"ani"}[r]}function Ki(e,t,r){var n,i;return"m"===r?t?"":"":e+" "+(n=+e,i={ss:t?"__":"__",mm:t?"__":"__",hh:"__",dd:"__",MM:"__",yy:"__"}[r].split("_"),n%10==1&&n%100!=11?i[0]:2<=n%10&&n%10<=4&&(n%100<10||20<=n%100)?i[1]:i[2])}n.defineLocale("pl",{months:function(e,t){return e?""===t?"("+Wi[e.month()]+"|"+zi[e.month()]+")":/D MMMM/.test(t)?Wi[e.month()]:zi[e.month()]:zi},monthsShort:"sty_lut_mar_kwi_maj_cze_lip_sie_wrz_pa_lis_gru".split("_"),weekdays:"niedziela_poniedziaek_wtorek_roda_czwartek_pitek_sobota".split("_"),weekdaysShort:"ndz_pon_wt_r_czw_pt_sob".split("_"),weekdaysMin:"Nd_Pn_Wt_r_Cz_Pt_So".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Dzi o] LT",nextDay:"[Jutro o] LT",nextWeek:function(){switch(this.day()){case 0:return"[W niedziel o] LT";case 2:return"[We wtorek o] LT";case 3:return"[W rod o] LT";case 6:return"[W sobot o] LT";default:return"[W] dddd [o] LT"}},lastDay:"[Wczoraj o] LT",lastWeek:function(){switch(this.day()){case 0:return"[W zesz niedziel o] LT";case 3:return"[W zesz rod o] LT";case 6:return"[W zesz sobot o] LT";default:return"[W zeszy] dddd [o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"%s temu",s:"kilka sekund",ss:qi,m:qi,mm:qi,h:qi,hh:qi,d:"1 dzie",dd:"%d dni",M:"miesic",MM:qi,y:"rok",yy:qi},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),n.defineLocale("pt-br",{months:"Janeiro_Fevereiro_Maro_Abril_Maio_Junho_Julho_Agosto_Setembro_Outubro_Novembro_Dezembro".split("_"),monthsShort:"Jan_Fev_Mar_Abr_Mai_Jun_Jul_Ago_Set_Out_Nov_Dez".split("_"),weekdays:"Domingo_Segunda-feira_Tera-feira_Quarta-feira_Quinta-feira_Sexta-feira_Sbado".split("_"),weekdaysShort:"Dom_Seg_Ter_Qua_Qui_Sex_Sb".split("_"),weekdaysMin:"Do_2_3_4_5_6_S".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY [s] HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY [s] HH:mm"},calendar:{sameDay:"[Hoje s] LT",nextDay:"[Amanh s] LT",nextWeek:"dddd [s] LT",lastDay:"[Ontem s] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[ltimo] dddd [s] LT":"[ltima] dddd [s] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"h %s",s:"poucos segundos",ss:"%d segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um ms",MM:"%d meses",y:"um ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d"}),n.defineLocale("pt",{months:"Janeiro_Fevereiro_Maro_Abril_Maio_Junho_Julho_Agosto_Setembro_Outubro_Novembro_Dezembro".split("_"),monthsShort:"Jan_Fev_Mar_Abr_Mai_Jun_Jul_Ago_Set_Out_Nov_Dez".split("_"),weekdays:"Domingo_Segunda-feira_Tera-feira_Quarta-feira_Quinta-feira_Sexta-feira_Sbado".split("_"),weekdaysShort:"Dom_Seg_Ter_Qua_Qui_Sex_Sb".split("_"),weekdaysMin:"Do_2_3_4_5_6_S".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY HH:mm"},calendar:{sameDay:"[Hoje s] LT",nextDay:"[Amanh s] LT",nextWeek:"dddd [s] LT",lastDay:"[Ontem s] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[ltimo] dddd [s] LT":"[ltima] dddd [s] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"h %s",s:"segundos",ss:"%d segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um ms",MM:"%d meses",y:"um ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d",week:{dow:1,doy:4}}),n.defineLocale("ro",{months:"ianuarie_februarie_martie_aprilie_mai_iunie_iulie_august_septembrie_octombrie_noiembrie_decembrie".split("_"),monthsShort:"ian._febr._mart._apr._mai_iun._iul._aug._sept._oct._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"duminic_luni_mari_miercuri_joi_vineri_smbt".split("_"),weekdaysShort:"Dum_Lun_Mar_Mie_Joi_Vin_Sm".split("_"),weekdaysMin:"Du_Lu_Ma_Mi_Jo_Vi_S".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[azi la] LT",nextDay:"[mine la] LT",nextWeek:"dddd [la] LT",lastDay:"[ieri la] LT",lastWeek:"[fosta] dddd [la] LT",sameElse:"L"},relativeTime:{future:"peste %s",past:"%s n urm",s:"cteva secunde",ss:Vi,m:"un minut",mm:Vi,h:"o or",hh:Vi,d:"o zi",dd:Vi,M:"o lun",MM:Vi,y:"un an",yy:Vi},week:{dow:1,doy:7}});var Zi=[/^\u044f\u043d\u0432/i,/^\u0444\u0435\u0432/i,/^\u043c\u0430\u0440/i,/^\u0430\u043f\u0440/i,/^\u043c\u0430[\u0439\u044f]/i,/^\u0438\u044e\u043d/i,/^\u0438\u044e\u043b/i,/^\u0430\u0432\u0433/i,/^\u0441\u0435\u043d/i,/^\u043e\u043a\u0442/i,/^\u043d\u043e\u044f/i,/^\u0434\u0435\u043a/i];n.defineLocale("ru",{months:{format:"___________".split("_"),standalone:"___________".split("_")},monthsShort:{format:"._._._.____._._._._.".split("_"),standalone:"._.__.____._._._._.".split("_")},weekdays:{standalone:"______".split("_"),format:"______".split("_"),isFormat:/\[ ?[\u0412\u0432] ?(?:\u043f\u0440\u043e\u0448\u043b\u0443\u044e|\u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0443\u044e|\u044d\u0442\u0443)? ?\] ?dddd/},weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),monthsParse:Zi,longMonthsParse:Zi,shortMonthsParse:Zi,monthsRegex:/^(\u044f\u043d\u0432\u0430\u0440[\u044c\u044f]|\u044f\u043d\u0432\.?|\u0444\u0435\u0432\u0440\u0430\u043b[\u044c\u044f]|\u0444\u0435\u0432\u0440?\.?|\u043c\u0430\u0440\u0442\u0430?|\u043c\u0430\u0440\.?|\u0430\u043f\u0440\u0435\u043b[\u044c\u044f]|\u0430\u043f\u0440\.?|\u043c\u0430[\u0439\u044f]|\u0438\u044e\u043d[\u044c\u044f]|\u0438\u044e\u043d\.?|\u0438\u044e\u043b[\u044c\u044f]|\u0438\u044e\u043b\.?|\u0430\u0432\u0433\u0443\u0441\u0442\u0430?|\u0430\u0432\u0433\.?|\u0441\u0435\u043d\u0442\u044f\u0431\u0440[\u044c\u044f]|\u0441\u0435\u043d\u0442?\.?|\u043e\u043a\u0442\u044f\u0431\u0440[\u044c\u044f]|\u043e\u043a\u0442\.?|\u043d\u043e\u044f\u0431\u0440[\u044c\u044f]|\u043d\u043e\u044f\u0431?\.?|\u0434\u0435\u043a\u0430\u0431\u0440[\u044c\u044f]|\u0434\u0435\u043a\.?)/i,monthsShortRegex:/^(\u044f\u043d\u0432\u0430\u0440[\u044c\u044f]|\u044f\u043d\u0432\.?|\u0444\u0435\u0432\u0440\u0430\u043b[\u044c\u044f]|\u0444\u0435\u0432\u0440?\.?|\u043c\u0430\u0440\u0442\u0430?|\u043c\u0430\u0440\.?|\u0430\u043f\u0440\u0435\u043b[\u044c\u044f]|\u0430\u043f\u0440\.?|\u043c\u0430[\u0439\u044f]|\u0438\u044e\u043d[\u044c\u044f]|\u0438\u044e\u043d\.?|\u0438\u044e\u043b[\u044c\u044f]|\u0438\u044e\u043b\.?|\u0430\u0432\u0433\u0443\u0441\u0442\u0430?|\u0430\u0432\u0433\.?|\u0441\u0435\u043d\u0442\u044f\u0431\u0440[\u044c\u044f]|\u0441\u0435\u043d\u0442?\.?|\u043e\u043a\u0442\u044f\u0431\u0440[\u044c\u044f]|\u043e\u043a\u0442\.?|\u043d\u043e\u044f\u0431\u0440[\u044c\u044f]|\u043d\u043e\u044f\u0431?\.?|\u0434\u0435\u043a\u0430\u0431\u0440[\u044c\u044f]|\u0434\u0435\u043a\.?)/i,monthsStrictRegex:/^(\u044f\u043d\u0432\u0430\u0440[\u044f\u044c]|\u0444\u0435\u0432\u0440\u0430\u043b[\u044f\u044c]|\u043c\u0430\u0440\u0442\u0430?|\u0430\u043f\u0440\u0435\u043b[\u044f\u044c]|\u043c\u0430[\u044f\u0439]|\u0438\u044e\u043d[\u044f\u044c]|\u0438\u044e\u043b[\u044f\u044c]|\u0430\u0432\u0433\u0443\u0441\u0442\u0430?|\u0441\u0435\u043d\u0442\u044f\u0431\u0440[\u044f\u044c]|\u043e\u043a\u0442\u044f\u0431\u0440[\u044f\u044c]|\u043d\u043e\u044f\u0431\u0440[\u044f\u044c]|\u0434\u0435\u043a\u0430\u0431\u0440[\u044f\u044c])/i,monthsShortStrictRegex:/^(\u044f\u043d\u0432\.|\u0444\u0435\u0432\u0440?\.|\u043c\u0430\u0440[\u0442.]|\u0430\u043f\u0440\.|\u043c\u0430[\u044f\u0439]|\u0438\u044e\u043d[\u044c\u044f.]|\u0438\u044e\u043b[\u044c\u044f.]|\u0430\u0432\u0433\.|\u0441\u0435\u043d\u0442?\.|\u043e\u043a\u0442\.|\u043d\u043e\u044f\u0431?\.|\u0434\u0435\u043a\.)/i,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., H:mm",LLLL:"dddd, D MMMM YYYY ., H:mm"},calendar:{sameDay:"[, ] LT",nextDay:"[, ] LT",lastDay:"[, ] LT",nextWeek:function(e){if(e.week()===this.week())return 2===this.day()?"[] dddd, [] LT":"[] dddd, [] LT";switch(this.day()){case 0:return"[ ] dddd, [] LT";case 1:case 2:case 4:return"[ ] dddd, [] LT";case 3:case 5:case 6:return"[ ] dddd, [] LT"}},lastWeek:function(e){if(e.week()===this.week())return 2===this.day()?"[] dddd, [] LT":"[] dddd, [] LT";switch(this.day()){case 0:return"[ ] dddd, [] LT";case 1:case 2:case 4:return"[ ] dddd, [] LT";case 3:case 5:case 6:return"[ ] dddd, [] LT"}},sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",ss:Ki,m:Ki,mm:Ki,h:"",hh:Ki,d:"",dd:Ki,M:"",MM:Ki,y:"",yy:Ki},meridiemParse:/\u043d\u043e\u0447\u0438|\u0443\u0442\u0440\u0430|\u0434\u043d\u044f|\u0432\u0435\u0447\u0435\u0440\u0430/i,isPM:function(e){return/^(\u0434\u043d\u044f|\u0432\u0435\u0447\u0435\u0440\u0430)$/.test(e)},meridiem:function(e,t,r){return e<4?"":e<12?"":e<17?"":""},dayOfMonthOrdinalParse:/\d{1,2}-(\u0439|\u0433\u043e|\u044f)/,ordinal:function(e,t){switch(t){case"M":case"d":case"DDD":return e+"-";case"D":return e+"-";case"w":case"W":return e+"-";default:return e}},week:{dow:1,doy:4}});var Ji=["","","","","","","","","","","",""],$i=["","","","","","",""];n.defineLocale("sd",{months:Ji,monthsShort:Ji,weekdays:$i,weekdaysShort:$i,weekdaysMin:$i,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/\u0635\u0628\u062d|\u0634\u0627\u0645/,isPM:function(e){return""===e},meridiem:function(e,t,r){return e<12?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd [  ] LT",lastDay:"[] LT",lastWeek:"[ ] dddd [] LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(e){return e.replace(/\u060c/g,",")},postformat:function(e){return e.replace(/,/g,"")},week:{dow:1,doy:4}}),n.defineLocale("se",{months:"oajagemnnu_guovvamnnu_njukamnnu_cuoomnnu_miessemnnu_geassemnnu_suoidnemnnu_borgemnnu_akamnnu_golggotmnnu_skbmamnnu_juovlamnnu".split("_"),monthsShort:"oj_guov_njuk_cuo_mies_geas_suoi_borg_ak_golg_skb_juov".split("_"),weekdays:"sotnabeaivi_vuossrga_maebrga_gaskavahkku_duorastat_bearjadat_lvvardat".split("_"),weekdaysShort:"sotn_vuos_ma_gask_duor_bear_lv".split("_"),weekdaysMin:"s_v_m_g_d_b_L".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"MMMM D. [b.] YYYY",LLL:"MMMM D. [b.] YYYY [ti.] HH:mm",LLLL:"dddd, MMMM D. [b.] YYYY [ti.] HH:mm"},calendar:{sameDay:"[otne ti] LT",nextDay:"[ihttin ti] LT",nextWeek:"dddd [ti] LT",lastDay:"[ikte ti] LT",lastWeek:"[ovddit] dddd [ti] LT",sameElse:"L"},relativeTime:{future:"%s geaes",past:"mait %s",s:"moadde sekunddat",ss:"%d sekunddat",m:"okta minuhta",mm:"%d minuhtat",h:"okta diimmu",hh:"%d diimmut",d:"okta beaivi",dd:"%d beaivvit",M:"okta mnnu",MM:"%d mnut",y:"okta jahki",yy:"%d jagit"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),n.defineLocale("si",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"a h:mm",LTS:"a h:mm:ss",L:"YYYY/MM/DD",LL:"YYYY MMMM D",LLL:"YYYY MMMM D, a h:mm",LLLL:"YYYY MMMM D [] dddd, a h:mm:ss"},calendar:{sameDay:"[] LT[]",nextDay:"[] LT[]",nextWeek:"dddd LT[]",lastDay:"[] LT[]",lastWeek:"[] dddd LT[]",sameElse:"L"},relativeTime:{future:"%s",past:"%s ",s:" ",ss:" %d",m:"",mm:" %d",h:"",hh:" %d",d:"",dd:" %d",M:"",MM:" %d",y:"",yy:" %d"},dayOfMonthOrdinalParse:/\d{1,2} \u0dc0\u0dd0\u0db1\u0dd2/,ordinal:function(e){return e+" "},meridiemParse:/\u0db4\u0dd9\u0dbb \u0dc0\u0dbb\u0dd4|\u0db4\u0dc3\u0dca \u0dc0\u0dbb\u0dd4|\u0db4\u0dd9.\u0dc0|\u0db4.\u0dc0./,isPM:function(e){return".."===e||" "===e},meridiem:function(e,t,r){return 11<e?r?"..":" ":r?"..":" "}});var Qi="janur_februr_marec_aprl_mj_jn_jl_august_september_oktber_november_december".split("_"),Xi="jan_feb_mar_apr_mj_jn_jl_aug_sep_okt_nov_dec".split("_");function es(e){return 1<e&&e<5}function ts(e,t,r,n){var i=e+" ";switch(r){case"s":return t||n?"pr seknd":"pr sekundami";case"ss":return t||n?i+(es(e)?"sekundy":"seknd"):i+"sekundami";case"m":return t?"minta":n?"mintu":"mintou";case"mm":return t||n?i+(es(e)?"minty":"mint"):i+"mintami";case"h":return t?"hodina":n?"hodinu":"hodinou";case"hh":return t||n?i+(es(e)?"hodiny":"hodn"):i+"hodinami";case"d":return t||n?"de":"dom";case"dd":return t||n?i+(es(e)?"dni":"dn"):i+"dami";case"M":return t||n?"mesiac":"mesiacom";case"MM":return t||n?i+(es(e)?"mesiace":"mesiacov"):i+"mesiacmi";case"y":return t||n?"rok":"rokom";case"yy":return t||n?i+(es(e)?"roky":"rokov"):i+"rokmi"}}function rs(e,t,r,n){var i=e+" ";switch(r){case"s":return t||n?"nekaj sekund":"nekaj sekundami";case"ss":return i+(1===e?t?"sekundo":"sekundi":2===e?t||n?"sekundi":"sekundah":e<5?t||n?"sekunde":"sekundah":"sekund");case"m":return t?"ena minuta":"eno minuto";case"mm":return i+(1===e?t?"minuta":"minuto":2===e?t||n?"minuti":"minutama":e<5?t||n?"minute":"minutami":t||n?"minut":"minutami");case"h":return t?"ena ura":"eno uro";case"hh":return i+(1===e?t?"ura":"uro":2===e?t||n?"uri":"urama":e<5?t||n?"ure":"urami":t||n?"ur":"urami");case"d":return t||n?"en dan":"enim dnem";case"dd":return i+(1===e?t||n?"dan":"dnem":2===e?t||n?"dni":"dnevoma":t||n?"dni":"dnevi");case"M":return t||n?"en mesec":"enim mesecem";case"MM":return i+(1===e?t||n?"mesec":"mesecem":2===e?t||n?"meseca":"mesecema":e<5?t||n?"mesece":"meseci":t||n?"mesecev":"meseci");case"y":return t||n?"eno leto":"enim letom";case"yy":return i+(1===e?t||n?"leto":"letom":2===e?t||n?"leti":"letoma":e<5?t||n?"leta":"leti":t||n?"let":"leti")}}n.defineLocale("sk",{months:Qi,monthsShort:Xi,weekdays:"nedea_pondelok_utorok_streda_tvrtok_piatok_sobota".split("_"),weekdaysShort:"ne_po_ut_st_t_pi_so".split("_"),weekdaysMin:"ne_po_ut_st_t_pi_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd D. MMMM YYYY H:mm"},calendar:{sameDay:"[dnes o] LT",nextDay:"[zajtra o] LT",nextWeek:function(){switch(this.day()){case 0:return"[v nedeu o] LT";case 1:case 2:return"[v] dddd [o] LT";case 3:return"[v stredu o] LT";case 4:return"[vo tvrtok o] LT";case 5:return"[v piatok o] LT";case 6:return"[v sobotu o] LT"}},lastDay:"[vera o] LT",lastWeek:function(){switch(this.day()){case 0:return"[minul nedeu o] LT";case 1:case 2:return"[minul] dddd [o] LT";case 3:return"[minul stredu o] LT";case 4:case 5:return"[minul] dddd [o] LT";case 6:return"[minul sobotu o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"pred %s",s:ts,ss:ts,m:ts,mm:ts,h:ts,hh:ts,d:ts,dd:ts,M:ts,MM:ts,y:ts,yy:ts},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),n.defineLocale("sl",{months:"januar_februar_marec_april_maj_junij_julij_avgust_september_oktober_november_december".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedelja_ponedeljek_torek_sreda_etrtek_petek_sobota".split("_"),weekdaysShort:"ned._pon._tor._sre._et._pet._sob.".split("_"),weekdaysMin:"ne_po_to_sr_e_pe_so".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danes ob] LT",nextDay:"[jutri ob] LT",nextWeek:function(){switch(this.day()){case 0:return"[v] [nedeljo] [ob] LT";case 3:return"[v] [sredo] [ob] LT";case 6:return"[v] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[v] dddd [ob] LT"}},lastDay:"[veraj ob] LT",lastWeek:function(){switch(this.day()){case 0:return"[prejnjo] [nedeljo] [ob] LT";case 3:return"[prejnjo] [sredo] [ob] LT";case 6:return"[prejnjo] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[prejnji] dddd [ob] LT"}},sameElse:"L"},relativeTime:{future:"ez %s",past:"pred %s",s:rs,ss:rs,m:rs,mm:rs,h:rs,hh:rs,d:rs,dd:rs,M:rs,MM:rs,y:rs,yy:rs},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}}),n.defineLocale("sq",{months:"Janar_Shkurt_Mars_Prill_Maj_Qershor_Korrik_Gusht_Shtator_Tetor_Nntor_Dhjetor".split("_"),monthsShort:"Jan_Shk_Mar_Pri_Maj_Qer_Kor_Gus_Sht_Tet_Nn_Dhj".split("_"),weekdays:"E Diel_E Hn_E Mart_E Mrkur_E Enjte_E Premte_E Shtun".split("_"),weekdaysShort:"Die_Hn_Mar_Mr_Enj_Pre_Sht".split("_"),weekdaysMin:"D_H_Ma_M_E_P_Sh".split("_"),weekdaysParseExact:!0,meridiemParse:/PD|MD/,isPM:function(e){return"M"===e.charAt(0)},meridiem:function(e,t,r){return e<12?"PD":"MD"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Sot n] LT",nextDay:"[Nesr n] LT",nextWeek:"dddd [n] LT",lastDay:"[Dje n] LT",lastWeek:"dddd [e kaluar n] LT",sameElse:"L"},relativeTime:{future:"n %s",past:"%s m par",s:"disa sekonda",ss:"%d sekonda",m:"nj minut",mm:"%d minuta",h:"nj or",hh:"%d or",d:"nj dit",dd:"%d dit",M:"nj muaj",MM:"%d muaj",y:"nj vit",yy:"%d vite"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});var ns={words:{ss:["","",""],m:[" "," "],mm:["","",""],h:[" "," "],hh:["","",""],dd:["","",""],MM:["","",""],yy:["","",""]},correctGrammaticalCase:function(e,t){return 1===e?t[0]:2<=e&&e<=4?t[1]:t[2]},translate:function(e,t,r){var n=ns.words[r];return 1===r.length?t?n[0]:n[1]:e+" "+ns.correctGrammaticalCase(e,n)}};n.defineLocale("sr-cyrl",{months:"___________".split("_"),monthsShort:"._._._.____._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"._._._._._._.".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:function(){switch(this.day()){case 0:return"[] [] [] LT";case 3:return"[] [] [] LT";case 6:return"[] [] [] LT";case 1:case 2:case 4:case 5:return"[] dddd [] LT"}},lastDay:"[ ] LT",lastWeek:function(){return["[] [] [] LT","[] [] [] LT","[] [] [] LT","[] [] [] LT","[] [] [] LT","[] [] [] LT","[] [] [] LT"][this.day()]},sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:" ",ss:ns.translate,m:ns.translate,mm:ns.translate,h:ns.translate,hh:ns.translate,d:"",dd:ns.translate,M:"",MM:ns.translate,y:"",yy:ns.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}});var is={words:{ss:["sekunda","sekunde","sekundi"],m:["jedan minut","jedne minute"],mm:["minut","minute","minuta"],h:["jedan sat","jednog sata"],hh:["sat","sata","sati"],dd:["dan","dana","dana"],MM:["mesec","meseca","meseci"],yy:["godina","godine","godina"]},correctGrammaticalCase:function(e,t){return 1===e?t[0]:2<=e&&e<=4?t[1]:t[2]},translate:function(e,t,r){var n=is.words[r];return 1===r.length?t?n[0]:n[1]:e+" "+is.correctGrammaticalCase(e,n)}};n.defineLocale("sr",{months:"januar_februar_mart_april_maj_jun_jul_avgust_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj_jun_jul_avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedelja_ponedeljak_utorak_sreda_etvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sre._et._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_e_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedelju] [u] LT";case 3:return"[u] [sredu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[jue u] LT",lastWeek:function(){return["[prole] [nedelje] [u] LT","[prolog] [ponedeljka] [u] LT","[prolog] [utorka] [u] LT","[prole] [srede] [u] LT","[prolog] [etvrtka] [u] LT","[prolog] [petka] [u] LT","[prole] [subote] [u] LT"][this.day()]},sameElse:"L"},relativeTime:{future:"za %s",past:"pre %s",s:"nekoliko sekundi",ss:is.translate,m:is.translate,mm:is.translate,h:is.translate,hh:is.translate,d:"dan",dd:is.translate,M:"mesec",MM:is.translate,y:"godinu",yy:is.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}}),n.defineLocale("ss",{months:"Bhimbidvwane_Indlovana_Indlov'lenkhulu_Mabasa_Inkhwekhweti_Inhlaba_Kholwane_Ingci_Inyoni_Imphala_Lweti_Ingongoni".split("_"),monthsShort:"Bhi_Ina_Inu_Mab_Ink_Inh_Kho_Igc_Iny_Imp_Lwe_Igo".split("_"),weekdays:"Lisontfo_Umsombuluko_Lesibili_Lesitsatfu_Lesine_Lesihlanu_Umgcibelo".split("_"),weekdaysShort:"Lis_Umb_Lsb_Les_Lsi_Lsh_Umg".split("_"),weekdaysMin:"Li_Us_Lb_Lt_Ls_Lh_Ug".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Namuhla nga] LT",nextDay:"[Kusasa nga] LT",nextWeek:"dddd [nga] LT",lastDay:"[Itolo nga] LT",lastWeek:"dddd [leliphelile] [nga] LT",sameElse:"L"},relativeTime:{future:"nga %s",past:"wenteka nga %s",s:"emizuzwana lomcane",ss:"%d mzuzwana",m:"umzuzu",mm:"%d emizuzu",h:"lihora",hh:"%d emahora",d:"lilanga",dd:"%d emalanga",M:"inyanga",MM:"%d tinyanga",y:"umnyaka",yy:"%d iminyaka"},meridiemParse:/ekuseni|emini|entsambama|ebusuku/,meridiem:function(e,t,r){return e<11?"ekuseni":e<15?"emini":e<19?"entsambama":"ebusuku"},meridiemHour:function(e,t){return 12===e&&(e=0),"ekuseni"===t?e:"emini"===t?11<=e?e:e+12:"entsambama"===t||"ebusuku"===t?0===e?0:e+12:void 0},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}}),n.defineLocale("sv",{months:"januari_februari_mars_april_maj_juni_juli_augusti_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"sndag_mndag_tisdag_onsdag_torsdag_fredag_lrdag".split("_"),weekdaysShort:"sn_mn_tis_ons_tor_fre_lr".split("_"),weekdaysMin:"s_m_ti_on_to_fr_l".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [kl.] HH:mm",LLLL:"dddd D MMMM YYYY [kl.] HH:mm",lll:"D MMM YYYY HH:mm",llll:"ddd D MMM YYYY HH:mm"},calendar:{sameDay:"[Idag] LT",nextDay:"[Imorgon] LT",lastDay:"[Igr] LT",nextWeek:"[P] dddd LT",lastWeek:"[I] dddd[s] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"fr %s sedan",s:"ngra sekunder",ss:"%d sekunder",m:"en minut",mm:"%d minuter",h:"en timme",hh:"%d timmar",d:"en dag",dd:"%d dagar",M:"en mnad",MM:"%d mnader",y:"ett r",yy:"%d r"},dayOfMonthOrdinalParse:/\d{1,2}(e|a)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"e":1===t?"a":2===t?"a":"e")},week:{dow:1,doy:4}}),n.defineLocale("sw",{months:"Januari_Februari_Machi_Aprili_Mei_Juni_Julai_Agosti_Septemba_Oktoba_Novemba_Desemba".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ago_Sep_Okt_Nov_Des".split("_"),weekdays:"Jumapili_Jumatatu_Jumanne_Jumatano_Alhamisi_Ijumaa_Jumamosi".split("_"),weekdaysShort:"Jpl_Jtat_Jnne_Jtan_Alh_Ijm_Jmos".split("_"),weekdaysMin:"J2_J3_J4_J5_Al_Ij_J1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[leo saa] LT",nextDay:"[kesho saa] LT",nextWeek:"[wiki ijayo] dddd [saat] LT",lastDay:"[jana] LT",lastWeek:"[wiki iliyopita] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s baadaye",past:"tokea %s",s:"hivi punde",ss:"sekunde %d",m:"dakika moja",mm:"dakika %d",h:"saa limoja",hh:"masaa %d",d:"siku moja",dd:"masiku %d",M:"mwezi mmoja",MM:"miezi %d",y:"mwaka mmoja",yy:"miaka %d"},week:{dow:1,doy:7}});var ss={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},os={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};n.defineLocale("ta",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, HH:mm",LLLL:"dddd, D MMMM YYYY, HH:mm"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[ ] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"  ",ss:"%d ",m:" ",mm:"%d ",h:"  ",hh:"%d  ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}\u0bb5\u0ba4\u0bc1/,ordinal:function(e){return e+""},preparse:function(e){return e.replace(/[\u0be7\u0be8\u0be9\u0bea\u0beb\u0bec\u0bed\u0bee\u0bef\u0be6]/g,(function(e){return os[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return ss[e]}))},meridiemParse:/\u0baf\u0bbe\u0bae\u0bae\u0bcd|\u0bb5\u0bc8\u0b95\u0bb1\u0bc8|\u0b95\u0bbe\u0bb2\u0bc8|\u0ba8\u0ba3\u0bcd\u0baa\u0b95\u0bb2\u0bcd|\u0b8e\u0bb1\u0bcd\u0baa\u0bbe\u0b9f\u0bc1|\u0bae\u0bbe\u0bb2\u0bc8/,meridiem:function(e,t,r){return e<2?" ":e<6?" ":e<10?" ":e<14?" ":e<18?" ":e<22?" ":" "},meridiemHour:function(e,t){return 12===e&&(e=0),""===t?e<2?e:e+12:""===t||""===t?e:""===t&&10<=e?e:e+12},week:{dow:0,doy:6}}),n.defineLocale("te",{months:"___________".split("_"),monthsShort:"._.__.____._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}\u0c35/,ordinal:"%d",meridiemParse:/\u0c30\u0c3e\u0c24\u0c4d\u0c30\u0c3f|\u0c09\u0c26\u0c2f\u0c02|\u0c2e\u0c27\u0c4d\u0c2f\u0c3e\u0c39\u0c4d\u0c28\u0c02|\u0c38\u0c3e\u0c2f\u0c02\u0c24\u0c4d\u0c30\u0c02/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t?e<4?e:e+12:""===t?e:""===t?10<=e?e:e+12:""===t?e+12:void 0},meridiem:function(e,t,r){return e<4?"":e<10?"":e<17?"":e<20?"":""},week:{dow:0,doy:6}}),n.defineLocale("tet",{months:"Janeiru_Fevereiru_Marsu_Abril_Maiu_Juu_Jullu_Agustu_Setembru_Outubru_Novembru_Dezembru".split("_"),monthsShort:"Jan_Fev_Mar_Abr_Mai_Jun_Jul_Ago_Set_Out_Nov_Dez".split("_"),weekdays:"Domingu_Segunda_Tersa_Kuarta_Kinta_Sesta_Sabadu".split("_"),weekdaysShort:"Dom_Seg_Ters_Kua_Kint_Sest_Sab".split("_"),weekdaysMin:"Do_Seg_Te_Ku_Ki_Ses_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Ohin iha] LT",nextDay:"[Aban iha] LT",nextWeek:"dddd [iha] LT",lastDay:"[Horiseik iha] LT",lastWeek:"dddd [semana kotuk] [iha] LT",sameElse:"L"},relativeTime:{future:"iha %s",past:"%s liuba",s:"minutu balun",ss:"minutu %d",m:"minutu ida",mm:"minutu %d",h:"oras ida",hh:"oras %d",d:"loron ida",dd:"loron %d",M:"fulan ida",MM:"fulan %d",y:"tinan ida",yy:"tinan %d"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:1,doy:4}});var as={0:"-",1:"-",2:"-",3:"-",4:"-",5:"-",6:"-",7:"-",8:"-",9:"-",10:"-",12:"-",13:"-",20:"-",30:"-",40:"-",50:"-",60:"-",70:"-",80:"-",90:"-",100:"-"};n.defineLocale("tg",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",lastDay:"[ ] LT",nextWeek:"dddd[] [  ] LT",lastWeek:"dddd[] [  ] LT",sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},meridiemParse:/\u0448\u0430\u0431|\u0441\u0443\u0431\u04b3|\u0440\u04ef\u0437|\u0431\u0435\u0433\u043e\u04b3/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t?e<4?e:e+12:""===t?e:""===t?11<=e?e:e+12:""===t?e+12:void 0},meridiem:function(e,t,r){return e<4?"":e<11?"":e<16?"":e<19?"":""},dayOfMonthOrdinalParse:/\d{1,2}-(\u0443\u043c|\u044e\u043c)/,ordinal:function(e){return e+(as[e]||as[e%10]||as[100<=e?100:null])},week:{dow:1,doy:7}}),n.defineLocale("th",{months:"___________".split("_"),monthsShort:".._.._.._.._.._.._.._.._.._.._.._..".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"._._._._._._.".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY  H:mm",LLLL:"dddd D MMMM YYYY  H:mm"},meridiemParse:/\u0e01\u0e48\u0e2d\u0e19\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07|\u0e2b\u0e25\u0e31\u0e07\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07/,isPM:function(e){return""===e},meridiem:function(e,t,r){return e<12?"":""},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd[ ] LT",lastDay:"[ ] LT",lastWeek:"[]dddd[ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:"%s",s:"",ss:"%d ",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "}}),n.defineLocale("tl-ph",{months:"Enero_Pebrero_Marso_Abril_Mayo_Hunyo_Hulyo_Agosto_Setyembre_Oktubre_Nobyembre_Disyembre".split("_"),monthsShort:"Ene_Peb_Mar_Abr_May_Hun_Hul_Ago_Set_Okt_Nob_Dis".split("_"),weekdays:"Linggo_Lunes_Martes_Miyerkules_Huwebes_Biyernes_Sabado".split("_"),weekdaysShort:"Lin_Lun_Mar_Miy_Huw_Biy_Sab".split("_"),weekdaysMin:"Li_Lu_Ma_Mi_Hu_Bi_Sab".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"MM/D/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY HH:mm",LLLL:"dddd, MMMM DD, YYYY HH:mm"},calendar:{sameDay:"LT [ngayong araw]",nextDay:"[Bukas ng] LT",nextWeek:"LT [sa susunod na] dddd",lastDay:"LT [kahapon]",lastWeek:"LT [noong nakaraang] dddd",sameElse:"L"},relativeTime:{future:"sa loob ng %s",past:"%s ang nakalipas",s:"ilang segundo",ss:"%d segundo",m:"isang minuto",mm:"%d minuto",h:"isang oras",hh:"%d oras",d:"isang araw",dd:"%d araw",M:"isang buwan",MM:"%d buwan",y:"isang taon",yy:"%d taon"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(e){return e},week:{dow:1,doy:4}});var gs="pagh_wa_cha_wej_loS_vagh_jav_Soch_chorgh_Hut".split("_");function As(e,t,r,n){var i=function(e){var t=Math.floor(e%1e3/100),r=Math.floor(e%100/10),n=e%10,i="";return 0<t&&(i+=gs[t]+"vatlh"),0<r&&(i+=(""!==i?" ":"")+gs[r]+"maH"),0<n&&(i+=(""!==i?" ":"")+gs[n]),""===i?"pagh":i}(e);switch(r){case"ss":return i+" lup";case"mm":return i+" tup";case"hh":return i+" rep";case"dd":return i+" jaj";case"MM":return i+" jar";case"yy":return i+" DIS"}}n.defineLocale("tlh",{months:"tera jar wa_tera jar cha_tera jar wej_tera jar loS_tera jar vagh_tera jar jav_tera jar Soch_tera jar chorgh_tera jar Hut_tera jar wamaH_tera jar wamaH wa_tera jar wamaH cha".split("_"),monthsShort:"jar wa_jar cha_jar wej_jar loS_jar vagh_jar jav_jar Soch_jar chorgh_jar Hut_jar wamaH_jar wamaH wa_jar wamaH cha".split("_"),monthsParseExact:!0,weekdays:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),weekdaysShort:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),weekdaysMin:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[DaHjaj] LT",nextDay:"[waleS] LT",nextWeek:"LLL",lastDay:"[waHu] LT",lastWeek:"LLL",sameElse:"L"},relativeTime:{future:function(e){var t=e;return-1!==e.indexOf("jaj")?t.slice(0,-3)+"leS":-1!==e.indexOf("jar")?t.slice(0,-3)+"waQ":-1!==e.indexOf("DIS")?t.slice(0,-3)+"nem":t+" pIq"},past:function(e){var t=e;return-1!==e.indexOf("jaj")?t.slice(0,-3)+"Hu":-1!==e.indexOf("jar")?t.slice(0,-3)+"wen":-1!==e.indexOf("DIS")?t.slice(0,-3)+"ben":t+" ret"},s:"puS lup",ss:As,m:"wa tup",mm:As,h:"wa rep",hh:As,d:"wa jaj",dd:As,M:"wa jar",MM:As,y:"wa DIS",yy:As},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});var us={1:"'inci",5:"'inci",8:"'inci",70:"'inci",80:"'inci",2:"'nci",7:"'nci",20:"'nci",50:"'nci",3:"'nc",4:"'nc",100:"'nc",6:"'nc",9:"'uncu",10:"'uncu",30:"'uncu",60:"'nc",90:"'nc"};function Is(e,t,r,n){var i={s:["viensas secunds","'iensas secunds"],ss:[e+" secunds",e+" secunds"],m:["'n mut","'iens mut"],mm:[e+" muts",e+" muts"],h:["'n ora","'iensa ora"],hh:[e+" oras",e+" oras"],d:["'n ziua","'iensa ziua"],dd:[e+" ziuas",e+" ziuas"],M:["'n mes","'iens mes"],MM:[e+" mesen",e+" mesen"],y:["'n ar","'iens ar"],yy:[e+" ars",e+" ars"]};return n?i[r][0]:t?i[r][0]:i[r][1]}function Cs(e,t,r){var n,i;return"m"===r?t?"":"":"h"===r?t?"":"":e+" "+(n=+e,i={ss:t?"__":"__",mm:t?"__":"__",hh:t?"__":"__",dd:"__",MM:"__",yy:"__"}[r].split("_"),n%10==1&&n%100!=11?i[0]:2<=n%10&&n%10<=4&&(n%100<10||20<=n%100)?i[1]:i[2])}function ls(e){return function(){return e+""+(11===this.hours()?"":"")+"] LT"}}n.defineLocale("tr",{months:"Ocak_ubat_Mart_Nisan_Mays_Haziran_Temmuz_Austos_Eyll_Ekim_Kasm_Aralk".split("_"),monthsShort:"Oca_ub_Mar_Nis_May_Haz_Tem_Au_Eyl_Eki_Kas_Ara".split("_"),weekdays:"Pazar_Pazartesi_Sal_aramba_Perembe_Cuma_Cumartesi".split("_"),weekdaysShort:"Paz_Pts_Sal_ar_Per_Cum_Cts".split("_"),weekdaysMin:"Pz_Pt_Sa_a_Pe_Cu_Ct".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bugn saat] LT",nextDay:"[yarn saat] LT",nextWeek:"[gelecek] dddd [saat] LT",lastDay:"[dn] LT",lastWeek:"[geen] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s nce",s:"birka saniye",ss:"%d saniye",m:"bir dakika",mm:"%d dakika",h:"bir saat",hh:"%d saat",d:"bir gn",dd:"%d gn",M:"bir ay",MM:"%d ay",y:"bir yl",yy:"%d yl"},ordinal:function(e,t){switch(t){case"d":case"D":case"Do":case"DD":return e;default:if(0===e)return e+"'nc";var r=e%10;return e+(us[r]||us[e%100-r]||us[100<=e?100:null])}},week:{dow:1,doy:7}}),n.defineLocale("tzl",{months:"Januar_Fevraglh_Mar_Avru_Mai_Gn_Julia_Guscht_Setemvar_Listopts_Noemvar_Zecemvar".split("_"),monthsShort:"Jan_Fev_Mar_Avr_Mai_Gn_Jul_Gus_Set_Lis_Noe_Zec".split("_"),weekdays:"Sladi_Lnei_Maitzi_Mrcuri_Xhadi_Vineri_Sturi".split("_"),weekdaysShort:"Sl_Ln_Mai_Mr_Xh_Vi_St".split("_"),weekdaysMin:"S_L_Ma_M_Xh_Vi_S".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"D. MMMM [dallas] YYYY",LLL:"D. MMMM [dallas] YYYY HH.mm",LLLL:"dddd, [li] D. MMMM [dallas] YYYY HH.mm"},meridiemParse:/d\'o|d\'a/i,isPM:function(e){return"d'o"===e.toLowerCase()},meridiem:function(e,t,r){return 11<e?r?"d'o":"D'O":r?"d'a":"D'A"},calendar:{sameDay:"[oxhi ] LT",nextDay:"[dem ] LT",nextWeek:"dddd [] LT",lastDay:"[ieiri ] LT",lastWeek:"[sr el] dddd [lasteu ] LT",sameElse:"L"},relativeTime:{future:"osprei %s",past:"ja%s",s:Is,ss:Is,m:Is,mm:Is,h:Is,hh:Is,d:Is,dd:Is,M:Is,MM:Is,y:Is,yy:Is},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),n.defineLocale("tzm-latn",{months:"innayr_brayr_mars_ibrir_mayyw_ywnyw_ywlywz_wt_wtanbir_ktwbr_nwwanbir_dwjnbir".split("_"),monthsShort:"innayr_brayr_mars_ibrir_mayyw_ywnyw_ywlywz_wt_wtanbir_ktwbr_nwwanbir_dwjnbir".split("_"),weekdays:"asamas_aynas_asinas_akras_akwas_asimwas_asiyas".split("_"),weekdaysShort:"asamas_aynas_asinas_akras_akwas_asimwas_asiyas".split("_"),weekdaysMin:"asamas_aynas_asinas_akras_akwas_asimwas_asiyas".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[asdkh g] LT",nextDay:"[aska g] LT",nextWeek:"dddd [g] LT",lastDay:"[assant g] LT",lastWeek:"dddd [g] LT",sameElse:"L"},relativeTime:{future:"dadkh s yan %s",past:"yan %s",s:"imik",ss:"%d imik",m:"minu",mm:"%d minu",h:"saa",hh:"%d tassain",d:"ass",dd:"%d ossan",M:"ayowr",MM:"%d iyyirn",y:"asgas",yy:"%d isgasn"},week:{dow:6,doy:12}}),n.defineLocale("tzm",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"dddd [] LT",sameElse:"L"},relativeTime:{future:"   %s",past:" %s",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d o",M:"o",MM:"%d ",y:"",yy:"%d "},week:{dow:6,doy:12}}),n.defineLocale("ug-cn",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY-M-D-",LLL:"YYYY-M-D- HH:mm",LLLL:"dddd YYYY-M-D- HH:mm"},meridiemParse:/\u064a\u06d0\u0631\u0649\u0645 \u0643\u06d0\u0686\u06d5|\u0633\u06d5\u06be\u06d5\u0631|\u0686\u06c8\u0634\u062a\u0649\u0646 \u0628\u06c7\u0631\u06c7\u0646|\u0686\u06c8\u0634|\u0686\u06c8\u0634\u062a\u0649\u0646 \u0643\u06d0\u064a\u0649\u0646|\u0643\u06d5\u0686/,meridiemHour:function(e,t){return 12===e&&(e=0)," "===t||""===t||" "===t?e:" "===t||""===t?e+12:11<=e?e:e+12},meridiem:function(e,t,r){var n=100*e+t;return n<600?" ":n<900?"":n<1130?" ":n<1230?"":n<1800?" ":""},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"[] dddd [] LT",lastDay:"[] LT",lastWeek:"[] dddd [] LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}(-\u0643\u06c8\u0646\u0649|-\u0626\u0627\u064a|-\u06be\u06d5\u067e\u062a\u06d5)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"-";case"w":case"W":return e+"-";default:return e}},preparse:function(e){return e.replace(/\u060c/g,",")},postformat:function(e){return e.replace(/,/g,"")},week:{dow:1,doy:7}}),n.defineLocale("uk",{months:{format:"___________".split("_"),standalone:"___________".split("_")},monthsShort:"___________".split("_"),weekdays:function(e,t){var r={nominative:"______".split("_"),accusative:"______".split("_"),genitive:"______".split("_")};return!0===e?r.nominative.slice(1,7).concat(r.nominative.slice(0,1)):e?r[/(\[[\u0412\u0432\u0423\u0443]\]) ?dddd/.test(t)?"accusative":/\[?(?:\u043c\u0438\u043d\u0443\u043b\u043e\u0457|\u043d\u0430\u0441\u0442\u0443\u043f\u043d\u043e\u0457)? ?\] ?dddd/.test(t)?"genitive":"nominative"][e.day()]:r.nominative},weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., HH:mm",LLLL:"dddd, D MMMM YYYY ., HH:mm"},calendar:{sameDay:ls("[ "),nextDay:ls("[ "),lastDay:ls("[ "),nextWeek:ls("[] dddd ["),lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return ls("[] dddd [").call(this);case 1:case 2:case 4:return ls("[] dddd [").call(this)}},sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",ss:Cs,m:Cs,mm:Cs,h:"",hh:Cs,d:"",dd:Cs,M:"",MM:Cs,y:"",yy:Cs},meridiemParse:/\u043d\u043e\u0447\u0456|\u0440\u0430\u043d\u043a\u0443|\u0434\u043d\u044f|\u0432\u0435\u0447\u043e\u0440\u0430/,isPM:function(e){return/^(\u0434\u043d\u044f|\u0432\u0435\u0447\u043e\u0440\u0430)$/.test(e)},meridiem:function(e,t,r){return e<4?"":e<12?"":e<17?"":""},dayOfMonthOrdinalParse:/\d{1,2}-(\u0439|\u0433\u043e)/,ordinal:function(e,t){switch(t){case"M":case"d":case"DDD":case"w":case"W":return e+"-";case"D":return e+"-";default:return e}},week:{dow:1,doy:7}});var cs=["","","","","","","","","","","",""],ds=["","","","","","",""];return n.defineLocale("ur",{months:cs,monthsShort:cs,weekdays:ds,weekdaysShort:ds,weekdaysMin:ds,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/\u0635\u0628\u062d|\u0634\u0627\u0645/,isPM:function(e){return""===e},meridiem:function(e,t,r){return e<12?"":""},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[  ] LT",lastWeek:"[] dddd [] LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(e){return e.replace(/\u060c/g,",")},postformat:function(e){return e.replace(/,/g,"")},week:{dow:1,doy:4}}),n.defineLocale("uz-latn",{months:"Yanvar_Fevral_Mart_Aprel_May_Iyun_Iyul_Avgust_Sentabr_Oktabr_Noyabr_Dekabr".split("_"),monthsShort:"Yan_Fev_Mar_Apr_May_Iyun_Iyul_Avg_Sen_Okt_Noy_Dek".split("_"),weekdays:"Yakshanba_Dushanba_Seshanba_Chorshanba_Payshanba_Juma_Shanba".split("_"),weekdaysShort:"Yak_Dush_Sesh_Chor_Pay_Jum_Shan".split("_"),weekdaysMin:"Ya_Du_Se_Cho_Pa_Ju_Sha".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"D MMMM YYYY, dddd HH:mm"},calendar:{sameDay:"[Bugun soat] LT [da]",nextDay:"[Ertaga] LT [da]",nextWeek:"dddd [kuni soat] LT [da]",lastDay:"[Kecha soat] LT [da]",lastWeek:"[O'tgan] dddd [kuni soat] LT [da]",sameElse:"L"},relativeTime:{future:"Yaqin %s ichida",past:"Bir necha %s oldin",s:"soniya",ss:"%d soniya",m:"bir daqiqa",mm:"%d daqiqa",h:"bir soat",hh:"%d soat",d:"bir kun",dd:"%d kun",M:"bir oy",MM:"%d oy",y:"bir yil",yy:"%d yil"},week:{dow:1,doy:7}}),n.defineLocale("uz",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"D MMMM YYYY, dddd HH:mm"},calendar:{sameDay:"[ ] LT []",nextDay:"[] LT []",nextWeek:"dddd [ ] LT []",lastDay:"[ ] LT []",lastWeek:"[] dddd [ ] LT []",sameElse:"L"},relativeTime:{future:" %s ",past:"  %s ",s:"",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},week:{dow:1,doy:7}}),n.defineLocale("vi",{months:"thng 1_thng 2_thng 3_thng 4_thng 5_thng 6_thng 7_thng 8_thng 9_thng 10_thng 11_thng 12".split("_"),monthsShort:"Th01_Th02_Th03_Th04_Th05_Th06_Th07_Th08_Th09_Th10_Th11_Th12".split("_"),monthsParseExact:!0,weekdays:"ch nht_th hai_th ba_th t_th nm_th su_th by".split("_"),weekdaysShort:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysMin:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysParseExact:!0,meridiemParse:/sa|ch/i,isPM:function(e){return/^ch$/i.test(e)},meridiem:function(e,t,r){return e<12?r?"sa":"SA":r?"ch":"CH"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [nm] YYYY",LLL:"D MMMM [nm] YYYY HH:mm",LLLL:"dddd, D MMMM [nm] YYYY HH:mm",l:"DD/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"},calendar:{sameDay:"[Hm nay lc] LT",nextDay:"[Ngy mai lc] LT",nextWeek:"dddd [tun ti lc] LT",lastDay:"[Hm qua lc] LT",lastWeek:"dddd [tun ri lc] LT",sameElse:"L"},relativeTime:{future:"%s ti",past:"%s trc",s:"vi giy",ss:"%d giy",m:"mt pht",mm:"%d pht",h:"mt gi",hh:"%d gi",d:"mt ngy",dd:"%d ngy",M:"mt thng",MM:"%d thng",y:"mt nm",yy:"%d nm"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(e){return e},week:{dow:1,doy:4}}),n.defineLocale("x-pseudo",{months:"J~~r_F~br~r_~Mrc~h_p~rl_~M_~J~_Jl~_~gst~_Sp~tmb~r_~ctb~r_~vm~br_~Dc~mbr".split("_"),monthsShort:"J~_~Fb_~Mr_~pr_~M_~J_~Jl_~g_~Sp_~ct_~v_~Dc".split("_"),monthsParseExact:!0,weekdays:"S~d~_M~d~_T~sd~_Wd~sd~_T~hrs~d_~Frd~_S~tr~d".split("_"),weekdaysShort:"S~_~M_~T_~Wd_~Th_~Fr_~St".split("_"),weekdaysMin:"S~_M~_T_~W_T~h_Fr~_S".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[T~d~ t] LT",nextDay:"[T~m~rr~w t] LT",nextWeek:"dddd [t] LT",lastDay:"[~st~rd~ t] LT",lastWeek:"[L~st] dddd [t] LT",sameElse:"L"},relativeTime:{future:"~ %s",past:"%s ~g",s:" ~fw ~sc~ds",ss:"%d s~c~ds",m:" ~m~t",mm:"%d m~~ts",h:"~ h~r",hh:"%d h~rs",d:" ~d",dd:"%d d~s",M:" ~m~th",MM:"%d m~t~hs",y:" ~r",yy:"%d ~rs"},dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:1,doy:4}}),n.defineLocale("yo",{months:"Sr_Erele_rna_Igbe_Ebibi_Okudu_Agmo_Ogun_Owewe_wara_Belu_p".split("_"),monthsShort:"Sr_Erl_rn_Igb_Ebi_Oku_Ag_Ogu_Owe_wa_Bel_p".split("_"),weekdays:"Aiku_Aje_Isgun_jru_jb_ti_Abamta".split("_"),weekdaysShort:"Aik_Aje_Is_jr_jb_ti_Aba".split("_"),weekdaysMin:"Ai_Aj_Is_r_b_t_Ab".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Oni ni] LT",nextDay:"[la ni] LT",nextWeek:"dddd [s ton'b] [ni] LT",lastDay:"[Ana ni] LT",lastWeek:"dddd [s tol] [ni] LT",sameElse:"L"},relativeTime:{future:"ni %s",past:"%s kja",s:"isju aaya die",ss:"aaya %d",m:"isju kan",mm:"isju %d",h:"wakati kan",hh:"wakati %d",d:"j kan",dd:"j %d",M:"osu kan",MM:"osu %d",y:"dun kan",yy:"dun %d"},dayOfMonthOrdinalParse:/\u1ecdj\u1ecd\u0301\s\d{1,2}/,ordinal:"j %d",week:{dow:1,doy:4}}),n.defineLocale("zh-cn",{months:"___________".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYYMD",LLL:"YYYYMDAhmm",LLLL:"YYYYMDddddAhmm",l:"YYYY/M/D",ll:"YYYYMD",lll:"YYYYMD HH:mm",llll:"YYYYMDdddd HH:mm"},meridiemParse:/\u51cc\u6668|\u65e9\u4e0a|\u4e0a\u5348|\u4e2d\u5348|\u4e0b\u5348|\u665a\u4e0a/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t||""===t||""===t?e:""===t||""===t?e+12:11<=e?e:e+12},meridiem:function(e,t,r){var n=100*e+t;return n<600?"":n<900?"":n<1130?"":n<1230?"":n<1800?"":""},calendar:{sameDay:"[]LT",nextDay:"[]LT",nextWeek:"[]ddddLT",lastDay:"[]LT",lastWeek:"[]ddddLT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(\u65e5|\u6708|\u5468)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"";case"M":return e+"";case"w":case"W":return e+"";default:return e}},relativeTime:{future:"%s",past:"%s",s:"",ss:"%d ",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "},week:{dow:1,doy:4}}),n.defineLocale("zh-hk",{months:"___________".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYYMD",LLL:"YYYYMD HH:mm",LLLL:"YYYYMDdddd HH:mm",l:"YYYY/M/D",ll:"YYYYMD",lll:"YYYYMD HH:mm",llll:"YYYYMDdddd HH:mm"},meridiemParse:/\u51cc\u6668|\u65e9\u4e0a|\u4e0a\u5348|\u4e2d\u5348|\u4e0b\u5348|\u665a\u4e0a/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t||""===t||""===t?e:""===t?11<=e?e:e+12:""===t||""===t?e+12:void 0},meridiem:function(e,t,r){var n=100*e+t;return n<600?"":n<900?"":n<1130?"":n<1230?"":n<1800?"":""},calendar:{sameDay:"[]LT",nextDay:"[]LT",nextWeek:"[]ddddLT",lastDay:"[]LT",lastWeek:"[]ddddLT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(\u65e5|\u6708|\u9031)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"";case"M":return e+"";case"w":case"W":return e+"";default:return e}},relativeTime:{future:"%s",past:"%s",s:"",ss:"%d ",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "}}),n.defineLocale("zh-tw",{months:"___________".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYYMD",LLL:"YYYYMD HH:mm",LLLL:"YYYYMDdddd HH:mm",l:"YYYY/M/D",ll:"YYYYMD",lll:"YYYYMD HH:mm",llll:"YYYYMDdddd HH:mm"},meridiemParse:/\u51cc\u6668|\u65e9\u4e0a|\u4e0a\u5348|\u4e2d\u5348|\u4e0b\u5348|\u665a\u4e0a/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t||""===t||""===t?e:""===t?11<=e?e:e+12:""===t||""===t?e+12:void 0},meridiem:function(e,t,r){var n=100*e+t;return n<600?"":n<900?"":n<1130?"":n<1230?"":n<1800?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[]dddd LT",lastDay:"[] LT",lastWeek:"[]dddd LT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(\u65e5|\u6708|\u9031)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"";case"M":return e+"";case"w":case"W":return e+"";default:return e}},relativeTime:{future:"%s",past:"%s",s:"",ss:"%d ",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "}}),n.locale("en"),n}()}).call(this,r(90)(e))},function(e,t,r){"use strict";var n=r(22),i=r(3),s=r(151),o=r(12),a=r(2);class g extends s.a{updateNewAppIds(e,t){Object(a.log)("updating newAppIds...");const r=Object(n.difference)(Object(n.keys)(e),Object(n.keys)(t)).map(Number);return i.a.new_app_ids=r,r}applyBlockByDefault(e){if(i.a.block_by_default){Object(a.log)("applying block-by-default...");const{selected_app_ids:t}=i.a;Object(n.each)(e,e=>{t[e]=1}),i.a.selected_app_ids=t}}_buildCategories(e){const t=i.a.selected_app_ids||{};let r,n,s,o;const a=[],g={};for(r in e.apps)if(e.apps.hasOwnProperty(r)){if(n=e.apps[r].cat,A=`category_${n}`,chrome.i18n.getMessage(A,void 0)===`category_${n}`&&(n="uncategorized"),s=t.hasOwnProperty(r),g[n]&&g[n].trackers[e.apps[r].name])continue;g.hasOwnProperty(n)?(g[n].num_total++,s&&g[n].num_blocked++):g[n]={id:n,name:function(e,t){return chrome.i18n.getMessage(e,void 0)}(`category_${n}`),description:function(e,t){return chrome.i18n.getMessage(e,void 0)}(`category_${n}_desc`),img_name:"advertising"===n?"adv":"social_media"===n?"smed":n,num_total:1,num_blocked:s?1:0,trackers:[]},g[n].trackers.push({id:r,name:e.apps[r].name,description:"",blocked:s,shouldShow:!0,catId:n})}var A;for(o in g)if(g.hasOwnProperty(o)){const e=g[o];e.trackers&&e.trackers.sort((e,t)=>(e=e.name.toLowerCase())>(t=t.name.toLowerCase())?1:e<t?-1:0),a.push(e)}return a.sort((e,t)=>(e=e.trackers?e.trackers.length:0)>(t=t.trackers?t.trackers.length:0)?-1:e<t?1:0),a}processList(e,t,r){const{patterns:s}=t,g=s.regex,A={apps:t.apps,bugs:t.bugs,firstPartyExceptions:t.firstPartyExceptions,patterns:{host:s.host,host_path:s.host_path,path:s.path,regex:{}},version:t.version,JUST_UPDATED_WITH_NEW_TRACKERS:!1};Object(a.log)("initializing bugdb regexes...");for(const e in g)g.hasOwnProperty(e)&&(A.patterns.regex[e]=new RegExp(g[e],"i"));Object(a.log)("setting bugdb noneSelected/allSelected...");const u=Object(n.size)(i.a.selected_app_ids);if(A.noneSelected=0===u,Object(o.defineLazyProperty)(A,"allSelected",()=>{return!!Object(n.size)(i.a.selected_app_ids)&&Object(n.every)(A.apps,(e,t)=>i.a.selected_app_ids.hasOwnProperty(t))}),Object(a.log)("processed bugdb..."),!e){const e=i.a.bugs;let r;if(e)if(e.hasOwnProperty("version")&&t.version>e.version)(r=this.updateNewAppIds(t.apps,e.apps)).length&&(this.applyBlockByDefault(r),A.JUST_UPDATED_WITH_NEW_TRACKERS=!0);else if(e.hasOwnProperty("bugsVersion")&&t.version!==e.bugsVersion){const i=Object(n.reduce)(e.bugs,(e,t)=>(e[t.aid]=!0,e),{});(r=this.updateNewAppIds(t.apps,i)).length&&(this.applyBlockByDefault(r),t.version>e.bugsVersion&&(A.JUST_UPDATED_WITH_NEW_TRACKERS=!0))}i.a.bugs=t}return A.categories=this._buildCategories(A),this.db=A,r||Object(o.flushChromeMemoryCache)(),!0}}t.a=new g("bugs")},,function(e,t,r){"use strict";var n=r(22),i=r(77),s=r(35),o=r(3),a=r(18),g=r(2),A=r(12);t.a=new class{constructor(){this.getStoredOffers(),this.currentOffer=null,this.ports=new Map,this.channelsSupported="object"==typeof chrome.runtime.onConnect,this.panelHubClosedListener=this.panelHubClosedListener.bind(this)}deleteReward(e){delete this.storedOffers[e],this.updateStoredOffers()}markRewardRead(e){const t=this.unreadOfferIds.indexOf(e);-1!==t&&(this.unreadOfferIds.splice(t,1),this.updateStoredOffers())}sendSignal(e){const{offerId:t,actionId:r,origin:n,type:i}=e,o={type:i,origin:n?`ghostery-${n}`:"ghostery",data:{action_id:r}};"offer-action-signal"===i&&(o.data.offer_id=t),Object(g.log)("sendSignal: ",o),s.a.modules["offers-v2"].background.actions.processRealEstateMessage(o)}async filterOffersByRemote(){await s.a.modules["offers-v2"].isReady();const e=s.a.modules["offers-v2"].background.actions.getStoredOffers({filters:{by_rs_dest:"ghostery"}}),t={};(e||[]).forEach(({offer_id:e,attrs:r={},offer_info:i})=>{const s=(this.storedOffers||{})[e];if(s){const o=Object(n.clone)(s);o.attrs=r,o.offer_data=i,t[e]=o}}),this.storedOffers=t,this.unreadOfferIds=this.unreadOfferIds.filter(e=>t[e])}async getStoredOffers(){const{storedOffers:e,unreadOfferIds:t,totalOffersSeen:r}=await Object(g.prefsGet)("storedOffers","unreadOfferIds","totalOffersSeen");this.storedOffers=e||{},this.unreadOfferIds=t||[],this.totalOffersSeen=r||0}updateStoredOffers(){Object(g.prefsSet)({storedOffers:this.storedOffers}),Object(g.prefsSet)({unreadOfferIds:this.unreadOfferIds}).then(()=>{i.a.update()})}showHotDogOrOffer(e,t){this.updateStoredOffers(),this.totalOffersSeen++,Object(g.prefsSet)({totalOffersSeen:this.totalOffersSeen}),this.currentOffer=t;const r=a.a.getTabInfo(e);return o.a.enable_offers&&r&&!r.rewards?(this.channelsSupported&&(this.ports.has(e)&&(this.ports.get(e).disconnect(),this.ports.delete(e)),this.connectListenerAdded||(this.connectListenerAdded=!0,chrome.runtime.onConnect.addListener(e=>{if(e&&"rewardsPort"===e.name&&e.sender&&e.sender.tab&&e.sender.tab.id){const t=e.sender.tab.id;this.ports.has(t)||(this.ports.set(t,e),this.ports.get(t).onMessage.addListener(e=>{const r=o.a.rewards_opted_in?"showOffer":"showHotDog";switch(e.name){case"rewardsLoaded":this.ports.get(t).postMessage({name:r,reward:this.currentOffer,conf:{rewardsPromptAccepted:o.a.rewards_accepted}});break;case"rewardSignal":this.sendSignal(e.message);break;case"rewardSeen":this.markRewardRead(e.offerId),i.a.update()}}))}}))),Object(A.injectScript)(e,"dist/rewards.js","dist/css/rewards_styles.css","document_start").catch(e=>(Object(g.log)("rewards injectScript error",e),!1))):Promise.resolve(!1)}panelHubClosedListener(){this.sendSignal({offerId:null,actionId:"hub_closed",origin:"rewards-hub",type:"action-signal"})}}},function(e,t,r){"use strict";(function(e){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
var n=r(58),i=r(59),s=r(60);function o(){return g.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function a(e,t){if(o()<t)throw new RangeError("Invalid typed array length");return g.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=g.prototype:(null===e&&(e=new g(t)),e.length=t),e}function g(e,t,r){if(!(g.TYPED_ARRAY_SUPPORT||this instanceof g))return new g(e,t,r);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return I(this,e)}return A(this,e,t,r)}function A(e,t,r,n){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,r,n){if(t.byteLength,r<0||t.byteLength<r)throw new RangeError("'offset' is out of bounds");if(t.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");t=void 0===r&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,r):new Uint8Array(t,r,n);g.TYPED_ARRAY_SUPPORT?(e=t).__proto__=g.prototype:e=C(e,t);return e}(e,t,r,n):"string"==typeof t?function(e,t,r){"string"==typeof r&&""!==r||(r="utf8");if(!g.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var n=0|c(t,r),i=(e=a(e,n)).write(t,r);i!==n&&(e=e.slice(0,i));return e}(e,t,r):function(e,t){if(g.isBuffer(t)){var r=0|l(t.length);return 0===(e=a(e,r)).length?e:(t.copy(e,0,0,r),e)}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(n=t.length)!=n?a(e,0):C(e,t);if("Buffer"===t.type&&s(t.data))return C(e,t.data)}var n;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function u(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function I(e,t){if(u(t),e=a(e,t<0?0:0|l(t)),!g.TYPED_ARRAY_SUPPORT)for(var r=0;r<t;++r)e[r]=0;return e}function C(e,t){var r=t.length<0?0:0|l(t.length);e=a(e,r);for(var n=0;n<r;n+=1)e[n]=255&t[n];return e}function l(e){if(e>=o())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o().toString(16)+" bytes");return 0|e}function c(e,t){if(g.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var r=e.length;if(0===r)return 0;for(var n=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return F(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return B(e).length;default:if(n)return F(e).length;t=(""+t).toLowerCase(),n=!0}}function d(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return T(this,t,r);case"utf8":case"utf-8":return M(this,t,r);case"ascii":return S(this,t,r);case"latin1":case"binary":return D(this,t,r);case"base64":return k(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return L(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function h(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function f(e,t,r,n,i){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof t&&(t=g.from(t,n)),g.isBuffer(t))return 0===t.length?-1:p(e,t,r,n,i);if("number"==typeof t)return t&=255,g.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):p(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function p(e,t,r,n,i){var s,o=1,a=e.length,g=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;o=2,a/=2,g/=2,r/=2}function A(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(i){var u=-1;for(s=r;s<a;s++)if(A(e,s)===A(t,-1===u?0:s-u)){if(-1===u&&(u=s),s-u+1===g)return u*o}else-1!==u&&(s-=s-u),u=-1}else for(r+g>a&&(r=a-g),s=r;s>=0;s--){for(var I=!0,C=0;C<g;C++)if(A(e,s+C)!==A(t,C)){I=!1;break}if(I)return s}return-1}function m(e,t,r,n){r=Number(r)||0;var i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;var s=t.length;if(s%2!=0)throw new TypeError("Invalid hex string");n>s/2&&(n=s/2);for(var o=0;o<n;++o){var a=parseInt(t.substr(2*o,2),16);if(isNaN(a))return o;e[r+o]=a}return o}function _(e,t,r,n){return z(F(t,e.length-r),e,r,n)}function y(e,t,r,n){return z(function(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function b(e,t,r,n){return y(e,t,r,n)}function v(e,t,r,n){return z(B(t),e,r,n)}function w(e,t,r,n){return z(function(e,t){for(var r,n,i,s=[],o=0;o<e.length&&!((t-=2)<0);++o)r=e.charCodeAt(o),n=r>>8,i=r%256,s.push(i),s.push(n);return s}(t,e.length-r),e,r,n)}function k(e,t,r){return 0===t&&r===e.length?n.fromByteArray(e):n.fromByteArray(e.slice(t,r))}function M(e,t,r){r=Math.min(e.length,r);for(var n=[],i=t;i<r;){var s,o,a,g,A=e[i],u=null,I=A>239?4:A>223?3:A>191?2:1;if(i+I<=r)switch(I){case 1:A<128&&(u=A);break;case 2:128==(192&(s=e[i+1]))&&(g=(31&A)<<6|63&s)>127&&(u=g);break;case 3:s=e[i+1],o=e[i+2],128==(192&s)&&128==(192&o)&&(g=(15&A)<<12|(63&s)<<6|63&o)>2047&&(g<55296||g>57343)&&(u=g);break;case 4:s=e[i+1],o=e[i+2],a=e[i+3],128==(192&s)&&128==(192&o)&&128==(192&a)&&(g=(15&A)<<18|(63&s)<<12|(63&o)<<6|63&a)>65535&&g<1114112&&(u=g)}null===u?(u=65533,I=1):u>65535&&(u-=65536,n.push(u>>>10&1023|55296),u=56320|1023&u),n.push(u),i+=I}return function(e){var t=e.length;if(t<=O)return String.fromCharCode.apply(String,e);var r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=O));return r}(n)}t.Buffer=g,t.SlowBuffer=function(e){+e!=e&&(e=0);return g.alloc(+e)},t.INSPECT_MAX_BYTES=50,g.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=o(),g.poolSize=8192,g._augment=function(e){return e.__proto__=g.prototype,e},g.from=function(e,t,r){return A(null,e,t,r)},g.TYPED_ARRAY_SUPPORT&&(g.prototype.__proto__=Uint8Array.prototype,g.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&g[Symbol.species]===g&&Object.defineProperty(g,Symbol.species,{value:null,configurable:!0})),g.alloc=function(e,t,r){return function(e,t,r,n){return u(t),t<=0?a(e,t):void 0!==r?"string"==typeof n?a(e,t).fill(r,n):a(e,t).fill(r):a(e,t)}(null,e,t,r)},g.allocUnsafe=function(e){return I(null,e)},g.allocUnsafeSlow=function(e){return I(null,e)},g.isBuffer=function(e){return!(null==e||!e._isBuffer)},g.compare=function(e,t){if(!g.isBuffer(e)||!g.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var r=e.length,n=t.length,i=0,s=Math.min(r,n);i<s;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},g.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},g.concat=function(e,t){if(!s(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return g.alloc(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var n=g.allocUnsafe(t),i=0;for(r=0;r<e.length;++r){var o=e[r];if(!g.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(n,i),i+=o.length}return n},g.byteLength=c,g.prototype._isBuffer=!0,g.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)h(this,t,t+1);return this},g.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)h(this,t,t+3),h(this,t+1,t+2);return this},g.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)h(this,t,t+7),h(this,t+1,t+6),h(this,t+2,t+5),h(this,t+3,t+4);return this},g.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?M(this,0,e):d.apply(this,arguments)},g.prototype.equals=function(e){if(!g.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===g.compare(this,e)},g.prototype.inspect=function(){var e="",r=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(e+=" ... ")),"<Buffer "+e+">"},g.prototype.compare=function(e,t,r,n,i){if(!g.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return-1;if(t>=r)return 1;if(this===e)return 0;for(var s=(i>>>=0)-(n>>>=0),o=(r>>>=0)-(t>>>=0),a=Math.min(s,o),A=this.slice(n,i),u=e.slice(t,r),I=0;I<a;++I)if(A[I]!==u[I]){s=A[I],o=u[I];break}return s<o?-1:o<s?1:0},g.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},g.prototype.indexOf=function(e,t,r){return f(this,e,t,r,!0)},g.prototype.lastIndexOf=function(e,t,r){return f(this,e,t,r,!1)},g.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var s=!1;;)switch(n){case"hex":return m(this,e,t,r);case"utf8":case"utf-8":return _(this,e,t,r);case"ascii":return y(this,e,t,r);case"latin1":case"binary":return b(this,e,t,r);case"base64":return v(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return w(this,e,t,r);default:if(s)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),s=!0}},g.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var O=4096;function S(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function D(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function T(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var i="",s=t;s<r;++s)i+=H(e[s]);return i}function L(e,t,r){for(var n=e.slice(t,r),i="",s=0;s<n.length;s+=2)i+=String.fromCharCode(n[s]+256*n[s+1]);return i}function E(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function P(e,t,r,n,i,s){if(!g.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<s)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function x(e,t,r,n){t<0&&(t=65535+t+1);for(var i=0,s=Math.min(e.length-r,2);i<s;++i)e[r+i]=(t&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function j(e,t,r,n){t<0&&(t=4294967295+t+1);for(var i=0,s=Math.min(e.length-r,4);i<s;++i)e[r+i]=t>>>8*(n?i:3-i)&255}function R(e,t,r,n,i,s){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function Y(e,t,r,n,s){return s||R(e,0,r,4),i.write(e,t,r,n,23,4),r+4}function N(e,t,r,n,s){return s||R(e,0,r,8),i.write(e,t,r,n,52,8),r+8}g.prototype.slice=function(e,t){var r,n=this.length;if((e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e),g.TYPED_ARRAY_SUPPORT)(r=this.subarray(e,t)).__proto__=g.prototype;else{var i=t-e;r=new g(i,void 0);for(var s=0;s<i;++s)r[s]=this[s+e]}return r},g.prototype.readUIntLE=function(e,t,r){e|=0,t|=0,r||E(e,t,this.length);for(var n=this[e],i=1,s=0;++s<t&&(i*=256);)n+=this[e+s]*i;return n},g.prototype.readUIntBE=function(e,t,r){e|=0,t|=0,r||E(e,t,this.length);for(var n=this[e+--t],i=1;t>0&&(i*=256);)n+=this[e+--t]*i;return n},g.prototype.readUInt8=function(e,t){return t||E(e,1,this.length),this[e]},g.prototype.readUInt16LE=function(e,t){return t||E(e,2,this.length),this[e]|this[e+1]<<8},g.prototype.readUInt16BE=function(e,t){return t||E(e,2,this.length),this[e]<<8|this[e+1]},g.prototype.readUInt32LE=function(e,t){return t||E(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},g.prototype.readUInt32BE=function(e,t){return t||E(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},g.prototype.readIntLE=function(e,t,r){e|=0,t|=0,r||E(e,t,this.length);for(var n=this[e],i=1,s=0;++s<t&&(i*=256);)n+=this[e+s]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*t)),n},g.prototype.readIntBE=function(e,t,r){e|=0,t|=0,r||E(e,t,this.length);for(var n=t,i=1,s=this[e+--n];n>0&&(i*=256);)s+=this[e+--n]*i;return s>=(i*=128)&&(s-=Math.pow(2,8*t)),s},g.prototype.readInt8=function(e,t){return t||E(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},g.prototype.readInt16LE=function(e,t){t||E(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},g.prototype.readInt16BE=function(e,t){t||E(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},g.prototype.readInt32LE=function(e,t){return t||E(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},g.prototype.readInt32BE=function(e,t){return t||E(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},g.prototype.readFloatLE=function(e,t){return t||E(e,4,this.length),i.read(this,e,!0,23,4)},g.prototype.readFloatBE=function(e,t){return t||E(e,4,this.length),i.read(this,e,!1,23,4)},g.prototype.readDoubleLE=function(e,t){return t||E(e,8,this.length),i.read(this,e,!0,52,8)},g.prototype.readDoubleBE=function(e,t){return t||E(e,8,this.length),i.read(this,e,!1,52,8)},g.prototype.writeUIntLE=function(e,t,r,n){(e=+e,t|=0,r|=0,n)||P(this,e,t,r,Math.pow(2,8*r)-1,0);var i=1,s=0;for(this[t]=255&e;++s<r&&(i*=256);)this[t+s]=e/i&255;return t+r},g.prototype.writeUIntBE=function(e,t,r,n){(e=+e,t|=0,r|=0,n)||P(this,e,t,r,Math.pow(2,8*r)-1,0);var i=r-1,s=1;for(this[t+i]=255&e;--i>=0&&(s*=256);)this[t+i]=e/s&255;return t+r},g.prototype.writeUInt8=function(e,t,r){return e=+e,t|=0,r||P(this,e,t,1,255,0),g.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},g.prototype.writeUInt16LE=function(e,t,r){return e=+e,t|=0,r||P(this,e,t,2,65535,0),g.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):x(this,e,t,!0),t+2},g.prototype.writeUInt16BE=function(e,t,r){return e=+e,t|=0,r||P(this,e,t,2,65535,0),g.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):x(this,e,t,!1),t+2},g.prototype.writeUInt32LE=function(e,t,r){return e=+e,t|=0,r||P(this,e,t,4,4294967295,0),g.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):j(this,e,t,!0),t+4},g.prototype.writeUInt32BE=function(e,t,r){return e=+e,t|=0,r||P(this,e,t,4,4294967295,0),g.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):j(this,e,t,!1),t+4},g.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t|=0,!n){var i=Math.pow(2,8*r-1);P(this,e,t,r,i-1,-i)}var s=0,o=1,a=0;for(this[t]=255&e;++s<r&&(o*=256);)e<0&&0===a&&0!==this[t+s-1]&&(a=1),this[t+s]=(e/o>>0)-a&255;return t+r},g.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t|=0,!n){var i=Math.pow(2,8*r-1);P(this,e,t,r,i-1,-i)}var s=r-1,o=1,a=0;for(this[t+s]=255&e;--s>=0&&(o*=256);)e<0&&0===a&&0!==this[t+s+1]&&(a=1),this[t+s]=(e/o>>0)-a&255;return t+r},g.prototype.writeInt8=function(e,t,r){return e=+e,t|=0,r||P(this,e,t,1,127,-128),g.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},g.prototype.writeInt16LE=function(e,t,r){return e=+e,t|=0,r||P(this,e,t,2,32767,-32768),g.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):x(this,e,t,!0),t+2},g.prototype.writeInt16BE=function(e,t,r){return e=+e,t|=0,r||P(this,e,t,2,32767,-32768),g.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):x(this,e,t,!1),t+2},g.prototype.writeInt32LE=function(e,t,r){return e=+e,t|=0,r||P(this,e,t,4,2147483647,-2147483648),g.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):j(this,e,t,!0),t+4},g.prototype.writeInt32BE=function(e,t,r){return e=+e,t|=0,r||P(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),g.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):j(this,e,t,!1),t+4},g.prototype.writeFloatLE=function(e,t,r){return Y(this,e,t,!0,r)},g.prototype.writeFloatBE=function(e,t,r){return Y(this,e,t,!1,r)},g.prototype.writeDoubleLE=function(e,t,r){return N(this,e,t,!0,r)},g.prototype.writeDoubleBE=function(e,t,r){return N(this,e,t,!1,r)},g.prototype.copy=function(e,t,r,n){if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var i,s=n-r;if(this===e&&r<t&&t<n)for(i=s-1;i>=0;--i)e[i+t]=this[i+r];else if(s<1e3||!g.TYPED_ARRAY_SUPPORT)for(i=0;i<s;++i)e[i+t]=this[i+r];else Uint8Array.prototype.set.call(e,this.subarray(r,r+s),t);return s},g.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!g.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;var s;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(s=t;s<r;++s)this[s]=e;else{var o=g.isBuffer(e)?e:F(new g(e,n).toString()),a=o.length;for(s=0;s<r-t;++s)this[s+t]=o[s%a]}return this};var U=/[^+\/0-9A-Za-z-_]/g;function H(e){return e<16?"0"+e.toString(16):e.toString(16)}function F(e,t){var r;t=t||1/0;for(var n=e.length,i=null,s=[],o=0;o<n;++o){if((r=e.charCodeAt(o))>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&s.push(239,191,189);continue}if(o+1===n){(t-=3)>-1&&s.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&s.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&s.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;s.push(r)}else if(r<2048){if((t-=2)<0)break;s.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;s.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;s.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return s}function B(e){return n.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(U,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function z(e,t,r,n){for(var i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}}).call(this,r(27))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isContentScriptsSupported=
/*!
 * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */
function(){return void 0!==i.default&&void 0!==i.default.browser&&i.default.browser.contentScripts},Object.defineProperty(t,"browser",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(t,"window",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"chrome",{enumerable:!0,get:function(){return s.default}});var n=o(r(198)),i=o(r(316)),s=o(r(396));function o(e){return e&&e.__esModule?e:{default:e}}},,function(e,t,r){"use strict";var n=r(47),i=r(170),s=r(18);const o=1e3;t.a=new class{constructor(){this._foundBugs={},this._foundApps={}}update(e,t,r,n,i){this._init(e)&&t&&(this._updateFoundBugs(e,t,r,n,i),this._updateFoundApps(e,t))}getBugs(e){return this._init(e)?this._foundBugs[e]:{}}getApps(e,t,r,n){if(!this._init(e))return[];r&&this._checkForCompatibilityIssues(e,r);const{apps:i,appsMetadata:s}=this._foundApps[e],o=[];if(n){const{appsById:t}=this._foundApps[e];t.hasOwnProperty(n)&&o.push(i[t[n]])}else o.push(...i),t&&o.sort((e,t)=>{const r=s[e.id].sortingName,n=s[t.id].sortingName;return r>n?1:r<n?-1:0});return o}getAppsById(e){if(!this._init(e))return[];const{appsById:t}=this._foundApps[e];return t}getCategories(e,t){if(!this._init(e))return[];const r=[],i={},s=this.getBugs(e),{db:o}=n.a;let a,g,A;if(!s)return s;for(a in s)s.hasOwnProperty(a)&&(g=o.bugs[a].aid,A=o.apps[g].cat,i.hasOwnProperty(A)?i[A].appIds.includes(g)||(i[A].appIds.push(g),i[A].trackers.push({id:g,name:o.apps[g].name,blocked:s[a].blocked}),s[a].blocked?i[A].blocked++:i[A].allowed++,i[A].total++):i[A]={id:A,name:A,appIds:[g],trackers:[{id:g,name:o.apps[g].name,blocked:s[a].blocked}],blocked:s[a].blocked?1:0,allowed:s[a].blocked?0:1,total:1});for(A in i)i.hasOwnProperty(A)&&r.push(i[A]);return t&&r.sort((e,t)=>(e=e.name.toLowerCase())>(t=t.name.toLowerCase())?1:e<t?-1:0),r}getAppsCount(e){return this._init(e)?this._foundApps[e].apps.length:0}getAppsCountByIssues(e,t){if(!this._init(e))return{compatibility:0,insecure:0,latency:0,total:0,all:0};t&&this._checkForCompatibilityIssues(e,t);const{compatibility:r,insecure:n,latency:i}=this._foundApps[e].issueCounts;return{compatibility:r,insecure:n,latency:i,total:r+n+i,all:this._foundApps[e].apps.length}}getAppsCountByBlocked(e){if(!this._init(e))return{blocked:0,allowed:0};const{blocked:t}=this._foundApps[e].issueCounts;return{blocked:t,allowed:this._foundApps[e].apps.length-t}}checkLatencyIssue(e,t,r){if(!this._init(e))return 0;if(!r)return 0;if(r<o)return 0;if(!this._foundBugs[e][t])return 0;if(this._foundBugs[e][t].hasLatencyIssue)return 0;this._foundBugs[e][t].hasLatencyIssue=!0;const{aid:i}=n.a.db.bugs[t],{apps:s,appsById:a,issueCounts:g}=this._foundApps[e];if(a.hasOwnProperty(i)){const e=s[a[i]];e.hasLatencyIssue||g.latency++,e.hasLatencyIssue=!0}return i}clear(e){delete this._foundBugs[e],delete this._foundApps[e]}_init(e){return!!e&&(this._foundBugs.hasOwnProperty(e)||(this._foundBugs[e]={}),this._foundApps.hasOwnProperty(e)||(this._foundApps[e]={apps:[],appsMetadata:{},appsById:{},issueCounts:{compatibility:0,insecure:0,latency:0,blocked:0}}),!0)}_checkForCompatibilityIssues(e,t){const{apps:r,appsMetadata:n,issueCounts:s}=this._foundApps[e];r.forEach(e=>{const{id:r}=e;n[r].needsCompatibilityCheck&&(e.hasCompatibilityIssue=!!e.blocked&&i.a.hasIssue(r,t),e.hasCompatibilityIssue&&s.compatibility++,n[r].needsCompatibilityCheck=!1)})}_updateFoundBugs(e,t,r,n,i){this._foundBugs[e].hasOwnProperty(t)||(this._foundBugs[e][t]={sources:[],hasLatencyIssue:!1,hasInsecureIssue:!1,blocked:!0});const o=this._foundBugs[e][t];if(o.sources.push({src:r,blocked:n,type:i.toLowerCase()}),!o.hasInsecureIssue&&!r.startsWith("https")){const t=s.a.getTabInfo(e);o.hasInsecureIssue="https"===t.protocol}o.blocked=o.blocked&&n}_updateFoundApps(e,t){const{db:r}=n.a,{aid:i}=r.bugs[t],{hasLatencyIssue:s,hasInsecureIssue:o,blocked:a,sources:g}=this._foundBugs[e][t],{apps:A,appsMetadata:u,appsById:I,issueCounts:C}=this._foundApps[e];if(I.hasOwnProperty(i)){const e=A[I[i]];!e.hasLatencyIssue&&s&&C.latency++,!e.hasInsecureIssue&&o&&C.insecure++,e.blocked&&!a&&C.blocked--,e.sources=g,e.hasLatencyIssue=e.hasLatencyIssue||s,e.hasInsecureIssue=e.hasInsecureIssue||o,e.blocked=e.blocked&&a,u[i].needsCompatibilityCheck=u[i].needsCompatibilityCheck&&e.blocked}else{const{name:e,cat:t}=r.apps[i],n=A.push({id:i,name:e,cat:t,blocked:a,sources:g,hasCompatibilityIssue:!1,hasLatencyIssue:s,hasInsecureIssue:o});s&&C.latency++,o&&C.insecure++,a&&C.blocked++,u[i]={needsCompatibilityCheck:a,sortingName:e.toLowerCase()},I[i]=n-1}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generateUUID=function(){function e(){return Math.floor(65536*(1+(0,n.default)())).toString(16).substring(1)}return`${e()}${e()}-${e()}-${e()}-${e()}-${e()}${e()}${e()}`},t.timestamp=function(){return Math.round(Date.now()/1e3)},t.timestampMS=a,t.weekDay=function(){return(new Date).getDay()+1},t.dayHour=function(){return(new Date).getHours()},t.getLatestOfferInstallTs=function(){const e=String(s.default.app.version),t=+a(),r=i.default.get("offersInstallInfo",null);if(null===r)return i.default.set("offersInstallInfo",`${e}|${t}`),t;const n=(A=r.split("|"),u=2,function(e){if(Array.isArray(e))return e}(A)||function(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var r=[],n=!0,i=!1,s=void 0;try{for(var o,a=e[Symbol.iterator]();!(n=(o=a.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){i=!0,s=e}finally{try{n||null==a.return||a.return()}finally{if(i)throw s}}return r}}(A,u)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()),o=n[0],g=n[1];var A,u;if(o!==e)return i.default.set("offersInstallInfo",`${e}|${t}`),t;if(!isNaN(+g))return+g;return i.default.set("offersInstallInfo",`${e}|${t}`),t},t.getABNumber=function(){if(i.default.has("offersUniqueNumber"))return+i.default.get("offersUniqueNumber",0);const e=Math.floor(1e4*(0,n.default)());return i.default.set("offersUniqueNumber",String(e)),e},t.hashString=function(e){let t=5381;for(let r=0,n=e.length;r<n;r+=1)t=33*t^e.charCodeAt(r);return(t>>>0)%2147483648},t.oncePerInterval=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3e5;const r={};return function(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const i=n.key,s=void 0===i?"default-key":i;return r[s]&&r[s]+t>Date.now()?{cached:!0}:(r[s]=Date.now(),e.apply(this,[n]),{cached:!1})}},t.randRange=g,t.shouldKeepResource=function(e){const t=Number(i.default.get("offersUserGroup",-1)),r=!Number.isNaN(t)&&t>=0,n=r?t:g(0,100);r||i.default.set("offersUserGroup",n.toString());return n>=e},t.isDeveloper=function(){return i.default.get("developer",!1)||i.default.get("offersDevFlag",!1)};var n=o(r(148)),i=o(r(19)),s=o(r(33));function o(e){return e&&e.__esModule?e:{default:e}}function a(){return Date.now()}function g(e,t){return Math.floor(Math.random()*(t-e))+e}},,function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));var n=r(6),i=r(10);function s(e,t){return function(r){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return r.lift(new o(e,t))}}var o=function(){function e(e,t){this.project=e,this.thisArg=t}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.project,this.thisArg))},e}(),a=function(e){function t(t,r,n){var i=e.call(this,t)||this;return i.project=r,i.count=0,i.thisArg=n||i,i}return n.b(t,e),t.prototype._next=function(e){var t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(e){return void this.destination.error(e)}this.destination.next(t)},t}(i.a)},,function(e,t,r){"use strict";t.byteLength=function(e){var t=A(e),r=t[0],n=t[1];return 3*(r+n)/4-n},t.toByteArray=function(e){var t,r,n=A(e),o=n[0],a=n[1],g=new s(function(e,t,r){return 3*(t+r)/4-r}(0,o,a)),u=0,I=a>0?o-4:o;for(r=0;r<I;r+=4)t=i[e.charCodeAt(r)]<<18|i[e.charCodeAt(r+1)]<<12|i[e.charCodeAt(r+2)]<<6|i[e.charCodeAt(r+3)],g[u++]=t>>16&255,g[u++]=t>>8&255,g[u++]=255&t;2===a&&(t=i[e.charCodeAt(r)]<<2|i[e.charCodeAt(r+1)]>>4,g[u++]=255&t);1===a&&(t=i[e.charCodeAt(r)]<<10|i[e.charCodeAt(r+1)]<<4|i[e.charCodeAt(r+2)]>>2,g[u++]=t>>8&255,g[u++]=255&t);return g},t.fromByteArray=function(e){for(var t,r=e.length,i=r%3,s=[],o=0,a=r-i;o<a;o+=16383)s.push(u(e,o,o+16383>a?a:o+16383));1===i?(t=e[r-1],s.push(n[t>>2]+n[t<<4&63]+"==")):2===i&&(t=(e[r-2]<<8)+e[r-1],s.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"="));return s.join("")};for(var n=[],i=[],s="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,g=o.length;a<g;++a)n[a]=o[a],i[o.charCodeAt(a)]=a;function A(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function u(e,t,r){for(var i,s,o=[],a=t;a<r;a+=3)i=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]),o.push(n[(s=i)>>18&63]+n[s>>12&63]+n[s>>6&63]+n[63&s]);return o.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,r,n,i){var s,o,a=8*i-n-1,g=(1<<a)-1,A=g>>1,u=-7,I=r?i-1:0,C=r?-1:1,l=e[t+I];for(I+=C,s=l&(1<<-u)-1,l>>=-u,u+=a;u>0;s=256*s+e[t+I],I+=C,u-=8);for(o=s&(1<<-u)-1,s>>=-u,u+=n;u>0;o=256*o+e[t+I],I+=C,u-=8);if(0===s)s=1-A;else{if(s===g)return o?NaN:1/0*(l?-1:1);o+=Math.pow(2,n),s-=A}return(l?-1:1)*o*Math.pow(2,s-n)},t.write=function(e,t,r,n,i,s){var o,a,g,A=8*s-i-1,u=(1<<A)-1,I=u>>1,C=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,l=n?0:s-1,c=n?1:-1,d=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,o=u):(o=Math.floor(Math.log(t)/Math.LN2),t*(g=Math.pow(2,-o))<1&&(o--,g*=2),(t+=o+I>=1?C/g:C*Math.pow(2,1-I))*g>=2&&(o++,g/=2),o+I>=u?(a=0,o=u):o+I>=1?(a=(t*g-1)*Math.pow(2,i),o+=I):(a=t*Math.pow(2,I-1)*Math.pow(2,i),o=0));i>=8;e[r+l]=255&a,l+=c,a/=256,i-=8);for(o=o<<i|a,A+=i;A>0;e[r+l]=255&o,l+=c,o/=256,A-=8);e[r+l-c]|=128*d}},function(e,t){var r={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==r.call(e)}},function(e,t,r){"use strict";function n(e){return e&&"function"==typeof e.schedule}r.d(t,"a",(function(){return n}))},function(e,t,r){"use strict";r.d(t,"a",(function(){return a})),r.d(t,"c",(function(){return u})),r.d(t,"d",(function(){return I}));var n=r(26),i=r(153),s=r(7),o=[n.a],a="display: none !important;";function g(e){for(var t=5381,r=e.length-1;r>=0;r-=1)t=33*t^e.charCodeAt(r);return t>>>0}function A(e,t,r){for(var n=[],i=5381,s=t-1;s>=0;s-=1)"."===e[s]&&s<r&&n.push(i>>>0),i=33*i^e.charCodeAt(s);return n.push(i>>>0),n}function u(e,t){var r=function(e,t){var r=null,n=t.indexOf(".");if(-1!==n){var i=t.slice(n+1);r=e.slice(0,-i.length-1)}return r}(e,t);return null!==r?A(r,r.length,r.length):[]}function I(e,t){return A(e,e.length,e.length-t.length)}function C(e){for(var t=1;t<e.length;t+=1){var r=e.charCodeAt(t);if(!(45===r||95===r||r>=48&&r<=57||r>=65&&r<=90||r>=97&&r<=122)){if(t<e.length-1){var n=e.charCodeAt(t+1);if(91===r||46===r||58===r||32===r&&(62===n||43===n||126===n||46===n||35===n))return!0}return!1}}return!0}function l(e,t){return e.startsWith('href^="',t)||e.startsWith('href*="',t)||e.startsWith('href="',t)}var c,d,h=(c="undefined"!=typeof document?document.createElement("div"):{matches:function(){}},d=/^[#.]?[\w-.]+$/,function(e){if(d.test(e))return!0;try{!function(e){c.matches(e)}(e)}catch(e){return!1}return!0});function f(e){var t,r="script:has-text(",n=!1;if(e.startsWith(r)&&e.endsWith(")")){for(var i=1,s=r.length,o=e.length,a=-1;s<o&&0!==i;s+=1){var g=e.charCodeAt(s);92!==a?(40===g&&(i+=1),41===g&&(i-=1)):n=!0,a=g}if(s===o)return["script",[!0===n?(t=e.slice(r.length,s-1),t.replace(/[\\]([^\\])/g,"$1")):e.slice(r.length,s-1)]]}}var p=function(){function e(e){var t=e.mask,r=e.selector,n=e.entities,i=e.hostnames,s=e.notEntities,o=e.notHostnames,a=e.rawLine,g=e.style;this.mask=t,this.selector=r,this.entities=n,this.hostnames=i,this.notEntities=s,this.notHostnames=o,this.style=g,this.id=void 0,this.rawLine=a}return e.parse=function(t,r){void 0===r&&(r=!1);var n,o,a,A,u,I,c=0,d=t.indexOf("#"),p=d+1,m=p+1;if(t.length>p&&"@"===t[p]&&(c=Object(s.m)(c,1),m+=1),d>0){for(var _=[],y=[],b=[],v=[],w=t.slice(0,d).split(","),k=0;k<w.length;k+=1){var M=w[k];Object(s.i)(M)&&(M=Object(i.c)(M),c=Object(s.m)(c,4));var O=126===M.charCodeAt(0),S=42===M.charCodeAt(M.length-1)&&46===M.charCodeAt(M.length-2),D=O?1:0,T=S?M.length-2:M.length,L=g(!0===O||!0===S?M.slice(D,T):M);O?S?y.push(L):v.push(L):S?_.push(L):b.push(L)}0!==_.length&&(A=new Uint32Array(_).sort()),0!==b.length&&(o=new Uint32Array(b).sort()),0!==y.length&&(u=new Uint32Array(y).sort()),0!==v.length&&(a=new Uint32Array(v).sort())}if(94===t.charCodeAt(m)&&Object(s.g)(t,"script:has-text(",m+1)&&41===t.charCodeAt(t.length-1)){var E=m+1,P=t.length;if(c=Object(s.m)(c,64),void 0===f(n=t.slice(E,P)))return null}else if(t.length-m>4&&43===t.charCodeAt(m)&&Object(s.g)(t,"+js(",m))c=Object(s.m)(c,2),n=t.slice(m+4,t.length-1);else{for(var x=t.indexOf(":",m);-1!==x;){var j=x+1;if(Object(s.g)(t,"style",j)){if("("!==t[j+5]||")"!==t[t.length-1])return null;n=t.slice(m,x),I=t.slice(j+6,-1)}else if(Object(s.g)(t,"-abp-",j)||Object(s.g)(t,"contains",j)||Object(s.g)(t,"has",j)||Object(s.g)(t,"if",j)||Object(s.g)(t,"if-not",j)||Object(s.g)(t,"matches-css",j)||Object(s.g)(t,"matches-css-after",j)||Object(s.g)(t,"matches-css-before",j)||Object(s.g)(t,"properties",j)||Object(s.g)(t,"subject",j)||Object(s.g)(t,"xpath",j))return null;x=t.indexOf(":",j)}if(void 0===n&&m<t.length&&(n=t.slice(m)),void 0===n||!h(n))return null}if(void 0!==n&&(Object(s.i)(n)&&(c=Object(s.m)(c,4)),!1===Object(s.h)(c,64))){var R=n.charCodeAt(0),Y=n.charCodeAt(1),N=n.charCodeAt(2);!1===Object(s.h)(c,2)&&(46===R&&C(n)?c=Object(s.m)(c,8):35===R&&C(n)?c=Object(s.m)(c,16):97===R&&91===Y&&104===N&&l(n,2)?c=Object(s.m)(c,32):91===R&&104===Y&&l(n,1)&&(c=Object(s.m)(c,32)))}return new e({entities:A,hostnames:o,mask:c,notEntities:u,notHostnames:a,rawLine:!0===r?t:void 0,selector:n,style:I})},e.deserialize=function(t){var r=t.getUint8(),n=Object(s.h)(r,4),i=t.getUint8();return new e({mask:r,selector:n?t.getUTF8():t.getCosmeticSelector(),entities:1==(1&i)?t.getUint32Array():void 0,hostnames:2==(2&i)?t.getUint32Array():void 0,notEntities:4==(4&i)?t.getUint32Array():void 0,notHostnames:8==(8&i)?t.getUint32Array():void 0,rawLine:16==(16&i)?n?t.getUTF8():t.getASCII():void 0,style:32==(32&i)?t.getASCII():void 0})},e.prototype.isCosmeticFilter=function(){return!0},e.prototype.isNetworkFilter=function(){return!1},e.prototype.serialize=function(e){e.pushUint8(this.mask);var t=e.getPos();e.pushUint8(0),this.isUnicode()?e.pushUTF8(this.selector):e.pushCosmeticSelector(this.selector);var r=0;void 0!==this.entities&&(r|=1,e.pushUint32Array(this.entities)),void 0!==this.hostnames&&(r|=2,e.pushUint32Array(this.hostnames)),void 0!==this.notEntities&&(r|=4,e.pushUint32Array(this.notEntities)),void 0!==this.notHostnames&&(r|=8,e.pushUint32Array(this.notHostnames)),void 0!==this.rawLine&&(r|=16,this.isUnicode()?e.pushUTF8(this.rawLine):e.pushASCII(this.rawLine)),void 0!==this.style&&(r|=32,e.pushASCII(this.style)),e.setByte(t,r)},e.prototype.getSerializedSize=function(e){var t=2;return this.isUnicode()?t+=n.b.sizeOfUTF8(this.selector):t+=n.b.sizeOfCosmeticSelector(this.selector,e),void 0!==this.entities&&(t+=n.b.sizeOfUint32Array(this.entities)),void 0!==this.hostnames&&(t+=n.b.sizeOfUint32Array(this.hostnames)),void 0!==this.notHostnames&&(t+=n.b.sizeOfUint32Array(this.notHostnames)),void 0!==this.notEntities&&(t+=n.b.sizeOfUint32Array(this.notEntities)),void 0!==this.rawLine&&(this.isUnicode()?t+=n.b.sizeOfUTF8(this.rawLine):t+=n.b.sizeOfASCII(this.rawLine)),void 0!==this.style&&(t+=n.b.sizeOfASCII(this.style)),t},e.prototype.toString=function(){if(void 0!==this.rawLine)return this.rawLine;var e="";return void 0===this.hostnames&&void 0===this.entities&&void 0===this.notHostnames&&void 0===this.notEntities||(e+="<hostnames>"),this.isUnhide()?e+="#@#":e+="##",this.isScriptInject()?(e+="+js(",e+=this.selector,e+=")"):e+=this.selector,e},e.prototype.match=function(e,t){if(!1===this.hasHostnameConstraint())return!0;if(!e&&this.hasHostnameConstraint())return!1;var r=void 0!==this.entities||void 0!==this.notEntities?u(e,t):[],n=void 0!==this.hostnames||void 0!==this.notHostnames?I(e,t):[];if(void 0!==this.notHostnames)for(var i=0;i<n.length;i+=1)if(Object(s.a)(this.notHostnames,n[i]))return!1;if(void 0!==this.notEntities)for(i=0;i<r.length;i+=1)if(Object(s.a)(this.notEntities,r[i]))return!1;if(void 0!==this.hostnames||void 0!==this.entities){if(void 0!==this.hostnames)for(i=0;i<n.length;i+=1)if(Object(s.a)(this.hostnames,n[i]))return!0;if(void 0!==this.entities)for(i=0;i<r.length;i+=1)if(Object(s.a)(this.entities,r[i]))return!0;return!1}return!0},e.prototype.getTokens=function(){var e=[];if(void 0!==this.hostnames)for(var t=0;t<this.hostnames.length;t+=1)e.push(new Uint32Array([this.hostnames[t]]));if(void 0!==this.entities)for(t=0;t<this.entities.length;t+=1)e.push(new Uint32Array([this.entities[t]]));if(0===e.length&&!1===this.isUnhide())if(this.isIdSelector()||this.isClassSelector()){for(var r=1,n=this.selector;r<n.length;r+=1){var i=n.charCodeAt(r);if(32===i||46===i||58===i||91===i)break}e.push(new Uint32Array([Object(s.e)(n.slice(1,r))]))}else if(this.isHrefSelector()){var a=(n=this.getSelector()).indexOf("href");if(-1===a)return o;a+=4;var g=!1,A=!0;42===n.charCodeAt(a)?(g=!0,a+=1):94===n.charCodeAt(a)?a+=1:A=!1,a+=2;var u=n.indexOf('"',a);if(-1===u)return o;e.push(new Uint32Array(Object(s.o)(this.selector.slice(a,u),g,A)))}return 0===e.length?o:e},e.prototype.getScript=function(e){var t=this.getSelector(),r=[];if(-1!==t.indexOf(",")){var n=t.split(",");t=n[0],r=n.slice(1).map((function(e){return e.trim()}))}var i=e.get(t);if(void 0!==i){for(var s=0;s<r.length;s+=1)i=i.replace("{{"+(s+1)+"}}",r[s]);return i}},e.prototype.hasHostnameConstraint=function(){return void 0!==this.hostnames||void 0!==this.entities||void 0!==this.notEntities||void 0!==this.notHostnames},e.prototype.getId=function(){return void 0===this.id&&(this.id=function(e,t,r,n,i,s,o){var a=179421^e;if(void 0!==t)for(var g=0;g<t.length;g+=1)a=33*a^t.charCodeAt(g);if(void 0!==r)for(g=0;g<r.length;g+=1)a=33*a^r[g];if(void 0!==n)for(g=0;g<n.length;g+=1)a=33*a^n[g];if(void 0!==i)for(g=0;g<i.length;g+=1)a=33*a^i[g];if(void 0!==s)for(g=0;g<s.length;g+=1)a=33*a^s[g];if(void 0!==o)for(g=0;g<o.length;g+=1)a=33*a^o.charCodeAt(g);return a>>>0}(this.mask,this.selector,this.hostnames,this.entities,this.notHostnames,this.notEntities,this.style)),this.id},e.prototype.hasCustomStyle=function(){return void 0!==this.style},e.prototype.getStyle=function(){return this.style||a},e.prototype.getSelector=function(){return this.selector},e.prototype.getExtendedSelector=function(){return f(this.selector)},e.prototype.isUnhide=function(){return Object(s.h)(this.mask,1)},e.prototype.isScriptInject=function(){return Object(s.h)(this.mask,2)},e.prototype.isCSS=function(){return!1===this.isScriptInject()},e.prototype.isIdSelector=function(){return Object(s.h)(this.mask,16)},e.prototype.isClassSelector=function(){return Object(s.h)(this.mask,8)},e.prototype.isHrefSelector=function(){return Object(s.h)(this.mask,32)},e.prototype.isUnicode=function(){return Object(s.h)(this.mask,4)},e.prototype.isHtmlFiltering=function(){return Object(s.h)(this.mask,64)},e.prototype.isGenericHide=function(){return void 0===this.hostnames&&void 0===this.entities},e}();t.b=p},,function(e,t,r){"use strict";r.d(t,"a",(function(){return i})),r.d(t,"b",(function(){return s}));var n=r(16),i=new n.a((function(e){return e.complete()}));function s(e){return e?function(e){return new n.a((function(t){return e.schedule((function(){return t.complete()}))}))}(e):i}},function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r(16),i=r(172),s=r(255);function o(e,t){return t?Object(s.a)(e,t):e instanceof n.a?e:new n.a(Object(i.a)(e))}},,function(e,t,r){"use strict";var n=r(2);t.a=new class{constructor(){this.handlers=new Map}on(e,t,r){Object(n.log)("dispatcher.on called from",e),void 0===r&&(r=t),this.handlers.set(e,t.bind(r))}trigger(e,t){const r=this.handlers.get(e);r&&r(t)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resetFetchHandler=function(){l=a.fetch},t.overrideFetchHandler=function(e){l=e},t.fetch=c,t.fetchArrayBuffer=h,t.defaultHttpHandler=f,t.httpHandler=m,t._httpHandler=_,t.httpGet=function(e,t,r,n,i,s){return _("GET",e,t,r,n,i,s)},t.httpPost=function(e,t,r,n,i){return _("POST",e,t,n,i,r)},t.overrideHttpHandler=function(e){p=e},t.addCompressionExclusion=function(e){b.add(e)},t.promiseHttpHandler=function(e,t,r,n,o){return new Promise((a,g)=>{if("POST"===e&&o&&function(e){return y&&!b.has(e)}(t)){const o=r.length;r=(0,s.compress)(r),i.default.log(`Compressed request to ${t}, bytes saved = ${o-r.length} (${(100*(o-r.length)/o).toFixed(1)}%)`,"CLIQZEnvironment.httpHandler"),m(e,t,a,g,n,r,void 0,"gzip")}else m(e,t,a,g,n,r)})},t.addListener=function(e){I.add(e)},t.removeListener=function(e){I.delete(e)},t.fetchJSON=function(e){return v.apply(this,arguments)},t.fetchTypedArray=function(e){return w.apply(this,arguments)},t.fetchText=function(e){return k.apply(this,arguments)},Object.defineProperty(t,"Headers",{enumerable:!0,get:function(){return a.Headers}}),Object.defineProperty(t,"Request",{enumerable:!0,get:function(){return a.Request}}),Object.defineProperty(t,"Response",{enumerable:!0,get:function(){return a.Response}}),t.AbortController=void 0;var n,i=(n=r(43))&&n.__esModule?n:{default:n},s=r(270),o=r(424),a=r(272),g=r(427);function A(e,t,r,n,i,s,o){try{var a=e[s](o),g=a.value}catch(e){return void r(e)}a.done?t(g):Promise.resolve(g).then(n,i)}function u(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var s=e.apply(t,r);function o(e){A(s,n,i,o,a,"next",e)}function a(e){A(s,n,i,o,a,"throw",e)}o(void 0)}))}}const I=new Set,C=e=>{[...I].forEach(t=>{try{t(e)}catch(e){}})};let l=a.fetch;function c(){return C({url:arguments.length<=0?void 0:arguments[0]}),l(...arguments)}const d=a.AbortController;function h(){return C({url:arguments.length<=0?void 0:arguments[0]}),(a.fetchArrayBuffer||a.fetch)(...arguments)}function f(e,t,r,n,s,a,A,u,I){if("GET"===e&&t.startsWith("chrome://")&&g.chromeUrlHandler)return void(0,g.chromeUrlHandler)(t,r,n);const C=new((0,o.XMLHttpRequestFactory)());return C.timestamp=Date.now(),I&&(0,o.setBackgroundRequest)(C),C.open(e,t,!A),(0,o.setPrivateFlags)(C),C.overrideMimeType&&C.overrideMimeType("application/json"),C.setRequestHeader("Content-Type","application/json"),u&&C.setRequestHeader("Content-Encoding",u),C.onload=()=>{if(!parseInt)return;const e=parseInt(C.status/100,10);if(2===e||3===e||0===e)r&&r(C);else{const e=`loaded with non-200 ${t} (status=${C.status} ${C.statusText}) CLIQZEnvironment.httpHandler`;i.default.log(e),n&&n(e)}},C.onerror=()=>{const e=`error loading ${t} (status=${C.status} ${C.statusText}) CLIQZEnvironment.httpHandler`;i.default.log(e),n&&n(e)},C.ontimeout=()=>{const e=`timeout for ${t} CLIQZEnvironment.httpHandler`;i.default.log(e),n&&n(e)},r&&(C.timeout=s?parseInt(s,10):["POST","PUT"].indexOf(e)>=0?1e4:1e3),C.send(a),C}t.AbortController=d;let p=f;function m(){return p(...arguments)}function _(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];C({url:t[1]});const n=t[3];try{return m.call(void 0,...t)}catch(e){n?n(e):i.default.log(e,"httpHandler failed")}}const y=Boolean(s.compress),b=new Set;function v(){return(v=u((function*(e){const t=yield c(e);if(!1===t.ok)throw new Error(`Could not fetch JSON: ${t.statusText} (${e})`);return yield t.json()}))).apply(this,arguments)}function w(){return(w=u((function*(e){const t=yield h(e);if(!1===t.ok)throw new Error(`Could not fetch typed array: ${t.statusText} (${e})`);return new Uint8Array(yield t.arrayBuffer())}))).apply(this,arguments)}function k(){return(k=u((function*(e){const t=yield c(e);if(!1===t.ok)throw new Error(`Could not fetch text: ${t.statusText} (${e})`);return yield t.text()}))).apply(this,arguments)}},,,,,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isIpv4Address=c,t.isIpv6Address=d,t.isIpAddress=h,t.fixURL=function(e){let t=s.URLInfo.get(e);t&&t.scheme&&(0,i.isKnownProtocol)(t.scheme)||(e=`http://${e.replace(/^:?\/*/,"")}`,t=s.URLInfo.get(e));return t&&e||null},t.isUrl=function(e){const t=e.trim();if(!t)return!1;function r(e){return!!e&&("localhost"===e.toLowerCase()||n.UrlRegExp.test(e)||n.LocalUrlRegExp.test(e)||h(e))}const s=(u=t.match(/^(?:([^:/\s@]*):(\/*))?([^@#?/\s]+@)?([^/?#]+).*$/)||[],I=5,function(e){if(Array.isArray(e))return e}(u)||function(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var r=[],n=!0,i=!1,s=void 0;try{for(var o,a=e[Symbol.iterator]();!(n=(o=a.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){i=!0,s=e}finally{try{n||null==a.return||a.return()}finally{if(i)throw s}}return r}}(u,I)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()),o=s[1],a=s[2],g=s[3],A=s[4];var u,I;if(o){if(A){if((0,i.isKnownProtocol)(o))try{const e=new i.default(t);return!(!e.host&&"/"===e.pathname)&&e.isValidHost()}catch(e){return!1}if(!a){return r(g?A:`${o}:${A}`)}}return!1}return r(A)},t.isLocalhost=function(e,t,r){return"localhost"===e||(!(!t||"127"!==e.substr(0,3))||!(!r||"::1"!==e))},t.extractSimpleURI=function(e){return new i.default(e)},t.stripTrailingSlash=function(e){if("/"===e.substr(-1))return e.substr(0,e.length-1);return e},t.getCleanHost=y,t.getFriendlyUrl=b,t.getGeneralDomainMinusTLD=v,t.getDetailsFromUrl=function(e){const t=e.trim(),r=s.URLInfo.get(t)||s.URLInfo.get(`://${t}`);r.hostname=r.hostname.replace(/\.$/,"");const n=y(r),i=r.pathname+r.search,o=b(r);let a;a=r.hostIsIp?{name:"IP",domain:"",host:r.hostname,subdomains:[],tld:""}:r.hostname?r.isValidHost()?{name:v(r),domain:r.generalDomain,host:r.domain,subdomains:r.domainInfo.subdomain?r.domainInfo.subdomain.split("."):[],tld:r.domainInfo.publicSuffix}:{name:r.hostname,domain:r.hostname,host:r.hostname,subdomains:[],tld:""}:{name:r.pathname,domain:"",host:"",subdomains:[],tld:""};const u=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(r,!0).forEach((function(t){A(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({originalUrl:t,scheme:":"===r.protocol?"":r.protocol,path:r.pathname,query:r.search?r.search.substring(1):"",fragment:r.hash?r.hash.substring(1):"",extra:i,cleanHost:n,ssl:"https:"===r.protocol,port:r.port,friendly_url:o},a);"localhost"===u.domain&&(u.name=u.domain,u.host=u.domain,u.domain="",u.subdomains=[],u.tld="");return u},t.cleanUrlProtocol=w,t.generalizeUrl=function(e,t){if(!e)return"";let r=e.toLowerCase();const n=w(r,!1).split("/"),i=n[0];let s=0;const o=/,|\./g;t||(n.length>1&&(s=`/${n.slice(1).join("/")}`.length),0===i.indexOf("www")&&i.length>4&&o.test(i[3])&&" "!==i[4]&&(r=r.substr(0,r.length-s).replace(o,".")+(s?r.substr(-s):"")));return"/"===(e=w(r,!0))[e.length-1]?e.slice(0,-1):e},t.getUrlVariations=function(e){let t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.protocol,s=void 0===n||n,o=r.www,a=void 0===o||o,g=s?["http:","https:"]:[];try{t=new i.default(e)}catch(t){return[e]}const A=new Set([e]);g.includes(t.protocol)||(g=[t.protocol]);return g.forEach(e=>{t.protocol=e;var r=!0,n=!1,i=void 0;try{for(var s,o=function*(e,t){t&&(yield e,e.hostname.startsWith("www.")?e.hostname=e.hostname.slice(4):e.hostname=`www.${e.hostname}`);yield e}(t,a)[Symbol.iterator]();!(r=(s=o.next()).done);r=!0){s.value;let e=t.href;A.add(e),"/"===t.pathname||t.pathname.endsWith("/")?t.search.startsWith("?")?e=e.replace("/?","?"):t.hash.startsWith("#")?e=e.replace("/#","#"):e.endsWith("/")&&(e=e.slice(0,-1)):(t.pathname=`${t.pathname}/`,e=t.href),A.add(e)}}catch(e){n=!0,i=e}finally{try{r||null==o.return||o.return()}finally{if(n)throw i}}}),Array.from(A)},t.isPrivateIP=function(e){if(-1!==e.indexOf(":")){if("::1"===e)return!0;const t=e.split(":");return t[0].startsWith("fd")||t.every((e,r)=>r===t.length-1?"1"===e:"0"===e||!e)}const t=e.split(".").map(e=>parseInt(e,10));return 10===t[0]||192===t[0]&&168===t[1]||172===t[0]&&t[1]>=16&&t[1]<32||127===t[0]||0===t[0]},Object.defineProperty(t,"equals",{enumerable:!0,get:function(){return s.equals}}),Object.defineProperty(t,"urlStripProtocol",{enumerable:!0,get:function(){return o.urlStripProtocol}}),Object.defineProperty(t,"isCliqzAction",{enumerable:!0,get:function(){return o.isCliqzAction}}),t.tryEncodeURIComponent=t.tryEncodeURI=t.tryDecodeURIComponent=t.tryDecodeURI=t.schemeRE=t.ipv6Regex=t.ipv4Regex=void 0;var n=r(399),i=function(e){if(e&&e.__esModule)return e;var t=a();if(t&&t.has(e))return t.get(e);var r={};if(null!=e){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var s=n?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(r,i,s):r[i]=e[i]}}r.default=e,t&&t.set(e,r);return r}(r(199)),s=r(111),o=r(404);function a(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function A(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u(e){return function(){try{return e(...arguments)}catch(e){return arguments.length<=0?void 0:arguments[0]}}}const I="0*([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])",C=new RegExp(`^${I}\\.${I}\\.${I}\\.${I}([:]([0-9])+)?$`);t.ipv4Regex=C;const l=new RegExp("^\\[?(([0-9]|[a-f]|[A-F])*[:.]+([0-9]|[a-f]|[A-F])+[:.]*)+[\\]]?([:][0-9]+)?$");t.ipv6Regex=l;function c(e){return C.test(e)}function d(e){return l.test(e)}function h(e){return c(e)||d(e)}t.schemeRE=/^(\S+?):(\/\/)?(.*)$/i;const f=u(decodeURI);t.tryDecodeURI=f;const p=u(decodeURIComponent);t.tryDecodeURIComponent=p;const m=u(encodeURI);t.tryEncodeURI=m;const _=u(encodeURIComponent);function y(e){if(!e)return null;let t=e.domain;return 0===t.toLowerCase().indexOf("www.")&&(t=t.slice(4)),t}function b(e){if(!e)return null;let t=`${y(e)}${e.pathname}${e.search}`;return e.protocol&&-1===["http:","https:"].indexOf(e.protocol)&&(t=`${e.protocol}${e.slashes}${t}`),"/"===t.slice(-1)?t.slice(0,t.length-1):t}function v(e){return e.hostIsIp?"IP":e.domainInfo.domain?e.generalDomain.substring(0,e.generalDomain.length-e.domainInfo.publicSuffix.length-1):e.domain}function w(e,t){if(!e)return"";const r=e.toLowerCase();return r.startsWith("http://")&&(e=e.slice(7)),r.startsWith("https://")&&(e=e.slice(8)),t&&e.toLowerCase().startsWith("www.")&&(e=e.slice(4)),e}t.tryEncodeURIComponent=_},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=g(r(315)),i=r(43),s=g(r(19)),o=r(39),a=g(r(134));function g(e){return e&&e.__esModule?e:{default:e}}function A(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function I(){}const C="logger.",l="log",c=new Map([["debug",1],["info",2],["log",2],["warn",3],["warning",3],["error",4],["off",5]]),d="showConsoleLogs";let h;class f{constructor(e){let t=e.getLevel,r=e.setLevel,i=e.prefix;this.getLevel=t,this.setLevel=r,this._debug=n.default.debug||I,this._log=n.default.log||I,this._warning=n.default.warn||I,this._error=n.default.error||I,i&&(this._debug=this._debug.bind(null,i),this._log=this._log.bind(null,i),this._warning=this._warning.bind(null,i),this._error=this._error.bind(null,i))}withObserverFunc(e,t){return h?function(){let r=(new Error).stack.split("\n")[1];const n=r.lastIndexOf("/");n>=0&&(r=r.substring(n+1,r.length-1));for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];const a=[t,...s,r];e(...a),h(...a)}:e}setLevel(e){return this.setLevel(e)}isEnabledFor(e){return(c.get(e)||-1)>=c.get(this.getLevel())}logObject(e){this.isEnabledFor("debug")&&this.debug(JSON.parse(JSON.stringify(e)))}exception(){if(this.isEnabledFor("error")){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this._error(...t,(new Error).stack)}}get debug(){return this.isEnabledFor("debug")?this.withObserverFunc(this._debug,"debug"):I}get info(){return this.log}get log(){return this.isEnabledFor("log")?this.withObserverFunc(this._log,"log"):I}get warn(){return this.warning}get warning(){return this.isEnabledFor("warn")?this.withObserverFunc(this._warning,"warning"):I}get error(){return this.isEnabledFor("error")?this.withObserverFunc(this._error,"error"):I}}var p=new class{constructor(){this.logLevels=new a.default(()=>l),this.prefListener=null,this.loggingEnabled=(0,i.isLoggingEnabled)()}init(){this.prefListener=(0,o.subscribe)("prefchange",e=>{if(e.startsWith(C)){const t=s.default.get(e);c.has(t)?this.logLevels.set(e,t):n.default.log(`Got invalid log level ${t} for ${e}`)}e===d&&(this.loggingEnabled=s.default.get(e))})}addObserver(e){h=e}enable(){this.loggingEnabled=!0}disable(){this.loggingEnabled=!1}unload(){null!==this.prefListener&&(this.prefListener.unsubscribe(),this.prefListener=null)}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=function(e){return`${C}${e}.level`}(e),n=e=>!!c.has(e)&&(this.logLevels.set(r,e),s.default.set(r,t.level),!0);return n(t.level),new f(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?A(r,!0).forEach((function(t){u(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({getLevel:()=>this.loggingEnabled?this.logLevels.get(r):"off",setLevel:n,prefix:`Cliqz [${e}]`},t))}};t.default=p},,function(e,t,r){"use strict";var n=r(26);
/*!
 * Copyright (c) 2017-2019 Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */var i=function(){function e(){this.counter=new Map}return e.prototype.incr=function(e){this.counter.set(e,(this.counter.get(e)||0)+1)},e.prototype.get=function(e){return this.counter.get(e)||0},e.prototype.set=function(e,t){this.counter.set(e,t)},e}(),s=1;var o=Number.MAX_SAFE_INTEGER>>>0,a=function(){function e(e){var t=e.deserialize,r=e.filters,i=e.optimize,s=e.config;this.bucketsIndex=n.a,this.filtersIndexStart=0,this.numberOfFilters=0,this.tokensLookupIndex=n.a,this.cache=new Map,this.view=n.b.empty(s),this.deserializeFilter=t,this.optimize=i,this.config=s,0!==r.length&&this.update(r,void 0)}return e.deserialize=function(t,r,i,s){var o=t.getUint32(),a=t.getUint32(),g=t.getUint32(),A=n.b.fromUint8Array(t.getBytes(!0),s),u=A.getUint32ArrayView(o),I=A.getUint32ArrayView(a),C=A.pos;return A.seekZero(),new e({config:s,deserialize:r,filters:[],optimize:i}).updateInternals({bucketsIndex:I,filtersIndexStart:C,numberOfFilters:g,tokensLookupIndex:u,view:A})},e.prototype.getFilters=function(){var e=[];if(0===this.numberOfFilters)return e;this.view.setPos(this.filtersIndexStart);for(var t=0;t<this.numberOfFilters;t+=1)e.push(this.deserializeFilter(this.view));return e},e.prototype.getTokens=function(){for(var e=new Set,t=0;t<this.bucketsIndex.length;t+=2)e.add(this.bucketsIndex[t]);return new Uint32Array(e)},e.prototype.getSerializedSize=function(){return 12+n.b.sizeOfBytes(this.view.buffer,!0)},e.prototype.serialize=function(e){e.pushUint32(this.tokensLookupIndex.length),e.pushUint32(this.bucketsIndex.length),e.pushUint32(this.numberOfFilters),e.pushBytes(this.view.buffer,!0)},e.prototype.iterMatchingFilters=function(e,t){for(var r,n=(r=s,s=(s+1)%1e9,r),i=0;i<e.length;i+=1)if(!1===this.iterBucket(e[i],n,t))return;this.iterBucket(0,n,t)},e.prototype.update=function(e,t){0!==this.cache.size&&this.cache.clear();var r=this.config.enableCompression,s=0,o=0,a=[],g=new i,A=0,u=this.view.buffer.byteLength-this.filtersIndexStart,I=this.getFilters();if(0!==I.length){void 0!==t&&0!==t.size&&(I=I.filter((function(e){return!t.has(e.getId())||(u-=e.getSerializedSize(r),!1)})));for(var C=0;C<e.length;C+=1){var l=e[C];u+=l.getSerializedSize(r),I.push(l)}}else{I=e;for(C=0;C<e.length;C+=1)u+=e[C].getSerializedSize(r)}if(0!==I.length){!0===this.config.debug&&I.sort((function(e,t){return e.getId()-t.getId()}));for(C=0;C<I.length;C+=1){var c=(l=I[C]).getTokens();a.push({filter:l,multiTokens:c}),A+=2*c.length,o+=c.length;for(var d=0;d<c.length;d+=1){s+=(O=c[d]).length;for(var h=0;h<O.length;h+=1)g.incr(O[h])}}u+=4*A;var f,p=Math.max(2,(f=o,f--,f|=f>>1,f|=f>>2,f|=f>>4,f|=f>>8,f|=f>>16,++f)),m=p-1,_=[];for(C=0;C<p;C+=1)_.push([]);u+=4*p;var y=n.b.allocate(u,this.config),b=y.getUint32ArrayView(p),v=y.getUint32ArrayView(A),w=y.getPos();for(C=0;C<a.length;C+=1){var k=a[C],M=(l=k.filter,c=k.multiTokens,y.pos);l.serialize(y);for(d=0;d<c.length;d+=1){var O=c[d],S=0,D=s+1;for(h=0;h<O.length;h+=1){var T=g.get(O[h]);if(T<D&&(D=T,S=O[h],1===D))break}_[S&m].push([S,M])}}var L=0;for(C=0;C<p;C+=1){var E=_[C];b[C]=L;for(d=0;d<E.length;d+=1)v[L++]=E[d][0],v[L++]=E[d][1]}y.seekZero(),this.updateInternals({bucketsIndex:v,filtersIndexStart:w,numberOfFilters:a.length,tokensLookupIndex:b,view:y})}else this.updateInternals({bucketsIndex:n.a,filtersIndexStart:0,numberOfFilters:0,tokensLookupIndex:n.a,view:n.b.empty(this.config)})},e.prototype.updateInternals=function(e){var t=e.bucketsIndex,r=e.filtersIndexStart,n=e.numberOfFilters,i=e.tokensLookupIndex,s=e.view;return this.bucketsIndex=t,this.filtersIndexStart=r,this.numberOfFilters=n,this.tokensLookupIndex=i,this.view=s,this},e.prototype.iterBucket=function(e,t,r){var n=this.cache.get(e);if(void 0===n){var i=e&this.tokensLookupIndex.length-1,s=this.tokensLookupIndex[i];if(s===o)return!0;for(var a=i===this.tokensLookupIndex.length-1?this.bucketsIndex.length:this.tokensLookupIndex[i+1],g=[],A=s;A<a;A+=2){this.bucketsIndex[A]===e&&g.push(this.bucketsIndex[A+1])}if(0===g.length)return!0;var u=[],I=this.view;for(A=0;A<g.length;A+=1)I.setPos(g[A]),u.push(this.deserializeFilter(I));n={filters:u.length>1?this.optimize(u):u,lastRequestSeen:-1},this.cache.set(e,n)}if(n.lastRequestSeen!==t){n.lastRequestSeen=t;for(u=n.filters,A=0;A<u.length;A+=1)if(!1===r(u[A])){if(A>0){var C=u[A];u[A]=u[A-1],u[A-1]=C}return!1}}return!0},e}();t.a=a},function(e,t,r){"use strict";var n=r(3),i=r(53),s=r(49),o=r(96),a=r(154),g=r(12),A=r(2),u=r(4);t.a=new class{constructor(){this.backgrounds={alert:[255,157,0,230],default:[51,0,51,230]},this.policy=new o.c}update(e){e?Object(g.getTab)(e,this._getIconCount.bind(this),e=>{Object(A.log)("Button.update failed",e)}):chrome.tabs.query({active:!0},e=>{chrome.runtime.lastError?Object(A.log)("chrome.tabs.query",chrome.runtime.lastError.message):e.map(this._getIconCount.bind(this))})}_setIcon(e,t,r,i){if("android"===u.a.BROWSER_INFO.os)return;if(t<=0)return;const o=e?n.a.enable_offers&&s.a.unreadOfferIds.length>0?"_star":"":"_off";chrome.browserAction.setIcon({path:{19:`app/images/icon19${o}.png`,38:`app/images/icon38${o}.png`},tabId:t},()=>{chrome.runtime.lastError?Object(A.log)("chrome.browserAction.setIcon",chrome.runtime.lastError):Object(g.getTab)(t,()=>{if("function"==typeof chrome.browserAction.setTitle&&chrome.browserAction.setTitle({title:chrome.i18n.getMessage("browser_button_tooltip"),tabId:t}),n.a.show_badge){const o=n.a.enable_offers&&s.a.unreadOfferIds.length&&e?"":r;chrome.browserAction.setBadgeText({text:o,tabId:t}),chrome.browserAction.setBadgeBackgroundColor({color:i?this.backgrounds.alert:this.backgrounds.default,tabId:t})}})})}_getIconCount(e){const t=e.id,r=e.pageHost;let n="",s=!1;if(!1===i.a.getBugs(t))return n="",void this._setIcon(!1,t,n,s);const{appsCount:o,appsAlertCount:g}=this._getTrackerCount(t),A=Object(a.a)(t,r).trackerCount;s=g>0,""===(n=(o+Object(a.a)(t,r,!0).trackerCount+A).toString())?this._setIcon(!1,t,n,s):this._setIcon(!u.a.SESSION.paused_blocking&&!this.policy.checkSiteWhitelist(e.url),t,n,s)}_getTrackerCount(e,t){const r=i.a.getAppsCountByIssues(e,t);return{appsCount:r.all,appsAlertCount:r.total}}}},function(e,t,r){"use strict";r.d(t,"b",(function(){return A})),r.d(t,"a",(function(){return u})),r.d(t,"c",(function(){return I}));var n=r(100),i=r(7);function s(e){return"(?:"+e.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")+")"}function o(e,t){for(var r,n,i,s,o=new Map,a=0;a<e.length;a+=1){var g=e[a];r=o,n=t(g),i=g,s=void 0,void 0===(s=r.get(n))&&(s=[],r.set(n,s)),s.push(i)}return Array.from(o.values())}function a(e,t){for(var r=[],n=[],i=0;i<e.length;i+=1){var s=e[i];t(s)?r.push(s):n.push(s)}return{negative:n,positive:r}}var g=[{description:"Group idential filter with same mask but different domains in single filters",fusion:function(e){for(var t=new Set,r=new Set,i=0;i<e.length;i+=1){var s=e[i],o=s.optDomains,a=s.optNotDomains;void 0!==o&&o.forEach((function(e){t.add(e)})),void 0!==a&&a.forEach((function(e){r.add(e)}))}return new n.a(Object.assign({},e[0],{optDomains:t.size>0?new Uint32Array(t).sort():void 0,optNotDomains:r.size>0?new Uint32Array(r).sort():void 0,rawLine:void 0!==e[0].rawLine?e.map((function(e){return e.rawLine})).join(" <+> "):void 0}))},groupByCriteria:function(e){return e.getHostname()+e.getFilter()+e.getMask()+e.getRedirect()},select:function(e){return!e.isFuzzy()&&!e.isCSP()&&(e.hasOptDomains()||e.hasOptNotDomains())}},{description:"Group simple patterns, into a single filter",fusion:function(e){for(var t=[],r=0;r<e.length;r+=1){var o=e[r];o.isRegex()?t.push("(?:"+o.getRegex().source+")"):o.isRightAnchor()?t.push(s(o.getFilter())+"$"):o.isLeftAnchor()?t.push("^"+s(o.getFilter())):t.push(s(o.getFilter()))}return new n.a(Object.assign({},e[0],{mask:Object(i.m)(e[0].mask,67108864),rawLine:void 0!==e[0].rawLine?e.map((function(e){return e.rawLine})).join(" <+> "):void 0,regex:new RegExp(t.join("|"))}))},groupByCriteria:function(e){return""+e.getMask()},select:function(e){return!(e.isFuzzy()||e.hasOptDomains()||e.hasOptNotDomains()||e.isHostnameAnchor()||e.isRedirect()||e.isCSP())}}];function A(e){return e}function u(e){return e}function I(e){for(var t=[],r=e,n=0;n<g.length;n+=1){var i=g[n],s=i.select,A=i.fusion,u=i.groupByCriteria,I=a(r,s),C=I.positive;r=I.negative;for(var l=o(C,u),c=0;c<l.length;c+=1){var d=l[c];d.length>1?t.push(A(d)):r.push(d[0])}}for(n=0;n<r.length;n+=1)t.push(r[n]);return t}},,,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=w,t.truncatedHash=function(e){return w(e).slice(0,16)};var n,i=(n=r(331))&&n.__esModule?n:{default:n};
/*!
 * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */
const s=new Int32Array(4),o=new ArrayBuffer(68),a=new Uint8Array(o),g=new Uint32Array(o),A=new Int32Array([128,32768,8388608,-2147483648]),u="0123456789abcdef".split("");let I,C=!1,l=!0,c=!1,d=0,h=0;function f(e,t){return e+t&4294967295}function p(e,t,r,n,i,s,o){const a=e+(t&r|~t&n)+(i>>>0)+o|0;return(a<<s|a>>>32-s)+t|0}function m(e,t,r,n,i,s,o){const a=e+(t&n|r&~n)+(i>>>0)+o|0;return(a<<s|a>>>32-s)+t|0}function _(e,t,r,n,i,s,o){const a=e+(t^r^n)+(i>>>0)+o|0;return(a<<s|a>>>32-s)+t|0}function y(e,t,r,n,i,s,o){const a=e+(r^(t|~n))+(i>>>0)+o|0;return(a<<s|a>>>32-s)+t|0}function b(){let e,t,r,n;l?t=((t=((e=((e=g[0]-680876937)<<7|e>>>25)-271733879<<0)^(r=((r=(-271733879^(n=((n=(-1732584194^2004318071&e)+g[1]-117830708)<<12|n>>>20)+e<<0)&(-271733879^e))+g[2]-1126478375)<<17|r>>>15)+n<<0)&(n^e))+g[3]-1316259209)<<22|t>>>10)+r<<0:(e=p(e=s[0],t=s[1],r=s[2],n=s[3],g[0],7,-680876936),n=p(n,e,t,r,g[1],12,-389564586),r=p(r,n,e,t,g[2],17,606105819),t=p(t,r,n,e,g[3],22,-1044525330)),e=p(e,t,r,n,g[4],7,-176418897),n=p(n,e,t,r,g[5],12,1200080426),r=p(r,n,e,t,g[6],17,-1473231341),t=p(t,r,n,e,g[7],22,-45705983),e=p(e,t,r,n,g[8],7,1770035416),n=p(n,e,t,r,g[9],12,-1958414417),r=p(r,n,e,t,g[10],17,-42063),t=p(t,r,n,e,g[11],22,-1990404162),e=p(e,t,r,n,g[12],7,1804603682),n=p(n,e,t,r,g[13],12,-40341101),r=p(r,n,e,t,g[14],17,-1502002290),e=m(e,t=p(t,r,n,e,g[15],22,1236535329),r,n,g[1],5,-165796510),n=m(n,e,t,r,g[6],9,-1069501632),r=m(r,n,e,t,g[11],14,643717713),t=m(t,r,n,e,g[0],20,-373897302),e=m(e,t,r,n,g[5],5,-701558691),n=m(n,e,t,r,g[10],9,38016083),r=m(r,n,e,t,g[15],14,-660478335),t=m(t,r,n,e,g[4],20,-405537848),e=m(e,t,r,n,g[9],5,568446438),n=m(n,e,t,r,g[14],9,-1019803690),r=m(r,n,e,t,g[3],14,-187363961),t=m(t,r,n,e,g[8],20,1163531501),e=m(e,t,r,n,g[13],5,-1444681467),n=m(n,e,t,r,g[2],9,-51403784),r=m(r,n,e,t,g[7],14,1735328473),e=_(e,t=m(t,r,n,e,g[12],20,-1926607734),r,n,g[5],4,-378558),n=_(n,e,t,r,g[8],11,-2022574463),r=_(r,n,e,t,g[11],16,1839030562),t=_(t,r,n,e,g[14],23,-35309556),e=_(e,t,r,n,g[1],4,-1530992060),n=_(n,e,t,r,g[4],11,1272893353),r=_(r,n,e,t,g[7],16,-155497632),t=_(t,r,n,e,g[10],23,-1094730640),e=_(e,t,r,n,g[13],4,681279174),n=_(n,e,t,r,g[0],11,-358537222),r=_(r,n,e,t,g[3],16,-722521979),t=_(t,r,n,e,g[6],23,76029189),e=_(e,t,r,n,g[9],4,-640364487),n=_(n,e,t,r,g[12],11,-421815835),r=_(r,n,e,t,g[15],16,530742520),e=y(e,t=_(t,r,n,e,g[2],23,-995338651),r,n,g[0],6,-198630844),n=y(n,e,t,r,g[7],10,1126891415),r=y(r,n,e,t,g[14],15,-1416354905),t=y(t,r,n,e,g[5],21,-57434055),e=y(e,t,r,n,g[12],6,1700485571),n=y(n,e,t,r,g[3],10,-1894986606),r=y(r,n,e,t,g[10],15,-1051523),t=y(t,r,n,e,g[1],21,-2054922799),e=y(e,t,r,n,g[8],6,1873313359),n=y(n,e,t,r,g[15],10,-30611744),r=y(r,n,e,t,g[6],15,-1560198380),t=y(t,r,n,e,g[13],21,1309151649),e=y(e,t,r,n,g[4],6,-145523070),n=y(n,e,t,r,g[11],10,-1120210379),r=y(r,n,e,t,g[2],15,718787259),t=y(t,r,n,e,g[9],21,-343485551),l?(s[0]=f(e,1732584193),s[1]=f(t,-271733879),s[2]=f(r,-1732584194),s[3]=f(n,271733878),l=!1):(s[0]=f(s[0],e),s[1]=f(s[1],t),s[2]=f(s[2],r),s[3]=f(s[3],n))}const v=new i.default((function(e){return g.fill(0),s.fill(0),d=0,h=0,C=!1,l=!0,c=!1,function(e){if(C)return;const t=e.length;let r,n,i=0;for(;i<t;){for(c&&(c=!1,g[0]=g[16],g[1]=0,g[2]=0,g[3]=0,g[4]=0,g[5]=0,g[6]=0,g[7]=0,g[8]=0,g[9]=0,g[10]=0,g[11]=0,g[12]=0,g[13]=0,g[14]=0,g[15]=0,g[16]=0),n=h;i<t&&n<64;++i)(r=e.charCodeAt(i))<128?a[n++]=r:r<2048?(a[n++]=192|r>>6,a[n++]=128|63&r):r<55296||r>=57344?(a[n++]=224|r>>12,a[n++]=128|r>>6&63,a[n++]=128|63&r):(r=65536+((1023&r)<<10|1023&e.charCodeAt(++i)),a[n++]=240|r>>18,a[n++]=128|r>>12&63,a[n++]=128|r>>6&63,a[n++]=128|63&r);I=n,d+=n-h,n>=64?(h=n-64,b(),c=!0):h=n}}(e),function(){if(C)return;C=!0;const e=I;g[e>>2]|=A[3&e],e>=56&&(c||b(),g[0]=g[16],g[1]=0,g[2]=0,g[3]=0,g[4]=0,g[5]=0,g[6]=0,g[7]=0,g[8]=0,g[9]=0,g[10]=0,g[11]=0,g[12]=0,g[13]=0,g[14]=0,g[15]=0,g[16]=0),g[14]=d<<3,b()}(),function(e){const t=e[0],r=e[1],n=e[2],i=e[3];return u[t>>4&15]+u[15&t]+u[t>>12&15]+u[t>>8&15]+u[t>>20&15]+u[t>>16&15]+u[t>>28&15]+u[t>>24&15]+u[r>>4&15]+u[15&r]+u[r>>12&15]+u[r>>8&15]+u[r>>20&15]+u[r>>16&15]+u[r>>28&15]+u[r>>24&15]+u[n>>4&15]+u[15&n]+u[n>>12&15]+u[n>>8&15]+u[n>>20&15]+u[n>>16&15]+u[n>>28&15]+u[n>>24&15]+u[i>>4&15]+u[15&i]+u[i>>12&15]+u[i>>8&15]+u[i>>20&15]+u[i>>16&15]+u[i>>28&15]+u[i>>24&15]}(s)}),1600);function w(e){return e?v.get(e):""}},function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=r(6),i=function(e){function t(t,r,n){var i=e.call(this)||this;return i.parent=t,i.outerValue=r,i.outerIndex=n,i.index=0,i}return n.b(t,e),t.prototype._next=function(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)},t.prototype._error=function(e){this.parent.notifyError(e,this),this.unsubscribe()},t.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},t}(r(10).a)},function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=!1,i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){e&&(new Error).stack;n=e},get useDeprecatedSynchronousErrorHandling(){return n}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.notImplemented=function(){throw new Error("Not implemented")},t.isWindows=function(){return a&&0===a.indexOf("win")},t.isMac=function(){return a&&0===a.indexOf("darwin")},t.isLinux=function(){return a&&0===a.indexOf("linux")},Object.defineProperty(t,"getResourceUrl",{enumerable:!0,get:function(){return s.getResourceUrl}}),t.product=t.isGhostery=t.isWebExtension=t.isAMO=t.isDesktopBrowser=t.isGhosteryTab=t.isGhosteryBrowser=t.isGhosteryExtension=t.isCliqzBrowser=t.platformName=t.isEdge=t.isChromium=t.isMobile=t.isFirefox=void 0;var n,i=(n=r(28))&&n.__esModule?n:{default:n},s=function(e){if(e&&e.__esModule)return e;var t=o();if(t&&t.has(e))return t.get(e);var r={};if(null!=e){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var s=n?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(r,i,s):r[i]=e[i]}}r.default=e,t&&t.set(e,r);return r}(r(225));function o(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return o=function(){return e},e}
/*!
 * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */
const a=s.OS;const g=i.default.settings.channel,A=void 0===g?"":g,u=s.default.isFirefox;t.isFirefox=u;const I=s.default.isMobile||Boolean(i.default.isMobile);t.isMobile=I;const C=s.default.isChromium;t.isChromium=C;const l=s.default.isEdge;t.isEdge=l;const c=s.default.platformName;t.platformName=c;const d="40"===A||"99"===A;t.isCliqzBrowser=d;const h=A.startsWith("CH");t.isGhosteryExtension=h;const f=A.startsWith("GB");t.isGhosteryBrowser=f;const p=A.startsWith("GT");t.isGhosteryTab=p;const m=d||f;t.isDesktopBrowser=m;const _="04"===A;t.isAMO=_;const y="webextension"===c;t.isWebExtension=y;const b=f||p||h;t.isGhostery=b;const v=b?"GHOSTERY":"CLIQZ";t.product=v},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=
/*!
 * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */
function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return r.forEach(t=>{const r=Object.keys(t).reduce((e,r)=>(e[r]=Object.getOwnPropertyDescriptor(t,r),e),{});"undefined"!=typeof Symbol&&Object.getOwnPropertySymbols(t).forEach(e=>{const n=Object.getOwnPropertyDescriptor(t,e);n.enumerable&&(r[e]=n)}),Object.defineProperties(e,r)}),e}({},e),r=t.init,n=t.unload,s=t.events;return Object.keys(t.actions||{}).forEach(e=>{t.actions[e]=t.actions[e].bind(t)}),t.init=function(){for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];const a=Promise.resolve(r.apply(t,n));return Object.keys(s||{}).forEach(e=>{s[e]=s[e].bind(t),i.default.sub(e,s[e])}),a},t.unload=function(){Object.keys(s||{}).forEach(e=>{i.default.un_sub(e,s[e])});for(var e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];n.apply(t,r)},t};var n,i=(n=r(39))&&n.__esModule?n:{default:n}},,function(e,t,r){"use strict";function n(){}r.d(t,"a",(function(){return n}))},function(e,t,r){"use strict";var n=r(3),i=r(151),s=r(2);class o extends i.a{constructor(e){super(e),this.allowOnceList={}}processList(e,t){let r;Object(s.log)("processing c2p...");try{r=this._buildDb(t.click2play,t.click2playVersion)}catch(e){return Object(s.log)("Click2PlayDb processList() error",e),!1}return!!r&&(Object(s.log)("processed c2p..."),this.db=r,e||(n.a.click2play=t),!0)}reset(e){if(!this.allowOnceList.hasOwnProperty(e))return;const t=Object.entries(this.allowOnceList[e]);let r=!1;for(const[n,i]of t){const t=i-1;this.allowOnceList[e][n]=t,t>0&&(r=!0)}r||delete this.allowOnceList[e]}allowedOnce(e,t){return this.allowOnceList.hasOwnProperty(e)&&this.allowOnceList[e].hasOwnProperty(t)&&this.allowOnceList[e][t]>0}allowOnce(e,t){this.allowOnceList[t]={},e.forEach(e=>{this.allowOnceList[t][e]=2})}_buildDb(e,t){const r={};let n;return e.forEach(e=>{r.hasOwnProperty(e.aid)||(r[e.aid]=[]),n=[e.aid],e.alsoAllow&&(n=n.concat(e.alsoAllow)),r[e.aid].push({aid:e.aid,allow:n,frameColor:e.frameBackground?e.frameBackground:"",text:e.text?e.text:"",button:e.button?e.button:"",attach:!!e.attach&&e.attach,ele:e.selector?e.selector:"",type:e.type?e.type:""})}),{apps:r,version:t}}}t.a=new o("click2play")},,function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.throttle=function(e,t,r){let n,i;return function(){for(var s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];const g=Date.now();n&&g<n+r?(e.clearTimeout(i),i=e.setTimeout(()=>{n=g,t(...o)},r)):(n=g,t(...o))}},t.deadline=function(e,t){return Promise.race([(0,i.default)(t),e])},t.nextTick=a,t.nextIdle=function(){if("undefined"==typeof window||!window.requestIdleCallback)return a(()=>{});return new Promise(e=>{window.requestIdleCallback(e)})},t.withTimeout=g,t.tryPromise=function(e){return u.apply(this,arguments)};var n,i=(n=r(266))&&n.__esModule?n:{default:n};function s(e,t,r,n,i,s,o){try{var a=e[s](o),g=a.value}catch(e){return void r(e)}a.done?t(g):Promise.resolve(g).then(n,i)}function o(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){s(o,n,i,a,g,"next",e)}function g(e){s(o,n,i,a,g,"throw",e)}a(void 0)}))}}function a(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return Promise.resolve().then(()=>e(...r))}function g(e,t){return A.apply(this,arguments)}function A(){return(A=o((function*(e,t){let r;try{return r=new Promise((e,r)=>{setTimeout(()=>r(new Error(`Timed out after ${t/1e3} seconds`)),t)}),yield Promise.race([e,r])}finally{clearTimeout(r)}}))).apply(this,arguments)}function u(){return(u=o((function*(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;try{return yield g(e,t)}catch(e){return`Failed: ${e}`}}))).apply(this,arguments)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={AID_OFFER_DB_ADDED:"offer_added",AID_OFFER_TRIGGERED:"offer_triggered",AID_OFFER_PUSHED:"offer_pushed",AID_DYNAMIC_OFFER_PUSHED:"dynamic_offer_pushed",AID_OFFER_NOTIF_T:"offer_notif_tooltip",AID_OFFER_NOTIF_T_E:"offer_notif_tooltip_extra",AID_OFFER_NOTIF_P:"offer_notif_popup",AID_OFFER_NOTIF_D:"offer_notif_dot",AID_OFFER_FILTERED:"offer_filtered",AID_OFFER_DISPLAY_SESSION:"offer_dsp_session",AID_OFFER_SHOWN:"offer_shown",AID_OFFER_TIMEOUT:"offer_timeout",AID_OFFER_CLOSED:"offer_closed",AID_OFFER_REMOVED:"offer_removed",AID_OFFER_DB_REMOVED:"offer_db_removed",AID_OFFER_EXPIRED:"offer_expired",AID_OFFER_MORE_ABT_CLIQZ:"more_about_cliqz",AID_OFFER_MORE_INFO:"offer_more_info",AID_OFFER_CALL_TO_ACTION:"offer_ca_action",AID_OFFER_LOGO:"offer_logo",AID_OFFER_PICTURE:"offer_picture",AID_OFFER_BENEFIT:"offer_benefit",AID_OFFER_HEADLINE:"offer_headline",AID_OFFER_TITLE:"offer_title",AID_OFFER_DESCRIPTION:"offer_description",AID_OFFER_CODE_COPIED:"code_copied",AID_OFFER_EXPANDED:"offer_expanded",AID_OFFER_HUB_PULLED:"offer_pulled",AID_OFFER_HUB_FB_NO_OPT:"feedback_no",AID_OFFER_HUB_FB_OPT_1:"feedback_option1",AID_OFFER_HUB_FB_OPT_2:"feedback_option2",AID_OFFER_HUB_FB_OPT_3:"feedback_option3",AID_OFFER_HUB_REMOVE_LINK:"remove_offer_link",AID_OFFER_HUB_CANCEL_REMOVE_LINK:"remove_offer_cancel",AID_OFFER_HUB_TOOLTIP_CLICKED:"tooltip_clicked",AID_OFFER_HUB_TOOLTIP_CLOSED:"tooltip_closed",AID_OFFER_HUB_TOOLTIP_SHOWN:"tooltip_shown",AID_OFFER_HUB_POP_UP:"hub_pop_up",AID_OFFER_HUB_OPEN:"hub_open",AID_OFFER_HUB_CLOSED:"hub_closed",AID_OFFER_HUB_SHOW_MORE_OFFERS:"show_more_offers",AID_OFFER_DD_OFFER_SHOWN_1:"offer_shown_1",AID_OFFER_DD_OFFER_SHOWN_2:"offer_shown_2",AID_OFFER_DD_OFFER_CA_ACTION_1:"offer_ca_action_1",AID_OFFER_DD_OFFER_CA_ACTION_2:"offer_ca_action_2",AID_OFFER_DD_OFFER_DSP_SESSION_1:"offer_dsp_session_1",AID_OFFER_DD_OFFER_DSP_SESSION_2:"offer_dsp_session_2",AID_OFFER_DD_OFFER_SHOWN_ATTACHED:"offer_shown_attached",AID_OFFER_DD_OFFER_CA_ACTION_ATTACHED:"offer_ca_action_attached",AID_OFFER_DD_OFFER_DSP_SESSION_ATTACHED:"offer_dsp_session_attached",AID_LANDING:"landing",AID_PAGE_IMP:"page_imp",AID_SUCCESS:"success",AID_PAYMENT:"payment",AID_CART:"cart",AID_COUPON_JOURNEY:"coupon_journey",AID_COUPON_EMPTY:"coupon_empty",AID_COUPON_OWN_USED:"coupon_own_used",AID_COUPON_OTHER_USED:"coupon_other_used",AID_COUPON_AUTOFILL_FIELD_APPLY_ACTION:"coupon_autofill_field_apply_action",AID_COUPON_AUTOFILL_FIELD_CANCEL_ACTION:"coupon_autofill_field_cancel_action",AID_COUPON_AUTOFILL_FIELD_FAILED:"coupon_autofill_field_failed",AID_COUPON_AUTOFILL_FIELD_COPY_CODE:"coupon_autofill_field_copy_code",AID_COUPON_AUTOFILL_FIELD_SHOW:"coupon_autofill_field_show",AID_COUPON_AUTOFILL_FIELD_OUTSIDE_ACTION:"coupon_autofill_field_outside_action",AID_COUPON_AUTOFILL_FIELD_X_ACTION:"coupon_autofill_field_x_action",AID_COUPON_AUTOFILL_FIELD_UNKNOWN:"coupon_autofill_field_unknown",AID_COUPON_AUTOFILL_SUCCESS_USE:"coupon_autofill_field_success_use",AID_COUPON_AUTOFILL_ERROR_USE:"coupon_autofill_field_error_use",AID_COUPON_AUTOFILL_APPLICATION_NOT_FOUND:"coupon_autofill_field_application_not_found",AID_OFFER_FILTERED_HARD_PREFIX:"filtered_by_hard_",AID_OFFER_FILTERED_VALIDIDTY:"filtered_by_hard_filterByValidity",AID_OFFER_FILTERED_ABTEST:"filtered_by_hard_filterByABTest",AID_OFFER_FILTERED_REALESTATE:"filtered_by_hard_filterByRealEstates",AID_OFFER_FILTERED_GEO:"filtered_by_hard_filterByGeo",AID_OFFER_FILTERED_CATEGORIES:"filtered_by_hard_filterByCategories",AID_OFFER_FILTERED_EXP_PREFIX:"filter_exp__",AID_OFFER_FILTERED_CONTEXT:"filtered_by_context",AID_OFFER_FILTERED_GLOBAL_BLACKLIST:"filtered_by_global_blacklist",AID_OFFER_FILTERED_OFFER_BLACKLIST:"filtered_by_offer_blacklist",AID_OFFER_FILTERED_CHIPDE_SUSPEND_LIST:"filtered_by_chipde_suspend_list",AID_OFFER_FILTERED_COMPETE:"filtered_by_compete",AID_OFFER_CC_HIDDEN:"reward_box_missing_button",AID_GH_CA_ACTION_0:"offer_ca_action_0",AID_GH_CLICK_HOTDOG:"offer_click_hotdog",AID_GH_CLICK_SPECIFIC:"offer_click_specific",AID_GH_CLICK_SPECIFIC_NEW:"offer_click_specific_new",AID_GH_CLOSED_CARD:"offer_closed_card",AID_GH_CLOSED_HOTDOG:"offer_closed_hotdog",AID_GH_DSP_SESSION_0:"offer_dsp_session_0",AID_GH_FIRST_LEARN:"offer_first_learn",AID_GH_FIRST_OPTIN:"offer_first_optin",AID_GH_FIRST_OPTLATER:"offer_first_optlater",AID_GH_FIRST_OPTOUT:"offer_first_optout",AID_GH_NOTIFICATION_HOTDOG:"offer_notification_hotdog",AID_GH_RETURN_HUB:"offer_return_hub",AID_GH_SETTINGS:"offer_settings",AID_GH_SHOWN_0:"offer_shown_0"};t.default=n},,function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));var n=r(6),i=r(10);function s(e,t){return function(r){return r.lift(new o(e,t))}}var o=function(){function e(e,t){this.predicate=e,this.thisArg=t}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.predicate,this.thisArg))},e}(),a=function(e){function t(t,r,n){var i=e.call(this,t)||this;return i.predicate=r,i.thisArg=n,i.count=0,i}return n.b(t,e),t.prototype._next=function(e){var t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(e){return void this.destination.error(e)}t&&this.destination.next(e)},t}(i.a)},function(e,t,r){"use strict";r.d(t,"b",(function(){return n})),r.d(t,"a",(function(){return a}));var n,i=r(64),s=r(150),o=r(183);n||(n={});var a=function(){function e(e,t,r){this.kind=e,this.value=t,this.error=r,this.hasValue="N"===e}return e.prototype.observe=function(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}},e.prototype.do=function(e,t,r){switch(this.kind){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return r&&r()}},e.prototype.accept=function(e,t,r){return e&&"function"==typeof e.next?this.observe(e):this.do(e,t,r)},e.prototype.toObservable=function(){switch(this.kind){case"N":return Object(s.a)(this.value);case"E":return Object(o.a)(this.error);case"C":return Object(i.b)()}throw new Error("unexpected notification kind value")},e.createNext=function(t){return void 0!==t?new e("N",t):e.undefinedValueNotification},e.createError=function(t){return new e("E",void 0,t)},e.createComplete=function(){return e.completeNotification},e.completeNotification=new e("C"),e.undefinedValueNotification=new e("N",void 0),e}()},function(e,t,r){"use strict";r.d(t,"b",(function(){return C})),r.d(t,"a",(function(){return d}));var n=r(88),i=r(3),s=r(4),o=r(12);const a="BLOCK_REASON_BLOCK_PAUSED",g="BLOCK_REASON_GLOBAL_BLOCKED",A="BLOCK_REASON_GLOBAL_UNBLOCKED",u="BLOCK_REASON_WHITELISTED",I="BLOCK_REASON_BLACKLISTED",C="BLOCK_REASON_SS_UNBLOCKED",l="BLOCK_REASON_SS_BLOCKED",c="BLOCK_REASON_C2P_ALLOWED_ONCE",d="BLOCK_REASON_C2P_ALLOWED_THROUGH";t.c=class{getSitePolicy(e,t){return this.blacklisted(e)?s.a.BLACKLISTED:!(!this.checkSiteWhitelist(e)&&!this.checkCliqzModuleWhitelist(e,t))&&s.a.WHITELISTED}checkSiteWhitelist(e){const t=Object(o.processUrl)(e).host;if(t){const e=t.replace(/^www\./,""),r=i.a.site_whitelist||[],n=r.length;for(let t=0;t<n;t++)if(e===r[t])return r[t]}return!1}checkCliqzModuleWhitelist(e,t){let r=!1;const n=Object(o.processUrl)(e).host,s=Object(o.processUrl)(t).host,a=i.a.cliqz_module_whitelist;return a[s]&&a[s].hosts.some(e=>e===n&&(r=!0,!0)),r}blacklisted(e){const t=Object(o.processUrl)(e).host;if(t){const e=t.replace(/^www\./,""),r=i.a.site_blacklist||[],n=r.length;for(let t=0;t<n;t++)if(e===r[t])return r[t]}return!1}shouldBlock(e,t,r,o,d){if(s.a.SESSION.paused_blocking)return{block:!1,reason:a};const h=n.a.allowedOnce(r,e);return i.a.selected_app_ids.hasOwnProperty(e)?i.a.toggle_individual_trackers&&i.a.site_specific_unblocks.hasOwnProperty(o)&&i.a.site_specific_unblocks[o].includes(+e)?this.blacklisted(d)?{block:!h,reason:h?c:I}:{block:!1,reason:C}:this.checkSiteWhitelist(d)?{block:!1,reason:u}:{block:!h,reason:h?c:g}:i.a.toggle_individual_trackers&&i.a.site_specific_blocks.hasOwnProperty(o)&&i.a.site_specific_blocks[o].includes(+e)?this.checkSiteWhitelist(d)?{block:!1,reason:u}:{block:!h,reason:h?c:l}:this.blacklisted(d)?{block:!h,reason:h?c:I}:{block:!1,reason:h?c:A}}}},function(e,t,r){"use strict";var n=r(26),i=function(){function e(e){var t=void 0===e?{}:e,r=t.debug,n=void 0!==r&&r,i=t.enableCompression,s=void 0!==i&&i,o=t.enableHtmlFiltering,a=void 0!==o&&o,g=t.enableMutationObserver,A=void 0===g||g,u=t.enableOptimizations,I=void 0===u||u,C=t.integrityCheck,l=void 0===C||C,c=t.loadCosmeticFilters,d=void 0===c||c,h=t.loadGenericCosmeticsFilters,f=void 0===h||h,p=t.loadNetworkFilters,m=void 0===p||p;this.debug=n,this.enableCompression=s,this.enableHtmlFiltering=a,this.enableMutationObserver=A,this.enableOptimizations=I,this.integrityCheck=l,this.loadCosmeticFilters=d,this.loadGenericCosmeticsFilters=f,this.loadNetworkFilters=m}return e.deserialize=function(t){return new e({debug:t.getBool(),enableCompression:t.getBool(),enableHtmlFiltering:t.getBool(),enableMutationObserver:t.getBool(),enableOptimizations:t.getBool(),integrityCheck:t.getBool(),loadCosmeticFilters:t.getBool(),loadGenericCosmeticsFilters:t.getBool(),loadNetworkFilters:t.getBool()})},e.prototype.getSerializedSize=function(){return 9*n.b.sizeOfBool()},e.prototype.serialize=function(e){e.pushBool(this.debug),e.pushBool(this.enableCompression),e.pushBool(this.enableHtmlFiltering),e.pushBool(this.enableMutationObserver),e.pushBool(this.enableOptimizations),e.pushBool(this.integrityCheck),e.pushBool(this.loadCosmeticFilters),e.pushBool(this.loadGenericCosmeticsFilters),e.pushBool(this.loadNetworkFilters)},e}();
/*!
 * Copyright (c) 2017-2019 Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */t.a=i},function(e,t,r){"use strict";function n(e){return e}r.d(t,"a",(function(){return n}))},function(e,t,r){"use strict";function n(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}r.d(t,"a",(function(){return i}));var i=n()},function(e,t,r){"use strict";var n=r(26),i=r(153),s=r(191),o=r(7),a=new s.a(200),g=Object(o.e)("http"),A=Object(o.e)("https");var u={beacon:256,document:1,fetch:8192,font:2,image:16,imageset:16,mainFrame:1,main_frame:1,media:32,object:64,object_subrequest:64,ping:256,script:512,stylesheet:1024,subFrame:2048,sub_frame:2048,websocket:4096,xhr:8192,xmlhttprequest:8192,csp_report:128,eventsource:128,manifest:128,other:128,speculative:128,texttrack:128,web_manifest:128,xbl:128,xml_dtd:128,xslt:128};function I(e,t,r,n,i,s,o){var a=178464^t;if(void 0!==e)for(var g=0;g<e.length;g+=1)a=33*a^e.charCodeAt(g);if(void 0!==i)for(g=0;g<i.length;g+=1)a=33*a^i[g];if(void 0!==s)for(g=0;g<s.length;g+=1)a=33*a^s[g];if(void 0!==r)for(g=0;g<r.length;g+=1)a=33*a^r.charCodeAt(g);if(void 0!==n)for(g=0;g<n.length;g+=1)a=33*a^n.charCodeAt(g);if(void 0!==o)for(g=0;g<o.length;g+=1)a=33*a^o.charCodeAt(g);return a>>>0}function C(e,t,r,n){return!0===n?new RegExp(e.slice(1,e.length-1),"i"):(e=(e=(e=e.replace(/([|.$+?{}()[\]\\])/g,"\\$1")).replace(/\*/g,".*")).replace(/\^/g,"(?:[^\\w\\d_.%-]|$)"),r&&(e+="$"),t&&(e="^"+e),new RegExp(e,"i"))}var l=new Uint32Array([]),c=new RegExp(""),d=function(){function e(e){var t=e.csp,r=e.filter,n=e.hostname,i=e.mask,s=e.optDomains,o=e.optNotDomains,a=e.rawLine,g=e.redirect,A=e.regex;this.csp=t,this.filter=r,this.hostname=n,this.mask=i,this.optDomains=s,this.optNotDomains=o,this.redirect=g,this.rawLine=a,this.id=void 0,this.fuzzySignature=void 0,this.regex=A}return e.parse=function(t,r){void 0===r&&(r=!1);var n,s,a,g,A,u=16793612,I=0,l=16371,c=0,d=t.length;64===t.charCodeAt(0)&&64===t.charCodeAt(1)&&(c+=2,u=Object(o.m)(u,262144));var f,p,m=t.lastIndexOf("$");if(-1!==m&&47!==t.charCodeAt(m+1)){d=m;for(var _=t.slice(m+1).split(","),y=0;y<_.length;y+=1){var b=_[y],v=126===b.charCodeAt(0),w=!0===v?b.slice(1):b,k="",M=w.indexOf("=");switch(-1!==M&&(k=w.slice(M+1),w=w.slice(0,M)),w){case"domain":if(124===k.charCodeAt(0)||124===k.charCodeAt(k.length-1))return null;for(var O=k.split("|"),S=[],D=[],T=0;T<O.length;T+=1){var L=O[T];L&&(126===L.charCodeAt(0)?D.push(Object(o.e)(L.slice(1))):S.push(Object(o.e)(L)))}S.length>0&&(s=new Uint32Array(S).sort()),D.length>0&&(a=new Uint32Array(D).sort());break;case"badfilter":u=Object(o.m)(u,65536);break;case"important":if(v)return null;u=Object(o.m)(u,2097152);break;case"match-case":if(v)return null;break;case"3p":case"third-party":u=v?Object(o.c)(u,16777216):Object(o.c)(u,16384);break;case"1p":case"first-party":u=v?Object(o.c)(u,16384):Object(o.c)(u,16777216);break;case"fuzzy":u=Object(o.m)(u,32768);break;case"redirect-rule":case"redirect":if(v)return null;if(0===k.length)return null;g=k;break;case"csp":if(v)return null;u=Object(o.m)(u,131072),k.length>0&&(A=k);break;case"elemhide":case"generichide":if(v)return null;u=Object(o.m)(u,524288);break;case"inline-script":if(v)return null;u=Object(o.m)(u,131072),A="script-src 'self' 'unsafe-eval' http: https: data: blob: mediastream: filesystem:";break;case"inline-font":if(v)return null;u=Object(o.m)(u,131072),A="font-src 'self' 'unsafe-eval' http: https: data: blob: mediastream: filesystem:";break;default:var E=0;switch(w){case"all":break;case"image":E=16;break;case"media":E=32;break;case"object":case"object-subrequest":E=64;break;case"other":E=128;break;case"ping":case"beacon":E=256;break;case"script":E=512;break;case"css":case"stylesheet":E=1024;break;case"frame":case"subdocument":E=2048;break;case"xhr":case"xmlhttprequest":E=8192;break;case"websocket":E=4096;break;case"font":E=2;break;case"doc":case"document":E=1;break;default:return null}v?l=Object(o.c)(l,E):I=Object(o.m)(I,E)}}}if(u|=0===I?l:16371===l?I:I&l,d-c>=2&&47===t.charCodeAt(c)&&47===t.charCodeAt(d-1)){f=t.slice(c,d);try{C(f,!1,!1,!0)}catch(e){return null}u=Object(o.m)(u,33554432)}else{if(d>0&&124===t.charCodeAt(d-1)&&(u=Object(o.m)(u,8388608),d-=1),c<d&&124===t.charCodeAt(c)&&(c<d-1&&124===t.charCodeAt(c+1)?(u=Object(o.m)(u,1048576),c+=2):(u=Object(o.m)(u,4194304),c+=1)),Object(o.h)(u,1048576)){for(var P=c;P<d&&!0===(p=t.charCodeAt(P),Object(o.l)(p)||Object(o.k)(p)||95===p||45===p||46===p);)P+=1;if(P===d)n=t.slice(c,d),c=d;else{n=t.slice(c,P),c=P;var x=t.charCodeAt(P);94===x?d-c==1?(c=d,u=Object(o.m)(u,8388608)):(u=Object(o.m)(u,67108864),u=Object(o.m)(u,4194304)):u=42===x?Object(o.m)(u,67108864):Object(o.m)(u,4194304)}}d-c>0&&42===t.charCodeAt(d-1)&&(d-=1),!1===Object(o.h)(u,1048576)&&d-c>0&&42===t.charCodeAt(c)&&(u=Object(o.c)(u,4194304),c+=1),Object(o.h)(u,4194304)&&(d-c==5&&Object(o.g)(t,"ws://",c)?(u=Object(o.m)(u,4096),u=Object(o.c)(u,4194304),c=d):d-c==7&&Object(o.g)(t,"http://",c)?(u=Object(o.m)(u,4),u=Object(o.c)(u,8),u=Object(o.c)(u,4194304),c=d):d-c==8&&Object(o.g)(t,"https://",c)?(u=Object(o.m)(u,8),u=Object(o.c)(u,4),u=Object(o.c)(u,4194304),c=d):d-c==8&&Object(o.g)(t,"http*://",c)&&(u=Object(o.m)(u,8),u=Object(o.m)(u,4),u=Object(o.c)(u,4194304),c=d)),d-c>0&&(f=t.slice(c,d).toLowerCase(),u=h(u,134217728,Object(o.i)(f)),!1===Object(o.h)(u,67108864)&&(u=h(u,67108864,function(e,t,r){var n=e.indexOf("^",t);if(-1!==n&&n<r)return!0;var i=e.indexOf("*",t);return-1!==i&&i<r}(f,0,f.length)))),void 0!==n&&(Object(o.h)(u,1048576)&&Object(o.f)(n,"www.")&&(n=n.slice(4)),n=n.toLowerCase(),Object(o.i)(n)&&(u=h(u,134217728,!0),n=Object(i.c)(n)))}return new e({csp:A,filter:f,hostname:n,mask:u,optDomains:s,optNotDomains:a,rawLine:!0===r?t:void 0,redirect:g,regex:void 0})},e.deserialize=function(t){var r=t.getUint32(),n=t.getUint8(),i=Object(o.h)(r,134217728);return new e({mask:r,csp:1==(1&n)?t.getNetworkCSP():void 0,filter:2==(2&n)?i?t.getUTF8():t.getNetworkFilter():void 0,hostname:4==(4&n)?t.getNetworkHostname():void 0,optDomains:8==(8&n)?t.getUint32Array():void 0,optNotDomains:16==(16&n)?t.getUint32Array():void 0,rawLine:32==(32&n)?i?t.getUTF8():t.getASCII():void 0,redirect:64==(64&n)?t.getNetworkRedirect():void 0,regex:void 0})},e.prototype.isCosmeticFilter=function(){return!1},e.prototype.isNetworkFilter=function(){return!0},e.prototype.match=function(e){return function(e,t){if(!1===e.isCptAllowed(t.type)||!0===t.isHttps&&!1===e.fromHttps()||!0===t.isHttp&&!1===e.fromHttp()||!1===e.firstParty()&&!0===t.isFirstParty||!1===e.thirdParty()&&!0===t.isThirdParty)return!1;if(e.hasOptDomains()){var r=e.getOptDomains();if(!1===Object(o.a)(r,t.sourceHostnameHash)&&!1===Object(o.a)(r,t.sourceDomainHash))return!1}if(e.hasOptNotDomains()){var n=e.getOptNotDomains();if(!0===Object(o.a)(n,t.sourceHostnameHash)||!0===Object(o.a)(n,t.sourceDomainHash))return!1}return!0}(this,e)&&function(e,t){var r=e.getFilter();if(e.isHostnameAnchor()){var n=e.getHostname();if(!1===function(e,t,r){if(0===e.length)return!0;if(e.length>t.length)return!1;if(e.length===t.length)return e===t;var n=t.indexOf(e);if(-1===n)return!1;if(0===n)return r||46===t.charCodeAt(e.length)||46===e.charCodeAt(e.length-1);if(t.length===n+e.length)return 46===t.charCodeAt(n-1)||46===e.charCodeAt(0);return(r||46===t.charCodeAt(e.length)||46===e.charCodeAt(e.length-1))&&(46===t.charCodeAt(n-1)||46===e.charCodeAt(0))}(n,t.hostname,void 0!==e.filter&&42===e.filter.charCodeAt(0)))return!1;if(e.isRegex())return e.getRegex().test(t.url.slice(t.url.indexOf(n)+n.length));if(e.isRightAnchor()&&e.isLeftAnchor()){var i=t.url.slice(t.url.indexOf(n)+n.length);return r===i}if(e.isRightAnchor()){var s=t.hostname;return!1===e.hasFilter()?n.length===s.length||s.endsWith(n):t.url.endsWith(r)}return e.isFuzzy()?f(e,t):e.isLeftAnchor()?Object(o.g)(t.url,r,t.url.indexOf(n)+n.length):!1===e.hasFilter()||-1!==t.url.indexOf(r,t.url.indexOf(n)+n.length)}if(e.isRegex())return e.getRegex().test(t.url);if(e.isLeftAnchor()&&e.isRightAnchor())return t.url===r;if(e.isLeftAnchor())return Object(o.f)(t.url,r);if(e.isRightAnchor())return t.url.endsWith(r);if(e.isFuzzy())return f(e,t);if(!1===e.hasFilter())return!0;return-1!==t.url.indexOf(r)}(this,e)},e.prototype.serialize=function(e){e.pushUint32(this.mask);var t=e.getPos();e.pushUint8(0);var r=0;void 0!==this.csp&&(r|=1,e.pushNetworkCSP(this.csp)),void 0!==this.filter&&(r|=2,this.isUnicode()?e.pushUTF8(this.filter):e.pushNetworkFilter(this.filter)),void 0!==this.hostname&&(r|=4,e.pushNetworkHostname(this.hostname)),void 0!==this.optDomains&&(r|=8,e.pushUint32Array(this.optDomains)),void 0!==this.optNotDomains&&(r|=16,e.pushUint32Array(this.optNotDomains)),void 0!==this.rawLine&&(r|=32,this.isUnicode()?e.pushUTF8(this.rawLine):e.pushASCII(this.rawLine)),void 0!==this.redirect&&(r|=64,e.pushNetworkRedirect(this.redirect)),e.setByte(t,r)},e.prototype.getSerializedSize=function(e){var t=5;return void 0!==this.csp&&(t+=n.b.sizeOfNetworkCSP(this.csp,e)),void 0!==this.filter&&(this.isUnicode()?t+=n.b.sizeOfUTF8(this.filter):t+=n.b.sizeOfNetworkFilter(this.filter,e)),void 0!==this.hostname&&(t+=n.b.sizeOfNetworkHostname(this.hostname,e)),void 0!==this.optDomains&&(t+=n.b.sizeOfUint32Array(this.optDomains)),void 0!==this.optNotDomains&&(t+=n.b.sizeOfUint32Array(this.optNotDomains)),void 0!==this.rawLine&&(this.isUnicode()?t+=n.b.sizeOfUTF8(this.rawLine):t+=n.b.sizeOfASCII(this.rawLine)),void 0!==this.redirect&&(t+=n.b.sizeOfNetworkRedirect(this.redirect,e)),t},e.prototype.toString=function(){if(void 0!==this.rawLine)return this.rawLine;var e="";this.isException()&&(e+="@@"),this.isHostnameAnchor()&&(e+="||"),this.isLeftAnchor()&&(e+="|"),this.hasHostname()&&(e+=this.getHostname(),e+="^"),this.isRegex()?e+=this.getRegex().source:e+=this.getFilter();var t=[];if(!this.fromAny()){var r=Object(o.b)(this.getCptMask());Object(o.b)(16371)-r<r?(this.fromImage()||t.push("~image"),this.fromMedia()||t.push("~media"),this.fromObject()||t.push("~object"),this.fromOther()||t.push("~other"),this.fromPing()||t.push("~ping"),this.fromScript()||t.push("~script"),this.fromStylesheet()||t.push("~stylesheet"),this.fromSubdocument()||t.push("~subdocument"),this.fromWebsocket()||t.push("~websocket"),this.fromXmlHttpRequest()||t.push("~xmlhttprequest"),this.fromFont()||t.push("~font")):(this.fromImage()&&t.push("image"),this.fromMedia()&&t.push("media"),this.fromObject()&&t.push("object"),this.fromOther()&&t.push("other"),this.fromPing()&&t.push("ping"),this.fromScript()&&t.push("script"),this.fromStylesheet()&&t.push("stylesheet"),this.fromSubdocument()&&t.push("subdocument"),this.fromWebsocket()&&t.push("websocket"),this.fromXmlHttpRequest()&&t.push("xmlhttprequest"),this.fromFont()&&t.push("font"))}return this.isFuzzy()&&t.push("fuzzy"),this.isImportant()&&t.push("important"),this.isRedirect()&&t.push("redirect="+this.getRedirect()),this.isCSP()&&t.push("csp="+this.csp),this.isGenericHide()&&t.push("generichide"),this.firstParty()!==this.thirdParty()&&(this.firstParty()&&t.push("first-party"),this.thirdParty()&&t.push("third-party")),(this.hasOptDomains()||this.hasOptNotDomains())&&t.push("domain=<hashed>"),this.isBadFilter()&&t.push("badfilter"),t.length>0&&(e+="$"+t.join(",")),this.isRightAnchor()&&(e+="|"),e},e.prototype.getIdWithoutBadFilter=function(){return I(this.csp,-65537&this.mask,this.filter,this.hostname,this.optDomains,this.optNotDomains,this.redirect)},e.prototype.getId=function(){return void 0===this.id&&(this.id=I(this.csp,this.mask,this.filter,this.hostname,this.optDomains,this.optNotDomains,this.redirect)),this.id},e.prototype.hasFilter=function(){return void 0!==this.filter},e.prototype.hasOptNotDomains=function(){return void 0!==this.optNotDomains},e.prototype.getOptNotDomains=function(){return this.optNotDomains||l},e.prototype.hasOptDomains=function(){return void 0!==this.optDomains},e.prototype.getOptDomains=function(){return this.optDomains||l},e.prototype.getMask=function(){return this.mask},e.prototype.getCptMask=function(){return 16371&this.getMask()},e.prototype.isRedirect=function(){return void 0!==this.redirect},e.prototype.getRedirect=function(){return this.redirect||""},e.prototype.hasHostname=function(){return void 0!==this.hostname},e.prototype.getHostname=function(){return this.hostname||""},e.prototype.getFilter=function(){return this.filter||""},e.prototype.getRegex=function(){return void 0===this.regex&&(this.regex=void 0!==this.filter&&this.isRegex()?C(this.filter,this.isLeftAnchor(),this.isRightAnchor(),this.isFullRegex()):c),this.regex},e.prototype.getFuzzySignature=function(){return void 0===this.fuzzySignature&&(this.fuzzySignature=void 0!==this.filter&&this.isFuzzy()?Object(o.d)(this.filter):l),this.fuzzySignature},e.prototype.getTokens=function(){if(a.seekZero(),void 0!==this.optDomains&&void 0===this.optNotDomains&&1===this.optDomains.length&&a.push(this.optDomains[0]),!1===this.isFullRegex()){if(void 0!==this.filter){var e=this.isPlain()&&!this.isRightAnchor()&&!this.isFuzzy(),t=!this.isLeftAnchor()&&!this.isFuzzy();Object(o.p)(this.filter,t,e,a)}void 0!==this.hostname&&Object(o.p)(this.hostname,!1,void 0!==this.filter&&42===this.filter.charCodeAt(0),a)}else void 0!==this.filter&&Object(o.r)(this.filter,a);if(0===a.pos&&void 0!==this.optDomains&&void 0===this.optNotDomains){for(var r=[],n=0;n<this.optDomains.length;n+=1)r.push(new Uint32Array([this.optDomains[n]]));return r}return!0===this.fromHttp()&&!1===this.fromHttps()?a.push(g):!0===this.fromHttps()&&!1===this.fromHttp()&&a.push(A),[a.slice()]},e.prototype.isCptAllowed=function(e){var t=u[e];return void 0!==t?Object(o.h)(this.mask,t):this.fromAny()},e.prototype.isFuzzy=function(){return Object(o.h)(this.mask,32768)},e.prototype.isException=function(){return Object(o.h)(this.mask,262144)},e.prototype.isHostnameAnchor=function(){return Object(o.h)(this.mask,1048576)},e.prototype.isRightAnchor=function(){return Object(o.h)(this.mask,8388608)},e.prototype.isLeftAnchor=function(){return Object(o.h)(this.mask,4194304)},e.prototype.isImportant=function(){return Object(o.h)(this.mask,2097152)},e.prototype.isFullRegex=function(){return Object(o.h)(this.mask,33554432)},e.prototype.isRegex=function(){return Object(o.h)(this.mask,67108864)||Object(o.h)(this.mask,33554432)},e.prototype.isPlain=function(){return!this.isRegex()},e.prototype.isCSP=function(){return Object(o.h)(this.mask,131072)},e.prototype.isGenericHide=function(){return Object(o.h)(this.mask,524288)},e.prototype.isBadFilter=function(){return Object(o.h)(this.mask,65536)},e.prototype.isUnicode=function(){return Object(o.h)(this.mask,134217728)},e.prototype.fromAny=function(){return 16371===this.getCptMask()},e.prototype.thirdParty=function(){return Object(o.h)(this.mask,16777216)},e.prototype.firstParty=function(){return Object(o.h)(this.mask,16384)},e.prototype.fromImage=function(){return Object(o.h)(this.mask,16)},e.prototype.fromMedia=function(){return Object(o.h)(this.mask,32)},e.prototype.fromObject=function(){return Object(o.h)(this.mask,64)},e.prototype.fromOther=function(){return Object(o.h)(this.mask,128)},e.prototype.fromPing=function(){return Object(o.h)(this.mask,256)},e.prototype.fromScript=function(){return Object(o.h)(this.mask,512)},e.prototype.fromStylesheet=function(){return Object(o.h)(this.mask,1024)},e.prototype.fromDocument=function(){return Object(o.h)(this.mask,1)},e.prototype.fromSubdocument=function(){return Object(o.h)(this.mask,2048)},e.prototype.fromWebsocket=function(){return Object(o.h)(this.mask,4096)},e.prototype.fromHttp=function(){return Object(o.h)(this.mask,4)},e.prototype.fromHttps=function(){return Object(o.h)(this.mask,8)},e.prototype.fromXmlHttpRequest=function(){return Object(o.h)(this.mask,8192)},e.prototype.fromFont=function(){return Object(o.h)(this.mask,2)},e}();function h(e,t,r){return!0===r?Object(o.m)(e,t):Object(o.c)(e,t)}function f(e,t){var r=e.getFuzzySignature(),n=t.getFuzzySignature();if(r.length>n.length)return!1;for(var i=0,s=0;s<r.length;s+=1){var o=r[s],a=n.indexOf(o,i);if(-1===a)return!1;i=a+1}return!0}t.a=d},function(e,t,r){"use strict";var n=r(100),i=r(78),s=r(76),o=r(195),a=function(){function e(e){var t=e.filters,r=void 0===t?[]:t,a=e.config;this.index=new s.a({config:a,deserialize:n.a.deserialize,filters:[],optimize:a.enableOptimizations?i.c:i.b}),this.badFiltersIds=null,this.badFilters=new o.a({config:a,deserialize:n.a.deserialize,filters:[]}),0!==r.length&&this.update(r,void 0)}return e.deserialize=function(t,r){var a=new e({config:r});return a.index=s.a.deserialize(t,n.a.deserialize,r.enableOptimizations?i.c:i.b,r),a.badFilters=o.a.deserialize(t,n.a.deserialize,r),a},e.prototype.getFilters=function(){return[].concat(this.badFilters.getFilters(),this.index.getFilters())},e.prototype.update=function(e,t){for(var r=[],n=[],i=0;i<e.length;i+=1){var s=e[i];s.isBadFilter()?r.push(s):n.push(s)}this.badFilters.update(r,t),this.index.update(n,t),this.badFiltersIds=null},e.prototype.getSerializedSize=function(){return this.badFilters.getSerializedSize()+this.index.getSerializedSize()},e.prototype.serialize=function(e){this.index.serialize(e),this.badFilters.serialize(e)},e.prototype.matchAll=function(e){var t=this,r=[];return this.index.iterMatchingFilters(e.getTokens(),(function(n){return n.match(e)&&!1===t.isFilterDisabled(n)&&r.push(n),!0})),r},e.prototype.match=function(e){var t,r=this;return this.index.iterMatchingFilters(e.getTokens(),(function(n){return!n.match(e)||!1!==r.isFilterDisabled(n)||(t=n,!1)})),t},e.prototype.isFilterDisabled=function(e){if(null===this.badFiltersIds){var t=this.badFilters.getFilters();if(0===t.length)return!1;for(var r=new Set,n=0;n<t.length;n+=1)r.add(t[n].getIdWithoutBadFilter());this.badFiltersIds=r}return this.badFiltersIds.has(e.getId())},e}();t.a=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parse=o,t.getGeneralDomain=a,t.getPublicSuffix=function(e){if("string"!=typeof e)return null;return n.getPublicSuffix(e,s)},t.extractHostname=function(e){if("string"!=typeof e)return null;return n.getHostname(e)},t.sameGeneralDomain=function(e,t){if(e===t)return!0;if("string"!=typeof e||"string"!=typeof t)return!1;return a(e)===a(t)};var n=function(e){if(e&&e.__esModule)return e;var t=i();if(t&&t.has(e))return t.get(e);var r={};if(null!=e){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){var o=n?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(r,s,o):r[s]=e[s]}}r.default=e,t&&t.set(e,r);return r}
/*!
 * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */(r(434));function i(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return i=function(){return e},e}const s={detectIp:!0,extractHostname:!0,mixedInputs:!1,validateHostname:!0,validHosts:["localhost"]};function o(e){const t=n.parse(e,s);return t.isIp&&(t.domain=t.hostname),t}function a(e){return"string"!=typeof e?null:o(e).domain}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i.default}});var n,i=(n=r(167))&&n.__esModule?n:{default:n}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getTime=o,t.getConfigTs=function(){null===s&&(s=i.default.get("config_ts",null));s||(s=o().substring(0,8));return s},t.updateTimestamp=function(e){s=e},t.newUTCDate=function(){const e=o();return new Date(Date.UTC(e.substring(0,4),parseInt(e.substring(4,6),10)-1,e.substring(6,8),e.substring(8,10)))},t.dateString=a,t.hourString=function(e){const t=e.getUTCHours().toString();return a(e)+(t[1]?t:`0${t[0]}`)},t.getHourTimestamp=function(){return o().slice(0,10)};var n,i=(n=r(19))&&n.__esModule?n:{default:n};
/*!
 * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */
let s=null;function o(){const e=new Date;let t,r=null;if(s)t=s+""+(r=(e.getUTCHours()<10?"0":"")+e.getUTCHours());else{let n=null,i=null,s=null;n=(e.getDate()<10?"0":"")+e.getDate(),i=(e.getMonth()<9?"0":"")+parseInt(e.getMonth()+1,10),r=(e.getUTCHours()<10?"0":"")+e.getUTCHours(),t=(s=e.getFullYear())+""+i+n+r}return t}function a(e){const t=e.getFullYear().toString(),r=(e.getMonth()+1).toString(),n=e.getDate().toString();return t+(r[1]?r:`0${r[0]}`)+(n[1]?n:`0${n[0]}`)}},,,function(e,t,r){"use strict";r.d(t,"a",(function(){return a})),r.d(t,"f",(function(){return g})),r.d(t,"b",(function(){return A})),r.d(t,"g",(function(){return u})),r.d(t,"d",(function(){return C})),r.d(t,"c",(function(){return l})),r.d(t,"e",(function(){return c}));var n=r(97),i=r(62),s=r(100),o=r(7);
/*!
 * Copyright (c) 2017-2019 Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */
function a(e){if(0===e.length||1===e.length)return 0;var t=e.charCodeAt(0),r=e.charCodeAt(1);if(33===t||35===t&&r<=32||91===t&&Object(o.f)(e,"[Adblock"))return 0;var n=e.charCodeAt(e.length-1);if(36===t||38===t||42===t||45===t||46===t||47===t||58===t||61===t||63===t||64===t||95===t||124===t||124===n)return 1;var i=e.indexOf("$");if(-1!==i&&i!==e.length-1){var s=i+1,a=e.charCodeAt(s);if(36===a||64===a&&Object(o.g)(e,"@$",s))return 0}var g=e.indexOf("#");if(-1!==g&&g!==e.length-1){var A=g+1,u=e.charCodeAt(A);if(35===u||64===u&&Object(o.g)(e,"@#",A))return 2;if(64===u&&(Object(o.g)(e,"@$#",A)||Object(o.g)(e,"@%#",A))||37===u&&Object(o.g)(e,"%#",A)||36===u&&Object(o.g)(e,"$#",A)||63===u&&Object(o.g)(e,"?#",A))return 0}return 1}function g(e){var t=a(e);return 1===t?s.a.parse(e,!0):2===t?i.b.parse(e,!0):null}function A(e){return g(e[0])}function u(e,t){void 0===t&&(t=new n.a),t=new n.a(t);for(var r=[],o=[],g=e.split("\n"),A=0;A<g.length;A+=1){var u=g[A];u.length>1&&(u.charCodeAt(0)<=32||u.charCodeAt(u.length-1)<=32)&&(u=u.trim());var I=a(u);if(1===I&&!0===t.loadNetworkFilters)null!==(C=s.a.parse(u,t.debug))&&r.push(C);else if(2===I&&!0===t.loadCosmeticFilters){var C;null!==(C=i.b.parse(u,t.debug))&&(!0!==t.loadGenericCosmeticsFilters&&!1!==C.isGenericHide()||o.push(C))}}return{networkFilters:r,cosmeticFilters:o}}function I(e,t){var r=u(e,t),n=r.networkFilters,i=r.cosmeticFilters;return[].concat(n).concat(i)}function C(e,t){return void 0===t&&(t=new n.a),new Set(I(e,new n.a(Object.assign({},t,{debug:!0}))).map((function(e){return e.rawLine})))}function l(e,t,r){void 0===r&&(r=new n.a);for(var i=new n.a(Object.assign({},r,{debug:!0})),s=I(e,i),o=new Set(s.map((function(e){return e.getId()}))),a=I(t,i),g=new Set(a.map((function(e){return e.getId()}))),A=new Set,u=0;u<a.length;u+=1){var C=a[u];o.has(C.getId())||A.add(C.rawLine)}var l=new Set;for(u=0;u<s.length;u+=1){C=s[u];g.has(C.getId())||l.add(C.rawLine)}return{added:Array.from(A),removed:Array.from(l)}}function c(e){for(var t=new Set,r=new Set,n=0;n<e.length;n+=1){var i=e[n],s=i.added,o=i.removed;if(void 0!==s)for(var a=0;a<s.length;a+=1){var g=s[a];r.has(g)&&r.delete(g),t.add(g)}if(void 0!==o)for(a=0;a<o.length;a+=1){g=o[a];t.has(g)&&t.delete(g),r.add(g)}}return{added:Array.from(t),removed:Array.from(r)}}},,function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));var n=function(){return"function"==typeof Symbol&&Symbol.observable||"@@observable"}()},function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));var n=function(){function e(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return e.prototype=Object.create(Error.prototype),e}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dURIC=
/*!
 * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */
function(e){try{return decodeURIComponent(e)}catch(t){return e}},t.shuffle=function(e){const t=e.split("");for(let e=t.length-1;e>0;e-=1){const r=Math.floor(Math.random()*(e+1)),n=t[e];t[e]=t[r],t[r]=n}return t.join("")},t.equals=function(e,t){if(!e||!t)return!1;const r=a.get(A(e)),n=a.get(A(t));if(!r||!n)return!1;if(r.href===n.href)return!0;const s=r.port||g(r.protocol),o=n.port||g(n.protocol);return r.protocol===n.protocol&&r.username===n.username&&r.password===n.password&&s===o&&r.pathname===n.pathname&&r.search===n.search&&r.hash===n.hash&&(r.hostname===n.hostname||(0,i.getPunycodeEncoded)(r).hostname===(0,i.getPunycodeEncoded)(n).hostname)},t.URLInfo=void 0;var n,i=function(e){if(e&&e.__esModule)return e;var t=s();if(t&&t.has(e))return t.get(e);var r={};if(null!=e){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(r,i,o):r[i]=e[i]}}r.default=e,t&&t.set(e,r);return r}(r(199));function s(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}const o=new(((n=r(403))&&n.__esModule?n:{default:n}).default)(100),a={get(e){try{let t=o.get(e);return void 0===t&&(t=new i.default(e),o.set(e,t)),t}catch(e){return null}}};function g(e){return"https:"===e?"443":"http:"===e?"80":"ftp:"===e?"21":""}function A(e){try{return decodeURI(e)}catch(t){return e}}t.URLInfo=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toHex=function(e){e=o(e);const t=e.byteLength,r=[];for(let n=0;n<t;++n)r[2*n]="0123456789abcdef"[e[n]>>4],r[2*n+1]="0123456789abcdef"[15&e[n]];return r.join("")},t.fromHex=function(e){const t=[,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,1,2,3,4,5,6,7,8,9,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,10,11,12,13,14,15];if((e=e.toLowerCase()).length%2!=0)throw new Error(`fromHex: ${e} has odd length`);const r=e.length/2,n=new Uint8Array(r);for(let i=0;i<r;i++)n[i]=t[e[2*i].charCodeAt()]<<4|t[e[2*i+1].charCodeAt()];return n},t.toUTF8=function(e){return u.encode(e)},t.fromUTF8=function(e){return A.decode(o(e))},t.toByteArray=o,t.fromBase64=t.toBase64=void 0;var n=s(r(429)),i=s(r(430));function s(e){return e&&e.__esModule?e:{default:e}}
/*!
 * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */function o(e){return e.buffer?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):new Uint8Array(e)}function a(e){const t=[],r=e.length;for(let n=0;n<r;n+=16383)t.push(String.fromCharCode.apply(null,e.subarray(n,n+16383)));return t.join("")}function g(e){const t=new Uint8Array(e.length),r=e.length;for(let n=0;n<r;n+=1)t[n]=e.charCodeAt(n);return t}const A=i.default?new i.default:{decode:function(e){return decodeURIComponent(escape(a(e)))}};const u=n.default?new n.default:{encode:function(e){return g(unescape(encodeURIComponent(e)))}};const I="undefined"!=typeof btoa?function(e){return btoa(a(o(e)))}:function(e){const t=[0,2,1],r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n=(e=o(e)).byteLength,i=4*Math.floor((n+2)/3),s=new Array(i);for(let t=0,i=0;t<n;){const o=((t<n?e[t++]:0)<<16)+((t<n?e[t++]:0)<<8)+(t<n?e[t++]:0);s[i++]=r[o>>18&63],s[i++]=r[o>>12&63],s[i++]=r[o>>6&63],s[i++]=r[o>>0&63]}for(let e=0;e<t[n%3];e++)s[i-1-e]="=";return s.join("")};t.toBase64=I;const C="undefined"!=typeof atob?function(e){return g(atob(e))}:function(e){const t=[,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,62,,,,63,52,53,54,55,56,57,58,59,60,61,,,,,,,,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,,,,,,,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],r=e.length;if(r%4!=0)return null;let n=3*Math.floor(r/4);"="===e[r-1]&&n--,"="===e[r-2]&&n--;const i=new Uint8Array(n);for(let s=0,o=0;s<r;){const r=(("="===e[s]?0&s++:t[e[s++].charCodeAt()])<<18)+(("="===e[s]?0&s++:t[e[s++].charCodeAt()])<<12)+(("="===e[s]?0&s++:t[e[s++].charCodeAt()])<<6)+(("="===e[s]?0&s++:t[e[s++].charCodeAt()])<<0);o<n&&(i[o++]=r>>16&255),o<n&&(i[o++]=r>>8&255),o<n&&(i[o++]=r>>0&255)}return i};t.fromBase64=C},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=
/*!
 * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */
function(){return Promise.resolve(i.default)};var n,i=(n=r(328))&&n.__esModule?n:{default:n}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(r(19)),i=s(r(28));function s(e){return e&&e.__esModule?e:{default:e}}var o={MINUTE:60,HOUR:3600,DAY:86400,CURRENT_VERSION:2,LOG_LEVEL:"debug",IS_DEV_MODE:!0,get BACKEND_URL(){return n.default.get("triggersBE",i.default.settings.OFFERS_BE_BASE_URL)},OFFER_INFORMATION_URL:"https://cliqz.com/products/cliqz-for-desktop/cliqz-angebote",OFFERS_HISTORY_LIVE_TIME_SECS:1728e3,TRIGGER_ENGINE_VERSION:"24",LOAD_OFFERS_STORAGE_DATA:!0,OFFERS_STORAGE_DEFAULT_TTS_SECS:864e3,THROTTLE_HISTORY_QUERIES_SECS:180,THROTTLE_PUSH_TO_REWARD_BOX_SECS:180,SIGNALS_OFFERS_FREQ_SECS:1800,get SIGNALS_HPN_BE_ADDR(){return`${n.default.get("triggersBE",i.default.settings.OFFERS_BE_BASE_URL)}/api/v1/savesignal`},SIGNALS_HPN_BE_ACTION:"offers-signal",SIGNALS_OFFERS_EXPIRATION_SECS:5184e3,SIGNALS_VERSION:3.1,SIGNALS_LOAD_FROM_DB:!0,SIGNALS_AUTOSAVE_FREQ_SECS:120,MAX_RETRIES:3,SEND_SIG_OP_EXPIRATION_SECS:5184e3,SEND_SIG_OP_SHOULD_LOAD:!0,OFFERS_OVERRIDE_TIMEOUT:-1,get MAX_NUM_OFFERS_PER_DAY(){return n.default.get((e=>`offers-v2.${e.toLowerCase()}`)("MAX_NUM_OFFERS_PER_DAY"),5)}};t.default=o},,,,function(e,t,r){"use strict";r.d(t,"a",(function(){return A}));var n=r(6),i=r(20),s=r(21),o=r(82),a=r(56),g=r(65);function A(e,t,r){return void 0===r&&(r=Number.POSITIVE_INFINITY),"function"==typeof t?function(n){return n.pipe(A((function(r,n){return Object(g.a)(e(r,n)).pipe(Object(a.a)((function(e,i){return t(r,e,n,i)})))}),r))}:("number"==typeof t&&(r=t),function(t){return t.lift(new u(e,r))})}var u=function(){function e(e,t){void 0===t&&(t=Number.POSITIVE_INFINITY),this.project=e,this.concurrent=t}return e.prototype.call=function(e,t){return t.subscribe(new I(e,this.project,this.concurrent))},e}(),I=function(e){function t(t,r,n){void 0===n&&(n=Number.POSITIVE_INFINITY);var i=e.call(this,t)||this;return i.project=r,i.concurrent=n,i.hasCompleted=!1,i.buffer=[],i.active=0,i.index=0,i}return n.b(t,e),t.prototype._next=function(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)},t.prototype._tryNext=function(e){var t,r=this.index++;try{t=this.project(e,r)}catch(e){return void this.destination.error(e)}this.active++,this._innerSub(t,e,r)},t.prototype._innerSub=function(e,t,r){var n=new o.a(this,void 0,void 0);this.destination.add(n),Object(i.a)(this,e,t,r,n)},t.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()},t.prototype.notifyNext=function(e,t,r,n,i){this.destination.next(t)},t.prototype.notifyComplete=function(e){var t=this.buffer;this.remove(e),this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},t}(s.a)},,function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));var n=function(){function e(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return e.prototype=Object.create(Error.prototype),e}()},function(e,t,r){"use strict";function n(e){return"function"==typeof e}r.d(t,"a",(function(){return n}))},,function(e,t,r){"use strict";r.d(t,"d",(function(){return s})),r.d(t,"b",(function(){return o})),r.d(t,"a",(function(){return a})),r.d(t,"f",(function(){return g})),r.d(t,"c",(function(){return A})),r.d(t,"e",(function(){return u}));var n=r(6);
/*!
 * Copyright (c) 2017-2019 Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */function i(e,t){return e(t).then((function(e){return e.text()}))}function s(e,t,r){return e(t).then((function(e){return e.json()})).then((function(t){return e(t.engines[r].url)})).then((function(e){return e.arrayBuffer()})).then((function(e){return new Uint8Array(e)}))}var o=["https://easylist.to/easylist/easylist.txt","https://pgl.yoyo.org/adservers/serverlist.php?hostformat=adblockplus&showintro=0&mimetype=plaintext","https://raw.githubusercontent.com/uBlockOrigin/uAssets/master/filters/annoyances.txt","https://raw.githubusercontent.com/uBlockOrigin/uAssets/master/filters/badware.txt","https://raw.githubusercontent.com/uBlockOrigin/uAssets/master/filters/filters.txt","https://raw.githubusercontent.com/uBlockOrigin/uAssets/master/filters/resource-abuse.txt","https://raw.githubusercontent.com/uBlockOrigin/uAssets/master/filters/unbreak.txt","https://easylist-downloads.adblockplus.org/easylistgermany.txt"],a=Object(n.e)(o,["https://easylist.to/easylist/easyprivacy.txt","https://raw.githubusercontent.com/uBlockOrigin/uAssets/master/filters/privacy.txt"]),g=Object(n.e)(a,["https://easylist-downloads.adblockplus.org/fanboy-annoyance.txt","https://www.fanboy.co.nz/fanboy-cookiemonster.txt"]);function A(e,t){return Promise.all(t.map((function(t){return i(e,t)})))}function u(e){return function(e){return e("https://cdn.cliqz.com/adblocker/resources/ublock-resources/metadata.json").then((function(e){return e.json()})).then((function(e){var t=e.revisions;return"https://cdn.cliqz.com/adblocker/resources/ublock-resources/"+t[t.length-1]+"/list.txt"}))}(e).then((function(t){return i(e,t)}))}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Resource=t.UpdateCallbackHandler=void 0;var n=C(r(28)),i=C(r(74)),s=C(r(19)),o=r(68),a=C(r(428)),g=r(112),A=r(274),u=r(84),I=C(r(44));function C(e){return e&&e.__esModule?e:{default:e}}function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d(e,t,r,n,i,s,o){try{var a=e[s](o),g=a.value}catch(e){return void r(e)}a.done?t(g):Promise.resolve(g).then(n,i)}function h(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var s=e.apply(t,r);function o(e){d(s,n,i,o,a,"next",e)}function a(e){d(s,n,i,o,a,"throw",e)}o(void 0)}))}}const f=i.default.get("core",{level:"log",prefix:"[resource-loader]"}),p=36e5;function m(){return(m=h((function*(e){const t=yield(0,o.fetch)(e,{cache:"no-cache"});if(!t.ok)throw new Error(t.statusText);return t.text()}))).apply(this,arguments)}class _{constructor(){this.callbacks=[]}onUpdate(e){this.callbacks.push(e)}triggerCallbacks(e){return Promise.all(this.callbacks.map(t=>t(e)))}}t.UpdateCallbackHandler=_;class y{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.name="string"==typeof e?[e]:e,this.remoteURL=t.remoteURL,this.dataType=t.dataType||"json",this.filePath=["cliqz",...this.name],this.chromeURL=t.chromeURL||`${n.default.baseURL}${this.name.join("/")}`,this.storage=new a.default(this.filePath),this.remoteOnly=t.remoteOnly||"mobile"===u.platformName,this.compress=t.compress||!u.isMobile&&u.isWebExtension,this.size=0}load(){return this.storage.load().then(e=>this.decompressData(e)).then(e=>{if("binary"===this.dataType)return e.buffer||e;try{return(0,g.fromUTF8)(e)||e}catch(t){return e}}).then(e=>this.parseData(e)).catch(()=>this.remoteOnly?Promise.reject(new Error("Should update only from remote")):this.updateFromURL(this.chromeURL)).catch(()=>this.updateFromRemote())}updateFromRemote(){return void 0===this.remoteURL?Promise.reject(new Error("updateFromRemote: remoteURL is undefined")):this.updateFromURL(this.remoteURL)}updateFromURL(e){return e?function(e){return m.apply(this,arguments)}(e).then(this.persist.bind(this)):Promise.reject(new Error("updateFromURL: url is undefined"))}compressData(e){return this.compress?(0,A.deflate)(e,{to:"binary"!==this.dataType?"string":void 0}):e}decompressData(e){if(!this.compress)return e;try{return(0,A.inflate)(e,{to:"binary"!==this.dataType?"string":void 0})}catch(t){return e}}persist(e){return this.parseData(e).then(t=>{const r=this.compressData(e);return this.storage.save(r).catch(e=>f.error("Failed to persist:",e)).then(()=>t)})}parseData(e){if(this.size=e.length,"json"===this.dataType)try{const t=JSON.parse(e);return Promise.resolve(t)}catch(t){return Promise.reject(new Error(`parseData: failed with exception ${t} ${e}`))}return Promise.resolve(e)}}t.Resource=y;class b extends _{static report(){return this.loaders.reduce((e,t)=>(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(r,!0).forEach((function(t){c(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e})({},e,{[t.resource.name]:t.report()}),{})}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(),this.resource=new y(e,t),this.cron=t.cron||p,this.intervalTimer=null,this.constructor.loaders.push(this)}report(){return{size:this.resource.size,cron:this.cron,remoteURL:this.resource.remoteURL,compress:this.resource.compress}}startListeningForUpdates(){!this.intervalTimer&&this.resource.remoteURL&&(this.intervalTimer=I.default.everyFewMinutes(this.updateFromRemote.bind(this)))}load(){var e=this;return h((function*(){const t=yield e.resource.load();return e.startListeningForUpdates(),t}))()}updateFromRemote(){var e=this;let t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).force,r=void 0!==t&&t;return h((function*(){const t=e.resource.name.join("/"),n=`resource-loader.lastUpdates.${t}`,i=Number(s.default.get(n,0)),o=Date.now();if(r||o>e.cron+i){let r;try{r=yield e.resource.updateFromRemote(),s.default.set(n,String(Date.now()))}catch(r){return void f.warn(`Failed to fetch resources for ${t} from remoteUrl: ${e.resource.remoteURL}`,r)}try{return yield e.triggerCallbacks(r),r}catch(e){f.error(`Failed to execute callbacks for ${t}`,e)}}}))()}stop(){I.default.clearTimeout(this.intervalTimer),this.intervalTimer=null}}t.default=b,c(b,"loaders",[])},function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));var n=function(){function e(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return e.prototype=Object.create(Error.prototype),e}()},function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r(16),i=r(258),s=r(190);function o(e,t){return t?Object(s.a)(e,t):new n.a(Object(i.a)(e))}},function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));var n=r(6),i=r(211),s=function(e){function t(r,n){void 0===n&&(n=i.a.now);var s=e.call(this,r,(function(){return t.delegate&&t.delegate!==s?t.delegate.now():n()}))||this;return s.actions=[],s.active=!1,s.scheduled=void 0,s}return n.b(t,e),t.prototype.schedule=function(r,n,i){return void 0===n&&(n=0),t.delegate&&t.delegate!==this?t.delegate.schedule(r,n,i):e.prototype.schedule.call(this,r,n,i)},t.prototype.flush=function(e){var t=this.actions;if(this.active)t.push(e);else{var r;this.active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}},t}(i.a)},function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r(6),i=r(37),s=r(30),o=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.value=null,t.hasNext=!1,t.hasCompleted=!1,t}return n.b(t,e),t.prototype._subscribe=function(t){return this.hasError?(t.error(this.thrownError),s.a.EMPTY):this.hasCompleted&&this.hasNext?(t.next(this.value),t.complete(),s.a.EMPTY):e.prototype._subscribe.call(this,t)},t.prototype.next=function(e){this.hasCompleted||(this.value=e,this.hasNext=!0)},t.prototype.error=function(t){this.hasCompleted||e.prototype.error.call(this,t)},t.prototype.complete=function(){this.hasCompleted=!0,this.hasNext&&e.prototype.next.call(this,this.value),e.prototype.complete.call(this)},t}(i.a)},function(e,t,r){"use strict";var n=r(6),i=function(e){function t(t,r){return e.call(this)||this}return n.b(t,e),t.prototype.schedule=function(e,t){return void 0===t&&(t=0),this},t}(r(30).a);r.d(t,"a",(function(){return s}));var s=function(e){function t(t,r){var n=e.call(this,t,r)||this;return n.scheduler=t,n.work=r,n.pending=!1,n}return n.b(t,e),t.prototype.schedule=function(e,t){if(void 0===t&&(t=0),this.closed)return this;this.state=e;var r=this.id,n=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(n,r,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(n,this.id,t),this},t.prototype.requestAsyncId=function(e,t,r){return void 0===r&&(r=0),setInterval(e.flush.bind(e,this),r)},t.prototype.recycleAsyncId=function(e,t,r){if(void 0===r&&(r=0),null!==r&&this.delay===r&&!1===this.pending)return t;clearInterval(t)},t.prototype.execute=function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(e,t){var r=!1,n=void 0;try{this.work(e)}catch(e){r=!0,n=!!e&&e||new Error(e)}if(r)return this.unsubscribe(),n},t.prototype._unsubscribe=function(){var e=this.id,t=this.scheduler,r=t.actions,n=r.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==n&&r.splice(n,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null},t}(i)},function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=r(40);function i(e){return!Object(n.a)(e)&&e-parseFloat(e)+1>=0}},function(e,t,r){"use strict";t.a={allow_once:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAWCAYAAADAQbwGAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAXZJREFUeNpiYMABLLY+MwBiAQYSARMuw4DUeSC+D2QnUGwgEAgg0fOBhu4HYgVKDEQHDlDXNlDLQBioBxoKMtiBWgaCAMjroCCYjy3SyDEQBhKwRRolBmKNNEoNRI608yBDqWUgbi9DE7U/ieYcAGLDE95SDxiRDdIWYF0fKMetYCTMxvDl9z+GW5/+MMy9/Znh+fe/uAz6AMSFQIMWwAQYYYYFyHHtL9fhx0gGIIMnXP/EsPXJd3SpBVDDPmBYk3z09f3/SODzr7//s068+X/r4y84P3Dfy/9Ai/8TSthg1215/A1uGMgQmOazb3/CxVfc/wIS6ycmUhxAYQYDkpzMDDX6mKWWKh8riNpIcizzsDIxGAmxUZRsDpx7+4ugwtuffoOoB0SZGnLgFUqkgAB6pEQefLWfaGeCIqbj8of3/7EAkGEgOWiCJwhQErYiD0t/tBKPgyQXM9ybGx99O3D/yx9QertAkoFoWQ8WzR+INQgGAAIMAEDRCE4JKrVEAAAAAElFTkSuQmCC",allow_unblock:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAWCAYAAADAQbwGAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAgFJREFUeNpiYMABLLY+MwBiAQYSARMuw4DUeSC+D2QXUGwgEAgg0f1AQ89DLSHbQHQAdjHQ0H5CwcBEYhAVQA0OoJaBIKAAxOuBhoKwAjUMhIEAqGsLqGUg1kij1ED0SDOgloFwwIKWoAWgYWNPojkXgLjwhLfUBUYkwxKcJDn6E5R5BFT5WMFitz/9Zlj54CvDwZc/Gb78/ofNoA9APBFoUANMgBFqWECBFt96IyE2huk3Pz84/vrnAaBwAsjgWj1+BklOZoask+/AFiABkJpEoGEPMGLZVIR9PsiwotPvF/SbCSsChRaCxJ9//wtWxMPKBDYUyVWBQIMc0Q0DhyHIdSHyXAJL7319sMVFPBFZkpeFEexlSU4WBl5WsGcmAHEj0KAP+CJFYOez7wf2Pf+xEV0S5MKtT77DAr0R5E18hsG8/ABq2AWkjP8BiW5U5GH5AMT5xCYbgRo9gX5JLmaG829/MfDtevHg0+9/hkBxEAaFUUC0Ek/9sdc/Piy3F/tATPEFDlhQpDz//ocBaBgowD+A0hQoBwTIcfWr8bEwAH0xkRgXgkN6zq3P/w2F2cACax9+BbniAjDZCdiLcxiADMs99e7Cx1//HAmFH3I63A+kDgITdr67FKcAKJmAwKEXPxj2v/gx4dWPv43EGIZsoABMA5DtgJyliDUIBgACDAA4LtiR9/edvQAAAABJRU5ErkJggg==",ghostery_facebook:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAATCAYAAACHrr18AAAACXBIWXMAAAsTAAALEwEAmpwYAAA51WlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS41LWMwMjEgNzkuMTU0OTExLCAyMDEzLzEwLzI5LTExOjQ3OjE2ICAgICAgICAiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iCiAgICAgICAgICAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgICAgICAgICAgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIgogICAgICAgICAgICB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIKICAgICAgICAgICAgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIKICAgICAgICAgICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iCiAgICAgICAgICAgIHhtbG5zOmV4aWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vZXhpZi8xLjAvIj4KICAgICAgICAgPHhtcDpDcmVhdG9yVG9vbD5BZG9iZSBQaG90b3Nob3AgQ0MgKE1hY2ludG9zaCk8L3htcDpDcmVhdG9yVG9vbD4KICAgICAgICAgPHhtcDpDcmVhdGVEYXRlPjIwMTQtMDQtMDFUMTI6MDY6NDYtMDQ6MDA8L3htcDpDcmVhdGVEYXRlPgogICAgICAgICA8eG1wOk1vZGlmeURhdGU+MjAxNC0wNC0wM1QxNDoyNTo1OS0wNDowMDwveG1wOk1vZGlmeURhdGU+CiAgICAgICAgIDx4bXA6TWV0YWRhdGFEYXRlPjIwMTQtMDQtMDNUMTQ6MjU6NTktMDQ6MDA8L3htcDpNZXRhZGF0YURhdGU+CiAgICAgICAgIDxkYzpmb3JtYXQ+aW1hZ2UvcG5nPC9kYzpmb3JtYXQ+CiAgICAgICAgIDxwaG90b3Nob3A6Q29sb3JNb2RlPjM8L3Bob3Rvc2hvcDpDb2xvck1vZGU+CiAgICAgICAgIDx4bXBNTTpJbnN0YW5jZUlEPnhtcC5paWQ6ODZlMTk0MGUtOTU5OC00ZDc0LTkxYjgtZGJlMDA3ODVmMGM0PC94bXBNTTpJbnN0YW5jZUlEPgogICAgICAgICA8eG1wTU06RG9jdW1lbnRJRD54bXAuZGlkOjdiZWQ2YzNjLTg1ZjgtNDcyYy05ZjRlLWViNDg0NGMwNTk3MzwveG1wTU06RG9jdW1lbnRJRD4KICAgICAgICAgPHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD54bXAuZGlkOjdiZWQ2YzNjLTg1ZjgtNDcyYy05ZjRlLWViNDg0NGMwNTk3MzwveG1wTU06T3JpZ2luYWxEb2N1bWVudElEPgogICAgICAgICA8eG1wTU06SGlzdG9yeT4KICAgICAgICAgICAgPHJkZjpTZXE+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6YWN0aW9uPmNyZWF0ZWQ8L3N0RXZ0OmFjdGlvbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0Omluc3RhbmNlSUQ+eG1wLmlpZDo3YmVkNmMzYy04NWY4LTQ3MmMtOWY0ZS1lYjQ4NDRjMDU5NzM8L3N0RXZ0Omluc3RhbmNlSUQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDp3aGVuPjIwMTQtMDQtMDFUMTI6MDY6NDYtMDQ6MDA8L3N0RXZ0OndoZW4+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpzb2Z0d2FyZUFnZW50PkFkb2JlIFBob3Rvc2hvcCBDQyAoTWFjaW50b3NoKTwvc3RFdnQ6c29mdHdhcmVBZ2VudD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6YWN0aW9uPnNhdmVkPC9zdEV2dDphY3Rpb24+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDppbnN0YW5jZUlEPnhtcC5paWQ6ODZlMTk0MGUtOTU5OC00ZDc0LTkxYjgtZGJlMDA3ODVmMGM0PC9zdEV2dDppbnN0YW5jZUlEPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6d2hlbj4yMDE0LTA0LTAzVDE0OjI1OjU5LTA0OjAwPC9zdEV2dDp3aGVuPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6c29mdHdhcmVBZ2VudD5BZG9iZSBQaG90b3Nob3AgQ0MgKE1hY2ludG9zaCk8L3N0RXZ0OnNvZnR3YXJlQWdlbnQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpjaGFuZ2VkPi88L3N0RXZ0OmNoYW5nZWQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICA8L3JkZjpTZXE+CiAgICAgICAgIDwveG1wTU06SGlzdG9yeT4KICAgICAgICAgPHRpZmY6T3JpZW50YXRpb24+MTwvdGlmZjpPcmllbnRhdGlvbj4KICAgICAgICAgPHRpZmY6WFJlc29sdXRpb24+NzIwMDAwLzEwMDAwPC90aWZmOlhSZXNvbHV0aW9uPgogICAgICAgICA8dGlmZjpZUmVzb2x1dGlvbj43MjAwMDAvMTAwMDA8L3RpZmY6WVJlc29sdXRpb24+CiAgICAgICAgIDx0aWZmOlJlc29sdXRpb25Vbml0PjI8L3RpZmY6UmVzb2x1dGlvblVuaXQ+CiAgICAgICAgIDxleGlmOkNvbG9yU3BhY2U+NjU1MzU8L2V4aWY6Q29sb3JTcGFjZT4KICAgICAgICAgPGV4aWY6UGl4ZWxYRGltZW5zaW9uPjMwPC9leGlmOlBpeGVsWERpbWVuc2lvbj4KICAgICAgICAgPGV4aWY6UGl4ZWxZRGltZW5zaW9uPjE5PC9leGlmOlBpeGVsWURpbWVuc2lvbj4KICAgICAgPC9yZGY6RGVzY3JpcHRpb24+CiAgIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgCjw/eHBhY2tldCBlbmQ9InciPz4RUcEWAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAMNSURBVHjarJZbSFNxHMc/29kxd7ambLN5irDwsurBpkH5oDnoxehiFGkvQbGe7EpRT9VLUURQluhDGJS+GBFBsLQHSaGiJLbsISkLFWkXltJ0unCXepienK6Z1vflnP//fA+f3+1/OCr+UpWOdj2gAya6724PsQRVOtoFgK7mqpgmlaHM6TkEVAN2IBvoivX57cLnAERiVDra+UepNHOA2cBzwDbHaI+utxAtMCO+HkQ9OgnxOPxcOlnzF9DfEgUiFfmIrwZQ+8dJRy4vsVBesoJckxaAjldf6Xj5dT4YODUbKmsFvOEYAHpRzXKNSllHbavI6OhLC718tCRp793H0aS1etb9SSWCDQZays3oxcTjC8VZtJSbFeNPKYP4yqw04BXzoL6R8PxSlzk9M0MEQKFBRC+qKTJocI1MsdWSCUCpKQPXyFQCnqUFTzAleKa8AOcb3bxw++d51KleDEXiAHgnE6V1jU4RisT5NBZdcGhsViN6SUwKwmY1kmvWph6u2br0PkiRYULp6eXe78iSoASUTvVnNyetjx1Yl2jf9R5838LpwaFIXCkpgDccU4L4X0oJlrUCsiQocFkrUGgQcQ0FKPT3AxAIqgik6JT9SAf1ZzdjsxqVTOdO9B/B3nCM2rU6GreYAOgfi/D2+jWudN5J8j0ybqMpt/b/ZQxQ/2GMBwMTyJJAQXsLJ6ahV3ZfZHyZnpqeNvYNdTIhSNzP2bVo8Eyt7H/K3DUyRU1PG75smVDmcva/acOdV8qJ3TfwiSb2jnYuKeMZ8MZ0ptzvXp4W7+T4wSbkoJeG1jp0y6I8y6lAH5sk/8fw4sFlTs8aYM9CRjnood9SpMCvPjyHZEmcV79oWlKPF4S680rZ3uvEnbeJp8U7OH6wiYbWOkqGXPTqrIQEKcn/eXj899GcTP3RUZU5PXuASqAbGAQeA2tmmwr9n2horUP/Y5x+S5GyFxIkTued4Uvm6kVl29VcpVKl+AmwATeng7g1fT20NjBQ7Xhy27bu28dsgF6dlZacXfgWX+bDXc1V934NANACFY2eOKMVAAAAAElFTkSuQmCC",ghostery_hubspot:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAATCAMAAABBexbDAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAMAUExURQAAADuz4zi05Ti15jq25j2y4T225jy35z+453WPqHSPqXyetkOu2kir1kCw3lCmzlWjyEC35kG45kG450S550S650i750696E296U++6VG+6VS+6Fy+5lbA6mLF62TF7GrG63HJ7HHK7X7O7q1rbqNxeKBzfLdlZPw5HfI/J/Y9I/Q+Jfo7IPg7Ifs+I/o/JN9LO+5CK+1CLOlGMvFAKPVDKvtAJfpAJvtEKfhKMftONc5WTcNdV8VcVslaUdNTR9RSRtFVSvxcRfthS/ZuW45+jZB9jKF8heyGevyNfYGTqYqSpZaUpIe505q/1YLR74TR75PW8JjZ8pva8p/c86Ld86nf9Kzg9bXk9rrl9tWPi8Pp+MTp+Mvr+M3s+NTv+ef2/Or3/O75/fr9/vz+/v///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIFmyzIAAAEAdFJOU////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////wBT9wclAAAACXBIWXMAAAsSAAALEgHS3X78AAAAGXRFWHRTb2Z0d2FyZQBwYWludC5uZXQgNC4wLjEzNANbegAAANFJREFUKFNj+I8OICJSbExMTCJgJkSEjRkMmJRhIsIQAWZmFqiIHDOzf6QwW0g4CzNII1BEjFk0IVVJKjFZgpkZIiLELJwIFElKkUSIMAfFcbCHRbAgibBwQDBCRB7Ek0NWIxUTGhzrp+ZgHwUWEQTKy0bH+xrrWjtqO4FEQG5jZma11dDkYvQx84SL8BurqptwKrhYMPyXhogIGLnyqWt6eegwwLzJa2DDyGNnaOrM8F9cURks6Kajwu2tpQcyGQiExAMCZdwt9c2twLajgP//ASW7h6c95fo8AAAAAElFTkSuQmCC",ghostery_linkedin:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAATCAYAAACHrr18AAAACXBIWXMAAAsTAAALEwEAmpwYAAA4HmlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS41LWMwMjEgNzkuMTU0OTExLCAyMDEzLzEwLzI5LTExOjQ3OjE2ICAgICAgICAiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iCiAgICAgICAgICAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgICAgICAgICAgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIgogICAgICAgICAgICB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIKICAgICAgICAgICAgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIKICAgICAgICAgICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iCiAgICAgICAgICAgIHhtbG5zOmV4aWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vZXhpZi8xLjAvIj4KICAgICAgICAgPHhtcDpDcmVhdG9yVG9vbD5BZG9iZSBQaG90b3Nob3AgQ0MgKE1hY2ludG9zaCk8L3htcDpDcmVhdG9yVG9vbD4KICAgICAgICAgPHhtcDpDcmVhdGVEYXRlPjIwMTQtMDQtMDFUMTI6MDk6NTAtMDQ6MDA8L3htcDpDcmVhdGVEYXRlPgogICAgICAgICA8eG1wOk1vZGlmeURhdGU+MjAxNC0wNC0wM1QxNDoyNzo1NS0wNDowMDwveG1wOk1vZGlmeURhdGU+CiAgICAgICAgIDx4bXA6TWV0YWRhdGFEYXRlPjIwMTQtMDQtMDNUMTQ6Mjc6NTUtMDQ6MDA8L3htcDpNZXRhZGF0YURhdGU+CiAgICAgICAgIDxkYzpmb3JtYXQ+aW1hZ2UvcG5nPC9kYzpmb3JtYXQ+CiAgICAgICAgIDxwaG90b3Nob3A6Q29sb3JNb2RlPjM8L3Bob3Rvc2hvcDpDb2xvck1vZGU+CiAgICAgICAgIDx4bXBNTTpJbnN0YW5jZUlEPnhtcC5paWQ6NmMwMjlmZGYtZmU3OS00MTRhLTk4ZTQtMGQ0NjQzNjYyZmM2PC94bXBNTTpJbnN0YW5jZUlEPgogICAgICAgICA8eG1wTU06RG9jdW1lbnRJRD54bXAuZGlkOjZjMDI5ZmRmLWZlNzktNDE0YS05OGU0LTBkNDY0MzY2MmZjNjwveG1wTU06RG9jdW1lbnRJRD4KICAgICAgICAgPHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD54bXAuZGlkOjZjMDI5ZmRmLWZlNzktNDE0YS05OGU0LTBkNDY0MzY2MmZjNjwveG1wTU06T3JpZ2luYWxEb2N1bWVudElEPgogICAgICAgICA8eG1wTU06SGlzdG9yeT4KICAgICAgICAgICAgPHJkZjpTZXE+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6YWN0aW9uPmNyZWF0ZWQ8L3N0RXZ0OmFjdGlvbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0Omluc3RhbmNlSUQ+eG1wLmlpZDo2YzAyOWZkZi1mZTc5LTQxNGEtOThlNC0wZDQ2NDM2NjJmYzY8L3N0RXZ0Omluc3RhbmNlSUQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDp3aGVuPjIwMTQtMDQtMDFUMTI6MDk6NTAtMDQ6MDA8L3N0RXZ0OndoZW4+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpzb2Z0d2FyZUFnZW50PkFkb2JlIFBob3Rvc2hvcCBDQyAoTWFjaW50b3NoKTwvc3RFdnQ6c29mdHdhcmVBZ2VudD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgIDwvcmRmOlNlcT4KICAgICAgICAgPC94bXBNTTpIaXN0b3J5PgogICAgICAgICA8dGlmZjpPcmllbnRhdGlvbj4xPC90aWZmOk9yaWVudGF0aW9uPgogICAgICAgICA8dGlmZjpYUmVzb2x1dGlvbj43MjAwMDAvMTAwMDA8L3RpZmY6WFJlc29sdXRpb24+CiAgICAgICAgIDx0aWZmOllSZXNvbHV0aW9uPjcyMDAwMC8xMDAwMDwvdGlmZjpZUmVzb2x1dGlvbj4KICAgICAgICAgPHRpZmY6UmVzb2x1dGlvblVuaXQ+MjwvdGlmZjpSZXNvbHV0aW9uVW5pdD4KICAgICAgICAgPGV4aWY6Q29sb3JTcGFjZT42NTUzNTwvZXhpZjpDb2xvclNwYWNlPgogICAgICAgICA8ZXhpZjpQaXhlbFhEaW1lbnNpb24+MzA8L2V4aWY6UGl4ZWxYRGltZW5zaW9uPgogICAgICAgICA8ZXhpZjpQaXhlbFlEaW1lbnNpb24+MTk8L2V4aWY6UGl4ZWxZRGltZW5zaW9uPgogICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KICAgPC9yZGY6UkRGPgo8L3g6eG1wbWV0YT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAKPD94cGFja2V0IGVuZD0idyI/PlZBxBwAAAAgY0hSTQAAeiUAAICDAAD5/wAAgOkAAHUwAADqYAAAOpgAABdvkl/FRgAAAzNJREFUeNqklV9Mm1UUwH/9840WSluBBL5J+GNGY4SxUknEBIQlumhAIVmEJyJmb5jJlkzfZJkuM4Ylk5GRxUgY8ALxAZkWH8ziKg9mf1JkE7KUMNos9gNJu1JgHwJt99Duo5Ui/87L9917z7m/c+4591wVuxTVuZ9UgBYIRy6/H2IfEolENvdLplBh97YA9UANYAZu/+2WaqQn84Q29sVMkHBHnUr1H6AZ+A2wJjMIbYR4eG+Kf1fXDgxW7xYKoNFqsL55FCFFOHDU6rj/M/FQUa9RFgyCOmFcbHsVs16gt8nKcEs51sPGA4HbFA9eM9JfmYVBiC5/UWqivzJLUUzRHeLMuyV8VJ5LfXEO509Y9geusHtfFBEARUYBg6DGYtQC8Fa2DoOgxpZ5SDGcDm4o/7dnfHsGa5NNLq+HAZCeRSvY6V/Dkq7FFQdzPPaR0f4Is07A/fTZlj0KXkqlIEOP2y8nXU8K/urBIhbjCpIcBV+cCCCmahSHAKpfyWSg1QbAhV9duP0yvU3HABiZnKO+OEfR7Ryb5ezNyW1znBCx07d5ZSQ5lDBOJp64qOKhAG1VhVsKMClY1GsS8inqNdE8ry5R5nFS5nEiLnq3dWJkcg71Zz/TOTa76UxJzs5HLckhmgrTuPZGZqyQ1rnf8Q2Xbn2X2AjmTqFuO7/F/se/5hUH2qoKd19cAN9OBRmaXUFM1XDkl34+jUEvfdDOUoqBxruDlA31EDEYIa9222Pf6R7XbBe507dG491B5swiy7p0PrwzyHi+jauffA9iLuGhHgBMOmFfDeTY/ynlBCRGS+s43dyNuCjRNdCK9I+flXdOwnKQiGsK68t7617qCru3AGjYSVFc9DKdbVHgX//wOb/PLESPVpeB2y/jmPHhmPERkNcBCMjrypzbL2/J8Y7Q8Xwb703YGc9/ndHSWk43d9M10EqZx4nDZKHvURAI0nf/SYLdn94gx6//kfx9r7B7G4BqwAG4gWGgIF6paN5F10ArhtUlprMtylxAq+ftkrNMpOUe7D2O9W0rcCXmRGfs21K4MFvfZO+0Hl1wmQEcpiK+zKvFk5K51zb9cbij7sbzAQAecS/F2Lf/9AAAAABJRU5ErkJggg==",ghostery_pinterest:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAATCAYAAACHrr18AAAACXBIWXMAAAsTAAALEwEAmpwYAAA51WlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS41LWMwMjEgNzkuMTU0OTExLCAyMDEzLzEwLzI5LTExOjQ3OjE2ICAgICAgICAiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iCiAgICAgICAgICAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgICAgICAgICAgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIgogICAgICAgICAgICB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIKICAgICAgICAgICAgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIKICAgICAgICAgICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iCiAgICAgICAgICAgIHhtbG5zOmV4aWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vZXhpZi8xLjAvIj4KICAgICAgICAgPHhtcDpDcmVhdG9yVG9vbD5BZG9iZSBQaG90b3Nob3AgQ0MgKE1hY2ludG9zaCk8L3htcDpDcmVhdG9yVG9vbD4KICAgICAgICAgPHhtcDpDcmVhdGVEYXRlPjIwMTQtMDQtMDFUMTI6MTA6NTYtMDQ6MDA8L3htcDpDcmVhdGVEYXRlPgogICAgICAgICA8eG1wOk1vZGlmeURhdGU+MjAxNC0wNC0wM1QxNDoyNToyMy0wNDowMDwveG1wOk1vZGlmeURhdGU+CiAgICAgICAgIDx4bXA6TWV0YWRhdGFEYXRlPjIwMTQtMDQtMDNUMTQ6MjU6MjMtMDQ6MDA8L3htcDpNZXRhZGF0YURhdGU+CiAgICAgICAgIDxkYzpmb3JtYXQ+aW1hZ2UvcG5nPC9kYzpmb3JtYXQ+CiAgICAgICAgIDxwaG90b3Nob3A6Q29sb3JNb2RlPjM8L3Bob3Rvc2hvcDpDb2xvck1vZGU+CiAgICAgICAgIDx4bXBNTTpJbnN0YW5jZUlEPnhtcC5paWQ6NjhkYzg0YzUtZWIwNy00YTI4LWExNWMtZWM3YWVmOTExYzE0PC94bXBNTTpJbnN0YW5jZUlEPgogICAgICAgICA8eG1wTU06RG9jdW1lbnRJRD54bXAuZGlkOmNkMGVkM2ZmLTMzY2YtNGM2Yi04ZGM4LWI2ZGU3N2E2ZDc2ZjwveG1wTU06RG9jdW1lbnRJRD4KICAgICAgICAgPHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD54bXAuZGlkOmNkMGVkM2ZmLTMzY2YtNGM2Yi04ZGM4LWI2ZGU3N2E2ZDc2ZjwveG1wTU06T3JpZ2luYWxEb2N1bWVudElEPgogICAgICAgICA8eG1wTU06SGlzdG9yeT4KICAgICAgICAgICAgPHJkZjpTZXE+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6YWN0aW9uPmNyZWF0ZWQ8L3N0RXZ0OmFjdGlvbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0Omluc3RhbmNlSUQ+eG1wLmlpZDpjZDBlZDNmZi0zM2NmLTRjNmItOGRjOC1iNmRlNzdhNmQ3NmY8L3N0RXZ0Omluc3RhbmNlSUQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDp3aGVuPjIwMTQtMDQtMDFUMTI6MTA6NTYtMDQ6MDA8L3N0RXZ0OndoZW4+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpzb2Z0d2FyZUFnZW50PkFkb2JlIFBob3Rvc2hvcCBDQyAoTWFjaW50b3NoKTwvc3RFdnQ6c29mdHdhcmVBZ2VudD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6YWN0aW9uPnNhdmVkPC9zdEV2dDphY3Rpb24+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDppbnN0YW5jZUlEPnhtcC5paWQ6NjhkYzg0YzUtZWIwNy00YTI4LWExNWMtZWM3YWVmOTExYzE0PC9zdEV2dDppbnN0YW5jZUlEPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6d2hlbj4yMDE0LTA0LTAzVDE0OjI1OjIzLTA0OjAwPC9zdEV2dDp3aGVuPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6c29mdHdhcmVBZ2VudD5BZG9iZSBQaG90b3Nob3AgQ0MgKE1hY2ludG9zaCk8L3N0RXZ0OnNvZnR3YXJlQWdlbnQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpjaGFuZ2VkPi88L3N0RXZ0OmNoYW5nZWQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICA8L3JkZjpTZXE+CiAgICAgICAgIDwveG1wTU06SGlzdG9yeT4KICAgICAgICAgPHRpZmY6T3JpZW50YXRpb24+MTwvdGlmZjpPcmllbnRhdGlvbj4KICAgICAgICAgPHRpZmY6WFJlc29sdXRpb24+NzIwMDAwLzEwMDAwPC90aWZmOlhSZXNvbHV0aW9uPgogICAgICAgICA8dGlmZjpZUmVzb2x1dGlvbj43MjAwMDAvMTAwMDA8L3RpZmY6WVJlc29sdXRpb24+CiAgICAgICAgIDx0aWZmOlJlc29sdXRpb25Vbml0PjI8L3RpZmY6UmVzb2x1dGlvblVuaXQ+CiAgICAgICAgIDxleGlmOkNvbG9yU3BhY2U+NjU1MzU8L2V4aWY6Q29sb3JTcGFjZT4KICAgICAgICAgPGV4aWY6UGl4ZWxYRGltZW5zaW9uPjMwPC9leGlmOlBpeGVsWERpbWVuc2lvbj4KICAgICAgICAgPGV4aWY6UGl4ZWxZRGltZW5zaW9uPjE5PC9leGlmOlBpeGVsWURpbWVuc2lvbj4KICAgICAgPC9yZGY6RGVzY3JpcHRpb24+CiAgIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgCjw/eHBhY2tldCBlbmQ9InciPz7lLeTrAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAOOSURBVHjapJZtaFNnFMd/yW3SJubeBlqX3qWdKTRZGkZfXNcF6rbCZDA2pjI3UVZR9q2s6pc5HMQhHS3iYHZ9YQ50M2WsMoYfJBXK3Ms3l5Z2dcyqgUWxJitiSZPY1MQk+5B6TUxqojtfLs+953l+5/zP8zznqijRJi12LZAC0i9dv5LkKWzSYlcD6jb/3P2yQg5OT2APsAXoBIzAb+fHT3d2/vITuliUSYud/2kq1SNAI/Ar0FLIWxeLcsS1k4qVZVTp9FNT2/xzKnWpUICYzsDBL84R04ukH05VTO+wIzrbKa81F4VnS30gGyrrBIKxTCkNGjVimUoZH/3ka44c3gWA6GzHtHc3xjdez1k4GY4QmviZwMAw9+Zv5YGzw96vROCQcG+qxqDJfHY1VeLeVK04LlbVcKm5g+rt23j+h9N5UABBEqnavg2H5yyis70w2OkJPNhEAFglDQaNGpuUEeRVUwUGjZqNVVplYvjdXViO9SnZ3eztZ6a5nan6Rv56ZTOBgWElgIYTQ3nyqwvpH02kAAguZ6SdXowTTaS4Fr6v+GRncXXnbrRmMw0nhqhzHeLe/C0Cx4e42duvwB9VpeBx6r20hE26q9T089kQsl5QAsq2yEUvy5evUOey50m6cMrNs/s/QpBEtGZzcXA0kWL6TlwZB2NJJYj8Wkpr7lxBEhEkMVOOSKQ4WNYJyHpBgcs6AaukYfrGbawLPgBqnrECNsprzTn1EyQJQRIpkyTqXIdylCkKDsaS7Khfx/DLVQD4wgmmjh2l78I3D51GIbXjQ65O/JlzXPQOO62z3jzJSwIDHL8c5oz/LrJeoOG8m32r0L53DhMpN/C+d4zWMyepjGpZRlNwjchFLwvfuglNXFjzAulcK/NgLMmn3jH+NcoYVqK898cYPV0j+NeZcZ/8gPX6BIuVlpxaT9U3Fr25Hhyn5sc51YSCjDe9TU/XCPJSkMHRbkLVJuYxIqjTvHDqK/SOTOMolF1BsNMTsABbiznKSwF8JpsC7//xIH+3dGRajVyrXCSBgaGSwGWlQGc2bOTNWQ8zG15kvOkterpGGBztpvXGNNG4wD8dm9E7GvM20GP7otMT2Aq8BvwOXAfOApZsJ+vCNQZHuzGsRPCZbMq7ZEqFb7GCWEL9xG1RVeAnoAX4cjWIgdXnnvrb/i2fff9xy3NL80aAaFwgGNEST6qetB3vbfPPffffAIvNRi85wbaUAAAAAElFTkSuQmCC",ghostery_plus:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAATCAYAAACHrr18AAAACXBIWXMAAAsTAAALEwEAmpwYAAA51WlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS41LWMwMjEgNzkuMTU0OTExLCAyMDEzLzEwLzI5LTExOjQ3OjE2ICAgICAgICAiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iCiAgICAgICAgICAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgICAgICAgICAgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIgogICAgICAgICAgICB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIKICAgICAgICAgICAgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIKICAgICAgICAgICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iCiAgICAgICAgICAgIHhtbG5zOmV4aWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vZXhpZi8xLjAvIj4KICAgICAgICAgPHhtcDpDcmVhdG9yVG9vbD5BZG9iZSBQaG90b3Nob3AgQ0MgKE1hY2ludG9zaCk8L3htcDpDcmVhdG9yVG9vbD4KICAgICAgICAgPHhtcDpDcmVhdGVEYXRlPjIwMTQtMDQtMDFUMTI6MDg6MTQtMDQ6MDA8L3htcDpDcmVhdGVEYXRlPgogICAgICAgICA8eG1wOk1vZGlmeURhdGU+MjAxNC0wNC0wM1QxNDoyNjowNy0wNDowMDwveG1wOk1vZGlmeURhdGU+CiAgICAgICAgIDx4bXA6TWV0YWRhdGFEYXRlPjIwMTQtMDQtMDNUMTQ6MjY6MDctMDQ6MDA8L3htcDpNZXRhZGF0YURhdGU+CiAgICAgICAgIDxkYzpmb3JtYXQ+aW1hZ2UvcG5nPC9kYzpmb3JtYXQ+CiAgICAgICAgIDxwaG90b3Nob3A6Q29sb3JNb2RlPjM8L3Bob3Rvc2hvcDpDb2xvck1vZGU+CiAgICAgICAgIDx4bXBNTTpJbnN0YW5jZUlEPnhtcC5paWQ6YmY0NWVjNzYtZWM4YS00MzVmLWJiMWUtNWQyYTZjMDZlOTYyPC94bXBNTTpJbnN0YW5jZUlEPgogICAgICAgICA8eG1wTU06RG9jdW1lbnRJRD54bXAuZGlkOjkyNWQzNTdiLTM3ZTctNDI0Yy05N2Y4LWRhODVjN2QzOWNlMzwveG1wTU06RG9jdW1lbnRJRD4KICAgICAgICAgPHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD54bXAuZGlkOjkyNWQzNTdiLTM3ZTctNDI0Yy05N2Y4LWRhODVjN2QzOWNlMzwveG1wTU06T3JpZ2luYWxEb2N1bWVudElEPgogICAgICAgICA8eG1wTU06SGlzdG9yeT4KICAgICAgICAgICAgPHJkZjpTZXE+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6YWN0aW9uPmNyZWF0ZWQ8L3N0RXZ0OmFjdGlvbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0Omluc3RhbmNlSUQ+eG1wLmlpZDo5MjVkMzU3Yi0zN2U3LTQyNGMtOTdmOC1kYTg1YzdkMzljZTM8L3N0RXZ0Omluc3RhbmNlSUQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDp3aGVuPjIwMTQtMDQtMDFUMTI6MDg6MTQtMDQ6MDA8L3N0RXZ0OndoZW4+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpzb2Z0d2FyZUFnZW50PkFkb2JlIFBob3Rvc2hvcCBDQyAoTWFjaW50b3NoKTwvc3RFdnQ6c29mdHdhcmVBZ2VudD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6YWN0aW9uPnNhdmVkPC9zdEV2dDphY3Rpb24+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDppbnN0YW5jZUlEPnhtcC5paWQ6YmY0NWVjNzYtZWM4YS00MzVmLWJiMWUtNWQyYTZjMDZlOTYyPC9zdEV2dDppbnN0YW5jZUlEPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6d2hlbj4yMDE0LTA0LTAzVDE0OjI2OjA3LTA0OjAwPC9zdEV2dDp3aGVuPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6c29mdHdhcmVBZ2VudD5BZG9iZSBQaG90b3Nob3AgQ0MgKE1hY2ludG9zaCk8L3N0RXZ0OnNvZnR3YXJlQWdlbnQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpjaGFuZ2VkPi88L3N0RXZ0OmNoYW5nZWQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICA8L3JkZjpTZXE+CiAgICAgICAgIDwveG1wTU06SGlzdG9yeT4KICAgICAgICAgPHRpZmY6T3JpZW50YXRpb24+MTwvdGlmZjpPcmllbnRhdGlvbj4KICAgICAgICAgPHRpZmY6WFJlc29sdXRpb24+NzIwMDAwLzEwMDAwPC90aWZmOlhSZXNvbHV0aW9uPgogICAgICAgICA8dGlmZjpZUmVzb2x1dGlvbj43MjAwMDAvMTAwMDA8L3RpZmY6WVJlc29sdXRpb24+CiAgICAgICAgIDx0aWZmOlJlc29sdXRpb25Vbml0PjI8L3RpZmY6UmVzb2x1dGlvblVuaXQ+CiAgICAgICAgIDxleGlmOkNvbG9yU3BhY2U+NjU1MzU8L2V4aWY6Q29sb3JTcGFjZT4KICAgICAgICAgPGV4aWY6UGl4ZWxYRGltZW5zaW9uPjMwPC9leGlmOlBpeGVsWERpbWVuc2lvbj4KICAgICAgICAgPGV4aWY6UGl4ZWxZRGltZW5zaW9uPjE5PC9leGlmOlBpeGVsWURpbWVuc2lvbj4KICAgICAgPC9yZGY6RGVzY3JpcHRpb24+CiAgIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgCjw/eHBhY2tldCBlbmQ9InciPz5sLAkUAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAOeSURBVHjapJVdaFtlGMd/+WySJmkhbbMjxa6ZCSKmNhG0gzELm7B1JZuKLQhjE5xIy7reKDI/btZWhxfGVccQi9pC6ZQp2KZeBXUXnY6Zsg69WFxnoSRrQj/S5JgsH6deJD2mXfqx+twc3vP+Ob/n+T/Pe14F24w7rXtVgArI7Rm7lmMHUfgGttGJnLqUoMkXOgkcBZqBSuDn725803xoagzDfZE7rXv5n6FQrANWAj8BjaXUhvsib473sifyFysoUEvZHVFtoxP/gbeCFsehqTFeuTaISso7rne6H9AkbwU2BSuL1t3FUEGvkjeMGuWa9e/1z6CScpgOtPDowBV0ThfWdz5E6PsUs6dN1mltdkwHWkrCi8Fn5AyeMDO4rwqjJr/9XkMFg/uqZGHUVMMfnjeo7n6XqLeXxeEBQmc7ASiz2eVqVeUm1FahJFhdsHl1iACwmzUYNUocZjWB+TT7rToA3BYtgfk0AJHmFwHIzIUBSE8HSU8H0drsaG12ql7rRlluRGk0on/STdzvI+4fXwteH4mMBED4n3wPAwtpHCY1t5cfHCa900Xcn4dLYgJJTJCeDhI624ne6UbndLE4PFC64vVxbiqGwywSTubBPTeXEAwqOSGAuN+H9MgRLKe6kcSE3NOot0fW5MQ42YIj2wInMpJsKUA4mZOTWI1s5B6zXScwHWyhwtOOzuki6u1B/PWqrFm1f6vhonii3RbtmvV+qw5jKo5rJoBrJsCupRDZSJjF4QEZVuFpR10jbOssl6w4nMzRXl/OZ89aAAguZ7jx0Xn6/J+vPat1drS9l+S+am12ai98zWzXCbKR8MODAbx/LnP5rohgUPHYj4N0FaB9nveJlxlpuz6CayZA7PUXWNKb5Yotp85gOthScqBKWd28UeWB+TRt10e4VymQ0Jl4+bcRJuvcXOj8AoRaTMmErI/9cHnDnm4Efmoz0a6lMOMNrZw+fhEhFqZ/qINwZAHx+ZdQrkhos5m8fTUCaqtA6tbk1j1u8oV2A8e2EgqxEEGrg9PHL9I/1MEH377F1drHOQxUn7/EikKJstxI1Nuz6X+6uMdbQifr3By+6WOy7mnGG47IcNdMgJSmjOWRL8mJ8W3bDKBo8oWOAc8BvwB/A98Du4tF9rnb9A91YEzFCVod8jtJoWTOXE1ardn5tVh0PTYCHxeS+KTwPFkfvXv03JW3G2sXZisBUpoyYgYzWaXqYa/jV22jE1/9OwCARmWDNGRTMAAAAABJRU5ErkJggg==",ghostery_stumble:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAATCAYAAACHrr18AAAACXBIWXMAAAsTAAALEwEAmpwYAAA51WlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS41LWMwMjEgNzkuMTU0OTExLCAyMDEzLzEwLzI5LTExOjQ3OjE2ICAgICAgICAiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iCiAgICAgICAgICAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgICAgICAgICAgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIgogICAgICAgICAgICB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIKICAgICAgICAgICAgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIKICAgICAgICAgICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iCiAgICAgICAgICAgIHhtbG5zOmV4aWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vZXhpZi8xLjAvIj4KICAgICAgICAgPHhtcDpDcmVhdG9yVG9vbD5BZG9iZSBQaG90b3Nob3AgQ0MgKE1hY2ludG9zaCk8L3htcDpDcmVhdG9yVG9vbD4KICAgICAgICAgPHhtcDpDcmVhdGVEYXRlPjIwMTQtMDQtMDFUMTI6MTA6MTktMDQ6MDA8L3htcDpDcmVhdGVEYXRlPgogICAgICAgICA8eG1wOk1vZGlmeURhdGU+MjAxNC0wNC0wM1QxNDoyNToyOC0wNDowMDwveG1wOk1vZGlmeURhdGU+CiAgICAgICAgIDx4bXA6TWV0YWRhdGFEYXRlPjIwMTQtMDQtMDNUMTQ6MjU6MjgtMDQ6MDA8L3htcDpNZXRhZGF0YURhdGU+CiAgICAgICAgIDxkYzpmb3JtYXQ+aW1hZ2UvcG5nPC9kYzpmb3JtYXQ+CiAgICAgICAgIDxwaG90b3Nob3A6Q29sb3JNb2RlPjM8L3Bob3Rvc2hvcDpDb2xvck1vZGU+CiAgICAgICAgIDx4bXBNTTpJbnN0YW5jZUlEPnhtcC5paWQ6MDA4ODY4OTctNWY3MS00ZjEzLTlmOTktYWEwYzFlMjI0MzNiPC94bXBNTTpJbnN0YW5jZUlEPgogICAgICAgICA8eG1wTU06RG9jdW1lbnRJRD54bXAuZGlkOmQ3ODExZmY0LWYzNjQtNGVjNC04MjE1LWRhM2JiODcxZTc0YjwveG1wTU06RG9jdW1lbnRJRD4KICAgICAgICAgPHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD54bXAuZGlkOmQ3ODExZmY0LWYzNjQtNGVjNC04MjE1LWRhM2JiODcxZTc0YjwveG1wTU06T3JpZ2luYWxEb2N1bWVudElEPgogICAgICAgICA8eG1wTU06SGlzdG9yeT4KICAgICAgICAgICAgPHJkZjpTZXE+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6YWN0aW9uPmNyZWF0ZWQ8L3N0RXZ0OmFjdGlvbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0Omluc3RhbmNlSUQ+eG1wLmlpZDpkNzgxMWZmNC1mMzY0LTRlYzQtODIxNS1kYTNiYjg3MWU3NGI8L3N0RXZ0Omluc3RhbmNlSUQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDp3aGVuPjIwMTQtMDQtMDFUMTI6MTA6MTktMDQ6MDA8L3N0RXZ0OndoZW4+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpzb2Z0d2FyZUFnZW50PkFkb2JlIFBob3Rvc2hvcCBDQyAoTWFjaW50b3NoKTwvc3RFdnQ6c29mdHdhcmVBZ2VudD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6YWN0aW9uPnNhdmVkPC9zdEV2dDphY3Rpb24+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDppbnN0YW5jZUlEPnhtcC5paWQ6MDA4ODY4OTctNWY3MS00ZjEzLTlmOTktYWEwYzFlMjI0MzNiPC9zdEV2dDppbnN0YW5jZUlEPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6d2hlbj4yMDE0LTA0LTAzVDE0OjI1OjI4LTA0OjAwPC9zdEV2dDp3aGVuPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6c29mdHdhcmVBZ2VudD5BZG9iZSBQaG90b3Nob3AgQ0MgKE1hY2ludG9zaCk8L3N0RXZ0OnNvZnR3YXJlQWdlbnQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpjaGFuZ2VkPi88L3N0RXZ0OmNoYW5nZWQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICA8L3JkZjpTZXE+CiAgICAgICAgIDwveG1wTU06SGlzdG9yeT4KICAgICAgICAgPHRpZmY6T3JpZW50YXRpb24+MTwvdGlmZjpPcmllbnRhdGlvbj4KICAgICAgICAgPHRpZmY6WFJlc29sdXRpb24+NzIwMDAwLzEwMDAwPC90aWZmOlhSZXNvbHV0aW9uPgogICAgICAgICA8dGlmZjpZUmVzb2x1dGlvbj43MjAwMDAvMTAwMDA8L3RpZmY6WVJlc29sdXRpb24+CiAgICAgICAgIDx0aWZmOlJlc29sdXRpb25Vbml0PjI8L3RpZmY6UmVzb2x1dGlvblVuaXQ+CiAgICAgICAgIDxleGlmOkNvbG9yU3BhY2U+NjU1MzU8L2V4aWY6Q29sb3JTcGFjZT4KICAgICAgICAgPGV4aWY6UGl4ZWxYRGltZW5zaW9uPjMwPC9leGlmOlBpeGVsWERpbWVuc2lvbj4KICAgICAgICAgPGV4aWY6UGl4ZWxZRGltZW5zaW9uPjE5PC9leGlmOlBpeGVsWURpbWVuc2lvbj4KICAgICAgPC9yZGY6RGVzY3JpcHRpb24+CiAgIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgCjw/eHBhY2tldCBlbmQ9InciPz4hL6gGAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAANHSURBVHjarJZdTFNnGMd/p+05Fnqoh0CsVRMhtSxb/ABuqoljBOOFLFSCihpjwrKPC4ywC68kcoOSGC9EiC6azRiIijcsOIm72dBoYiCmgjOSWLJqMu3YgnXllI8D7fECeqBQLdX9b07e933O83/+z/Oc9zmwTOi6TsjrEkJel4kPRMjrMoW8LkHXdSzJDLb2vKoBdgOlgALcOd/UXFopydg0lZDXxUdCEBYRKkAvUJjM2qapnOv6jjXhv2bf1vUPYlW6hwXTckkBIpLMNweu8dSxiahg/ijJC+v1/UJSZ8a8Y1k0JazPlJ3AEpv534jrjQg+s9O+PRdZnD0+sXkl7dtzDcORrNU8yPs80dGqdVgP1mE7/gNS2Z6UxJa5NMebCAC3XUQWTRTYLfhGNUocVgCKcyR8oxoAf+a62fb8nkGa1XITwWYHQPTsxORYy+T11mUpNqBOxwAIjkcB8L3WUKdjPAsnT6+0owrBZkePhIn98xKAFRU1qRUvRtPj/yiwRwhOzBKfHHyDM9NsBPQuRANDTF5vRT511VCfFrE6HTNSChCciBpBpMLMkz7UhkOG8rRS7cwwU5wjJaxLHFbkyTGKXvgoeuEjb9delO5hrAfrEpVs9CDt2ENm/en4N4vSPYxloye14uBElP35Ns57cgDwh6d5eOY0zb9dmjfqgNj+r8GRvbTmZVXL6+pkaHka5kYggjPTzIbb7dTNkTZ7GxlbIVPd30nRjZ8QK6ox1TXO3ueRcIKPrJZf5u/6RWfxVJe+S7lvVKO6v5O/FSeqNYt9fZ08Wl9M65EfwbkOen81Gmnq5hVmnvQRDQwBYM7/1Kh7fG+x4i3vS8vqN0Eul3zLvU9KaOuopa2jlqOHLxAyC2SrYaYuNqEN9RvO1YZDSGVVWDZ5mPmjD+33rqVTYmvPqzwg8D7i+yc93N7yJacqGnGPPKOtoxa/w00wew3lA7dQcyV0If0hUZnK8NH6YnYN9lD+uAe/o4Cjhy/gHvFTPnCLqGhKi3Sh4krgC+Au8Bz4GchbaBRXKU+O4XcUGHu6AOOKSMwipD0WhSQ/AYXA2bkgzs09a/L/Dexu7jpWuPb1SwUgKgpomWZi5rTlfqV0D195OwCPcS2M+FNVXAAAAABJRU5ErkJggg==",ghostery_tumblr:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAATCAYAAACHrr18AAAACXBIWXMAAAsTAAALEwEAmpwYAAA51WlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS41LWMwMjEgNzkuMTU0OTExLCAyMDEzLzEwLzI5LTExOjQ3OjE2ICAgICAgICAiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iCiAgICAgICAgICAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgICAgICAgICAgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIgogICAgICAgICAgICB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIKICAgICAgICAgICAgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIKICAgICAgICAgICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iCiAgICAgICAgICAgIHhtbG5zOmV4aWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vZXhpZi8xLjAvIj4KICAgICAgICAgPHhtcDpDcmVhdG9yVG9vbD5BZG9iZSBQaG90b3Nob3AgQ0MgKE1hY2ludG9zaCk8L3htcDpDcmVhdG9yVG9vbD4KICAgICAgICAgPHhtcDpDcmVhdGVEYXRlPjIwMTQtMDQtMDFUMTI6MTI6MDctMDQ6MDA8L3htcDpDcmVhdGVEYXRlPgogICAgICAgICA8eG1wOk1vZGlmeURhdGU+MjAxNC0wNC0wM1QxNDoyNTozOC0wNDowMDwveG1wOk1vZGlmeURhdGU+CiAgICAgICAgIDx4bXA6TWV0YWRhdGFEYXRlPjIwMTQtMDQtMDNUMTQ6MjU6MzgtMDQ6MDA8L3htcDpNZXRhZGF0YURhdGU+CiAgICAgICAgIDxkYzpmb3JtYXQ+aW1hZ2UvcG5nPC9kYzpmb3JtYXQ+CiAgICAgICAgIDxwaG90b3Nob3A6Q29sb3JNb2RlPjM8L3Bob3Rvc2hvcDpDb2xvck1vZGU+CiAgICAgICAgIDx4bXBNTTpJbnN0YW5jZUlEPnhtcC5paWQ6NTAxMGRiY2MtMGE3OS00OTdiLWI4OTMtMzNlZWVmNWMwZDY2PC94bXBNTTpJbnN0YW5jZUlEPgogICAgICAgICA8eG1wTU06RG9jdW1lbnRJRD54bXAuZGlkOjM5NjcwMDFlLWM0MTItNDNjNy1hMDk4LWIwYjBjZGVlNTUwNjwveG1wTU06RG9jdW1lbnRJRD4KICAgICAgICAgPHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD54bXAuZGlkOjM5NjcwMDFlLWM0MTItNDNjNy1hMDk4LWIwYjBjZGVlNTUwNjwveG1wTU06T3JpZ2luYWxEb2N1bWVudElEPgogICAgICAgICA8eG1wTU06SGlzdG9yeT4KICAgICAgICAgICAgPHJkZjpTZXE+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6YWN0aW9uPmNyZWF0ZWQ8L3N0RXZ0OmFjdGlvbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0Omluc3RhbmNlSUQ+eG1wLmlpZDozOTY3MDAxZS1jNDEyLTQzYzctYTA5OC1iMGIwY2RlZTU1MDY8L3N0RXZ0Omluc3RhbmNlSUQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDp3aGVuPjIwMTQtMDQtMDFUMTI6MTI6MDctMDQ6MDA8L3N0RXZ0OndoZW4+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpzb2Z0d2FyZUFnZW50PkFkb2JlIFBob3Rvc2hvcCBDQyAoTWFjaW50b3NoKTwvc3RFdnQ6c29mdHdhcmVBZ2VudD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6YWN0aW9uPnNhdmVkPC9zdEV2dDphY3Rpb24+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDppbnN0YW5jZUlEPnhtcC5paWQ6NTAxMGRiY2MtMGE3OS00OTdiLWI4OTMtMzNlZWVmNWMwZDY2PC9zdEV2dDppbnN0YW5jZUlEPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6d2hlbj4yMDE0LTA0LTAzVDE0OjI1OjM4LTA0OjAwPC9zdEV2dDp3aGVuPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6c29mdHdhcmVBZ2VudD5BZG9iZSBQaG90b3Nob3AgQ0MgKE1hY2ludG9zaCk8L3N0RXZ0OnNvZnR3YXJlQWdlbnQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpjaGFuZ2VkPi88L3N0RXZ0OmNoYW5nZWQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICA8L3JkZjpTZXE+CiAgICAgICAgIDwveG1wTU06SGlzdG9yeT4KICAgICAgICAgPHRpZmY6T3JpZW50YXRpb24+MTwvdGlmZjpPcmllbnRhdGlvbj4KICAgICAgICAgPHRpZmY6WFJlc29sdXRpb24+NzIwMDAwLzEwMDAwPC90aWZmOlhSZXNvbHV0aW9uPgogICAgICAgICA8dGlmZjpZUmVzb2x1dGlvbj43MjAwMDAvMTAwMDA8L3RpZmY6WVJlc29sdXRpb24+CiAgICAgICAgIDx0aWZmOlJlc29sdXRpb25Vbml0PjI8L3RpZmY6UmVzb2x1dGlvblVuaXQ+CiAgICAgICAgIDxleGlmOkNvbG9yU3BhY2U+NjU1MzU8L2V4aWY6Q29sb3JTcGFjZT4KICAgICAgICAgPGV4aWY6UGl4ZWxYRGltZW5zaW9uPjMwPC9leGlmOlBpeGVsWERpbWVuc2lvbj4KICAgICAgICAgPGV4aWY6UGl4ZWxZRGltZW5zaW9uPjE5PC9leGlmOlBpeGVsWURpbWVuc2lvbj4KICAgICAgPC9yZGY6RGVzY3JpcHRpb24+CiAgIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgCjw/eHBhY2tldCBlbmQ9InciPz74a+TFAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAM0SURBVHjarJZbaFN3HMc/yUnSJj1NC+lMTpm2apOhsDQU0da1Mw7GLoRalOqL0g4fBIc6HCjUy4vWCz50Q5RMXyS+dLfuYYsXRKMoiEVSW1Gw8Y40CW1GU1OjaZP40ORoLtq0+n055/wvv8/v++N3/ucoKFD2TZ2K9P3l33YlmYXSMTzOjqQq34J691A7sAqwA+XA5cl7t+yqh3dgIoZ9UycfKIUqC1gOeABbdrKTn9mIL1iM5toZFONjkExAMjlrsrIAqKykWsOrlS0kDMZ3Buzavh6Ps4N2R1NhYOCnt6GSVpAnRLUy43mi9ou8bkVdMTbLvJk5BrbJGSzW42qsQFRPTe+xluFqrHjjXCeSMOUCdrY5Ci61KlXmdBMBYNarEdVKLHoV3lCML43FANQZNHhDMQASZQaUgacANNos/Nj6NSZDmRz4mwYrtZYqAO4/C3Lsjwu54GxFJhIA+F/EAfD+H8NSqmJwbDJv9mu+WpoBBTAZynLGpgXvGwhj0Y/jj06B9/ePIukEOaFs3X8WBKBm7hxE7VR1AqEwgVA4Y74gx+mSAvijcTmJfEqXsWv7erm5zl8f4NR/V2fmWNIKSDpBhktaAbNejffJMOagD4CRcIDhDzhB8oL90Tjr5pdwbJkBAN/YBDePHObAxRMZ63oqrByvXP7xwAC/3B3j90fjSDqBmrMutqagB5r38rxIZG1vN6ufeIkIGlzGJbM+uezvcu4NxVjb202gXCJSXErrjW76qurY1txJUFPK6pHbeQMbszpa1BXnBde+LzvTqJ8zVgdbNhxHCvs5enozuiI15+d8jhh/xcJoKGfPtw1WdrY5aHc0cXL3Rmo+zTxmlfXuoWqgZbrSSOEhfEaLDD/45w60n5gACGpKAfj7Um8OvM3RlANNO54W2ldVx3f9br4fcMtwc9BHa18P/WIlEUEDwLVbg+xx/iW/vwCR6EvOXR8gEBrN/C7Wu4dagBXAFeAx8A9Q/fYic3CQo6c3I758js9okcciQhE/L2jmgdYwo8byODsUijw/ATagK5XEr6lr+/zhR6s2/nvItmjkQTlAf0klLuMSAqkyz0A/eJwdp14PAPfAHGvUOon+AAAAAElFTkSuQmCC",ghostery_twitter:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAATCAYAAACHrr18AAAACXBIWXMAAAsTAAALEwEAmpwYAAA51WlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS41LWMwMjEgNzkuMTU0OTExLCAyMDEzLzEwLzI5LTExOjQ3OjE2ICAgICAgICAiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iCiAgICAgICAgICAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgICAgICAgICAgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIgogICAgICAgICAgICB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIKICAgICAgICAgICAgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIKICAgICAgICAgICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iCiAgICAgICAgICAgIHhtbG5zOmV4aWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vZXhpZi8xLjAvIj4KICAgICAgICAgPHhtcDpDcmVhdG9yVG9vbD5BZG9iZSBQaG90b3Nob3AgQ0MgKE1hY2ludG9zaCk8L3htcDpDcmVhdG9yVG9vbD4KICAgICAgICAgPHhtcDpDcmVhdGVEYXRlPjIwMTQtMDQtMDFUMTI6MDk6MTgtMDQ6MDA8L3htcDpDcmVhdGVEYXRlPgogICAgICAgICA8eG1wOk1vZGlmeURhdGU+MjAxNC0wNC0wM1QxNDoyNzoxOS0wNDowMDwveG1wOk1vZGlmeURhdGU+CiAgICAgICAgIDx4bXA6TWV0YWRhdGFEYXRlPjIwMTQtMDQtMDNUMTQ6Mjc6MTktMDQ6MDA8L3htcDpNZXRhZGF0YURhdGU+CiAgICAgICAgIDxkYzpmb3JtYXQ+aW1hZ2UvcG5nPC9kYzpmb3JtYXQ+CiAgICAgICAgIDxwaG90b3Nob3A6Q29sb3JNb2RlPjM8L3Bob3Rvc2hvcDpDb2xvck1vZGU+CiAgICAgICAgIDx4bXBNTTpJbnN0YW5jZUlEPnhtcC5paWQ6MDk0NjVjNDQtNTdmNi00OGI3LWIxMDItZDMzNzMxNWQ3YjIzPC94bXBNTTpJbnN0YW5jZUlEPgogICAgICAgICA8eG1wTU06RG9jdW1lbnRJRD54bXAuZGlkOjRhZjU3ODhjLTg1MTYtNDgzNS1iMDFkLTRlZTI3Mzg1ZmUwMTwveG1wTU06RG9jdW1lbnRJRD4KICAgICAgICAgPHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD54bXAuZGlkOjRhZjU3ODhjLTg1MTYtNDgzNS1iMDFkLTRlZTI3Mzg1ZmUwMTwveG1wTU06T3JpZ2luYWxEb2N1bWVudElEPgogICAgICAgICA8eG1wTU06SGlzdG9yeT4KICAgICAgICAgICAgPHJkZjpTZXE+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6YWN0aW9uPmNyZWF0ZWQ8L3N0RXZ0OmFjdGlvbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0Omluc3RhbmNlSUQ+eG1wLmlpZDo0YWY1Nzg4Yy04NTE2LTQ4MzUtYjAxZC00ZWUyNzM4NWZlMDE8L3N0RXZ0Omluc3RhbmNlSUQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDp3aGVuPjIwMTQtMDQtMDFUMTI6MDk6MTgtMDQ6MDA8L3N0RXZ0OndoZW4+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpzb2Z0d2FyZUFnZW50PkFkb2JlIFBob3Rvc2hvcCBDQyAoTWFjaW50b3NoKTwvc3RFdnQ6c29mdHdhcmVBZ2VudD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6YWN0aW9uPnNhdmVkPC9zdEV2dDphY3Rpb24+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDppbnN0YW5jZUlEPnhtcC5paWQ6MDk0NjVjNDQtNTdmNi00OGI3LWIxMDItZDMzNzMxNWQ3YjIzPC9zdEV2dDppbnN0YW5jZUlEPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6d2hlbj4yMDE0LTA0LTAzVDE0OjI3OjE5LTA0OjAwPC9zdEV2dDp3aGVuPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6c29mdHdhcmVBZ2VudD5BZG9iZSBQaG90b3Nob3AgQ0MgKE1hY2ludG9zaCk8L3N0RXZ0OnNvZnR3YXJlQWdlbnQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpjaGFuZ2VkPi88L3N0RXZ0OmNoYW5nZWQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICA8L3JkZjpTZXE+CiAgICAgICAgIDwveG1wTU06SGlzdG9yeT4KICAgICAgICAgPHRpZmY6T3JpZW50YXRpb24+MTwvdGlmZjpPcmllbnRhdGlvbj4KICAgICAgICAgPHRpZmY6WFJlc29sdXRpb24+NzIwMDAwLzEwMDAwPC90aWZmOlhSZXNvbHV0aW9uPgogICAgICAgICA8dGlmZjpZUmVzb2x1dGlvbj43MjAwMDAvMTAwMDA8L3RpZmY6WVJlc29sdXRpb24+CiAgICAgICAgIDx0aWZmOlJlc29sdXRpb25Vbml0PjI8L3RpZmY6UmVzb2x1dGlvblVuaXQ+CiAgICAgICAgIDxleGlmOkNvbG9yU3BhY2U+NjU1MzU8L2V4aWY6Q29sb3JTcGFjZT4KICAgICAgICAgPGV4aWY6UGl4ZWxYRGltZW5zaW9uPjMwPC9leGlmOlBpeGVsWERpbWVuc2lvbj4KICAgICAgICAgPGV4aWY6UGl4ZWxZRGltZW5zaW9uPjE5PC9leGlmOlBpeGVsWURpbWVuc2lvbj4KICAgICAgPC9yZGY6RGVzY3JpcHRpb24+CiAgIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgCjw/eHBhY2tldCBlbmQ9InciPz4oqNMxAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAMeSURBVHjarJZPTBN5FMc/M+1QOgyFDa0wiYmlkcasCRZMtIkoJGZNjMaFxHQvi2EPe5As7p70hJpoNOpBDYpRLxYOK9GE3UM10WzU6EkNhE1YFbKRmk0bBZZ//QNtaT20jh0oUNB3mcz7vd/v831v3u/3G4EVLJVKIQgCqVRK8wmCwFrsUM+/IoDX40jmXMHtC/wINAK7gVLgcVks0fBNPIGYJWCt5vU4BOMCYCnwCHAtiG0YLzAyIRmomIujJOa/GC7mAdUsKQgECgtIrrHUOcHAb9lQ1WzQBhRJ1L37ZZNukTp7MV6Pg2tNdqxFxlWDf9UUfGuhq86KIqWH26tL6KqzaoFxQSBk/CxkZ2UxALIkstNenD/Y7Qs0ZJoIgCqLhCKJOC1p9bvKC1EkkdqyAm3inCh+Ualz1iUUTwIQjKSbqO//GM5iI0PTiRUX3LTOTNMC39ORGcbCiZXBp/6ewmkJE4ymwacHJlFlgyZoWbCtkE22Qp1vj7OEw70j+WXcNx7T3oPReU3E17KcYNVsQJUNGlw1G6iySPT5R6l6P5xuMNlKzGxbNPf16CyvP0R1Pv9kLD9wMDrPD5VFXN1eBsDwdJyXF85x5q8buriHNQf5vf4XPfhDlN7BibVlDHDpn2l63oZRZQMb73dxJAM9c+A4MyYFz/PbfNd/l4hJIbLjmG5P+ydjRLL6YWEFAITMdjoJnFhKxN0rjemDZDZEsESlrbmTeEERPVeakOdC3D73hJ+32ZbMLhJP0v7gP62zvR6H8GkzblmuLBWTQe5V76etuRN1KkhHdytSLMzTzXuR50K8e9HPs5GZJefLkoi1SNIfIG5fwJ65iZY1dSrAcLlTg5+9c5TkfASAMUsFN5+P8sfghK7E2RmPheOLvvGK0P4Ntewd8NG/YSv3qvfR1txJR3crNf4+3qx3ETEpAPQOTuTVWACC2xdoBOqBJ8AI0AvYs4Oq3g/R0d2KMjvDcLlT80VMCucPXuKdbeOq72Mhx0+AC7iYEXE582ypHH37/eHH113O4KtSgDfrXfzpbmHMUrHas+Mnr8dx6+MAPN8Zkj8dQr4AAAAASUVORK5CYII=",ghostery_vkontakte:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAATCAYAAACHrr18AAAACXBIWXMAAAsTAAALEwEAmpwYAAA51WlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS41LWMwMjEgNzkuMTU0OTExLCAyMDEzLzEwLzI5LTExOjQ3OjE2ICAgICAgICAiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iCiAgICAgICAgICAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgICAgICAgICAgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIgogICAgICAgICAgICB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIKICAgICAgICAgICAgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIKICAgICAgICAgICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iCiAgICAgICAgICAgIHhtbG5zOmV4aWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vZXhpZi8xLjAvIj4KICAgICAgICAgPHhtcDpDcmVhdG9yVG9vbD5BZG9iZSBQaG90b3Nob3AgQ0MgKE1hY2ludG9zaCk8L3htcDpDcmVhdG9yVG9vbD4KICAgICAgICAgPHhtcDpDcmVhdGVEYXRlPjIwMTQtMDQtMDFUMTI6MTE6MzYtMDQ6MDA8L3htcDpDcmVhdGVEYXRlPgogICAgICAgICA8eG1wOk1vZGlmeURhdGU+MjAxNC0wNC0wM1QxNDoyNTo1MS0wNDowMDwveG1wOk1vZGlmeURhdGU+CiAgICAgICAgIDx4bXA6TWV0YWRhdGFEYXRlPjIwMTQtMDQtMDNUMTQ6MjU6NTEtMDQ6MDA8L3htcDpNZXRhZGF0YURhdGU+CiAgICAgICAgIDxkYzpmb3JtYXQ+aW1hZ2UvcG5nPC9kYzpmb3JtYXQ+CiAgICAgICAgIDxwaG90b3Nob3A6Q29sb3JNb2RlPjM8L3Bob3Rvc2hvcDpDb2xvck1vZGU+CiAgICAgICAgIDx4bXBNTTpJbnN0YW5jZUlEPnhtcC5paWQ6ODBmMjU3NzktM2ZiZC00ZGVhLWI3ZjctYjM1ZTM3Mzc0M2U2PC94bXBNTTpJbnN0YW5jZUlEPgogICAgICAgICA8eG1wTU06RG9jdW1lbnRJRD54bXAuZGlkOjJkZGM3NjBlLTc4ZjUtNGQwNS1iZDg2LWE4MjMyMjQ3YTAxNTwveG1wTU06RG9jdW1lbnRJRD4KICAgICAgICAgPHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD54bXAuZGlkOjJkZGM3NjBlLTc4ZjUtNGQwNS1iZDg2LWE4MjMyMjQ3YTAxNTwveG1wTU06T3JpZ2luYWxEb2N1bWVudElEPgogICAgICAgICA8eG1wTU06SGlzdG9yeT4KICAgICAgICAgICAgPHJkZjpTZXE+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6YWN0aW9uPmNyZWF0ZWQ8L3N0RXZ0OmFjdGlvbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0Omluc3RhbmNlSUQ+eG1wLmlpZDoyZGRjNzYwZS03OGY1LTRkMDUtYmQ4Ni1hODIzMjI0N2EwMTU8L3N0RXZ0Omluc3RhbmNlSUQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDp3aGVuPjIwMTQtMDQtMDFUMTI6MTE6MzYtMDQ6MDA8L3N0RXZ0OndoZW4+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpzb2Z0d2FyZUFnZW50PkFkb2JlIFBob3Rvc2hvcCBDQyAoTWFjaW50b3NoKTwvc3RFdnQ6c29mdHdhcmVBZ2VudD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6YWN0aW9uPnNhdmVkPC9zdEV2dDphY3Rpb24+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDppbnN0YW5jZUlEPnhtcC5paWQ6ODBmMjU3NzktM2ZiZC00ZGVhLWI3ZjctYjM1ZTM3Mzc0M2U2PC9zdEV2dDppbnN0YW5jZUlEPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6d2hlbj4yMDE0LTA0LTAzVDE0OjI1OjUxLTA0OjAwPC9zdEV2dDp3aGVuPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6c29mdHdhcmVBZ2VudD5BZG9iZSBQaG90b3Nob3AgQ0MgKE1hY2ludG9zaCk8L3N0RXZ0OnNvZnR3YXJlQWdlbnQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpjaGFuZ2VkPi88L3N0RXZ0OmNoYW5nZWQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICA8L3JkZjpTZXE+CiAgICAgICAgIDwveG1wTU06SGlzdG9yeT4KICAgICAgICAgPHRpZmY6T3JpZW50YXRpb24+MTwvdGlmZjpPcmllbnRhdGlvbj4KICAgICAgICAgPHRpZmY6WFJlc29sdXRpb24+NzIwMDAwLzEwMDAwPC90aWZmOlhSZXNvbHV0aW9uPgogICAgICAgICA8dGlmZjpZUmVzb2x1dGlvbj43MjAwMDAvMTAwMDA8L3RpZmY6WVJlc29sdXRpb24+CiAgICAgICAgIDx0aWZmOlJlc29sdXRpb25Vbml0PjI8L3RpZmY6UmVzb2x1dGlvblVuaXQ+CiAgICAgICAgIDxleGlmOkNvbG9yU3BhY2U+NjU1MzU8L2V4aWY6Q29sb3JTcGFjZT4KICAgICAgICAgPGV4aWY6UGl4ZWxYRGltZW5zaW9uPjMwPC9leGlmOlBpeGVsWERpbWVuc2lvbj4KICAgICAgICAgPGV4aWY6UGl4ZWxZRGltZW5zaW9uPjE5PC9leGlmOlBpeGVsWURpbWVuc2lvbj4KICAgICAgPC9yZGY6RGVzY3JpcHRpb24+CiAgIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgCjw/eHBhY2tldCBlbmQ9InciPz5YkYVJAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAMcSURBVHjapJZrSFNxGMZ/52xzbm5rZWXDLgZtdGOZQkl0GUVEJZVBFoSSXwoEKwiDgiIqkqyokIzqSybBoiiCVkF0/1ToKqmwjTCVdrKrenTe2taH2WlT52Y+X855/+f987zP+z7/c45AgsguLNcDKUBn7ZW9fv4D2YXlKoCaqtKAeqiEHJdvG7AecABm4EnwXZ0j8KEe+nrJLixnlBDUAwjNwGMgc0CiQ5xjR7TN5PeD+4TkdhAECIX+m1lMgPQfNEmo16xD0OkREEYlWYy43x1JatGplAcGjRgVq1asIhQKjoo4stW7lApmm1ibriPvyTc6+oIcsI8ha1wSKx+0hAeUkoKYPoXg52b6zRKTwNP0lUOX7uFp+jpYcY7L99dEAFhNGgwaEZspXNfStGQMGpGs1KR/7hg7NiFltqkTubBvy7CKFXT0hdso+QMAuH/2YjOq8bT/jku0o8yJ7O9he94iHFlWAIx6bWLER+rasJk6kbrCxEfftGLRq5SC4ikc2NaB8bCK3T96lVjqCihFxMOercsHrZ26+mhYVxPp6Mh5WnSq8Jy7ZeY3upnf6GZSqxTTTLX1zcj+HmXt5K48bFMnxlcsdQXYPD2FcwtTAfC291Fz4jjHHl6MynOaMzk9YckgdbX1zRj1Wh6f36nM2JFtjWq5OlbLzrxv51pDJxa9ihn3rrCzn/TYuoPIWgP5L51saXTToRpsHKNeS+7iuQmdY0cs5VJXgP0vnXwxWzB0d7DphZOSgkqepdm5cSGfzb9eR+0Z6ujI/h7uPH875IznDVfdpFaJu/ZcSgoqsbRJVFQXY0xW40q1Ywz2EPK+j7m3tr6ZHWVOfN/bohXnuHwZwIZ4brW0+fCm2SgpqKSiupiy63vxWjLgCyw/fBNZdI34XR2X9NW0LFa/cbGmzqWQW1u85L+6iVuXjixqR/5dzHH5NgDLgKfAJ+AWkBGZZG3xUFFdjKFbxptmU9ZkUUvx5I14tONHRFpTVSoIQ/wEZAKn+4s423/dNv1bw/qi28czZ/34aAZw69K5NG4BksY0UrFFNVWll/8MAE6dGtGit+iOAAAAAElFTkSuQmCC",ghosty_blocked:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB0AAAAgCAYAAADud3N8AAAACXBIWXMAAAsTAAALEwEAmpwYAAA51WlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS41LWMwMjEgNzkuMTU0OTExLCAyMDEzLzEwLzI5LTExOjQ3OjE2ICAgICAgICAiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iCiAgICAgICAgICAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgICAgICAgICAgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIgogICAgICAgICAgICB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIKICAgICAgICAgICAgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIKICAgICAgICAgICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iCiAgICAgICAgICAgIHhtbG5zOmV4aWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vZXhpZi8xLjAvIj4KICAgICAgICAgPHhtcDpDcmVhdG9yVG9vbD5BZG9iZSBQaG90b3Nob3AgQ0MgKE1hY2ludG9zaCk8L3htcDpDcmVhdG9yVG9vbD4KICAgICAgICAgPHhtcDpDcmVhdGVEYXRlPjIwMTQtMDMtMzFUMTc6MTU6MzgtMDQ6MDA8L3htcDpDcmVhdGVEYXRlPgogICAgICAgICA8eG1wOk1vZGlmeURhdGU+MjAxNC0wNC0wM1QxNDoyMjo1NC0wNDowMDwveG1wOk1vZGlmeURhdGU+CiAgICAgICAgIDx4bXA6TWV0YWRhdGFEYXRlPjIwMTQtMDQtMDNUMTQ6MjI6NTQtMDQ6MDA8L3htcDpNZXRhZGF0YURhdGU+CiAgICAgICAgIDxkYzpmb3JtYXQ+aW1hZ2UvcG5nPC9kYzpmb3JtYXQ+CiAgICAgICAgIDxwaG90b3Nob3A6Q29sb3JNb2RlPjM8L3Bob3Rvc2hvcDpDb2xvck1vZGU+CiAgICAgICAgIDx4bXBNTTpJbnN0YW5jZUlEPnhtcC5paWQ6NTBjZWJhOTMtNGM5MS00MmRmLWFkMDYtOTEyZjY0ODUwNzVjPC94bXBNTTpJbnN0YW5jZUlEPgogICAgICAgICA8eG1wTU06RG9jdW1lbnRJRD54bXAuZGlkOmE5YWFhZmNkLWUwYWEtNDBmNy1iY2RiLWQwZThjMDU0YWI2NTwveG1wTU06RG9jdW1lbnRJRD4KICAgICAgICAgPHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD54bXAuZGlkOmE5YWFhZmNkLWUwYWEtNDBmNy1iY2RiLWQwZThjMDU0YWI2NTwveG1wTU06T3JpZ2luYWxEb2N1bWVudElEPgogICAgICAgICA8eG1wTU06SGlzdG9yeT4KICAgICAgICAgICAgPHJkZjpTZXE+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6YWN0aW9uPmNyZWF0ZWQ8L3N0RXZ0OmFjdGlvbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0Omluc3RhbmNlSUQ+eG1wLmlpZDphOWFhYWZjZC1lMGFhLTQwZjctYmNkYi1kMGU4YzA1NGFiNjU8L3N0RXZ0Omluc3RhbmNlSUQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDp3aGVuPjIwMTQtMDMtMzFUMTc6MTU6MzgtMDQ6MDA8L3N0RXZ0OndoZW4+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpzb2Z0d2FyZUFnZW50PkFkb2JlIFBob3Rvc2hvcCBDQyAoTWFjaW50b3NoKTwvc3RFdnQ6c29mdHdhcmVBZ2VudD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6YWN0aW9uPnNhdmVkPC9zdEV2dDphY3Rpb24+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDppbnN0YW5jZUlEPnhtcC5paWQ6NTBjZWJhOTMtNGM5MS00MmRmLWFkMDYtOTEyZjY0ODUwNzVjPC9zdEV2dDppbnN0YW5jZUlEPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6d2hlbj4yMDE0LTA0LTAzVDE0OjIyOjU0LTA0OjAwPC9zdEV2dDp3aGVuPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6c29mdHdhcmVBZ2VudD5BZG9iZSBQaG90b3Nob3AgQ0MgKE1hY2ludG9zaCk8L3N0RXZ0OnNvZnR3YXJlQWdlbnQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpjaGFuZ2VkPi88L3N0RXZ0OmNoYW5nZWQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICA8L3JkZjpTZXE+CiAgICAgICAgIDwveG1wTU06SGlzdG9yeT4KICAgICAgICAgPHRpZmY6T3JpZW50YXRpb24+MTwvdGlmZjpPcmllbnRhdGlvbj4KICAgICAgICAgPHRpZmY6WFJlc29sdXRpb24+NzIwMDAwLzEwMDAwPC90aWZmOlhSZXNvbHV0aW9uPgogICAgICAgICA8dGlmZjpZUmVzb2x1dGlvbj43MjAwMDAvMTAwMDA8L3RpZmY6WVJlc29sdXRpb24+CiAgICAgICAgIDx0aWZmOlJlc29sdXRpb25Vbml0PjI8L3RpZmY6UmVzb2x1dGlvblVuaXQ+CiAgICAgICAgIDxleGlmOkNvbG9yU3BhY2U+NjU1MzU8L2V4aWY6Q29sb3JTcGFjZT4KICAgICAgICAgPGV4aWY6UGl4ZWxYRGltZW5zaW9uPjI5PC9leGlmOlBpeGVsWERpbWVuc2lvbj4KICAgICAgICAgPGV4aWY6UGl4ZWxZRGltZW5zaW9uPjMyPC9leGlmOlBpeGVsWURpbWVuc2lvbj4KICAgICAgPC9yZGY6RGVzY3JpcHRpb24+CiAgIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgCjw/eHBhY2tldCBlbmQ9InciPz7Y7/D2AAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAOqSURBVHjavJdvTBNnHMc/LS2jKt0JLtiCsW+Kicky2r1YSVDqXnIvxhvnkkWEZb5wiym+Wka2DPXV9mKZMdEXGoyQJdsr0OTM9srCiO2WSNmWvQASLam0NgHpoFqwg9sL7s5ruf45JX5fPXfPc8/nvr/n93ueO4ssy7xu2QAsFkvZQQEpKQC9QCfQBniUrmkgDtwCxqKiO1MN1CLLckmoAusHQoBQYa4McCkqugd1z1ujonuzamhASrYBNxRnZjQNHAP+jXS55PY7KUtUdMsVoQEp6QFiVbgrBz4LzABLxW5tJR4afQUgSnQuRkX3MaNOq0FYB18ipEYKBqRkb0Wokjih4kFep53hjn2c8OzeNkH/YSfDHfvwOu1G839TjdNuo7B+++5evE47/Yed+Btrtftii4MTnt1an4E8SkKWhXYWD/A31uJy1Ly4bnhDa/t0bX9D4bgiI2WhHjOL5tpVU/Za0TsVE6lYqWcbBder+RfZP7eS19rZ/CZTS8+NphDMQ3MbTKTXtImlhZzW9/PDp2SVl9Dfr2rvraQv7i8jtjiYWnquQdQX6plcxN9Yi/Roh6FAyUlTuQ1TwKrCC7DHbt2RMaagYrOjVPFrZSU2O3Y2vNJCjtHgW4yn14k9WSeV28pol6OGrpZduBw19Ewu4puf4sjMON707Fbi1dXzd8vbwmT7AcEWSWQMT5mAlLwLBI3AXqedK+81bAtjNr/JxV//4fiPX+Obnyp31vbZIomxqsOr1mTP5KKWNNn8JtKjHD2/PGDg+48KgHNNrcQO+snW1etrdfS/9gPdRk5NfzBdHjlTABw6epqho59uJdfaKifvDWc+vjcs6Bz7rEUnjCl507PbQvrJxDW6/pK0Nb36/ucCcE7nOGQtOnhN6cjMhNbuOz3CXFMrAAO3L2hggI6vfg8rH3AA3XroB2ahvvn72hrONbVy9uSVUuAgcFM9VKzljiCzytbVlwKf2rY5BKRk0OyxpjpU13bP2moB+LHg0oPbVhxOFRxXnYZexlnsoF+XQNcLHH95/DutZAZuX8CZW1FNha2vEtrfDnVqbj/846cCsLrGulpVdd4iyzLtd1J3lRu3gHBUdE8rJRSrFHZvepbLI59p4X0suKjNr481PH3yZ3Jvc8i9vKAvxfO2SGKw0m9Ft/INrFdcycQ3lQh5isEldM4WSfxQ8V9GAfcq2RcHbkZFd9jgxU4Jz5aF60N94/szqU7d/j0NhIFLtkgiXrDhv279PwCLX3RxE3VHHAAAAABJRU5ErkJggg==",ghosty_blocked_big:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACwAAAAwCAMAAABdTmjTAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAMAUExURQAAADup1z6u3Civ4yqw5C2w4y6w5C626i657ie+9Sq88iq99C278C+98jGy5DWz5Da05TK26Ta26DC47Da57Dqx4Ti05T225Ti26D+45ji46jm67Tm87z267D687TG+8zq+8THC+DzB9lydv3iEm3yInm2SrWaXtWGZuWuUsXeLo3WNpXqKoXOeuVedwVqewUyhyU2mzkaq1UKs2UWt2Eun0Uyp0kuu2Eqy3VSix1GjylyhxF2kylGp0EC35kG45kW55kK56UO/7US66Ee/7Um650q850i76Em86Eu/7E286EK/8FC55FG+6FS/6V+942SfwGOkxWi01krA7kXB8VfA6lnA6VrG7lzB6V/E6mDD62HE6mXF62nG6mvI7GzI623I7HLK63LK7HXK7HbM7X/F43/I53rM7X3O7Z5ye51zfJ10fb5fW7tgXa9oaqZuc6ptcaZyebNkZbhiYbhrar1raP8vDv8wDvc4Hf8yEv8zFP40Fvw2Gvo4Hf44Gv45HP48Hu8/J+4/KfM8IvE+JfY6IPU8IvQ9JPA/Kfs8Id5IN9pNPd5KOdxMPOtBK+JGM+VFMeNINuBJOfBAKPFELftBJvpEKf1JLvdMM/1KMftTO/tXP/9WPcVXTsxVS8JbVcBdWMlXUNdPQdlOQNBSRtdQQtRRRNBVS9hQQstjW/tbQ/pcRfxZQP5kTP9oT/xlUP1yXfBwYPt6Z/x7aIx9jJR5hpp5hKZ7g9iGf/yAb/yId/2NfIWClYKFmImCkoqHmZeHlIeSp5mltr2YnKuapLW9yZXD2JrD2IHP7oLQ7oXR74nS743U74HU8obZ+InT8I3U8IzY9ZLW8JTX8JXY8ZnX8ZnY8Z3a8qHb8qLc9KXd86vf9K3f9K3h9LXj9bfk9bXr/rjl9b3l9t6alOyTiPiXifyYieGhnMDm9sLo9sXp98rq987s98rr+M3s+NTu+djw+d3x+uHz+uL0+ub1++T2/Oj1++n2/Oz2/O34/PH5/Pb7/fn8/f7+/gAAAAAAAMvXkM8AAAEAdFJOU////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////wBT9wclAAAACXBIWXMAAAsSAAALEgHS3X78AAAAGXRFWHRTb2Z0d2FyZQBwYWludC5uZXQgNC4wLjEzNANbegAABKRJREFUSEul1XtUFFUcB/AO0LYazVyWuDPuUK2ZWmKRSWpY7hht0NRuT0dyoYjdgrSSsKBlZhi0Bd2wFY6Chx5YQQ9Kiwx6YfYukR6EBmTZg4rQCvFYKgJnundm9sXB0+n0/evu3M+5+5vfvTNzivIf8v9wexYHLedCLtOlXwhLJO5Ywi6mIKBpmoIUy92mXw4kArs4JpEx0xACSJvNiRbK2aXPaAnDe200AyOCfufok2pC2J2mk/DQ1mx9GieIu1kL+v/xQcXfoQOUIM6AuFY1KgsM6bR8XYSwm8YGAIOB0DCBR3jI2HUSxB0cagKas7rzeYqAkCQc7t2ZuC2QoYId1zGfiNYgCTb3j6EeBwEBSX02eLRnCSSxt2omiLlEtAYZffvQyOhwRzokWNfg6Njhboj+BJiYPRrScSeLOgwA1TmGst8JDfbuv8bGRg/YcNk0k6eiAM5dZEYLQ8c+jAfcMJr/6TgaDWVCEhVCO1UUwE4qDPe5YPSyP0+g0eFcliBRrx36rmv4VsqEsa0ngDMHMD7EQxLdiyljt6qCGK2Max5F5NssXPMRVHMfPFXtuW0ibMg5hEg+2hGK/x1V0YW7gcqwtasqHENAcPk/HOhFfYYktev7g12oCrzwhBitSGRlW/G2oV2xu642aPYkGJWNHhSMAaSmqHeHMnEZaI7QTg9e2wDUKydZmSSncJR2NFFImJ6uDkymjIkwwX+ZZTUQJAphgPyuPPq0eGOsMfbKz1U1Dtty9/Xm8BzL2hw5nfu/WJpy0YzZ02cnXfiJqiJrhoR14PhAb0d+Xvueg38fueviWXc/9WzlC88/8KGqxt0gCfnekdETw8PDI2NDd773ZJV3rSRJFd5Nj/WHsHqQVA6WfTeE9/zYj5++0Vju8ZRUeL2CxyNvbQtintKfbEACtr3v2NHBb64/72GPKJZXbSm8t8FfIcs1QXx24C2AlobWdLv9qsU7GyVRFJ/ecWnKvMvebfKVSpsD2KJVgQMAYYiJiYkqfEj0eMRHVqYaJxnnv//qZlnermMGHefwmKJm1heJG/2Sx78iGYCp1ynNsvzS2yruHI+Nc1oeLRZXvLNeErwrp4GpnPKrT659UcVu/OYMjzG50C+smZWys14s3lAw7axbFGWbz1ejYn78Wy72/PoKqWHGJNBSWV60evnCtK+UtlpZxthF6SYYHU8GUUmVouAtuGHpx201GuYZ7VSGYkxe5Rf8SZOBce6ORsGzoeDGj5p9ZWoZNotugjGmLq8uFloSAIgztVZJRRtff7BOqt2KsMsa6rKeuEumP1MkbkkC8QDMaVnnkfxen/z4awjfDBjGghL2jQAJqfcIon/VzITTzzhnXutzYokglzXjTUmkKWu6jeNY7SlSEx/Xul4qXnPfBXPnL1iwsFAS0eHox9juyP0aN1Cx6phmmDNNqa0VguhtaHrzt5+bqktF2bc9cDa05FEW2sxYzKzTyUHm8vurS4RS3xMvb0MdluuQjcCK81pILWJ59BHpyrom7YqCTbU+5GTZV1v3Fp6PwEo77+zQh8re7Js++KW5Ti6T617BJx8lEk+QfvWB0vKvOBRF+QeHhWS8jhP8egAAAABJRU5ErkJggg=="}},function(e,t,r){"use strict";(function(e){function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,"a",(function(){return i}));const i=e=>[{title:e.message||"",detail:e.message||"",code:e.code||e.message||""}];class s{constructor(){n(this,"_getCsrfCookie",(e=this.config.CSRF_DOMAIN)=>new Promise(t=>{chrome.cookies.get({url:`https://${e}.com`,name:"csrf_token"},e=>t(null!==e?e.value:""))})),n(this,"_errorHandler",e=>Promise.resolve(e)),n(this,"get",(e,t,r="")=>t?this._sendAuthenticatedRequest("GET",`/api/v2/${e}/${t}?${r?`include=${r}`:""}`):Promise.reject(new Error("id is missing"))),n(this,"save",(e,t)=>this._sendAuthenticatedRequest("POST",`/api/v2/${e}/`,t)),n(this,"update",(e,t)=>{this._sendAuthenticatedRequest("PATCH",`/api/v2/${e}/${t.id}`,{data:t})}),n(this,"remove",(e,t)=>this._sendAuthenticatedRequest("DELETE",`/api/v2/${e}/${t}`)),this.isRefreshing=!1,this.tokenRefreshedEventType="tokenRefreshed"}init(e,t){this.config=e;const{errorHandler:r}=t;"function"==typeof r&&(this._errorHandler=r)}_refreshToken(){if(this.isRefreshing){let e;const t=(t,r)=>{window.removeEventListener(this.tokenRefreshedEventType,e,!1),t(r.detail)};return new Promise(r=>{e=t.bind(null,r),window.addEventListener(this.tokenRefreshedEventType,e,!1)})}return this.isRefreshing=!0,fetch(`${this.config.AUTH_SERVER}/api/v2/refresh_token`,{method:"POST",credentials:"include"})}_sendReq(t,r,n){return this._getCsrfCookie().then(i=>fetch(`${this.config.ACCOUNT_SERVER}${r}`,{method:t,headers:{"Content-Type":s.JSONAPI_CONTENT_TYPE,"Content-Length":e.byteLength(JSON.stringify(n)),"X-CSRF-Token":i},body:JSON.stringify(n),credentials:"include"}))}_processResponse(e){return new Promise((t,r)=>{const{status:n}=e;204!==n?404!==n?e.json().then(e=>{n>=400?r(e):t(e)}):r({errors:[{title:"Resource not found",code:"not-found",status:"404"}]}):t()})}_sendAuthenticatedRequest(e,t,r){return new Promise((n,i)=>{this._sendReq(e,t,r).then(this._processResponse).then(e=>n(e)).catch(s=>{let o=!1;s&&s.errors&&s.errors.forEach(e=>{"10021"!==e.code&&"10022"!==e.code||(o=!0)}),o?this._refreshToken().then(s=>{this.isRefreshing=!1,window.dispatchEvent(new CustomEvent(this.tokenRefreshedEventType,{detail:s}));const{status:o}=s;o>=400&&s.json().then(e=>this._errorHandler(e.errors).then(()=>n(e)).catch(e=>i(e))).catch(e=>i(e)),this._sendReq(e,t,r).then(this._processResponse).then(e=>n(e)).catch(e=>{this._errorHandler(e.errors).then(()=>n(e)).catch(e=>i(e))})}):this._errorHandler(s.errors).then(()=>n(s)).catch(e=>i(e))})})}static get JSONAPI_CONTENT_TYPE(){return"application/vnd.api+json"}}t.b=s}).call(this,r(50).Buffer)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.service=function e(t){let r=m();const n=new _;const i=()=>{const e=m();e!==r&&((r=e)?n.emit("enabled"):n.emit("disabled"))};const a=(0,s.subscribe)("prefchange",e=>{"telemetry"===e&&i()});const g=(0,s.subscribe)("healthReportChange",()=>{i()});e.unload=()=>{a.unsubscribe(),g.unsubscribe()};const A=new Set;const I=function(){var e=h((function*(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];const n=[...A],i=yield Promise.all(n.map(function(){var e=h((function*(e){try{return yield e.send(...t)}catch(t){return f.error(`cannot send telemetry via provider: "${e.name}"`,t),{error:t}}}));return function(t){return e.apply(this,arguments)}}()));return n.reduce((e,t,r)=>l({},e,{[t.name]:i[r]}),{})}));return function(){return e.apply(this,arguments)}}();let C=!1;const c=[];const d=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return C?I(...t):new Promise(e=>{c.push({signal:t,resolver:e})})};(0,u.deadline)(t.ready(),3e4).then(()=>{for(f.log(`starting telemetry service with ${c.length} signals in the queue`),C=!0;c.length>0;){const e=c.shift(),t=e.signal;(0,e.resolver)(d(...t))}});return{installProvider(e){A.add(e)},uninstallProvider(e){A.delete(e)},removeListener(e){n.unsubscribe("enabled",e),n.unsubscribe("disabled",e)},onTelemetryEnabled(e){n.on("enabled",e)},onTelemetryDisabled(e){n.on("disabled",e)},isEnabled:()=>r,verifyStatus(){i()},isBrowserTelemetryEnabled:p,push(e,t,n){if(f.debug("signal pushed",e,t,n),!r)return f.log("Could not push telemetry: disabled.",t,e),Promise.resolve();const i=(0,o.getWindow)();return i&&(0,o.isPrivateMode)(i)?(f.log("Could not push telemetry: private window.",t,e),Promise.resolve()):d(e,t,n)}}},t.default=void 0;var n=I(r(19)),i=r(84),s=r(39),o=r(227),a=I(r(33)),g=I(r(269)),A=I(r(74)),u=r(91);function I(e){return e&&e.__esModule?e:{default:e}}function C(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?C(r,!0).forEach((function(t){c(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d(e,t,r,n,i,s,o){try{var a=e[s](o),g=a.value}catch(e){return void r(e)}a.done?t(g):Promise.resolve(g).then(n,i)}function h(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var s=e.apply(t,r);function o(e){d(s,n,i,o,a,"next",e)}function a(e){d(s,n,i,o,a,"throw",e)}o(void 0)}))}}const f=A.default.get("telemetry",{level:"log",prefix:"[telemetry]"});function p(){return i.isDesktopBrowser?n.default.get("uploadEnabled",!0,"datareporting.healthreport."):n.default.get("enabled",!0,"toolkit.telemetry.")}function m(){if(!p())return f.log("Telemetry disabled because of user opt-out"),!1;const e=n.default.get("telemetry",!0);return!0!==e&&f.log('Telemetry disabled because "telemetry" pref is false'),e}class _ extends g.default{constructor(){super(["enabled","disabled"])}}var y=a.default.service("telemetry",["push","isEnabled"]);t.default=y},function(e,t,r){"use strict";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}
/*!
 * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=class{constructor(e){n(this,"map",void 0),n(this,"valueCtr",void 0);for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];this.map=new Map(...r),this.valueCtr=e}toMap(){return this.map}toObj(){const e=Object.create(null);return this.forEach((t,r)=>{e[r]=t}),e}get size(){return this.map.size}clear(){return this.map.clear()}delete(e){return this.map.delete(e)}entries(){return this.map.entries()}forEach(e,t){return this.map.forEach(e,t)}get(e){let t=this.map.get(e);return void 0===t&&(t=this.valueCtr(),this.set(e,t)),t}has(e){return this.map.has(e)}keys(){return this.map.keys()}set(e,t){return this.map.set(e,t),this}values(){return this.map.values()}update(e,t){const r=this.get(e),n=t(r);this.set(e,void 0===n?r:n)}}},function(e,t,r){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;
/*!
 * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */
var i=((n=r(74))&&n.__esModule?n:{default:n}).default.get("anolysis",{level:"log"});t.default=i},,,,,,,function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));var n=r(150),i=r(251);function s(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Object(i.a)()(n.a.apply(void 0,e))}},function(e,t,r){"use strict";function n(e){setTimeout((function(){throw e}),0)}r.d(t,"a",(function(){return n}))},,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"setInterval",{enumerable:!0,get:function(){return n.setInterval}}),Object.defineProperty(t,"setTimeout",{enumerable:!0,get:function(){return n.setTimeout}}),Object.defineProperty(t,"clearTimeout",{enumerable:!0,get:function(){return n.clearTimeout}}),Object.defineProperty(t,"clearInterval",{enumerable:!0,get:function(){return n.clearInterval}});var n=r(226)},function(e,t,r){"use strict";var n="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;function i(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var r=t.shift();if(r){if("object"!=typeof r)throw new TypeError(r+"must be non-object");for(var n in r)i(r,n)&&(e[n]=r[n])}}return e},t.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var s={arraySet:function(e,t,r,n,i){if(t.subarray&&e.subarray)e.set(t.subarray(r,r+n),i);else for(var s=0;s<n;s++)e[i+s]=t[r+s]},flattenChunks:function(e){var t,r,n,i,s,o;for(n=0,t=0,r=e.length;t<r;t++)n+=e[t].length;for(o=new Uint8Array(n),i=0,t=0,r=e.length;t<r;t++)s=e[t],o.set(s,i),i+=s.length;return o}},o={arraySet:function(e,t,r,n,i){for(var s=0;s<n;s++)e[i+s]=t[r+s]},flattenChunks:function(e){return[].concat.apply([],e)}};t.setTyped=function(e){e?(t.Buf8=Uint8Array,t.Buf16=Uint16Array,t.Buf32=Int32Array,t.assign(t,s)):(t.Buf8=Array,t.Buf16=Array,t.Buf32=Array,t.assign(t,o))},t.setTyped(n)},function(e,t){var r,n,i=e.exports={};function s(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function a(e){if(r===setTimeout)return setTimeout(e,0);if((r===s||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:s}catch(e){r=s}try{n="function"==typeof clearTimeout?clearTimeout:o}catch(e){n=o}}();var g,A=[],u=!1,I=-1;function C(){u&&g&&(u=!1,g.length?A=g.concat(A):I=-1,A.length&&l())}function l(){if(!u){var e=a(C);u=!0;for(var t=A.length;t;){for(g=A,A=[];++I<t;)g&&g[I].run();I=-1,t=A.length}g=null,u=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===o||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function c(e,t){this.fun=e,this.array=t}function d(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];A.push(new c(e,t)),1!==A.length||u||a(l)},c.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=d,i.addListener=d,i.once=d,i.off=d,i.removeListener=d,i.removeAllListeners=d,i.emit=d,i.prependListener=d,i.prependOnceListener=d,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=s,t.randomInt=function(){return Math.floor(s()*Number.MAX_SAFE_INTEGER)};var n,i=(n=r(201))&&n.__esModule?n:{default:n};
/*!
 * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */
function s(){const e=i.default.getRandomValues(new Uint32Array(2));return(Math.pow(2,32)*(2097151&e[0])+e[1])/Math.pow(2,53)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=class{constructor(e){this._name=e}get name(){return this._name}process(){throw new Error("should be implemented by the inheritance class")}}},function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r(61),i=r(126),s=r(190);function o(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=e[e.length-1];return Object(n.a)(r)?(e.pop(),Object(s.a)(e,r)):Object(i.a)(e)}},function(e,t,r){"use strict";var n=r(22),i=r(4),s=r(3),o=r(12),a=r(2);const{CDN_SUB_DOMAIN:g}=i.a;t.a=class{constructor(e){this.type=e,this.db={},this.just_upgraded=!1}init(e){return this.just_upgraded=e,this._localFetcher().then(e=>this.processList(e.fromMemory,e.data,!0)).catch(e=>{Object(a.log)("Updatable init() error",e)})}update(e,t){const r={remote:!0,version:e,callback:t};Object(n.isFunction)(e)&&(r.callback=e,delete r.version),this._loadList(r)}_localFetcher(){return new Promise((e,t)=>{const r=s.a[this.type],n="bugs"===this.type||"surrogates"===this.type?"version":`${this.type}Version`;r&&r.hasOwnProperty(n)?this.just_upgraded?Object(o.fetchLocalJSONResource)(`databases/${this.type}.json`).then(t=>{t[n]>r[n]?(Object(a.log)(`fetching updated${this.type} from disk`),e({fromMemory:!1,data:t})):e({fromMemory:!0,data:r})}).catch(e=>{Object(a.log)(`Error fetching updated databases/${this.type}.json`,e),t(e)}):(Object(a.log)(`fetching ${this.type} from memory`),e({fromMemory:!0,data:r})):(Object(a.log)(`fetching ${this.type} from disk`),Object(o.fetchLocalJSONResource)(`databases/${this.type}.json`).then(t=>{Object(a.log)(`got data for ${this.type} from disk`,t),e({fromMemory:!1,data:t})}).catch(e=>{Object(a.log)(`Error fetching databases/${this.type}.json`,e),t(e)}))})}_remoteFetcher(e){Object(a.log)(`fetching ${this.type} from remote`);const t=`https://${g}.ghostery.com/update/${"bugs"===this.type?"v3/bugs":this.type}`;Object(o.getJson)(t).then(t=>{e(!0,t)}).catch(t=>{Object(a.log)("Updatable _remoteFetcher() error",t),e(!1)})}_loadList(e={}){if(Object(a.log)("LOCAL VERSION, SERVER VERSION",this.db.version,e.version),this.db.version&&e.version&&e.version<=this.db.version)return e.callback&&e.callback({success:!0,updated:!1}),void(s.a[`${this.type}_last_updated`]=(new Date).getTime());this._remoteFetcher(Object(n.bind)((function(t,r){if(t&&r){this.processList(!1,r)?(s.a[`${this.type}_last_updated`]=(new Date).getTime(),e.callback&&e.callback({success:!0,updated:!0})):(Object(a.log)("Updatable _loadList() error calling processList()"),e.callback&&e.callback({success:!1,updated:!1}))}else e.callback&&e.callback({success:!1,updated:!1})}),this))}}},function(e,t,r){"use strict";function n(e,t){return!!e.endsWith(t)&&(e.length===t.length||"."===e[e.length-t.length-1])}function i(e,t){var r=0,n=e.length,i=!1;if(!1===t){for(;r<e.length&&e.charCodeAt(r)<=32;)r+=1;for(;n>r+1&&e.charCodeAt(n-1)<=32;)n-=1;if(47===e.charCodeAt(r)&&47===e.charCodeAt(r+1))r+=2;else{var s=e.indexOf(":/",r);if(-1!==s){var o=s-r,a=e.charCodeAt(r),g=e.charCodeAt(r+1),A=e.charCodeAt(r+2),u=e.charCodeAt(r+3),I=e.charCodeAt(r+4);if(5===o&&104===a&&116===g&&116===A&&112===u&&115===I);else if(4===o&&104===a&&116===g&&116===A&&112===u);else if(3===o&&119===a&&115===g&&115===A);else if(2===o&&119===a&&115===g);else for(var C=r;C<s;C+=1){var l=32|e.charCodeAt(C);if(!1==(l>=97&&l<=122||l>=48&&l<=57||46===l||45===l||43===l))return null}for(r=s+2;47===e.charCodeAt(r);)r+=1}}var c=-1,d=-1,h=-1;for(C=r;C<n;C+=1){var f=e.charCodeAt(C);if(35===f||47===f||63===f){n=C;break}64===f?c=C:93===f?d=C:58===f?h=C:f>=65&&f<=90&&(i=!0)}if(-1!==c&&c>r&&c<n&&(r=c+1),91===e.charCodeAt(r))return-1!==d?e.slice(r+1,d).toLowerCase():null;-1!==h&&h>r&&h<n&&(n=h)}for(;n>r+1&&46===e.charCodeAt(n-1);)n-=1;var p=0!==r||n!==e.length?e.slice(r,n):e;return i?p.toLowerCase():p}function s(e){return e>=97&&e<=122||e>=48&&e<=57||e>127}r.r(t);var o=function(e){if(e.length>255)return!1;if(0===e.length)return!1;if(!s(e.charCodeAt(0)))return!1;for(var t=-1,r=-1,n=e.length,i=0;i<n;i+=1){var o=e.charCodeAt(i);if(46===o){if(i-t>64||46===r||45===r||95===r)return!1;t=i}else if(!s(o)&&45!==o&&95!==o)return!1;r=o}return(n-t-1<=63&&45!==r)};function a(e){var t=e.allowIcannDomains,r=void 0===t||t,n=e.allowPrivateDomains,i=void 0!==n&&n,s=e.detectIp,o=void 0===s||s,a=e.extractHostname,g=void 0===a||a,A=e.mixedInputs,u=void 0===A||A,I=e.validHosts,C=void 0===I?null:I,l=e.validateHostname;return{allowIcannDomains:r,allowPrivateDomains:i,detectIp:o,extractHostname:g,mixedInputs:u,validHosts:C,validateHostname:void 0===l||l}}var g=a({});function A(e){e.domain=null,e.domainWithoutSuffix=null,e.hostname=null,e.isIcann=null,e.isIp=null,e.isPrivate=null,e.publicSuffix=null,e.subdomain=null}function u(e,t,r,s,A){var u,I,C,l=function(e){return void 0===e?g:a(e)}(s);return"string"!=typeof e?A:(!1===l.extractHostname?A.hostname=e:!0===l.mixedInputs?A.hostname=i(e,o(e)):A.hostname=i(e,!1),0===t||null===A.hostname?A:!0===l.detectIp&&(A.isIp=function(e){if(e.length<3)return!1;var t="["===e[0]?1:0,r=e.length;if("]"===e[r-1]&&(r-=1),r-t>39)return!1;for(var n=!1;t<r;t+=1){var i=e.charCodeAt(t);if(58===i)n=!0;else if(0==(i>=48&&i<=57||i>=97&&i<=102||i>=65&&i<=90))return!1}return n}(u=A.hostname)||function(e){if(e.length<7)return!1;if(e.length>15)return!1;for(var t=0,r=0;r<e.length;r+=1){var n=e.charCodeAt(r);if(46===n)t+=1;else if(n<48||n>57)return!1}return 3===t&&46!==e.charCodeAt(0)&&46!==e.charCodeAt(e.length-1)}(u),!0===A.isIp)?A:!0===l.validateHostname&&!0===l.extractHostname&&!1===o(A.hostname)?(A.hostname=null,A):(r(A.hostname,l,A),2===t||null===A.publicSuffix?A:(A.domain=function(e,t,r){if(null!==r.validHosts)for(var i=r.validHosts,s=0;s<i.length;s+=1){var o=i[s];if(n(t,o))return o}return e.length===t.length?null:function(e,t){var r=e.length-t.length-2,n=e.lastIndexOf(".",r);return-1===n?e:e.slice(n+1)}(t,e)}(A.publicSuffix,A.hostname,l),3===t||null===A.domain?A:(A.subdomain=function(e,t){return t.length===e.length?"":e.slice(0,-t.length-1)}(A.hostname,A.domain),4===t?A:(A.domainWithoutSuffix=(I=A.domain,C=A.publicSuffix,I.slice(0,-C.length-1)),A)))))}var I=function(e,t,r){if(!1===t.allowPrivateDomains&&e.length>3){var n=e.length-1,i=e.charCodeAt(n),s=e.charCodeAt(n-1),o=e.charCodeAt(n-2),a=e.charCodeAt(n-3);if(109===i&&111===s&&99===o&&46===a)return r.isIcann=!0,r.isPrivate=!1,r.publicSuffix="com",!0;if(103===i&&114===s&&111===o&&46===a)return r.isIcann=!0,r.isPrivate=!1,r.publicSuffix="org",!0;if(117===i&&100===s&&101===o&&46===a)return r.isIcann=!0,r.isPrivate=!1,r.publicSuffix="edu",!0;if(118===i&&111===s&&103===o&&46===a)return r.isIcann=!0,r.isPrivate=!1,r.publicSuffix="gov",!0;if(116===i&&101===s&&110===o&&46===a)return r.isIcann=!0,r.isPrivate=!1,r.publicSuffix="net",!0;if(101===i&&100===s&&46===o)return r.isIcann=!0,r.isPrivate=!1,r.publicSuffix="de",!0}return!1},C=new Uint32Array([5,0,0,11,5860739,5860793,5860978,5861026,5861029,5861126,5861321,5861352,5861357,5861403,5861586,0,0,0,1,1850179732,0,9,328184559,1866923597,2123501943,2282562397,2795346450,3130446446,3136607046,3453334789,4194175729,30,65021741,101876503,819014943,819028732,1139486022,1335010188,1431231509,1498275876,1522025464,1544104458,1570707647,1626814538,1687232530,1789539963,1893848785,2023201532,2391299855,2496327381,2573179642,2709520566,2839950127,2921343336,2989808530,3000405309,3015527775,3420815319,3738715095,3843717774,3934774481,4146774829,4094,100835,372942,373596,399643,403867,589540,737224,1210028,1861414,2424682,2658901,2946999,3329363,3333156,3822808,6942202,9086062,9095117,9267209,9340158,9485932,11010102,11406846,16314893,18146303,18331450,19211200,20314441,20356673,20797457,25057869,26663359,28320278,30499151,30585840,36605120,36990037,39275208,41892561,42049478,42538024,45214788,47656662,50173535,53599326,53858455,54537430,61367659,63815836,64422985,64643127,64831187,66751588,66844930,69226500,73517283,73904368,74144257,75706244,78793775,78794171,79558910,80324123,84993902,87977581,87978853,87978860,93811268,95641381,95641777,96671837,99012676,100511481,100947456,104528693,108215410,108929491,110526112,110662188,112311307,114507832,116811054,120488259,122521550,129191429,133427701,134012911,141513861,141517490,143344167,144349377,144362028,144550088,144770230,147205859,147810002,147989623,149598895,150736276,150856054,152379730,156555774,164189124,164189258,164189262,164189691,164189842,164560958,165069166,165106627,165107021,165339368,165444557,165444558,165444615,165444629,165444745,165444749,165445368,165512129,165512527,165749053,165749188,165749299,165749435,165749535,165779060,167155067,169909265,169909275,169909419,169909512,169909517,169909531,169909608,169909724,169909733,169909734,169909738,169909857,169910036,169910195,169910226,169938982,169939075,169939172,169939304,169939334,169939474,169939481,169939680,169939682,169939793,169977029,169977163,170281136,170281250,170281253,170281258,170281275,170281382,170281390,170281415,170281447,170281457,170281473,170281497,170281511,170281522,170281525,170281528,170281579,170281589,170281687,170281689,170281699,170281742,170281776,170281812,170281852,170281902,170281972,170311352,170649202,170649385,170649596,171188220,172078401,172145927,172484120,172484301,172788260,172788689,172788693,172788754,172788809,172788827,173118530,173118924,173456648,173591948,173930212,173930286,174306499,174306893,174307245,174307439,174358551,174374100,174509317,174577099,174644617,174843632,174844030,175181758,175524135,175524873,176843304,176948764,178529610,178530165,178530256,178530299,178530303,178530355,178868363,178868576,178868974,179274397,179274476,179379459,179379616,179379624,179379849,179379853,179380220,179657877,179692651,179714168,179913714,180090304,180090702,180283722,180292996,180293014,180293036,180293067,180293093,180293105,180293124,180293152,180293156,180293169,180293179,180293199,180293253,180293290,180293294,180293300,180293302,180293304,180293317,180293344,180293346,180293381,180293447,180293487,180293501,180293503,180293522,180293535,180293716,180293796,180293819,180293997,180294e3,180294004,180294009,180428032,180902137,180969265,181108861,181240259,181240353,181240367,181240371,181240391,181240392,181240393,181240398,181240404,181240451,181240474,181240479,181240483,181240490,181240509,181240515,181240844,181240853,181240956,181241149,181241165,181241168,181244839,181375748,181548621,181548644,181548727,181548873,181549108,181549176,181949900,181950639,182385920,182419943,182893167,182893283,182893394,182893788,183163149,183163151,183163155,183163168,183163169,183163171,183163181,183163182,183163183,183163186,183163188,183163233,183163248,183163251,183163252,183163254,183163270,183163303,183163314,183163317,183163334,183163335,183163336,183163340,183163345,183163347,183163350,183163362,183163363,183163365,183163366,183163367,183163371,183163375,183163376,183163378,183163380,183163383,183163630,183163631,183163644,183163649,183163651,183163653,183163655,183163664,183163668,183163669,183163678,183163679,183163682,183163687,183163713,183163715,183163728,183163731,183163735,183163742,183163777,183163779,183163780,183163781,183163783,183163796,183163797,183163801,183163843,183163845,183163847,183163859,183163864,183163865,183163874,183163895,183163897,183163913,183163922,183163933,183163960,183163961,183163963,183163977,183163978,183163979,183163981,183163988,183163989,183163991,183163992,183163994,183163995,183163998,183164008,183164010,183164012,183164021,183164025,183164026,183164027,183164029,183164041,183164044,183164045,183164047,183164050,183164051,183164057,183164060,183164061,183164093,183468910,184080938,184081253,184081673,184081677,184081778,184246330,184246511,184486318,184486865,184487263,184828195,184828212,184844696,184844824,184848486,184848491,184849029,184849387,184869208,184869819,185163947,185216284,185289081,185292632,185295605,185501943,185502073,185502077,185772974,186723357,186723671,186723801,186763265,186771866,186840059,186858006,186875993,186950941,186953244,186994101,186994720,187011432,187022814,187064894,187067400,187076090,187078647,187088813,187161171,187188812,187203075,187219343,187222314,187251332,187328908,187332203,187378741,187385256,187386889,187403121,187403860,187404132,187409119,187410536,187415116,187415841,187417183,187453423,187455618,187483569,187506658,187521457,187531575,187554851,187557872,187932036,187932044,187932595,187932730,187932752,187932756,187932794,187932985,187932989,190236828,190304994,190305388,190372512,190372516,190372621,190372839,190373457,190575460,190575594,190879986,191043224,191246659,191458643,191459037,191524213,193856736,193857103,193857114,193857243,193991787,194363750,194498585,194498630,194498988,194499056,194499063,194532263,194532626,194532630,194532693,194532760,194532936,194533115,194802308,194802313,194802316,194802351,194802818,194802832,194802974,194803141,194803143,194803161,194803226,194803230,194836546,194870589,194870610,194871004,195040013,195040230,195040360,195077902,195078025,195078028,195078034,195078035,195078038,195078058,195078062,195078071,195078081,195078095,195078112,195078119,195078120,195078149,195078150,195078156,195078185,195078215,195078217,195078250,195078251,195078272,195078273,195078277,195078283,195078287,195078298,195078299,195078300,195078368,195078372,195078375,195078394,195078464,195078474,195078493,195078531,195078554,195078559,195078687,195078710,195078753,195078828,195078837,195078892,195078895,195078900,195078906,195078959,195078960,195078974,195078995,195078997,195079007,195817892,195817910,195818040,196653590,197775763,198219289,198248729,198354195,198354632,202063369,203326381,203326382,203326695,203326709,203326825,203326829,203327047,203327192,203360584,203427712,203428110,203563443,203563837,203664976,203665374,203762913,204069808,206121592,207568995,208227118,216046669,218659706,219797064,231775478,232370627,232791016,232866163,232870916,237059472,238230825,238671321,241611072,245880244,246752740,249954601,256262487,256399880,257210252,257542887,259810976,259829097,260353797,260353928,260353938,260354380,260381156,260390354,262186579,266014567,271387034,274620304,274691435,279382168,280527902,280532777,280535076,280542659,281931451,292827804,295209043,296292341,297619746,305011770,306510696,313583e3,314643431,320313766,320318114,321023689,321447655,322472432,325454853,326762411,337081594,338040061,339830659,340010259,341833935,342149828,356194258,358990451,359223603,359276554,360204016,360327984,368215882,370146306,370150662,373255328,373394720,374785091,376173808,376667442,377307531,377336144,377652210,379825795,380248845,380316586,380849985,381874529,381884647,382049883,382486912,382598847,385650293,389069795,389909922,393290800,395076177,395140257,399168703,402724451,403769719,404122044,409655137,410188633,411785958,413977571,418962805,419080649,423458772,424591341,424705846,424926177,425050855,430711818,430784915,431116435,431157415,431370962,431390595,431489022,431585240,431586828,431608121,432925266,433686700,434854475,442888655,442922019,443587046,444998055,445176561,449218512,449424719,451217894,451870618,459172225,469098393,471052880,478642118,480635114,480636362,480638119,480638181,480638612,480653244,480658155,480658807,480939764,483974975,484603510,484645735,488826995,490491404,493445761,499075209,511578298,514111995,514955151,515474792,515491843,515593995,517240281,519409110,520595267,522631343,523234636,527144416,533682535,533847771,534396735,538362471,540682234,545433338,547443445,550462929,551440509,555571491,557981738,559064708,560636591,572640614,572652435,575127842,575742406,575835832,576590271,577168455,582462766,584490345,587585418,587768078,588145733,589399600,591647101,594353073,596395114,596517435,602054693,609523853,612026675,622957156,622959354,627471386,630686153,632559259,635121653,635859009,637007260,641167055,643225485,643488605,643663853,648008241,648304671,650538190,656171171,656243914,656640963,665693626,667797222,675938056,678076451,679253935,684522993,684536293,689065707,689172736,689202009,693611235,694324728,695649196,700774993,703142796,707132367,712377315,712470899,715533184,722903474,728415570,729335905,731964179,733989474,744440632,748265163,752520493,752687122,752687226,752699150,752938578,753314817,761228031,762792020,766278458,771168358,771342884,772916985,785945688,787032422,789676308,793080342,794341423,794638681,799598398,803443550,803504423,803576910,803750530,804046103,804899040,810638083,813049915,813882670,813882809,819687634,821390609,822184173,822865774,824372117,824828566,826639012,826993974,827575018,827624512,831815016,834750300,834856638,834963202,835666250,838463501,839632578,842350150,843454848,844441814,845393562,845537310,846032279,847050559,850228898,851897573,853098265,855980394,858467853,864019409,869651422,878524814,881613818,883922292,883926782,885943745,886050698,896206971,896253025,897230014,898924730,900375831,900562876,907903147,909690480,911040096,912288153,912452591,913046780,914761571,915088911,915769822,915838470,919008564,924477462,924490662,927206149,935240483,936096500,939243980,939281294,939375524,939697158,939922440,940027871,942640890,942743627,943328481,943363810,947022624,950098348,954017396,954872462,959069811,961909457,961915153,962363178,962549619,963013768,967703276,967948020,969062315,971904354,971904490,973306633,973317901,973587946,973591516,973595243,973613934,973618563,974354714,977251657,977925344,983357420,983929219,983931665,983936021,984542401,985262291,985854160,986356352,986883183,987313801,987563776,987600844,994961720,1002154839,1005485664,1005660307,1005931709,1008280710,1009678005,1009815854,1015938248,1018008327,1024510565,1027688850,1032624770,1033292429,1033879086,1034329743,1034357170,1038843968,1039500800,1042185353,1043537387,1043742405,1044060157,1045601283,1046273911,1046743273,1046756254,1048099261,1049404062,1052311686,1052441930,1052883806,1053590026,1055187548,1056740120,1058016469,1059921109,1060080890,1060081069,1064702402,1067370082,1067385970,1067405735,1068743400,1072264613,1080832696,1083646554,1084662717,1085312600,1086607170,1086818213,1086839634,1087030220,1087432248,1087540767,1088313455,1089639430,1089665811,1092266223,1094128841,1094382979,1100822038,1101368277,1101556739,1101657937,1101658065,1102136407,1102319129,1102691201,1104338451,1104888372,1107574816,1107604513,1107608406,1114346722,1114906227,1115517588,1116603570,1116886791,1121544473,1122391675,1123274870,1123277038,1123281470,1123286137,1123300855,1128066491,1128665654,1130410120,1135543458,1135544712,1135545955,1135553917,1135559494,1135563376,1136069038,1136903068,1141006631,1141018311,1142918810,1143019669,1144395492,1146787097,1149112251,1151589762,1152383075,1153265116,1153556935,1153560693,1153560855,1153576209,1153582928,1154249515,1155609853,1158010336,1158014282,1158019276,1158022529,1158025585,1158030151,1158040127,1158040853,1158043091,1158313993,1160141196,1160245697,1160246728,1160253683,1160271099,1160271446,1160272445,1160277399,1161223806,1161235355,1162489113,1163536255,1166908086,1166937977,1166949933,1166952503,1166953757,1166959964,1167534042,1169030529,1169037994,1169039382,1169046802,1169046815,1169048548,1169054036,1169994302,1171270800,1171270813,1172775704,1173601310,1174042111,1174752677,1174762471,1175725254,1175726508,1175727467,1175727495,1175735449,1175736592,1175738578,1175738760,1175746250,1175746252,1175749986,1175793566,1179261033,1184984869,1185692184,1189090107,1191206679,1191915740,1192411690,1192590212,1193567716,1194400508,1198881999,1198884629,1199843361,1202502980,1204258276,1204470469,1206364960,1206399154,1207407281,1207765705,1207825797,1208230324,1208429990,1208517393,1208911775,1208937193,1209536263,1211364607,1212671635,1214258492,1217924538,1220965831,1225976890,1228682933,1229000062,1229783327,1229847808,1229958905,1232816452,1237771172,1237773393,1237773841,1243202596,1245899123,1247245722,1256406409,1257366451,1259566070,1260762188,1261854970,1265324777,1265669119,1273073240,1278961290,1280280379,1280768035,1291368159,1295085673,1295542469,1295875812,1296518360,1297048848,1300060481,1300364681,1303525815,1303650868,1304687455,1304781392,1304918086,1305056028,1305920823,1306968125,1306972554,1306973586,1307621261,1307665177,1308558601,1308559744,1308574194,1308583254,1308584508,1308585495,1309808754,1310362665,1310785148,1310799239,1310800921,1310801269,1310803416,1310807041,1310808370,1313021694,1313023237,1313030377,1314270973,1314287001,1314293208,1321085506,1321731136,1322807089,1322881666,1324313259,1324313985,1324320704,1324322270,1324332261,1324636022,1325293061,1325300526,1325303158,1325308368,1325309334,1325309339,1325310241,1325310486,1325311328,1325311482,1326707500,1328209699,1328777903,1328778629,1328785348,1328786906,1328789635,1328794451,1328797153,1329362352,1329963165,1329987910,1330666198,1330807345,1330903052,1331009222,1331010221,1331013633,1331015175,1331019352,1331025251,1331026645,1331028446,1331143849,1335448632,1335892543,1336436046,1336436772,1336437775,1336438057,1336439236,1336443338,1336449024,1336456660,1336460266,1336462620,1336463768,1336469142,1341018428,1341081128,1341091249,1341179896,1342001696,1344411053,1344426134,1344436952,1344437939,1344444146,1346529166,1349466130,1350170659,1350170661,1350356518,1350356534,1350620578,1351056251,1351154191,1351382419,1351445663,1353796379,1353803638,1354094479,1354229264,1354447091,1354448055,1354464484,1354467042,1354475004,1354584300,1355466970,1355483586,1355607656,1355929695,1355947655,1356095080,1356150953,1356150969,1356150973,1356457867,1356471002,1356757572,1357692080,1357876668,1357880232,1358481170,1360043731,1360220638,1362168625,1362262729,1362271868,1362285703,1362326863,1362656266,1364891797,1365811994,1367555632,1367692098,1367811071,1368369281,1368820926,1369663049,1374458097,1377739598,1378565283,1379014609,1379224098,1381333258,1383613953,1383613964,1383629111,1383647122,1385857457,1385879444,1386127789,1386706928,1388074128,1388078600,1388084119,1388086017,1388094003,1388104573,1388109527,1388111766,1390304957,1390318095,1390319238,1390321811,1390327192,1390328435,1390329689,1391292472,1391295130,1391298115,1391299402,1391302044,1391307254,1391308253,1392560940,1396553940,1397006395,1397007527,1397007872,1397007885,1397015305,1397016949,1397022431,1400354688,1400355947,1400356673,1400360856,1400364702,1400366245,1401741660,1405743539,1407053336,1407067683,1409840426,1410939834,1414623055,1416259553,1417803702,1417953492,1417953925,1417969521,1417971248,1418042854,1420962489,1422407147,1422418384,1422432926,1422434165,1422435892,1423090882,1425971467,1426162994,1426865884,1426871783,1426872814,1426880658,1426881913,1426884152,1428612014,1429098926,1429105132,1429112250,1430623854,1431581902,1431587977,1431591127,1432718586,1433558874,1433568865,1433577620,1433578879,1435387691,1435862377,1444705448,1444706435,1444707945,1444708598,1444713016,1444718265,1444720166,1444723003,1444725453,1444731199,1444731564,1444731950,1444732047,1444732342,1444732347,1444738453,1445361689,1448052138,1448052864,1448054123,1448067662,1448078965,1449172589,1452091461,1453387928,1453752738,1453961462,1456174702,1457037634,1457145422,1457156469,1457178704,1458371285,1459376581,1459377857,1459377868,1459384567,1459385707,1459403577,1459405260,1459408531,1459757655,1459920222,1461678986,1463840740,1463842504,1463849459,1463849797,1463867222,1463868221,1463873175,1464819582,1464821125,1464829402,1464830128,1464831131,1466045929,1466068861,1466074694,1466091096,1466403701,1467047928,1467061763,1467063453,1467065948,1467070902,1468307140,1468314970,1468321435,1471526086,1474285944,1474796155,1474852365,1474856386,1474857640,1474858627,1474866589,1474867476,1474871748,1474880870,1482183211,1482187228,1482389973,1482978689,1486003341,1486005836,1486010790,1486021608,1486029338,1486036499,1486036510,1491300687,1492834968,1492905126,1495099017,1495387727,1496999162,1497335658,1497338257,1497341434,1497353781,1497360500,1497361503,1503214457,1504022303,1504024292,1504032122,1504033105,1504038587,1509379857,1510741574,1511059454,1514359714,1515292004,1517410020,1517415502,1517416485,1517424315,1517426048,1519466742,1519486936,1526518672,1534242148,1535379077,1535411852,1535416972,1535418272,1535419013,1535426999,1535427585,1535429447,1535437817,1535442771,1535445010,1538631370,1539876488,1539883905,1539891891,1539902461,1539907415,1539909654,1540853566,1540863813,1540865371,1540871834,1540872816,1540972285,1542830372,1544565822,1547523228,1548000883,1548203684,1548662272,1548668010,1548668993,1548676831,1548677846,1548686756,1550655859,1551291701,1552780862,1554083280,1554160502,1554849656,1556617220,1556618479,1556619205,1556627226,1556629025,1562365424,1571587981,1572843623,1575133026,1577978899,1578737375,1579027766,1580891870,1580902117,1580903020,1580910138,1580910864,1581061599,1584242651,1584252576,1584258687,1584260414,1584261397,1586571037,1588295785,1589138556,1593538808,1594150134,1594318433,1594644051,1595762332,1596345927,1596503336,1599871881,1600554193,1600562964,1600967980,1600968967,1600970477,1600988233,1600993979,1600994866,1600997301,1601541268,1602995891,1603061457,1604314670,1604316655,1604330442,1604341489,1604342648,1605183784,1605406132,1605908391,1607689728,1607689741,1607690628,1607701062,1607701276,1607705078,1607710365,1607715640,1607716607,1607716627,1608344260,1610313759,1610666926,1611239998,1611396088,1614382839,1614530679,1615167003,1615172374,1615640392,1615647347,1615658840,1615665110,1615666109,1615671063,1620094847,1620095619,1620095929,1620105028,1620113841,1620119323,1620795340,1621082362,1621083649,1621092660,1622329964,1622331641,1622337218,1622353628,1623408910,1624559739,1624569664,1624577502,1624577906,1624578485,1626556599,1628470609,1630022199,1632310642,1633163415,1635568907,1635591150,1635593749,1635643420,1635994183,1635994320,1641006393,1645672758,1645785364,1645803376,1645808858,1645809841,1646891621,1646892908,1646907799,1646910247,1646917618,1646918617,1648007716,1648013984,1648016015,1648021910,1648025704,1648032728,1648033715,1648039922,1648043240,1649119056,1649454738,1649581121,1652486802,1652497372,1652504566,1652932064,1652936599,1653583645,1653598182,1653599929,1653606136,1653607123,1654697756,1654712103,1654713134,1654716280,1654721234,1654722233,1656168200,1659162648,1659176739,1659180924,1659185878,1659186877,1659695250,1660874915,1664393911,1666206978,1666510724,1668155429,1669474757,1673661122,1673662353,1673671436,1673686839,1673856704,1674136053,1674769898,1674770881,1674776363,1674793871,1675780006,1675959713,1676641114,1677004461,1677008482,1677010668,1677010688,1677011655,1677022217,1677030942,1677037554,1679234542,1679234666,1679235736,1679237897,1679237918,1679241007,1679252114,1679258763,1679261552,1679266928,1681499983,1681500998,1681504918,1681510964,1681520272,1681526010,1681526993,1682221833,1682359277,1685960411,1685962398,1685964612,1685965520,1685965569,1685965582,1685965890,1685967499,1685968865,1685974082,1685987547,1685988215,1685988552,1685991645,1686112357,1686592668,1686670946,1687209740,1690419670,1690419852,1690423356,1690429255,1690430286,1690438386,1690439385,1690439477,1691674376,1691689779,1691700349,1691705303,1691707542,1691739899,1692242488,1693300811,1693663054,1693900733,1693904467,1693911703,1693913871,1693915014,1693915019,1693922968,1693923252,1693924211,1693925465,1696514991,1697110779,1697112784,1697112842,1697116346,1697119048,1697126337,1697127463,1697127903,1697134366,1697135348,1699859798,1704832941,1705550489,1705948764,1706596362,1707661217,1709380801,1709397036,1709401602,1709403991,1709403994,1709604401,1709715630,1709719753,1710245453,1710553669,1710842194,1711349139,1711911296,1712708709,1712862856,1712874413,1712889750,1715042583,1716067791,1716074254,1716075236,1716090026,1716093784,1716101073,1716987897,1717046504,1717344945,1717458342,1717665490,1717667127,1717964139,1718229371,1718354825,1718357162,1719193555,1719336939,1719736367,1719951972,1719952370,1720424110,1720435157,1720448732,1720448944,1720449947,1720450929,1721036165,1721144676,1721180497,1721273073,1721300021,1721429734,1721781082,1721785367,1722611952,1723770733,1723771620,1723777366,1723795122,1723796376,1723797619,1723869014,1724144999,1724360630,1724888746,1724891334,1724900049,1724902970,1724913368,1724913588,1724914591,1724915573,1724965913,1725078045,1725233009,1725264035,1725510046,1726097551,1726312938,1727054697,1727192868,1727424862,1727705145,1727733987,1727744610,1728055993,1728286570,1728572893,1728575555,1728593248,1728609049,1728736741,1730434650,1730700309,1731354114,1731355346,1732002104,1732531131,1733044570,1733128185,1733173527,1735014430,1735473130,1736646879,1737465416,1740085948,1740104597,1740108386,1741479646,1741618915,1741621154,1741622153,1741631292,1741636935,1741709977,1742216984,1743089654,1744959211,1744968590,1744969829,1744971556,1744977659,1744987840,1745343269,1745488513,1746392299,1747200908,1747202151,1747210105,1747211248,1747212978,1747215938,1747219291,1747533677,1747671543,1747762259,1748301224,1748301648,1748302211,1748318651,1748321229,1748327140,1748327340,1748328118,1748329946,1749416322,1749419816,1749422630,1749422974,1749423815,1749423848,1749423862,1749423980,1749432545,1749435316,1749435457,1749435956,1749437829,1749437986,1749440303,1749441388,1749442296,1749442361,1749443256,1749443576,1749444398,1749445477,1749445739,1749750164,1749955965,1752768365,1753028168,1753430927,1753880966,1753882221,1753900232,1753906931,1756680747,1759105063,1759488516,1759512274,1759513528,1759514495,1762715404,1763952265,1763967858,1763978172,1763979159,1765274516,1768132013,1774870841,1775193783,1775278057,1776446407,1778765218,1779479261,1779706923,1779707649,1779709525,1779713177,1779714057,1779714368,1779715934,1779715971,1779725925,1779730307,1779731494,1780768183,1781938242,1781939241,1781944195,1781948380,1781954023,1781961852,1783657515,1784508980,1785147288,1785152492,1785564290,1786402886,1786403885,1786408839,1786413016,1786418915,1786422601,1792463843,1793085197,1793091404,1793103209,1793109842,1794311882,1796513490,1798682988,1799934413,1800873944,1804734874,1804986274,1805201900,1805201909,1808346875,1809278593,1809909084,1810126394,1810162729,1811189710,1812804641,1813167465,1818860644,1824377544,1826567786,1826567942,1826568769,1826574251,1826586852,1826591759,1826593533,1826594804,1826595685,1826597041,1826838298,1827843009,1830073720,1832102940,1834682984,1835526804,1835527882,1835530317,1835531888,1835536950,1835540435,1835541852,1835548479,1835548755,1835552425,1835554706,1835556216,1836242836,1836706536,1838062951,1838891575,1839007628,1839021100,1839022775,1839033593,1839038547,1839040786,1839994953,1840001842,1840013399,1840019350,1840019827,1840020860,1843076481,1845608978,1846070315,1848013570,1849443027,1850456697,1854921046,1859450748,1859510931,1859511204,1860240647,1860312281,1860334137,1861101595,1863024310,1863816745,1866230741,1866891339,1866893066,1866896736,1866908847,1866910185,1866914026,1867191437,1867299303,1867861768,1867865679,1867867083,1867872142,1867873124,1867876289,1867885376,1867885466,1867887914,1867892691,1867897750,1867898961,1867899162,1867908767,1873521117,1875950626,1876926780,1878219696,1883713830,1883718737,1883722494,1883726489,1883992567,1884025074,1887655375,1889208808,1889317056,1890185274,1890880911,1891315242,1893080109,1893129355,1894534152,1894535395,1894543357,1894548934,1895822736,1896748195,1896864381,1896883495,1896884690,1896893413,1897086584,1897144569,1897150382,1897161336,1898308423,1899713189,1899886170,1903920486,1903920882,1905987148,1906518923,1906815088,1907908343,1907910446,1907911172,1907924055,1907926218,1907937265,1910568778,1912588116,1912664290,1912773142,1919704439,1919708663,1923048311,1925589573,1928014104,1929265412,1931786446,1933270769,1933847987,1934282690,1935832225,1937137824,1940180687,1941545223,1944881831,1944883085,1944889292,1944901097,1944907730,1944915291,1947690884,1949378607,1949381140,1949385828,1949388221,1949404634,1953208595,1957126749,1965906276,1965980590,1966393263,1966441984,1976999040,1977095148,1977627523,1979043911,1979158532,1982830318,1982831301,1982836783,1982854539,1982856313,1982857328,1982862253,1982863214,1983477916,1983945412,1983946415,1983946627,1983953134,1983957025,1983968650,1983971249,1983972408,1983977373,1985096774,1985106740,1985116048,1985122769,1987638584,1989155232,1991785536,1991792841,1991799730,1991811287,1991817238,1991817715,1991818748,1992326594,1994019132,1994026062,1994028952,1994613365,1998305912,2000627256,2002587178,2002703477,2004080420,2007546240,2007547499,2007556254,2007557797,2009780252,2013938002,2016158046,2016458632,2016459875,2016461129,2016470189,2016476340,2016482461,2016485526,2018939223,2019785049,2023148389,2023153871,2023155598,2023156002,2023157760,2023171627,2023174160,2023812622,2029256230,2029286951,2029296544,2037064184,2042215210,2042272668,2042423451,2043073993,2044012869,2046744295,2047386704,2047490213,2047625030,2047828609,2051192703,2052284669,2056364987,2056365175,2056459861,2057257910,2058376024,2058382302,2058436464,2058440319,2058445367,2058447874,2058448694,2058452545,2058552215,2058569521,2058573621,2058924197,2058929805,2058958371,2058984507,2058988863,2059003240,2059051015,2059075746,2059422408,2059824807,2061714098,2062014471,2062647492,2063260135,2063415690,2063627333,2063814283,2064238717,2064313581,2064484772,2064499575,2064635107,2064635452,2064635773,2064639428,2064639883,2064648773,2064654772,2064655646,2065476844,2065542420,2065542544,2065543022,2065727011,2066567940,2066734284,2066828553,2066833534,2067036957,2067202738,2067233317,2068031208,2068725531,2068831008,2068854498,2068854512,2068858196,2068859575,2068860177,2068862627,2068863232,2068869021,2068950273,2068994789,2068994807,2069062998,2069102686,2069161595,2069263945,2069338842,2069365704,2069468800,2069558220,2069561350,2069566268,2069591394,2069593072,2069595618,2069600040,2069600946,2069600957,2069604100,2069765192,2069904166,2069904305,2071035931,2071149679,2071643658,2073163309,2073289171,2073308845,2073310709,2073312474,2073322881,2073335784,2073440452,2073448514,2073457247,2073500084,2073509625,2073523923,2073533208,2073640292,2073794194,2073803151,2073803461,2073808229,2073811616,2073811996,2073815760,2073826308,2073826688,2073827152,2073830759,2073831593,2073831601,2074299520,2075044848,2075423284,2075693433,2078935992,2078936931,2078937889,2078937913,2078938163,2078938295,2078944407,2078944555,2078944613,2078944933,2081181239,2081852454,2082063743,2082285629,2082430948,2084946688,2086083080,2087431076,2087431077,2087431079,2087431080,2087431081,2087431082,2087431085,2087431086,2087431087,2087431088,2087431089,2087431090,2087431091,2087431092,2087431093,2087431094,2087431096,2087431097,2087431098,2087431099,2087431100,2087431102,2087431103,2087617590,2087617591,2087617592,2087617593,2087617594,2087617595,2087617596,2087617597,2087617598,2087617599,2087617632,2087617633,2087617634,2087617635,2087617636,2087617637,2087617638,2087617639,2087617640,2087617641,2087617642,2087617643,2087617644,2087617645,2087617647,2087617652,2087617654,2087617655,2087617656,2087617657,2087617658,2087617659,2087617660,2087617661,2087617662,2087617663,2087629931,2087822490,2088302297,2088726760,2088953542,2088996444,2090213881,2090218574,2090297888,2090298020,2091225604,2092577468,2092702023,2092715579,2092766986,2092957042,2093991393,2093995617,2093995632,2094612635,2094991848,2095143559,2097113374,2098599777,2098599792,2099138174,2102249573,2102285158,2102285168,2102285285,2102285374,2102286572,2102291553,2102297313,2102301463,2102304381,2102311282,2102312281,2102313468,2102315379,2102317235,2102322718,2103529616,2105684477,2105873178,2106751208,2106757636,2106766355,2106769656,2106775467,2106775926,2106776925,2106781879,2112542671,2118750891,2119037299,2119037310,2119041270,2119043865,2119381911,2119891962,2120136928,2120142410,2120143393,2120151231,2120152708,2121629990,2121793676,2122433548,2123414271,2123472843,2123472936,2123472990,2123479292,2123481132,2123481326,2123481391,2123481939,2123481960,2123482928,2123482935,2123485221,2123485512,2123486092,2123487587,2123487602,2123488061,2123489049,2123491458,2123491494,2123491502,2123491940,2123491964,2123492067,2123492380,2123492410,2123492613,2123492943,2123493403,2123494323,2123494721,2123494806,2123495205,2123495263,2123495538,2123495599,2123495615,2123495829,2123496707,2123496945,2123497027,2123497539,2123498152,2123498621,2123498738,2123499337,2123499387,2123499393,2123499675,2123499823,2123500085,2123500670,2123501043,2123501651,2123501946,2123502012,2123502618,2123502909,2123502931,2123502972,2123503489,2123503580,2123503633,2123503639,2123503645,2123503683,2123503690,2123503925,2123506021,2123508761,2123508887,2123508888,2123509104,2123509367,2123510210,2126830924,2126831627,2126831911,2126834731,2126838118,2126839865,2126841008,2126851442,2126854146,2127933481,2127939688,2127940675,2127945958,2127950989,2127966582,2130163562,2130164545,2130170027,2130187535,2130190580,2131286378,2132327224,2132331087,2132359596,2133546426,2134655216,2135730753,2135744303,2135751022,2135766376,2135766538,2136033383,2136198665,2140379406,2140382005,2140404240,2140405499,2140406225,2140969091,2141369520,2141378580,2141384318,2142607534,2142608862,2142616598,2142619146,2143588731,2143590729,2143592861,2143597618,2143609175,2143615126,2143616636,2144844042,2144846897,2144858266,2144868884,2144870143,2144870869,2150993049,2157945278,2158338411,2160318468,2160324206,2160325189,2160333019,2160343200,2161056790,2161569257,2161578129,2161578140,2161592231,2161595735,2163561912,2165898261,2166038855,2166996811,2167003274,2167004256,2167015877,2167018798,2167213797,2167993101,2169327252,2170481633,2170487115,2170488842,2170504623,2170507412,2174946277,2174951759,2174953486,2174953890,2174969515,2174972048,2176528068,2179101309,2180545870,2187180906,2187858563,2191744103,2191744212,2191821366,2191883015,2192566334,2193960351,2195897610,2195898849,2195906687,2195916612,2195922100,2196631346,2202024183,2205406696,2211506222,2216825796,2219145843,2221394610,2225058301,2225061335,2225064134,2225071439,2225073075,2225080536,2225426653,2225696488,2226037368,2226044042,2226051203,2226052893,2226055388,2226060342,2226419862,2229389306,2229788675,2230793522,2230840997,2231615745,2231617728,2231623210,2231628742,2231632031,2231633170,2231633764,2231638049,2231729235,2231751291,2231760201,2231761216,2231769054,2231770037,2231775519,2233884981,2235100587,2235101313,2235108032,2235109598,2235116887,2235119589,2236869449,2238302643,2241796550,2241797549,2241802503,2241806680,2241812579,2242828527,2244900591,2246244298,2246245281,2246250763,2246260079,2246271316,2246446647,2247223374,2247249937,2247251096,2248592412,2250708942,2250715407,2250719552,2250724971,2250725805,2250733692,2250735952,2258878642,2263047660,2264886749,2266447633,2267607e3,2282544968,2285662351,2290599544,2292158595,2293175691,2293351636,2296071446,2299255515,2301040846,2306079466,2307034140,2307580553,2313241363,2313504811,2318220358,2318563401,2320224028,2325476095,2335714240,2337176745,2339504386,2344847762,2345345412,2345556981,2346482211,2346482871,2351498341,2352240646,2352738840,2358991500,2361087993,2361277274,2364634824,2369603272,2370443161,2371011349,2373457221,2375393789,2376425283,2379512524,2379580075,2389041013,2390286898,2390518325,2390736011,2391410598,2392516839,2392521063,2393811335,2400874900,2400879124,2402335630,2403175918,2404974948,2405102721,2405117283,2405120727,2414810349,2415093005,2415923742,2415925541,2415935547,2415976346,2418152088,2422623072,2422625395,2422631927,2422634373,2422636295,2422636392,2425962056,2425963043,2425969250,2425969487,2425971892,2425985030,2428197348,2428202830,2428203813,2428211643,2428212914,2428213376,2428240545,2430223084,2433759338,2433759634,2433760321,2433765803,2433783311,2433785126,2433786356,2435993901,2436000108,2436001095,2436011657,2436026994,2439339076,2439340079,2439340291,2439346798,2439350689,2439362314,2439364913,2439366072,2439371037,2439876345,2440431898,2440444045,2440449369,2444112661,2447928023,2448686625,2452264162,2454797153,2458316286,2459819944,2460346836,2462285242,2462802458,2463186757,2466741694,2466758807,2467213089,2467545358,2467601561,2467655846,2467686484,2467740953,2473985870,2474042431,2474150919,2474285829,2474577412,2474661520,2475343068,2475470210,2475772433,2475892298,2476213365,2476552306,2478583646,2479517659,2487711817,2489453909,2489531547,2492815759,2498555779,2501597440,2507278661,2510852110,2512156190,2514524650,2519935040,2540805343,2543008264,2547140668,2548210359,2553182506,2558063998,2558416820,2560726248,2564751176,2566787042,2569608194,2572602371,2577853220,2579477027,2579803386,2583084289,2586020617,2600402029,2604613571,2614694552,2616608417,2619680030,2623678483,2624091113,2626979216,2627765050,2629831661,2630340943,2630577386,2633112569,2635762328,2636801013,2637047575,2637160117,2637393619,2637589507,2639283063,2642320383,2644891950,2655636765,2657728452,2658381845,2660357137,2661288721,2661501246,2663538084,2668276183,2673250796,2673526891,2673678071,2676265918,2683622002,2685054344,2686768508,2689921282,2690533659,2691751732,2691869931,2692015714,2693065457,2693628719,2694158948,2699054734,2699567323,2701589506,2708247797,2710218932,2712973569,2713114330,2714658156,2715859111,2716538256,2717691085,2718235570,2719851426,2722275573,2728431851,2731033959,2734448641,2735037840,2745064373,2747735009,2748168364,2748310006,2753354596,2753586905,2761147374,2762813598,2767767034,2768482489,2769808878,2771202832,2775691349,2777232090,2781109506,2784107887,2784647309,2789347571,2792452218,2793624174,2794767436,2795183554,2795185357,2795205893,2798224110,2803597621,2804113804,2807804736,2809486328,2813025413,2815428841,2815585428,2816618421,2819662823,2820408757,2821986169,2822221150,2822315880,2824682484,2828575765,2828866516,2829935276,2834927579,2834988813,2836892761,2839658405,2844621372,2855163005,2857193006,2859698097,2860702321,2861907234,2866492514,2870435535,2874906565,2880233005,2885526550,2886304164,2887625380,2889073982,2893961579,2894962731,2896115089,2896360091,2896815948,2898520762,2898642745,2907467650,2908250170,2908376536,2911135641,2915014315,2918403731,2919235927,2920587887,2921981389,2922468503,2922493886,2923084706,2929584080,2931398379,2931402541,2934752311,2934893225,2937779198,2939718255,2941551192,2943207335,2944624083,2944643800,2947465711,2947810750,2947839623,2948393504,2948690168,2948867989,2949433359,2951266128,2953613654,2954570766,2955048302,2956489777,2960184498,2960188722,2960612931,2962892549,2963032843,2966548328,2968983188,2976545290,2976620947,2978924197,2982913903,2986096991,2987284613,2988637881,2993692642,2996709992,2999106536,2999693174,3000568496,3002891536,3005531064,3005732955,3006549345,3007175865,3007286028,3008753857,3010444860,3010880247,3017258218,3019938621,3020499579,3022866914,3023311759,3024482653,3024795687,3024807531,3027071777,3029820267,3032088673,3032839979,3033043261,3033965900,3036878933,3037343835,3038234864,3044024978,3051293097,3052701732,3054970205,3055037923,3056484673,3060407188,3061523114,3071254387,3071254500,3071254881,3073058130,3074871971,3074935051,3075008146,3075048985,3075285442,3075422693,3075548305,3075766008,3075860343,3075962648,3076097045,3077391764,3079190285,3085252246,3091066645,3091553195,3096769792,3103424085,3107541791,3107727924,3107749241,3107778469,3107783354,3107787446,3107790299,3107948057,3107956419,3107974264,3107984588,3107991466,3108296169,3111583245,3113459538,3115513630,3116256345,3116975703,3117043431,3123411243,3123445549,3123737595,3127243644,3131616468,3134139083,3134716611,3141196244,3141709512,3148676509,3154082174,3155375542,3160028447,3163162577,3163167462,3163515572,3163650864,3172095015,3178395499,3179968189,3183658699,3187099641,3187299343,3189362935,3189614929,3189845278,3191231848,3191324353,3196795314,3196799538,3197664642,3200115829,3202732235,3206363778,3207294280,3218691622,3224832477,3226582088,3231960701,3231960825,3238444781,3240506687,3241127686,3241536496,3245505639,3246685420,3255250502,3255493270,3258010725,3259268259,3259708744,3269885479,3272088211,3285490421,3287497511,3294281816,3300709686,3302430666,3307080284,3310372188,3310580422,3313110325,3313272952,3317570505,3321771963,3323504524,3331033092,3331794938,3336602563,3340803503,3344036147,3344936763,3351242611,3354164541,3356161036,3356994116,3357443896,3358280978,3360549707,3360712009,3361435146,3362509089,3362630778,3366920760,3368501591,3372160500,3373297021,3374596217,3375285141,3376798040,3377755895,3379029866,3380241983,3380595728,3381834713,3382169680,3385946526,3386125251,3387539161,3388057612,3393544563,3399698423,3404840083,3405857857,3407191084,3408814815,3408819560,3409018494,3409457570,3410577155,3411051814,3411102162,3412047440,3412913800,3413983999,3416442515,3416515385,3416581522,3416635233,3418887913,3424150275,3425734594,3426036948,3426656604,3429124e3,3430316367,3430320824,3430870942,3431771155,3432731814,3435576236,3435582845,3435750771,3435755340,3435827335,3435838083,3435867222,3435992037,3436024307,3436059437,3436063816,3436069982,3436074280,3436077508,3436091273,3436159613,3436165190,3436170719,3436195088,3436196199,3436197592,3436249372,3436269078,3436269081,3436293672,3436294647,3436301787,3436342898,3436364333,3436370464,3436392181,3436429036,3436429043,3436459789,3436497793,3436643348,3437361412,3440930072,3441289467,3445003174,3448289841,3448536520,3448614961,3452859864,3455445539,3455973701,3456106851,3456282588,3457601666,3463597433,3465489744,3467469261,3471221309,3473077716,3481649290,3487446962,3488022631,3488033206,3488034362,3488035079,3488035561,3488035719,3488035993,3488036079,3488037593,3488039692,3488040337,3488045626,3488047642,3488051093,3488051126,3488053833,3488816292,3489196379,3495434909,3495798979,3503723552,3503962589,3503975251,3504086267,3504111353,3504116046,3504274912,3505764984,3506277065,3508805241,3509081590,3513566261,3514339133,3515728076,3515960057,3516630755,3523519258,3523935664,3526432473,3530287752,3530461503,3530748624,3530798581,3531066474,3531601080,3532265658,3532567787,3533680386,3536219166,3538145547,3540002868,3540019679,3541120058,3543598258,3544077455,3551826674,3554146688,3557238629,3557288966,3558510813,3560409651,3560721423,3560755308,3560772904,3560776799,3560843986,3563273081,3564677062,3564681286,3567399383,3567824494,3572225704,3572896829,3582031081,3584271853,3584286131,3585048866,3585049834,3585528102,3593775985,3602300234,3602787435,3607509617,3608111536,3611661676,3611790203,3614121054,3615995480,3621964687,3621965124,3621966081,3621966083,3621968414,3621969916,3621970585,3621975893,3622095083,3622538650,3627671724,3631197772,3635135986,3636965307,3639447013,3642331354,3659188474,3659876530,3665337607,3667545339,3668394990,3668555001,3668632957,3671699945,3674122558,3676733804,3686247745,3690182854,3691035506,3691048605,3691317036,3693068020,3694814128,3697923226,3699114476,3702342894,3706900355,3707026630,3708334595,3708762397,3709045244,3712703179,3712728440,3712733478,3716618496,3716733543,3717443225,3718845099,3720827503,3723950536,3728968422,3729352785,3729562677,3730027878,3734185373,3735541918,3737224996,3738382782,3738387349,3738389800,3738389990,3738390006,3738390241,3738390427,3738394220,3738394620,3738394722,3738394744,3738394859,3738396519,3738397033,3738399064,3738400460,3738887202,3738887334,3739466542,3742755730,3743358776,3744330913,3745299015,3748385635,3749221030,3756564018,3766265917,3766587032,3767014136,3767872686,3768672199,3771941409,3772113601,3772128853,3772772804,3774466709,3776028623,3776032376,3776447581,3776673980,3777321837,3777702607,3777706691,3777840696,3778052019,3778877784,3781867794,3788596678,3788641118,3789096147,3790949066,3792555306,3792675197,3794434962,3795445637,3797340812,3799396589,3802359444,3802425981,3802900168,3803509878,3803533553,3803824710,3805465891,3813366359,3817195077,3825134626,3831783888,3837846657,3837850203,3842564401,3842605521,3845461162,3845489549,3848928610,3854658802,3856336918,3857323999,3859684851,3862352064,3863136572,3867966833,3871085378,3871829833,3872291932,3872427595,3873740388,3874034025,3875048726,3875150667,3875975886,3876231871,3877484520,3878080222,3881750832,3882302039,3886373040,3888702999,3890651277,3890862632,3896043913,3896689307,3899279503,3900747045,3906847659,3911916015,3927826024,3932062404,3932228732,3935292304,3943337509,3944324480,3944448839,3947301018,3949488650,3950159753,3952494101,3953197696,3960241116,3960376152,3961917741,3963099658,3963421060,3963723254,3967007952,3967259205,3967845242,3969124422,3970612783,3970678261,3973713485,3975040093,3975243357,3975693785,3987058095,3990704705,3992681822,3995478227,3995612289,3998971354,3998991175,3999298006,4000670401,4000993351,4001099777,4001277861,4001735503,4002465742,4003357293,4005356768,4007925342,4010478264,4011050686,4011066530,4011075332,4011273939,4011552428,4011788459,4012217148,4012217259,4012952625,4024186918,4027830515,4028975169,4029110469,4029583348,4030423947,4031498693,4031499367,4031499504,4031509172,4031928713,4032208645,4032479130,4033316487,4034881946,4036743247,4038287798,4038545865,4040900190,4042024153,4055745484,4059205746,4059950647,4060130555,4061045790,4064482362,4064482494,4064686007,4068398139,4074270800,4074270919,4074308286,4075674315,4075712516,4075885548,4078878227,4080178633,4081049105,4089654486,4090206590,4090679933,4091412422,4095259202,4095274203,4097043581,4097047544,4097047888,4097050487,4097053538,4097079538,4097094723,4097094855,4097218811,4097289420,4097298261,4097355529,4097358800,4097358806,4097359478,4097365147,4097365569,4097368351,4097368475,4097373732,4097381131,4097390898,4097493023,4097494448,4097500420,4097504860,4097508952,4097518447,4097523657,4097528230,4097528249,4097565588,4097595928,4097769515,4097769660,4097770040,4097900631,4097993352,4097993363,4098078311,4098093255,4098096816,4098101881,4098102013,4098120408,4099257624,4099391059,4100119818,4100353643,4101141701,4101990706,4102099355,4102141580,4102295291,4103385373,4104416776,4104979523,4105354399,4108421678,4108481771,4113654278,4120143040,4120573143,4120685305,4120832270,4121323786,4122797449,4123137490,4123141719,4123166778,4123237466,4124517918,4124852870,4126190390,4126265264,4126330058,4126584791,4128561486,4130538182,4130665595,4135804702,4138805004,4138959002,4142649353,4143010615,4143011353,4149276818,4149741566,4155964946,4160851306,4165043845,4165602674,4166101816,4168506065,4168666626,4168671212,4169534192,4169538416,4174620042,4177885870,4178182706,4179726175,4180321577,4180398911,4180437564,4180584501,4180592595,4180655876,4182610142,4190427894,4190436241,4190438903,4190464587,4190536489,4191350062,4197904504,4204887304,4208748285,4213114634,4213114766,4213115878,4213133169,4213139443,4214412462,4216213600,4226637963,4229539334,4230260404,4236039784,4239211903,4244301284,4244359264,4244636840,4244650461,4244697370,4246504751,4248927363,4249781266,4250093591,4252726263,4253347765,4255547342,4262305702,4269915810,4271230391,4273205904,4280822506,4281987205,4281991429,4287811748,4288642117,4290818353,4290862694,4290938088,4291163255,4291519114,4292375442,4292614575,1138,113029,2431109,6154799,9085905,10454523,11833936,15005411,20989895,29369909,32348563,32392946,34831997,35241656,41719852,42040525,49751269,54657448,54829135,61297674,64616140,64792746,65243007,69912355,75564691,84754216,95227810,97671606,97869711,98556036,112714201,113832573,118457586,119013459,129204800,129504899,132934253,133576354,141325108,142928709,144351849,147399388,148485881,153516070,159755595,162751717,166383271,169909381,170281555,170281599,170281951,172221532,173287589,173930363,174306514,176844018,177079695,177546706,179139641,179569944,180259371,181198501,181240422,183469260,186043176,187501046,190912115,193357074,193420201,194024818,195040318,195040605,195615400,196491587,203969128,204000291,204003102,211702237,216404638,223633303,223869171,225036633,231228447,233832515,236122625,244953360,253603556,268305044,279497384,282260013,286117940,288337735,294222691,294944592,297796540,308437280,309814229,316711416,319659866,321667918,329290740,336073493,341979606,344556873,345150446,361618841,363650316,365386885,379803748,382346929,392534911,393050977,398079720,408076405,409551689,412923104,413523569,417762611,418389794,418643706,430774757,431420666,431463230,439016491,446595824,448347366,459993498,461991320,467355959,468677861,478194174,481007914,483933287,493239087,495294245,495544034,500922416,503870109,505520155,505540840,505547348,507674743,507704542,508155006,508732896,533082472,536606854,536706420,544035780,548068662,554422931,558904957,566123574,574052622,575078226,579214441,582810837,583362052,583453417,594063106,598128236,601948346,602413319,603986209,605582466,609198625,610045978,620396524,626039263,626988485,630452394,635400744,640415961,643558590,645257576,652659119,665354414,666296511,667333922,668403785,674175725,682364285,689215333,693241087,704136516,706383966,708808466,710978465,713788357,727209749,734622016,735035205,737152212,737166334,737644692,737837074,739516787,739985822,741816033,742252614,745092996,747930588,750508933,752522257,754000708,758478444,762067870,762641736,764248075,764320946,764825188,766296725,766355544,766774330,767540529,772363084,777688891,792844833,800087019,810061706,810813298,811092091,817847511,826260124,833658992,834470340,847675799,861294299,862950715,867732810,870151875,874296659,875944810,876149555,884498580,887482102,894264732,896104248,896521560,896979123,902139830,911653942,912249299,933746041,939098524,939114841,948752149,955130439,955354780,955942299,956480228,958121442,972273212,976381303,978919739,981829565,984418838,997412732,1001458257,1001637783,1001651627,1005191377,1008948875,1027786481,1027856392,1032266307,1033049924,1035709107,1038486906,1041294385,1043437244,1049779946,1051535617,1053737172,1056645919,1056720884,1059933327,1063952736,1064732809,1065290596,1079732589,1080478458,1081536009,1086069586,1088535269,1094421058,1095718313,1096687866,1100372480,1101043104,1102004406,1104733017,1110237878,1112959177,1113096701,1114972095,1118952562,1121043812,1125668821,1130216203,1132104794,1132534664,1132579070,1132598106,1136018325,1138287902,1139265327,1139293087,1145147923,1146523166,1149204820,1151262913,1152056864,1153549635,1154536715,1154542665,1155367440,1155994599,1160246725,1161218045,1162479261,1164711369,1164964007,1166033123,1166944153,1167024992,1169046340,1174582808,1174756828,1183829925,1191923730,1192723278,1199133859,1199554249,1199600208,1204911535,1210779948,1220586092,1221782335,1221920801,1236932222,1243532105,1259689738,1261324364,1266641105,1268763191,1271531819,1276658942,1282928227,1283757717,1296235125,1301946320,1305140481,1310799836,1310807544,1310899277,1316125796,1324285266,1324310094,1324331646,1324337571,1324579984,1325750278,1326569216,1328786903,1333842476,1344411040,1349684561,1351415139,1351880550,1354921809,1354922083,1356250756,1357629674,1362165018,1363404812,1364008114,1364487272,1365133140,1366987615,1372241226,1372705460,1372794328,1375834117,1377641421,1385859280,1391291390,1391293134,1391299074,1393577155,1394469288,1394469303,1394469473,1394469866,1394470005,1394470066,1396870772,1399867662,1401343574,1406508900,1407053333,1410090536,1426871786,1429104232,1430902259,1433568876,1433581041,1435770227,1436788950,1441473969,1444705872,1444722875,1444727957,1445594238,1448082324,1455246557,1457145411,1458555099,1459794391,1460930084,1465058743,1465976327,1465976425,1465976436,1465976463,1465976550,1465976555,1465976625,1465976632,1465976696,1465976747,1465976870,1465976979,1465976985,1465976986,1465976991,1465977196,1465977261,1465977271,1465977274,1465977323,1474444421,1481566528,1482522967,1494181387,1504535254,1509029106,1515598870,1526085253,1529619411,1532042759,1533712942,1535412311,1540864030,1541073018,1541496652,1542773859,1548676818,1549199388,1549209224,1549210203,1555806428,1561102750,1570561776,1582406800,1582529544,1585380899,1587251606,1601662530,1602151715,1602222565,1602416912,1604313702,1605465730,1605466324,1605478605,1610069144,1610724928,1613430619,1616623247,1616826805,1622337231,1622345684,1624120544,1624575040,1634840328,1635306209,1639041637,1643544413,1643893360,1645239134,1645714411,1646892897,1647763648,1648459154,1652472178,1652482428,1654623339,1659538076,1661285202,1662950537,1676328914,1681382184,1682444281,1683407715,1684605451,1686572406,1686834359,1687225102,1687228988,1693905970,1693924649,1694678234,1696017211,1698247372,1700874190,1708553688,1709403276,1712893263,1713051167,1713095897,1716947524,1720424693,1721557559,1722492001,1723770720,1723859941,1732377833,1740500925,1740503023,1747210100,1747349646,1747349737,1747349747,1747350242,1747350353,1747350383,1747350483,1747350570,1752792553,1757625214,1758838683,1759487629,1759498393,1759499821,1759502442,1759502966,1759512283,1759514515,1759516437,1759524172,1762973847,1762975960,1762992044,1763004314,1772061961,1772164204,1782043531,1789421301,1789632072,1791856284,1792792037,1793905730,1801396125,1804673412,1807671676,1813955111,1814430790,1817436421,1822787251,1826594809,1828043124,1830686062,1839007617,1839995410,1839996532,1839996844,1841030555,1842560365,1844448916,1844480213,1846724376,1861064328,1863000850,1869152073,1873769763,1873773882,1874142716,1875798230,1880233189,1881382733,1885862630,1890372289,1890379225,1891205640,1891938925,1896919160,1896919227,1896919294,1899147627,1900573373,1901379444,1902628941,1928994e3,1936188797,1939298330,1944071536,1946130305,1946324244,1947055740,1949193282,1951127334,1956200886,1960661844,1964294607,1971670426,1975660003,1979063800,1979519790,1986972074,1987328192,1987660949,1991785763,1991793298,1992080509,2001507875,2004488903,2015900220,2018783243,2021213332,2034927376,2035815698,2037403782,2039595722,2040354520,2040943501,2041028464,2044842550,2050838609,2051827668,2052901511,2053206810,2053478875,2053493456,2056180496,2061275137,2066721635,2067699997,2073532671,2075934693,2077460241,2077463931,2082279457,2082350395,2082490504,2083899515,2087556005,2087595516,2092046651,2097381010,2097529923,2098668173,2100199727,2103470828,2105481502,2107063121,2111314048,2113664954,2120150756,2122563214,2122618177,2124668692,2133549370,2134191641,2134715695,2138049165,2138494997,2141358278,2144770101,2151644274,2163712208,2163898589,2170508442,2178944930,2184528600,2187374596,2190645414,2190660247,2190897184,2192558778,2195413098,2195424198,2195905956,2203121973,2208876632,2211529485,2216861598,2224936471,2225064139,2233205867,2235535537,2241998064,2245744882,2246095470,2246270479,2246624423,2247249610,2249578444,2251500542,2257131811,2259407586,2278366865,2281444864,2284221844,2286089069,2290521795,2298483014,2298859942,2303709693,2305684069,2306183534,2310688315,2315634657,2323978889,2334488740,2335980755,2343955873,2343987387,2344051572,2344081298,2353017729,2357782940,2372460029,2372478071,2384339112,2399346319,2399822664,2403261116,2407789481,2409182571,2417084170,2417652035,2419411749,2419417423,2422632357,2423117096,2424431334,2428211424,2436026537,2441679501,2444838503,2451024601,2454448917,2456215407,2459247176,2467234433,2469945372,2473920266,2486666796,2503042985,2512844015,2518777282,2525588137,2528358668,2528706848,2531896313,2536602755,2556085817,2558131228,2564231467,2565836498,2572746788,2597156358,2600311538,2609976564,2619619987,2630676340,2635726130,2636739119,2637611531,2637745410,2637827916,2639832942,2646831691,2658971428,2669967601,2674644077,2675377616,2680331975,2694622232,2708256980,2721005193,2723132333,2723449219,2727613517,2729386864,2732129495,2742067873,2743561936,2745053658,2755346949,2762308724,2762732310,2773342582,2773916239,2777215669,2780969136,2784038323,2787145966,2787151566,2791623281,2792656912,2793843165,2797512177,2798111293,2798512509,2799526810,2799947922,2802973072,2804403738,2805637755,2812187177,2812916202,2820491263,2829422945,2831048350,2832237259,2834623189,2840525902,2842490055,2846385194,2846982791,2850213786,2852028874,2852573181,2857974075,2860823467,2864766480,2865932173,2873369054,2878248977,2880150758,2900972274,2909422460,2914081458,2914744694,2918571873,2931708704,2933052029,2943539162,2944562948,2958695479,2959025464,2963193938,2963907974,2964323647,2964344548,2969439522,2969802598,2972958854,2982085395,2985605450,2999691650,3008190733,3008855969,3023766416,3029366772,3036119914,3039024727,3043904968,3051886594,3053067553,3057812794,3066185554,3068762275,3087114209,3087935921,3088190003,3089015336,3091255985,3095401268,3096813247,3098725318,3105671535,3118932015,3119183299,3121944857,3126706525,3130262956,3146277579,3154412692,3159557566,3164499075,3164706839,3173559921,3174529089,3176196996,3176871024,3180784320,3181226348,3184223807,3186278865,3187205025,3189849017,3192015124,3201052817,3206103617,3229338204,3232995840,3236363663,3236684869,3241501460,3243217472,3254464708,3257959952,3290502878,3293286977,3293297241,3296072286,3296072534,3296419295,3299767442,3301223392,3301309499,3301391192,3304599725,3313552392,3321637504,3331885553,3332277580,3337182013,3337858974,3341471161,3347209717,3350345047,3350816321,3355691995,3356927752,3366205910,3366755503,3367073048,3367944003,3375346812,3376868662,3381262072,3382258705,3392485763,3403782237,3406109171,3407122639,3411575670,3420722608,3426523263,3431675506,3431798787,3443103158,3445734210,3450482982,3453219838,3455171543,3458629656,3459326184,3460757148,3460835389,3471910127,3472815309,3473608107,3474158466,3480605972,3485240025,3491815953,3500328283,3506796962,3518469610,3524188747,3529349528,3542452078,3546487756,3550989552,3551573749,3553442167,3554781799,3558264087,3560824248,3563344816,3566074326,3568626956,3576593305,3584104748,3586564634,3590119076,3594126223,3610130320,3618863110,3629119210,3629792790,3635013147,3636074310,3638424639,3642130958,3642225062,3647798063,3656108419,3657615451,3659534155,3659667263,3660545348,3660867367,3671487562,3678946749,3686646984,3691543485,3691543777,3695175653,3698130051,3700803863,3704722354,3718851041,3722297297,3724304421,3726779638,3727535579,3735382080,3740438523,3740440657,3745910284,3748112414,3748157778,3751765724,3751843037,3758548269,3760229117,3765200838,3767579376,3767636566,3774416951,3774620406,3775107448,3777554302,3789001045,3789217359,3797275201,3797334865,3797547975,3797752814,3798120765,3799727891,3800284920,3803890887,3811590943,3813081457,3816238011,3818244185,3820433217,3824973847,3831131041,3839962587,3842157165,3853184002,3854490492,3856121458,3860607422,3861431943,3871255217,3902486573,3909678524,3911290870,3919568627,3924938673,3932881151,3932899585,3934007962,3942901813,3950379841,3960912026,3973890763,3976040035,3979964906,3979965156,3991078309,3992259208,4013412307,4025854722,4027536004,4033312623,4033315572,4036094574,4043405137,4048222256,4051811237,4052267313,4054558966,4066383490,4070580503,4073707968,4085096371,4100786237,4115427659,4117626035,4128299636,4132795027,4133480683,4136878052,4138850346,4138930624,4148483014,4149626272,4149641566,4149676591,4149809179,4152090640,4152153727,4161031359,4168702437,4168921085,4175490343,4179607399,4182917435,4196816243,4196953008,4201710836,4204344500,4216249688,4218603456,4220181346,4230252988,4230808631,4235216564,4245730359,4250048329,4261049438,4266150865,4270257086,4285995571,4287809158,4287924367,4293141634,4293320049,4293822270,7,171252454,314658260,1911007288,2310391087,2705648135,3085052283,4199583372,0,0,13,366428436,366991379,649399193,900018457,1068454171,1437166305,1491010671,1491010869,2412701058,2447973967,3229893628,3628727675,4020469118,1979,3609572,4707302,4731941,7066741,12732264,12733869,12874473,12898727,15239865,15443925,15464989,17770158,18806137,22641470,34805542,37254453,38352510,47103897,47124528,47160482,47264668,47270558,47521880,47670735,47682584,48206184,54052064,55399270,55790429,57861540,64629239,65951659,73540622,74816563,79005572,79010572,79432449,79977826,80960607,90941114,91781471,93732497,101061895,101792620,105281118,114635485,121111459,126395821,127613999,134819976,135124399,135156325,135512978,139443164,140195744,146403274,147165318,147311351,147680945,154712981,156193153,157683252,162021680,165184869,165682351,167795310,169177047,169285407,170248114,175536255,176298648,181584625,186190871,188366635,190461039,190805290,190817793,191644192,193330267,200367649,204872798,208246903,213994908,222038678,222914983,226753977,227658815,230657663,231976681,232418677,234224516,235125560,235385397,235630461,235880887,236100347,237106084,237695302,243768879,244905302,245221564,245221621,245248688,246957980,247379872,247404538,247547714,249186148,249832804,250298968,252007821,252166643,254498243,256250975,256734086,257675257,258276240,260078806,269653037,270614174,270803459,279865482,290747254,296104342,296106331,296214241,297365588,297388265,297388314,297395043,297872731,297875338,305678573,310113063,317059542,318726251,320983337,321380700,329390871,340233049,343985311,368331859,368339983,374202536,374729119,377042975,377218502,377330983,379160277,387137528,390536878,397426025,410462833,410898354,411028646,415359567,418289923,418809394,420699727,422768411,423087664,434374676,434499530,439966930,443910462,444881445,446735168,470802373,473022090,475752042,480190019,481797890,482141996,493334140,493996949,494002753,494111972,496668263,505642028,513006918,520166698,522732652,524323805,524791178,525296785,532366388,537994409,538156652,539123093,539125333,540384923,545724556,546598380,552815312,564847266,572585472,572589595,572660745,572917514,572938118,581295982,583116728,584477771,585356786,585510953,586974440,588341431,590260151,593171510,600861600,602587622,608185550,608501e3,611172806,617227910,620862123,625412750,626878575,627192073,628675473,636454657,644892435,645708934,646772532,650376939,653264074,653865504,654835286,655274400,657684596,657843927,665654464,665772443,667917050,667982163,668803663,678409190,685972429,687873546,699223116,722349553,723381066,723506578,725289629,728910939,728916446,729301272,730375222,731520837,731524865,731524893,733458327,734942836,742063133,744425628,745118723,750501894,753379261,753585532,755936840,755999442,757164322,757742871,758908039,758927262,766978617,767310694,767319597,768502512,775086059,775783015,776818569,777129529,782249017,782470551,782586541,783225086,783819749,787058931,793173186,793643539,793791572,794069868,797737785,801549019,805476735,809560577,810471911,810660018,813069363,813965189,814609400,819689086,822265343,827811881,828807618,840895172,842670706,845178939,849626506,857304293,867054787,875581912,878480613,878489001,888652626,892902192,904040802,904780949,904781069,904781208,904781211,904781269,904781270,904781407,904781445,904781469,904781569,904781597,904781741,904781750,904781798,907680375,909542970,913350787,915552624,943105427,944616168,945567936,946059164,946112067,950116031,950459761,950797941,950991772,952407653,954708706,954904735,956279390,959296218,959317553,960000436,960088334,964474682,965248297,965252181,968600148,969495568,969714387,969714391,969714751,969714897,975014436,976847064,977515724,978655375,985441466,985451059,988676432,989199112,995754553,995754557,998100773,998582596,1001682227,1002897238,1005026102,1007267340,1018029509,1019292109,1021170671,1021615491,1027478448,1027904949,1028176876,1028524011,1033544761,1037073656,1039464298,1041396131,1043364491,1051084878,1053049944,1055328538,1055480209,1058862972,1066609925,1068948457,1071874351,1072134738,1082834847,1084511341,1087693738,1089012798,1089634494,1093384439,1093825560,1094815391,1098082937,1102471353,1113642022,1113846049,1121249692,1127953536,1132317159,1132485954,1132585385,1132689597,1132723356,1132858392,1133501028,1133636064,1134046361,1134351151,1134824033,1135467502,1135737574,1135775689,1136782059,1136883336,1137085890,1137173922,1138138823,1138714596,1139072942,1139153897,1139221159,1139981182,1140405028,1140510661,1141246959,1141280718,1141381995,1141584549,1141719585,1141874653,1142159541,1142193300,1142260818,1142366610,1144440814,1144457023,1144667374,1144802410,1144975561,1145579956,1145625081,1147135141,1147314976,1148184718,1148522564,1149131059,1150514349,1150729533,1151393172,1151494449,1153073825,1154465661,1155177503,1156094385,1156940664,1158572559,1160038984,1160487168,1161167906,1161578459,1161965872,1162013821,1163255421,1163472226,1163645377,1163777146,1163979700,1164916562,1165010690,1165068597,1165937726,1165940993,1166410608,1167096330,1167193469,1167260731,1167598577,1169823858,1170720439,1171147706,1171150005,1180230175,1180849387,1188216287,1188228500,1188701654,1190334387,1190352716,1190641324,1202600586,1206718941,1209302133,1214814043,1216095517,1220486075,1223892937,1224444732,1225577971,1229986049,1243738793,1247471306,1252266596,1252792940,1253960230,1254127330,1255848785,1255859538,1257563663,1257583343,1258195056,1258213434,1262993336,1263908042,1265512654,1267283463,1278475387,1281229947,1281889125,1284797630,1288585218,1290240457,1290513099,1293031053,1295516865,1297095740,1297597617,1298827289,1298832842,1299380998,1300818337,1304310342,1304455504,1310534169,1316956180,1336232039,1337809090,1340075459,1343684265,1347737800,1348149256,1354685816,1355025196,1357282216,1357301365,1363667295,1364395531,1364732891,1373278040,1373514813,1373685873,1375205051,1375419602,1376146087,1380234474,1380513046,1381723825,1382632688,1382645602,1382709874,1386126578,1388184353,1389190819,1389902309,1389912616,1390104485,1390958270,1391687090,1391699393,1393151104,1395748391,1395924208,1397018707,1397022500,1397827261,1398423514,1400330808,1401462671,1410284129,1411428439,1412479074,1412717811,1412831927,1420822802,1423109435,1423890423,1424552007,1425040900,1428131728,1431817030,1431897749,1433480127,1433483767,1434457973,1451286836,1451565010,1452211848,1452224159,1455851258,1458060161,1458176029,1458620255,1463365872,1466302404,1472319400,1475303091,1484355552,1486115226,1486401243,1489893113,1490054949,1492145100,1494001659,1494630697,1494690535,1494695213,1494714660,1494714786,1494714930,1494889015,1494990523,1494992680,1494997876,1495466906,1500014997,1502962162,1504548128,1505655813,1508029184,1508045454,1509815249,1518807662,1524160328,1529373691,1536802563,1538089784,1539586715,1544812783,1547140470,1552392687,1552405115,1552405169,1553111822,1553462237,1554120313,1554158027,1555241094,1555436471,1555595989,1556675361,1557492455,1557696008,1558835738,1558865070,1559582938,1559928005,1561078602,1565016185,1565113430,1565407826,1568314306,1568314316,1568317266,1568696751,1568699472,1568940804,1569248185,1570879860,1573625992,1573800670,1576869802,1581247153,1581398717,1581675892,1581718434,1583510121,1583803496,1588886160,1595292826,1602148307,1605015374,1609481646,1612153257,1618209596,1618218864,1618873873,1619384363,1624861042,1630153983,1638526919,1639454708,1640524262,1641042489,1641812886,1647303548,1648240296,1650468220,1650500409,1651513056,1658862087,1658979753,1661301475,1667470132,1667473335,1667728240,1667806132,1677105623,1680875001,1680882207,1681660610,1685495090,1685495093,1685495270,1685495398,1688394353,1688567575,1688665455,1688778883,1690751126,1691125863,1693300755,1694472929,1703388735,1709297356,1709313729,1712511978,1715661089,1717927392,1718114956,1721373840,1722360575,1724823399,1726408681,1726606395,1726645504,1732927910,1736066754,1740486766,1742215384,1745377406,1758824175,1758930481,1758975612,1759122505,1759143730,1759227293,1759313682,1759313685,1759412017,1759432510,1759498975,1759505228,1759507354,1759515800,1759642661,1759864276,1759893786,1760159824,1763810143,1766750547,1769211545,1769618102,1772590156,1775156822,1780760274,1783870720,1784406502,1786353732,1793007575,1811810046,1815656403,1816569647,1816866992,1822574126,1822868024,1822868031,1823268852,1823275309,1823288115,1823390804,1823768300,1833535991,1842420860,1844031908,1844296341,1844524436,1844853963,1845272265,1845433501,1850725233,1851761689,1851765614,1852766386,1853687691,1854177922,1861204803,1863593250,1872674263,1872992134,1873841021,1877281407,1877305076,1881597618,1884316146,1886743174,1887188539,1892879921,1905997196,1912353097,1916296381,1919640688,1919643810,1924325687,1935798204,1935801369,1935813711,1935815187,1935818499,1941710024,1944260378,1945210145,1951157591,1955955663,1957378415,1957388660,1957444069,1958153525,1958153878,1962799016,1964448624,1967235715,1967514117,1968334692,1970709900,1974828022,1977445003,1980811473,1981302481,1984866213,1986874949,1987285901,1987558613,1988913069,1998855379,2023930736,2026542768,2029442974,2029502301,2031253491,2041190670,2044176332,2044519717,2044521677,2044845895,2044862336,2050748464,2055299797,2059226128,2060744697,2060874008,2061631935,2062602594,2062613436,2062713055,2062721365,2062782118,2064194523,2064289093,2064667157,2064835977,2065546931,2065580690,2065783508,2066019598,2067177842,2067640249,2068518016,2068619301,2069026672,2069773511,2070805664,2073324624,2075547993,2076314666,2076760108,2076927096,2078661044,2080078919,2080126248,2080270176,2080768362,2080948565,2081049148,2081811414,2082081519,2083365940,2084275182,2089789238,2090043919,2090165361,2090287045,2092471497,2092773191,2093281591,2093290649,2093484170,2095261287,2096596043,2096775591,2100685312,2102866955,2108433077,2109903284,2110249550,2112026046,2112754908,2114424326,2115251185,2116737470,2118764990,2119510407,2120903194,2121183749,2121530494,2121539444,2122085862,2123968241,2123974461,2124038667,2126585211,2127702833,2127711196,2129393172,2140172366,2141043403,2144163444,2144352359,2146552134,2146559400,2146579609,2146771534,2146787712,2147192784,2149214372,2150227387,2151276842,2152677197,2158829447,2159124528,2159550475,2161337980,2161361535,2163722410,2163917836,2165826914,2169168320,2170868227,2173022808,2174751247,2179048400,2184998274,2196541409,2200622033,2203412941,2206322353,2208794483,2219653172,2219657520,2225010953,2226828879,2238722895,2238722920,2238723506,2245936247,2248375230,2249276550,2249625301,2254065144,2254179087,2254183431,2254275149,2254449430,2254449877,2255178054,2264880989,2270863210,2290294367,2304704334,2304866355,2305219189,2310350875,2310486036,2312897274,2314773060,2315564905,2319231065,2319463533,2325240383,2327016339,2330482855,2337919027,2340169455,2359883328,2361871491,2366081778,2369823335,2369831600,2371523459,2372759050,2374977123,2376431395,2378889732,2382890223,2383755454,2386589953,2387052696,2389856295,2391789782,2398718314,2399324290,2400888860,2401211408,2404756392,2406557074,2407241140,2409418646,2411497922,2411691127,2413846222,2413908037,2414944572,2415208709,2417936111,2419639306,2423159152,2423360684,2425978408,2428076111,2437572023,2440527060,2444775143,2449407487,2457428534,2469735934,2475146676,2475744613,2476033552,2476112212,2476147614,2477393954,2478803388,2479415778,2482075359,2485317413,2485370363,2488499588,2488699734,2491415998,2492607180,2493496209,2497515972,2499072481,2499532790,2504383993,2504870149,2505121421,2505147736,2513647314,2513693640,2513701512,2513706827,2521253655,2521398855,2526527953,2526528078,2527291586,2527292245,2527666001,2528098475,2536669081,2536933437,2537106090,2538335365,2541170503,2541170604,2541177518,2545965593,2546249066,2546819122,2548278991,2548782015,2549421379,2557808039,2557863700,2558865115,2568950385,2569073380,2569341502,2569405925,2570837952,2575053435,2575619554,2575627585,2579451785,2581687876,2582936524,2586547509,2590439971,2600983050,2602643559,2605946857,2608238576,2608504686,2611889973,2612202111,2619739935,2621175072,2627204334,2627570013,2627677159,2631480810,2631901285,2635187702,2637430468,2638897207,2639751704,2642390316,2644459471,2644532855,2644906311,2645171587,2647433605,2647443463,2649904288,2651288351,2652440186,2655263134,2660229222,2660362019,2662714632,2671981072,2673085999,2676359415,2678218950,2680015310,2683201101,2683726243,2687071289,2687546085,2689958531,2690565794,2691049537,2696922944,2702278755,2705586928,2707450736,2708750293,2710694053,2710777678,2717039465,2719746264,2719953243,2722365346,2724396360,2730361077,2732178535,2732249147,2732255792,2732453216,2732465831,2733162785,2733179003,2740913336,2743326046,2745816408,2746770100,2768031559,2768594053,2769743066,2770453396,2777301260,2777413063,2779047561,2779131760,2781151044,2788878449,2791114477,2792266216,2795123222,2795130739,2795148393,2803000277,2803220098,2820015673,2824852881,2825063248,2825297984,2826183623,2826618777,2828159974,2830840737,2840364717,2844137461,2844192015,2844331414,2844474265,2845536368,2847702680,2847708560,2849875839,2854691117,2857021867,2857111846,2857167445,2857291628,2857718467,2857718874,2859609075,2860369035,2860944275,2861234828,2861431296,2861773187,2862323803,2862729831,2862789186,2862818280,2865000297,2865536587,2872917161,2879220442,2885591219,2886256228,2886266660,2886337850,2886340600,2886347487,2886358758,2886559394,2888553420,2893735969,2893987517,2894277589,2895201770,2895970159,2903889952,2904798808,2907566289,2911967032,2913775681,2917443420,2921648360,2921994283,2925162127,2925540459,2931480722,2936112276,2938485423,2939997155,2941295122,2942568797,2944555176,2950549599,2952067971,2952072562,2955690120,2961421753,2962144430,2962519996,2962841785,2964270344,2964373735,2965548040,2966852375,2970298080,2974400461,2975755381,2981996158,2987922608,2991195167,2991625994,2993771546,2995901561,3000958971,3001281849,3001388716,3004478994,3004479027,3004479111,3004479159,3004479171,3004479184,3004479190,3004479239,3004479240,3004479258,3004479289,3004479305,3004479323,3004479334,3004479373,3004479389,3004479390,3004479401,3004479425,3004479785,3004479787,3004479818,3004479829,3004479837,3004479976,3004479994,3004480114,3005847375,3006723884,3006726944,3006727797,3006731179,3006737252,3006744684,3006811183,3012299493,3014399025,3019017018,3019072181,3019996757,3020108825,3020133371,3020188532,3023885513,3024558034,3024589567,3024626538,3024644720,3033483503,3034109278,3035739007,3035887950,3044634578,3044797796,3044821749,3045244983,3045788419,3045876876,3046124074,3046256428,3050244615,3050333064,3050334784,3056297406,3062281966,3063798750,3063849681,3073445035,3073797863,3073848296,3086119708,3087786680,3089398889,3089451715,3089454054,3089461994,3089735415,3094552970,3097888413,3098875466,3099276787,3104375123,3104503715,3105798493,3107144912,3107146953,3110631110,3110681545,3111601102,3111601746,3111606786,3114815727,3119543502,3119594433,3120807553,3120857998,3122897068,3125786613,3128821880,3133975234,3135838657,3136281421,3145164732,3147940006,3154068140,3154152867,3157412719,3157501664,3159380027,3160589879,3161016478,3161897203,3164181610,3174437714,3180245112,3180300610,3182786585,3183126568,3183293814,3183325319,3184294753,3188347051,3191217062,3196370198,3197567695,3198643172,3198783739,3198824989,3198841920,3198930383,3199640352,3200095506,3203439089,3203573947,3203579445,3208441350,3209729826,3210506925,3210514725,3210570457,3214383466,3214394316,3214653823,3215790970,3217760577,3218901480,3218928718,3218996674,3218997101,3219339071,3219427268,3220535722,3220543483,3221757640,3223098753,3224727829,3232284385,3232339054,3234508143,3234559072,3235473148,3237969392,3243142044,3247991594,3253953941,3269910681,3270985722,3273573836,3273628995,3275986591,3277061645,3277112578,3277868236,3277980164,3278129999,3278154322,3280832255,3280992609,3283017533,3286262047,3290414111,3301409832,3301494567,3302526185,3302610918,3305712858,3305866028,3305950755,3309540327,3309590022,3309595898,3309596203,3309660560,3309660597,3309937069,3312550946,3312639405,3317007142,3317095593,3324397363,3331028046,3331525682,3331580349,3331802213,3332642035,3332696700,3333929978,3334870005,3334920442,3335058344,3335315569,3343940221,3345496201,3350023967,3353092349,3358586999,3365687143,3366763202,3368167300,3371155980,3372842751,3373802982,3374003367,3374007861,3374013921,3374033257,3374071862,3374072315,3374075119,3374222601,3374506623,3377952754,3382868701,3384928690,3388197033,3390931348,3391051206,3391063809,3391068622,3391334282,3391402631,3391423133,3391432603,3392425741,3394879910,3395277647,3399311251,3402270417,3404440519,3414226886,3414277321,3415566709,3417045783,3417060092,3418683074,3418733517,3424453774,3431921225,3437307073,3437430868,3437705452,3444401619,3445590826,3447374472,3456431399,3458638240,3461359920,3463272868,3468986640,3469121667,3471246134,3474393156,3474446194,3476056250,3478543821,3486841411,3486906847,3489097968,3491201265,3495569706,3496705474,3497897502,3497994843,3498252682,3502149957,3504414102,3504826781,3506839508,3506948350,3508950458,3509210745,3509498189,3511959565,3512025010,3512493029,3514111400,3517669498,3518790968,3521920341,3523035738,3523862571,3524226140,3530307622,3530358057,3536335853,3536792162,3538712404,3541452460,3541507619,3542648636,3544416242,3550676375,3551025439,3553383951,3556498831,3561501051,3561585780,3565016796,3565023071,3565174365,3565227623,3565288856,3566089568,3572109810,3575114019,3577841990,3586425916,3589694483,3591020567,3592221649,3594125448,3595182758,3596128381,3602035250,3602533630,3602552275,3604829927,3607233834,3607322789,3607604079,3608554389,3610981370,3617629034,3619761411,3623812162,3629877419,3636237811,3636292476,3639577654,3639632313,3645953597,3647523178,3649784978,3653883892,3660676457,3664234276,3674197367,3675513627,3681233287,3684650455,3688377898,3689406359,3692544695,3693437133,3694959415,3703294733,3704443907,3704956777,3706490306,3709178884,3709268355,3709272958,3717182590,3718660896,3719413702,3721853564,3731122282,3734934472,3736397122,3736397691,3738359136,3744502996,3744505315,3744515994,3744516038,3745225898,3745403285,3749377655,3751498613,3752631559,3753565240,3756319792,3758308501,3758308691,3761682835,3762386667,3762488637,3763193356,3763904751,3764062969,3764739038,3769398133,3770065529,3774076759,3779092995,3780318738,3781089827,3783201212,3785420602,3786786081,3788364543,3791375542,3791430201,3791912060,3792007260,3792147146,3793208754,3794029235,3805317549,3808957225,3809652473,3811984999,3812594538,3819295903,3819351056,3821104144,3821104746,3829518367,3832811824,3833121835,3833171090,3833706374,3838812042,3843969806,3844552031,3850681433,3851222744,3851541567,3851602009,3851679807,3853676291,3855415829,3856249405,3859110665,3859972063,3862928629,3865386916,3865396334,3873108359,3873163016,3876524049,3883472548,3885986978,3888196487,3895773227,3898366596,3900605466,3900796753,3906034907,3907036333,3914330405,3916906002,3922403377,3925982068,3933039724,3936549300,3939824482,3940957272,3941201834,3941535714,3943160335,3943296300,3950173236,3955179593,3959867562,3960938237,3961299015,3961303520,3961836502,3962329360,3963273426,3966271140,3969493837,3970184201,3971378905,3972349404,3972404563,3974206923,3977375686,3977639927,3981851856,3984175284,3984369770,3984383153,3984388901,3984577838,3986753035,3987449768,3988320676,3989122328,3989124781,3989300792,3991957101,3991978776,3992246021,3993156440,3995285601,4002046206,4002059123,4002298131,4007368305,4009075902,4012314248,4014272956,4018800601,4021398623,4022152923,4023242992,4034787018,4034837957,4040007159,4040507273,4040558214,4042630615,4042667369,4044815570,4044899805,4046325025,4051504220,4051593171,4059166898,4059387372,4060969098,4060986772,4062588735,4063625944,4063736412,4064813411,4074640059,4077930265,4080197122,4081731399,4081736449,4081740860,4081761692,4082508192,4082648933,4085037592,4085499470,4085741867,4086206754,4087477773,4087974431,4087975312,4087977986,4087982672,4087983230,4087984585,4087984590,4087988411,4087993231,4087993234,4087993291,4087993428,4089941093,4090379779,4094838531,4095533224,4098180267,4104794847,4104808845,4105491350,4105500480,4109580593,4111598640,4115797781,4116207257,4116258198,4116322118,4116406345,4116912946,4122262153,4126221625,4127308650,4128209898,4128210099,4128224738,4128228031,4128452341,4131804567,4131859224,4137741343,4141029933,4142953920,4145022541,4149201544,4150566897,4151710650,4152474623,4155185738,4156445644,4157556469,4157644922,4159136925,4159401066,4159780211,4159864444,4164601660,4166043368,4168091484,4169450331,4170161097,4170579962,4170925049,4171014006,4171016671,4171029715,4172482250,4175353143,4176008925,4178981053,4184703759,4186748423,4188894668,4189635776,4190045706,4190142208,4195146068,4196943735,4199824850,4203521301,4206809827,4206944958,4207535653,4208164707,4211585807,4215346074,4215356593,4218114605,4218115138,4218132009,4219656584,4219999876,4220379359,4221957810,4222018626,4225873997,4227433758,4228171984,4228217908,4228360888,4228368741,4228368760,4231583294,4231662792,4232149414,4232629512,4234942237,4235762280,4240864861,4241320459,4241740950,4242647335,4243702915,4245105172,4246629902,4248741847,4252833472,4252840599,4254781707,4254799704,4255058051,4260594638,4261873154,4261894730,4262104449,4262374147,4262375371,4262499171,4264253465,4265048576,4267292711,4271528787,4272039260,4272350188,4272417877,4276136562,4288066094,223,76317054,134757519,142022835,149084067,244603010,255553804,263431316,265459661,284810646,289494951,371032970,373243562,387545720,391377589,415171548,415171976,418990556,418990602,425807660,435420269,461226423,483976516,501379566,531625563,590191545,595217502,649854972,714686602,717942499,720960146,720974524,720974736,720975995,793535325,806495002,862847657,871542102,893771636,914855142,931438088,937200556,1015486168,1026348750,1213136917,1220725895,1220852957,1222628504,1230410191,1326192098,1338160975,1374669131,1374800320,1401511709,1467196671,1493005045,1506058569,1507763651,1523142552,1591300266,1636446087,1641166031,1642384128,1679485164,1681545174,1704277516,1714538458,1768636249,1818263278,1833750850,1834601376,1867401367,1936236019,1978039580,1997464432,2017904725,2080694907,2086814061,2123843096,2170766397,2174442073,2233637259,2305877279,2307152224,2316307169,2335588857,2337430377,2419834458,2517521888,2585317679,2631335866,2737177336,2757711981,2796817467,2816464305,2872823135,2876785673,2876785759,2913059937,2924726497,2938670220,2939089089,3071839865,3079506072,3079929644,3116612793,3164097381,3234391576,3234432745,3278041418,3278041816,3334769994,3375261606,3410106074,3456106742,3461071037,3593285841,3641486132,3666061454,3666061458,3666061568,3666061577,3666061585,3666061591,3666061602,3666061610,3666061613,3666061619,3666061666,3666061672,3666061702,3666061706,3666061732,3666061760,3666061781,3666061825,3666061864,3666061891,3666061895,3666061896,3666061902,3666061903,3666061913,3666062029,3666062293,3666062299,3666062326,3666062331,3666062345,3666062357,3666062361,3666062379,3666062386,3666062390,3666062391,3666062394,3666062408,3666062418,3666062422,3666062427,3666062453,3666062517,3666062569,3666062581,3666062582,3666062586,3666062587,3676644409,3676644411,3676644421,3676644429,3676644442,3676644586,3676644600,3676644610,3676644643,3676644706,3676644759,3676644775,3676644800,3676644806,3676644819,3676644874,3676644887,3676644888,3676644905,3676644939,3676644953,3676644982,3676645005,3676645006,3676645021,3676645049,3676645073,3684315096,3691777760,3697941178,3710369155,3772863442,3793240332,3798969166,3800169971,3845152461,3847111189,3861225221,3872238039,3916589493,3949265042,3967179311,4020468984,4098608917,4098609219,4098704176,4098704230,4098775844,4098776178,4098815877,4098816211,4114558119,4127380674,4160021452,4259920717,4263023754,4268562148,0,0,0,2,343511425,4233599295,5,989615076,1348282182,2372695675,2793429742,3711109639,30,134752460,310748895,373240553,387546555,528158848,771634050,771637032,1557499238,1836295865,1964668429,2086817070,2368015199,2707054618,2757714990,2842899363,2889802328,2938675535,2942499160,3250117513,3577832733,3577832874,3789613664,3804622433,3847110230,3927045026,3974478460,3994206764,3994206767,4103392506,4197651626,0,0,0,0,0,17,181602757,495318858,804592434,820388681,838060561,871806992,1942164974,2253530761,2307427283,2356867634,2454582508,2478294033,2645305307,3415553447,3505446608,3710380917,4196008531]);function l(e,t,r,n){if(r>=n)return!1;for(var i=r,s=n-1;i<=s;){var o=i+s>>>1,a=e[o];if(a<t)i=o+1;else{if(!(a>t))return!0;s=o-1}}return!1}var c=new Uint32Array(20);function d(e,t,r){if(!0!==I(e,t,r)){for(var n=t.allowIcannDomains,i=t.allowPrivateDomains,s=-1,o=0,a=0,g=1,A=function(e,t){for(var r=5381,n=0,i=e.length-1;i>=0;i-=1){var s=e.charCodeAt(i);if(46===s&&(c[n<<1]=r>>>0,c[1+(n<<1)]=i+1,(n+=1)===t))return n;r=33*r^s}return c[n<<1]=r>>>0,c[1+(n<<1)]=0,n+=1}(e,C[0]),u=0;u<A;u+=1){var d=c[u<<1],h=c[1+(u<<1)],f=0;!0===n&&(f=l(C,d,g+1,g+C[g]+1)?5:0),g+=C[g]+1,!0===i&&0===f&&(f=l(C,d,g+1,g+C[g]+1)?6:0),g+=C[g]+1,!0===n&&0===f&&0==(4&o)&&(f=l(C,d,g+1,g+C[g]+1)?17:0),g+=C[g]+1,!0===i&&0===f&&0==(4&o)&&(f=l(C,d,g+1,g+C[g]+1)?18:0),g+=C[g]+1,!0===n&&0===f&&0==(4&o)&&a<=u&&(f=l(C,d,g+1,g+C[g]+1)?9:0),g+=C[g]+1,!0===i&&0===f&&0==(4&o)&&a<=u&&(f=l(C,d,g+1,g+C[g]+1)?10:0),g+=C[g]+1,0!==f&&(o=f,a=u+(0!=(16&f)?2:1),s=h)}r.isIcann=0!=(1&o),r.isPrivate=0!=(2&o),r.publicSuffix=-1!==s?0==(4&o)?0==(16&o)?e.slice(s):a>=A?e:e.slice(c[1+(a-1<<1)]):e.slice(c[1+(a-2<<1)]):1===A?e:e.slice(c[1])}}r.d(t,"parse",(function(){return f})),r.d(t,"getHostname",(function(){return p})),r.d(t,"getPublicSuffix",(function(){return m})),r.d(t,"getDomain",(function(){return _})),r.d(t,"getSubdomain",(function(){return y})),r.d(t,"getDomainWithoutSuffix",(function(){return b}));var h={domain:null,domainWithoutSuffix:null,hostname:null,isIcann:null,isIp:null,isPrivate:null,publicSuffix:null,subdomain:null};function f(e,t){return void 0===t&&(t={}),u(e,5,d,t,{domain:null,domainWithoutSuffix:null,hostname:null,isIcann:null,isIp:null,isPrivate:null,publicSuffix:null,subdomain:null})}function p(e,t){return void 0===t&&(t={}),A(h),u(e,0,d,t,h).hostname}function m(e,t){return void 0===t&&(t={}),A(h),u(e,2,d,t,h).publicSuffix}function _(e,t){return void 0===t&&(t={}),A(h),u(e,3,d,t,h).domain}function y(e,t){return void 0===t&&(t={}),A(h),u(e,4,d,t,h).subdomain}function b(e,t){return void 0===t&&(t={}),A(h),u(e,5,d,t,h).domainWithoutSuffix}},function(e,t,r){"use strict";r.d(t,"a",(function(){return m})),r.d(t,"b",(function(){return _})),r.d(t,"c",(function(){return y}));var n=2147483647,i=36,s=1,o=26,a=38,g=700,A=72,u=128,I="-",C=/[^\0-\x7E]/,l=/[\x2E\u3002\uFF0E\uFF61]/g,c={"invalid-input":"Invalid input","not-basic":"Illegal input >= 0x80 (not a basic code point)",overflow:"Overflow: input needs wider integers to process"},d=i-s;function h(e){throw new RangeError(c[e])}function f(e,t){return e+22+75*(e<26?1:0)-((0!==t?1:0)<<5)}function p(e,t,r){var n=0;for(e=r?Math.floor(e/g):e>>1,e+=Math.floor(e/t);e>d*o>>1;n+=i)e=Math.floor(e/d);return Math.floor(n+(d+1)*e/(e+a))}function m(e){var t,r=[],a=e.length,g=0,C=u,l=A,c=e.lastIndexOf(I);c<0&&(c=0);for(var d=0;d<c;++d)e.charCodeAt(d)>=128&&h("not-basic"),r.push(e.charCodeAt(d));for(var f=c>0?c+1:0;f<a;){for(var m=g,_=1,y=i;;y+=i){f>=a&&h("invalid-input");var b=(t=e.charCodeAt(f++))-48<10?t-22:t-65<26?t-65:t-97<26?t-97:i;(b>=i||b>Math.floor((n-g)/_))&&h("overflow"),g+=b*_;var v=y<=l?s:y>=l+o?o:y-l;if(b<v)break;var w=i-v;_>Math.floor(n/w)&&h("overflow"),_*=w}var k=r.length+1;l=p(g-m,k,0===m),Math.floor(g/k)>n-C&&h("overflow"),C+=Math.floor(g/k),g%=k,r.splice(g++,0,C)}return String.fromCodePoint.apply(null,r)}function _(e){for(var t=[],r=function(e){for(var t=[],r=0,n=e.length;r<n;){var i=e.charCodeAt(r++);if(i>=55296&&i<=56319&&r<n){var s=e.charCodeAt(r++);56320==(64512&s)?t.push(((1023&i)<<10)+(1023&s)+65536):(t.push(i),r--)}else t.push(i)}return t}(e),a=r.length,g=u,C=0,l=A,c=0;c<r.length;c+=1){(b=r[c])<128&&t.push(String.fromCharCode(b))}var d=t.length,m=d;for(d&&t.push(I);m<a;){var _=n;for(c=0;c<r.length;c+=1){(b=r[c])>=g&&b<_&&(_=b)}var y=m+1;_-g>Math.floor((n-C)/y)&&h("overflow"),C+=(_-g)*y,g=_;for(c=0;c<r.length;c+=1){var b;if((b=r[c])<g&&++C>n&&h("overflow"),b===g){for(var v=C,w=i;;w+=i){var k=w<=l?s:w>=l+o?o:w-l;if(v<k)break;var M=v-k,O=i-k;t.push(String.fromCharCode(f(k+M%O,0))),v=Math.floor(M/O)}t.push(String.fromCharCode(f(v,0))),l=p(C,y,m===d),C=0,++m}}++C,++g}return t.join("")}function y(e){for(var t=e.replace(l,".").split("."),r=[],n=0;n<t.length;n+=1)r.push(C.test(t[n])?"xn--"+_(t[n]):t[n]);return r.join(".")}},function(e,t,r){"use strict";r.d(t,"a",(function(){return g})),r.d(t,"b",(function(){return A})),r.d(t,"c",(function(){return u}));var n=r(22),i=r(3),s=r(35);const{adblocker:o,antitracking:a}=s.a.modules;function g(e,t,r){let n=0,s=0,g=0,A=0;const u=[],I=i.a.cliqz_module_whitelist,C=r?a:o;if(!(r?i.a.enable_anti_tracking:i.a.enable_ad_block)||!C.background)return{totalUnsafeCount:n,totalUnknownCount:s,trackerCount:g,unknownTrackerCount:A,unknownTrackers:u,whitelistedUrls:I};const{bugs:l,others:c}=C.background.actions.getGhosteryStats(e),d=Object.values(l),h=Object.values(c),f=e=>r?e.cookies+e.fingerprints:e.ads;for(const e of d){const t=f(e);t&&(n+=t,g++)}for(const e of h){let i=!1;const o=f(e);if(e.domains.some(e=>!(!I[e]||!I[e].hosts.includes(t))&&(i=!0,!0)),o&&(n+=o,s+=o,g++,A++),o||i){const t=r?"antiTracking":"adBlock",{name:n,domains:s,ads:o,cookies:a,fingerprints:g}=e;u.push({name:n,domains:s,ads:o,cookies:a,fingerprints:g,whitelisted:i,type:t})}}return{totalUnsafeCount:n,totalUnknownCount:s,trackerCount:g,unknownTrackerCount:A,unknownTrackers:u,whitelistedUrls:I}}function A(e){const t=i.a.enable_anti_tracking?a.background.actions.getGhosteryStats(e):{bugs:{},others:{}},r=i.a.enable_ad_block?o.background.actions.getGhosteryStats(e):{bugs:{},others:{}};return{bugs:Object(n.extend)({},t.bugs,r.bugs),others:Object(n.extend)({},t.others,r.others)}}function u(e,t,r){const n={adBlock:{},antiTracking:{}};n.adBlock=g(e,t),n.antiTracking=g(e,t,!0),r(n)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=
/*!
 * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */
class{constructor(){this._messageQueue=[],this._callbacks={}}enqueueMessage(e,t){this._messageQueue.some(t=>t.id===e.id)||(this._messageQueue.push(e),this._callbacks[e.id]=t,1===this._messageQueue.length&&this._renderMessage(e))}dequeueMessage(e){let t=this._messageQueue.indexOf(e);if(-1===t){const r=this._messageQueue.find(t=>t.id===e.id);r&&(e=r,t=this._messageQueue.indexOf(e))}0===t?this.showNextMessage():t>-1&&(this._messageQueue.splice(t,1),delete this._callbacks[e.id])}showNextMessage(){const e=this._messageQueue.shift();e&&(delete this._callbacks[e.id],this._hideMessage(e),this._messageQueue.length>0&&this._renderMessage(this._messageQueue[0]))}_renderMessage(){throw new Error("_renderMessage not implemented")}_hideMessage(){throw new Error("_hideMessage not implemented")}}},function(e,t,r){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;
/*!
 * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */
var i=((n=r(74))&&n.__esModule?n:{default:n}).default.get("human-web",{level:"error"});t.default=i},function(e,t,r){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;
/*!
 * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */
var i=((n=r(74))&&n.__esModule?n:{default:n}).default.get("hpnv2",{level:"debug"});t.default=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=o(r(29)),i=o(r(520)),s=r(204);function o(e){return e&&e.__esModule?e:{default:e}}const a=e=>{const t=new Map;return Object.keys(e).forEach(r=>{t.set(r,new Map),Object.keys(e[r]).forEach(n=>{t.get(r).set(n,new Set(e[r][n]||[]))})}),t};t.default=class{constructor(e){this.offerObj=e,this._geo=null,this._filterRules=null,this._blackListPatterns=null,this._hasDynamicContent=!1}isValid(){return!!(this.offerObj&&this.offerObj.offer_id&&this.offerObj.campaign_id&&this.offerObj.display_id&&this.offerObj.ui_info&&this.offerObj.monitorData)}get ABTestInfo(){return this.offerObj.abTestInfo}get destinationRealEstates(){return this.offerObj.rs_dest||[]}get version(){return void 0===this.offerObj.version?"":this.offerObj.version}get monitorData(){return this.offerObj.monitorData}get uiInfo(){return this.offerObj.ui_info}isGeoLocated(){return!!this.offerObj.geo}get geoInfo(){return null===this._geo&&this.isGeoLocated()&&(this._geo=a(this.offerObj.geo)),this._geo}get displayPriority(){return void 0!==this.offerObj.displayPriority?this.offerObj.displayPriority:0}hasBlacklistPatterns(){return!!this.offerObj.blackListPatterns}get blackListPatterns(){return null===this._blackListPatterns&&this.hasBlacklistPatterns()&&(this._blackListPatterns=(0,s.buildSimplePatternIndex)(this.offerObj.blackListPatterns)),this._blackListPatterns}get displayID(){return this.offerObj.display_id}get clientID(){return this.offerObj.client_id}get uniqueID(){return this.offerObj.offer_id}get campaignID(){return this.offerObj.campaign_id}hasFilterRules(){return!!this.offerObj.filterRules&&""!==this.offerObj.filterRules.eval_expression}get filterRules(){if(null===this._filterRules&&this.hasFilterRules())try{this._filterRules=(0,i.default)(this.offerObj.filterRules.eval_expression)}catch(e){n.default.error("jsep couldn't parse:",e)}return this._filterRules}get ruleInfo(){return this.offerObj.rule_info?this.offerObj.rule_info:{rule_info:{display_time_secs:999999,type:"exact_match",url:[]}}}hasExpirationMs(){return!!this.offerObj.expirationMs}get expirationMs(){return this.offerObj.expirationMs}hasCategories(){return this.offerObj.categories&&this.offerObj.categories.length>0}get categories(){return this.offerObj.categories}isTargeted(){return Boolean(this.offerObj.targeted)}shouldShowDynamicOffer(){return this.offerObj.show_dynamic_offer||!0}hasDynamicContent(){return this._hasDynamicContent}getReward(){const e=this.displayPriority;return(e||0)<=0?1:e}getLogoUrl(){return this.offerObj.ui_info.template_data.logo_url}getLogoDataurl(){return this.offerObj.ui_info.template_data.logo_dataurl}setLogoDataurl(e){this.offerObj.ui_info.template_data.logo_dataurl=e}getPictureUrl(){return this.offerObj.ui_info.template_data.picture_url}getPictureDataurl(){return this.offerObj.ui_info.template_data.picture_dataurl}setPictureDataurl(e){this.offerObj.ui_info.template_data.picture_dataurl=e}getMonitorPatterns(e){return((this.monitorData||[]).find(t=>t.signalID===e)||{}).patterns||[]}setDynamicContent(e,t){this.offerObj.ui_info.template_data.picture_url=e,this.offerObj.ui_info.template_data.picture_dataurl=void 0,this.offerObj.ui_info.template_data.call_to_action.url=t,this._hasDynamicContent=!0}}},function(e,t,r){"use strict";function n(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return n=function(){return e},e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;
/*!
 * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */
var i=function(e){if(e&&e.__esModule)return e;var t=n();if(t&&t.has(e))return t.get(e);var r={};if(null!=e){var i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){var o=i?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(r,s,o):r[s]=e[s]}}r.default=e,t&&t.set(e,r);return r}(r(896));t.default=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i=r(54),s=(n=r(29))&&n.__esModule?n:{default:n};t.default=class{constructor(e){this.data=e,this.hash_id=null}getHashID(){return this.hash_id||this._buildHashID(),this.hash_id}getOpName(){return this.data&&this.data.raw_op?this.data.raw_op.op_name:""}getTTL(){return this.data&&this.data.raw_op?this.data.raw_op.ttl:null}evalExpr(e){if(!this.isBuilt())try{this.build()}catch(e){return Promise.reject(e)}const t=this.getTTL();if(t){const r=this.getHashID();return this.data.expression_cache.hasEntry(r)?Promise.resolve(this.data.expression_cache.getEntry(r)):this.getExprValue(e).then(e=>(this.data.expression_cache.addEntry(r,t,e),Promise.resolve(e)))}return this.getExprValue(e)}isBuilt(){throw new Error("isBuilt: this should be implemented on the inherited classes")}build(){throw new Error("build: this should be implemented on the inherited classes")}destroy(){}getExprValue(){throw new Error("getExprValue: this should be implemented on the inherited classes")}_buildHashID(){if(!this.hash_id&&this.data&&this.data.raw_op)try{this.hash_id=(0,i.hashString)(JSON.stringify(this.data.raw_op))}catch(e){s.default.error(`Error building the hash: ${e}`),s.default.error(`Error building the hash for trigger id: ${this.data.parent_trigger.trigger_id}`),this.hash_id=null}}}},function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},,function(e,t,r){"use strict";r.d(t,"a",(function(){return i})),r.d(t,"b",(function(){return s}));var n=r(87);function i(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return s(e)}function s(e){return e?1===e.length?e[0]:function(t){return e.reduce((function(e,t){return t(e)}),t)}:n.a}},function(e,t,r){"use strict";(function(e,r){
/*!
 * @overview RSVP - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2016 Yehuda Katz, Tom Dale, Stefan Penner and contributors
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/tildeio/rsvp.js/master/LICENSE
 * @version   4.8.4+ff10049b
 */
function n(e){var t=e._promiseCallbacks;return t||(t=e._promiseCallbacks={}),t}var i={mixin:function(e){return e.on=this.on,e.off=this.off,e.trigger=this.trigger,e._promiseCallbacks=void 0,e},on:function(e,t){if("function"!=typeof t)throw new TypeError("Callback must be a function");var r=n(this),i=r[e];i||(i=r[e]=[]),-1===i.indexOf(t)&&i.push(t)},off:function(e,t){var r=n(this);if(t){var i=r[e],s=i.indexOf(t);-1!==s&&i.splice(s,1)}else r[e]=[]},trigger:function(e,t,r){var i=n(this)[e];if(i)for(var s=0;s<i.length;s++)(0,i[s])(t,r)}},s={instrument:!1};function o(e,t){if(2!==arguments.length)return s[e];s[e]=t}i.mixin(s);var a=[];function g(e,t,r){1===a.push({name:e,payload:{key:t._guidKey,id:t._id,eventName:e,detail:t._result,childId:r&&r._id,label:t._label,timeStamp:Date.now(),error:s["instrument-with-stack"]?new Error(t._label):null}})&&setTimeout((function(){for(var e=0;e<a.length;e++){var t=a[e],r=t.payload;r.guid=r.key+r.id,r.childGuid=r.key+r.childId,r.error&&(r.stack=r.error.stack),s.trigger(t.name,t.payload)}a.length=0}),50)}function A(e,t){if(e&&"object"==typeof e&&e.constructor===this)return e;var r=new this(u,t);return _(r,e),r}function u(){}var I=void 0,C=1,l=2,c={error:null};function d(e){try{return e.then}catch(e){return c.error=e,c}}var h=void 0;function f(){try{var e=h;return h=null,e.apply(this,arguments)}catch(e){return c.error=e,c}}function p(e){return h=e,f}function m(e,t,r){if(t.constructor===e.constructor&&r===O&&e.constructor.resolve===A)!function(e,t){t._state===C?b(e,t._result):t._state===l?(t._onError=null,v(e,t._result)):w(t,void 0,(function(r){t===r?b(e,r):_(e,r)}),(function(t){return v(e,t)}))}(e,t);else if(r===c){var n=c.error;c.error=null,v(e,n)}else"function"==typeof r?function(e,t,r){s.async((function(e){var n=!1,i=p(r).call(t,(function(r){n||(n=!0,t===r?b(e,r):_(e,r))}),(function(t){n||(n=!0,v(e,t))}),"Settle: "+(e._label||" unknown promise"));if(!n&&i===c){n=!0;var s=c.error;c.error=null,v(e,s)}}),e)}(e,t,r):b(e,t)}function _(e,t){var r,n;e===t?b(e,t):(n=typeof(r=t),null===r||"object"!==n&&"function"!==n?b(e,t):m(e,t,d(t)))}function y(e){e._onError&&e._onError(e._result),k(e)}function b(e,t){e._state===I&&(e._result=t,e._state=C,0===e._subscribers.length?s.instrument&&g("fulfilled",e):s.async(k,e))}function v(e,t){e._state===I&&(e._state=l,e._result=t,s.async(y,e))}function w(e,t,r,n){var i=e._subscribers,o=i.length;e._onError=null,i[o]=t,i[o+C]=r,i[o+l]=n,0===o&&e._state&&s.async(k,e)}function k(e){var t=e._subscribers,r=e._state;if(s.instrument&&g(r===C?"fulfilled":"rejected",e),0!==t.length){for(var n=void 0,i=void 0,o=e._result,a=0;a<t.length;a+=3)n=t[a],i=t[a+r],n?M(r,n,i,o):i(o);e._subscribers.length=0}}function M(e,t,r,n){var i="function"==typeof r,s=void 0;if(s=i?p(r)(n):n,t._state!==I);else if(s===t)v(t,new TypeError("A promises callback cannot return that same promise."));else if(s===c){var o=c.error;c.error=null,v(t,o)}else i?_(t,s):e===C?b(t,s):e===l&&v(t,s)}function O(e,t,r){var n=this._state;if(n===C&&!e||n===l&&!t)return s.instrument&&g("chained",this,this),this;this._onError=null;var i=new this.constructor(u,r),o=this._result;if(s.instrument&&g("chained",this,i),n===I)w(this,i,e,t);else{var a=n===C?e:t;s.async((function(){return M(n,i,a,o)}))}return i}var S=function(){function e(e,t,r,n){this._instanceConstructor=e,this.promise=new e(u,n),this._abortOnReject=r,this._isUsingOwnPromise=e===E,this._isUsingOwnResolve=e.resolve===A,this._init.apply(this,arguments)}return e.prototype._init=function(e,t){var r=t.length||0;this.length=r,this._remaining=r,this._result=new Array(r),this._enumerate(t)},e.prototype._enumerate=function(e){for(var t=this.length,r=this.promise,n=0;r._state===I&&n<t;n++)this._eachEntry(e[n],n,!0);this._checkFullfillment()},e.prototype._checkFullfillment=function(){if(0===this._remaining){var e=this._result;b(this.promise,e),this._result=null}},e.prototype._settleMaybeThenable=function(e,t,r){var n=this._instanceConstructor;if(this._isUsingOwnResolve){var i=d(e);if(i===O&&e._state!==I)e._onError=null,this._settledAt(e._state,t,e._result,r);else if("function"!=typeof i)this._settledAt(C,t,e,r);else if(this._isUsingOwnPromise){var s=new n(u);m(s,e,i),this._willSettleAt(s,t,r)}else this._willSettleAt(new n((function(t){return t(e)})),t,r)}else this._willSettleAt(n.resolve(e),t,r)},e.prototype._eachEntry=function(e,t,r){null!==e&&"object"==typeof e?this._settleMaybeThenable(e,t,r):this._setResultAt(C,t,e,r)},e.prototype._settledAt=function(e,t,r,n){var i=this.promise;i._state===I&&(this._abortOnReject&&e===l?v(i,r):(this._setResultAt(e,t,r,n),this._checkFullfillment()))},e.prototype._setResultAt=function(e,t,r,n){this._remaining--,this._result[t]=r},e.prototype._willSettleAt=function(e,t,r){var n=this;w(e,void 0,(function(e){return n._settledAt(C,t,e,r)}),(function(e){return n._settledAt(l,t,e,r)}))},e}();function D(e,t,r){this._remaining--,this._result[t]=e===C?{state:"fulfilled",value:r}:{state:"rejected",reason:r}}var T="rsvp_"+Date.now()+"-",L=0;var E=function(){function e(t,r){this._id=L++,this._label=r,this._state=void 0,this._result=void 0,this._subscribers=[],s.instrument&&g("created",this),u!==t&&("function"!=typeof t&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof e?function(e,t){var r=!1;try{t((function(t){r||(r=!0,_(e,t))}),(function(t){r||(r=!0,v(e,t))}))}catch(t){v(e,t)}}(this,t):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return e.prototype._onError=function(e){var t=this;s.after((function(){t._onError&&s.trigger("error",e,t._label)}))},e.prototype.catch=function(e,t){return this.then(void 0,e,t)},e.prototype.finally=function(e,t){var r=this.constructor;return"function"==typeof e?this.then((function(t){return r.resolve(e()).then((function(){return t}))}),(function(t){return r.resolve(e()).then((function(){throw t}))})):this.then(e,e)},e}();function P(e,t){for(var r={},n=e.length,i=new Array(n),s=0;s<n;s++)i[s]=e[s];for(var o=0;o<t.length;o++){r[t[o]]=i[o+1]}return r}function x(e){for(var t=e.length,r=new Array(t-1),n=1;n<t;n++)r[n-1]=e[n];return r}function j(e,t){return{then:function(r,n){return e.call(t,r,n)}}}function R(e,t,r,n){if(p(r).apply(n,t)===c){var i=c.error;c.error=null,v(e,i)}return e}function Y(e,t,r,n){return E.all(t).then((function(t){return R(e,t,r,n)}))}function N(e){return null!==e&&"object"==typeof e&&(e.constructor===E||d(e))}E.cast=A,E.all=function(e,t){return Array.isArray(e)?new S(this,e,!0,t).promise:this.reject(new TypeError("Promise.all must be called with an array"),t)},E.race=function(e,t){var r=new this(u,t);if(!Array.isArray(e))return v(r,new TypeError("Promise.race must be called with an array")),r;for(var n=0;r._state===I&&n<e.length;n++)w(this.resolve(e[n]),void 0,(function(e){return _(r,e)}),(function(e){return v(r,e)}));return r},E.resolve=A,E.reject=function(e,t){var r=new this(u,t);return v(r,e),r},E.prototype._guidKey=T,E.prototype.then=O;var U=function(e){function t(t,r,n){return function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,t,r,!1,n))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(S);U.prototype._setResultAt=D;var H=function(e){function t(t,r){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=arguments[3];return function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,t,r,n,i))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype._init=function(e,t){this._result={},this._enumerate(t)},t.prototype._enumerate=function(e){var t=Object.keys(e),r=t.length,n=this.promise;this._remaining=r;for(var i=void 0,s=void 0,o=0;n._state===I&&o<r;o++)s=e[i=t[o]],this._eachEntry(s,i,!0);this._checkFullfillment()},t}(S);var F=function(e){function t(t,r,n){return function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,t,r,!1,n))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(H);F.prototype._setResultAt=D;var B=function(e){function t(t,r,n,i){return function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,t,r,!0,i,n))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype._init=function(e,t,r,n,i){var s=t.length||0;this.length=s,this._remaining=s,this._result=new Array(s),this._mapFn=i,this._enumerate(t)},t.prototype._setResultAt=function(e,t,r,n){if(n){var i=p(this._mapFn)(r,t);i===c?this._settledAt(l,t,i.error,!1):this._eachEntry(i,t,!1)}else this._remaining--,this._result[t]=r},t}(S);function z(e,t){return E.resolve(e,t)}var W={},G=function(e){function t(){return function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype._checkFullfillment=function(){if(0===this._remaining&&null!==this._result){var e=this._result.filter((function(e){return e!==W}));b(this.promise,e),this._result=null}},t.prototype._setResultAt=function(e,t,r,n){if(n){this._result[t]=r;var i=p(this._mapFn)(r,t);i===c?this._settledAt(l,t,i.error,!1):this._eachEntry(i,t,!1)}else this._remaining--,r||(this._result[t]=W)},t}(B);var q=0,V=void 0;function K(e,t){te[q]=e,te[q+1]=t,2===(q+=2)&&Ae()}var Z="undefined"!=typeof window?window:void 0,J=Z||{},$=J.MutationObserver||J.WebKitMutationObserver,Q="undefined"==typeof self&&void 0!==e&&"[object process]"==={}.toString.call(e),X="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function ee(){return function(){return setTimeout(re,1)}}var te=new Array(1e3);function re(){for(var e=0;e<q;e+=2){(0,te[e])(te[e+1]),te[e]=void 0,te[e+1]=void 0}q=0}var ne,ie,se,oe,ae,ge,Ae=void 0;Q?(ae=e.nextTick,ge=e.versions.node.match(/^(?:(\d+)\.)?(?:(\d+)\.)?(\*|\d+)$/),Array.isArray(ge)&&"0"===ge[1]&&"10"===ge[2]&&(ae=r),Ae=function(){return ae(re)}):$?(ie=0,se=new $(re),oe=document.createTextNode(""),se.observe(oe,{characterData:!0}),Ae=function(){return oe.data=ie=++ie%2}):X?((ne=new MessageChannel).port1.onmessage=re,Ae=function(){return ne.port2.postMessage(0)}):Ae=void 0===Z?function(){try{var e=Function("return this")().require("vertx");return void 0!==(V=e.runOnLoop||e.runOnContext)?function(){V(re)}:ee()}catch(e){return ee()}}():ee(),s.async=K,s.after=function(e){return setTimeout(e,0)};var ue=z;function Ie(){s.on.apply(s,arguments)}if("undefined"!=typeof window&&"object"==typeof window.__PROMISE_INSTRUMENTATION__){var Ce=window.__PROMISE_INSTRUMENTATION__;for(var le in o("instrument",!0),Ce)Ce.hasOwnProperty(le)&&Ie(le,Ce[le])}var ce={asap:K,cast:ue,Promise:E,EventTarget:i,all:function(e,t){return E.all(e,t)},allSettled:function(e,t){return Array.isArray(e)?new U(E,e,t).promise:E.reject(new TypeError("Promise.allSettled must be called with an array"),t)},race:function(e,t){return E.race(e,t)},hash:function(e,t){return E.resolve(e,t).then((function(e){if(null===e||"object"!=typeof e)throw new TypeError("Promise.hash must be called with an object");return new H(E,e,t).promise}))},hashSettled:function(e,t){return E.resolve(e,t).then((function(e){if(null===e||"object"!=typeof e)throw new TypeError("hashSettled must be called with an object");return new F(E,e,!1,t).promise}))},rethrow:function(e){throw setTimeout((function(){throw e})),e},defer:function(e){var t={resolve:void 0,reject:void 0};return t.promise=new E((function(e,r){t.resolve=e,t.reject=r}),e),t},denodeify:function(e,t){var r=function(){for(var r=arguments.length,n=new Array(r+1),i=!1,s=0;s<r;++s){var o=arguments[s];if(!i){if((i=N(o))===c){var a=c.error;c.error=null;var g=new E(u);return v(g,a),g}i&&!0!==i&&(o=j(i,o))}n[s]=o}var A=new E(u);return n[r]=function(e,r){e?v(A,e):void 0===t?_(A,r):!0===t?_(A,x(arguments)):Array.isArray(t)?_(A,P(arguments,t)):_(A,r)},i?Y(A,n,e,this):R(A,n,e,this)};return r.__proto__=e,r},configure:o,on:Ie,off:function(){s.off.apply(s,arguments)},resolve:z,reject:function(e,t){return E.reject(e,t)},map:function(e,t,r){return"function"!=typeof t?E.reject(new TypeError("map expects a function as a second argument"),r):E.resolve(e,r).then((function(e){if(!Array.isArray(e))throw new TypeError("map must be called with an array");return new B(E,e,t,r).promise}))},async:function(e,t){return s.async(e,t)},filter:function(e,t,r){return"function"!=typeof t?E.reject(new TypeError("filter expects function as a second argument"),r):E.resolve(e,r).then((function(e){if(!Array.isArray(e))throw new TypeError("filter must be called with an array");return new G(E,e,t,r).promise}))}};t.a=ce}).call(this,r(147),r(229).setImmediate)},,,function(e,t,r){(function(e){e.exports=function(){"use strict";var t,r;function n(){return t.apply(null,arguments)}function i(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function s(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function o(e){return void 0===e}function a(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function g(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function A(e,t){var r,n=[];for(r=0;r<e.length;++r)n.push(t(e[r],r));return n}function u(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function I(e,t){for(var r in t)u(t,r)&&(e[r]=t[r]);return u(t,"toString")&&(e.toString=t.toString),u(t,"valueOf")&&(e.valueOf=t.valueOf),e}function C(e,t,r,n){return Et(e,t,r,n,!0).utc()}function l(e){return null==e._pf&&(e._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}),e._pf}function c(e){if(null==e._isValid){var t=l(e),n=r.call(t.parsedDateParts,(function(e){return null!=e})),i=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n);if(e._strict&&(i=i&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return i;e._isValid=i}return e._isValid}function d(e){var t=C(NaN);return null!=e?I(l(t),e):l(t).userInvalidated=!0,t}r=Array.prototype.some?Array.prototype.some:function(e){for(var t=Object(this),r=t.length>>>0,n=0;n<r;n++)if(n in t&&e.call(this,t[n],n,t))return!0;return!1};var h=n.momentProperties=[];function f(e,t){var r,n,i;if(o(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),o(t._i)||(e._i=t._i),o(t._f)||(e._f=t._f),o(t._l)||(e._l=t._l),o(t._strict)||(e._strict=t._strict),o(t._tzm)||(e._tzm=t._tzm),o(t._isUTC)||(e._isUTC=t._isUTC),o(t._offset)||(e._offset=t._offset),o(t._pf)||(e._pf=l(t)),o(t._locale)||(e._locale=t._locale),h.length>0)for(r=0;r<h.length;r++)o(i=t[n=h[r]])||(e[n]=i);return e}var p=!1;function m(e){f(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===p&&(p=!0,n.updateOffset(this),p=!1)}function _(e){return e instanceof m||null!=e&&null!=e._isAMomentObject}function y(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function b(e){var t=+e,r=0;return 0!==t&&isFinite(t)&&(r=y(t)),r}function v(e,t,r){var n,i=Math.min(e.length,t.length),s=Math.abs(e.length-t.length),o=0;for(n=0;n<i;n++)(r&&e[n]!==t[n]||!r&&b(e[n])!==b(t[n]))&&o++;return o+s}function w(e){!1===n.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function k(e,t){var r=!0;return I((function(){if(null!=n.deprecationHandler&&n.deprecationHandler(null,e),r){for(var i,s=[],o=0;o<arguments.length;o++){if(i="","object"==typeof arguments[o]){for(var a in i+="\n["+o+"] ",arguments[0])i+=a+": "+arguments[0][a]+", ";i=i.slice(0,-2)}else i=arguments[o];s.push(i)}w(e+"\nArguments: "+Array.prototype.slice.call(s).join("")+"\n"+(new Error).stack),r=!1}return t.apply(this,arguments)}),t)}var M,O={};function S(e,t){null!=n.deprecationHandler&&n.deprecationHandler(e,t),O[e]||(w(t),O[e]=!0)}function D(e){return e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function T(e,t){var r,n=I({},e);for(r in t)u(t,r)&&(s(e[r])&&s(t[r])?(n[r]={},I(n[r],e[r]),I(n[r],t[r])):null!=t[r]?n[r]=t[r]:delete n[r]);for(r in e)u(e,r)&&!u(t,r)&&s(e[r])&&(n[r]=I({},n[r]));return n}function L(e){null!=e&&this.set(e)}n.suppressDeprecationWarnings=!1,n.deprecationHandler=null,M=Object.keys?Object.keys:function(e){var t,r=[];for(t in e)u(e,t)&&r.push(t);return r};var E={};function P(e,t){var r=e.toLowerCase();E[r]=E[r+"s"]=E[t]=e}function x(e){return"string"==typeof e?E[e]||E[e.toLowerCase()]:void 0}function j(e){var t,r,n={};for(r in e)u(e,r)&&(t=x(r))&&(n[t]=e[r]);return n}var R={};function Y(e,t){R[e]=t}function N(e,t,r){var n=""+Math.abs(e),i=t-n.length;return(e>=0?r?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+n}var U=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,H=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,F={},B={};function z(e,t,r,n){var i=n;"string"==typeof n&&(i=function(){return this[n]()}),e&&(B[e]=i),t&&(B[t[0]]=function(){return N(i.apply(this,arguments),t[1],t[2])}),r&&(B[r]=function(){return this.localeData().ordinal(i.apply(this,arguments),e)})}function W(e,t){return e.isValid()?(t=G(t,e.localeData()),F[t]=F[t]||function(e){var t,r,n,i=e.match(U);for(t=0,r=i.length;t<r;t++)B[i[t]]?i[t]=B[i[t]]:i[t]=(n=i[t]).match(/\[[\s\S]/)?n.replace(/^\[|\]$/g,""):n.replace(/\\/g,"");return function(t){var n,s="";for(n=0;n<r;n++)s+=D(i[n])?i[n].call(t,e):i[n];return s}}(t),F[t](e)):e.localeData().invalidDate()}function G(e,t){var r=5;function n(e){return t.longDateFormat(e)||e}for(H.lastIndex=0;r>=0&&H.test(e);)e=e.replace(H,n),H.lastIndex=0,r-=1;return e}var q=/\d/,V=/\d\d/,K=/\d{3}/,Z=/\d{4}/,J=/[+-]?\d{6}/,$=/\d\d?/,Q=/\d\d\d\d?/,X=/\d\d\d\d\d\d?/,ee=/\d{1,3}/,te=/\d{1,4}/,re=/[+-]?\d{1,6}/,ne=/\d+/,ie=/[+-]?\d+/,se=/Z|[+-]\d\d:?\d\d/gi,oe=/Z|[+-]\d\d(?::?\d\d)?/gi,ae=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,ge={};function Ae(e,t,r){ge[e]=D(t)?t:function(e,n){return e&&r?r:t}}function ue(e,t){return u(ge,e)?ge[e](t._strict,t._locale):new RegExp(Ie(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(function(e,t,r,n,i){return t||r||n||i}))))}function Ie(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var Ce={};function le(e,t){var r,n=t;for("string"==typeof e&&(e=[e]),a(t)&&(n=function(e,r){r[t]=b(e)}),r=0;r<e.length;r++)Ce[e[r]]=n}function ce(e,t){le(e,(function(e,r,n,i){n._w=n._w||{},t(e,n._w,n,i)}))}function de(e,t,r){null!=t&&u(Ce,e)&&Ce[e](t,r._a,r,e)}var he=0,fe=1,pe=2,me=3,_e=4,ye=5,be=6,ve=7,we=8;function ke(e){return Me(e)?366:365}function Me(e){return e%4==0&&e%100!=0||e%400==0}z("Y",0,0,(function(){var e=this.year();return e<=9999?""+e:"+"+e})),z(0,["YY",2],0,(function(){return this.year()%100})),z(0,["YYYY",4],0,"year"),z(0,["YYYYY",5],0,"year"),z(0,["YYYYYY",6,!0],0,"year"),P("year","y"),Y("year",1),Ae("Y",ie),Ae("YY",$,V),Ae("YYYY",te,Z),Ae("YYYYY",re,J),Ae("YYYYYY",re,J),le(["YYYYY","YYYYYY"],he),le("YYYY",(function(e,t){t[he]=2===e.length?n.parseTwoDigitYear(e):b(e)})),le("YY",(function(e,t){t[he]=n.parseTwoDigitYear(e)})),le("Y",(function(e,t){t[he]=parseInt(e,10)})),n.parseTwoDigitYear=function(e){return b(e)+(b(e)>68?1900:2e3)};var Oe,Se=De("FullYear",!0);function De(e,t){return function(r){return null!=r?(Le(this,e,r),n.updateOffset(this,t),this):Te(this,e)}}function Te(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function Le(e,t,r){e.isValid()&&!isNaN(r)&&("FullYear"===t&&Me(e.year())&&1===e.month()&&29===e.date()?e._d["set"+(e._isUTC?"UTC":"")+t](r,e.month(),Ee(r,e.month())):e._d["set"+(e._isUTC?"UTC":"")+t](r))}function Ee(e,t){if(isNaN(e)||isNaN(t))return NaN;var r,n=(t%(r=12)+r)%r;return e+=(t-n)/12,1===n?Me(e)?29:28:31-n%7%2}Oe=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},z("M",["MM",2],"Mo",(function(){return this.month()+1})),z("MMM",0,0,(function(e){return this.localeData().monthsShort(this,e)})),z("MMMM",0,0,(function(e){return this.localeData().months(this,e)})),P("month","M"),Y("month",8),Ae("M",$),Ae("MM",$,V),Ae("MMM",(function(e,t){return t.monthsShortRegex(e)})),Ae("MMMM",(function(e,t){return t.monthsRegex(e)})),le(["M","MM"],(function(e,t){t[fe]=b(e)-1})),le(["MMM","MMMM"],(function(e,t,r,n){var i=r._locale.monthsParse(e,n,r._strict);null!=i?t[fe]=i:l(r).invalidMonth=e}));var Pe=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,xe="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),je="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_");function Re(e,t,r){var n,i,s,o=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],n=0;n<12;++n)s=C([2e3,n]),this._shortMonthsParse[n]=this.monthsShort(s,"").toLocaleLowerCase(),this._longMonthsParse[n]=this.months(s,"").toLocaleLowerCase();return r?"MMM"===t?-1!==(i=Oe.call(this._shortMonthsParse,o))?i:null:-1!==(i=Oe.call(this._longMonthsParse,o))?i:null:"MMM"===t?-1!==(i=Oe.call(this._shortMonthsParse,o))?i:-1!==(i=Oe.call(this._longMonthsParse,o))?i:null:-1!==(i=Oe.call(this._longMonthsParse,o))?i:-1!==(i=Oe.call(this._shortMonthsParse,o))?i:null}function Ye(e,t){var r;if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=b(t);else if(!a(t=e.localeData().monthsParse(t)))return e;return r=Math.min(e.date(),Ee(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,r),e}function Ne(e){return null!=e?(Ye(this,e),n.updateOffset(this,!0),this):Te(this,"Month")}var Ue=ae,He=ae;function Fe(){function e(e,t){return t.length-e.length}var t,r,n=[],i=[],s=[];for(t=0;t<12;t++)r=C([2e3,t]),n.push(this.monthsShort(r,"")),i.push(this.months(r,"")),s.push(this.months(r,"")),s.push(this.monthsShort(r,""));for(n.sort(e),i.sort(e),s.sort(e),t=0;t<12;t++)n[t]=Ie(n[t]),i[t]=Ie(i[t]);for(t=0;t<24;t++)s[t]=Ie(s[t]);this._monthsRegex=new RegExp("^("+s.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+n.join("|")+")","i")}function Be(e,t,r,n,i,s,o){var a;return e<100&&e>=0?(a=new Date(e+400,t,r,n,i,s,o),isFinite(a.getFullYear())&&a.setFullYear(e)):a=new Date(e,t,r,n,i,s,o),a}function ze(e){var t;if(e<100&&e>=0){var r=Array.prototype.slice.call(arguments);r[0]=e+400,t=new Date(Date.UTC.apply(null,r)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)}else t=new Date(Date.UTC.apply(null,arguments));return t}function We(e,t,r){var n=7+t-r;return-(7+ze(e,0,n).getUTCDay()-t)%7+n-1}function Ge(e,t,r,n,i){var s,o,a=1+7*(t-1)+(7+r-n)%7+We(e,n,i);return a<=0?o=ke(s=e-1)+a:a>ke(e)?(s=e+1,o=a-ke(e)):(s=e,o=a),{year:s,dayOfYear:o}}function qe(e,t,r){var n,i,s=We(e.year(),t,r),o=Math.floor((e.dayOfYear()-s-1)/7)+1;return o<1?n=o+Ve(i=e.year()-1,t,r):o>Ve(e.year(),t,r)?(n=o-Ve(e.year(),t,r),i=e.year()+1):(i=e.year(),n=o),{week:n,year:i}}function Ve(e,t,r){var n=We(e,t,r),i=We(e+1,t,r);return(ke(e)-n+i)/7}function Ke(e,t){return e.slice(t,7).concat(e.slice(0,t))}z("w",["ww",2],"wo","week"),z("W",["WW",2],"Wo","isoWeek"),P("week","w"),P("isoWeek","W"),Y("week",5),Y("isoWeek",5),Ae("w",$),Ae("ww",$,V),Ae("W",$),Ae("WW",$,V),ce(["w","ww","W","WW"],(function(e,t,r,n){t[n.substr(0,1)]=b(e)})),z("d",0,"do","day"),z("dd",0,0,(function(e){return this.localeData().weekdaysMin(this,e)})),z("ddd",0,0,(function(e){return this.localeData().weekdaysShort(this,e)})),z("dddd",0,0,(function(e){return this.localeData().weekdays(this,e)})),z("e",0,0,"weekday"),z("E",0,0,"isoWeekday"),P("day","d"),P("weekday","e"),P("isoWeekday","E"),Y("day",11),Y("weekday",11),Y("isoWeekday",11),Ae("d",$),Ae("e",$),Ae("E",$),Ae("dd",(function(e,t){return t.weekdaysMinRegex(e)})),Ae("ddd",(function(e,t){return t.weekdaysShortRegex(e)})),Ae("dddd",(function(e,t){return t.weekdaysRegex(e)})),ce(["dd","ddd","dddd"],(function(e,t,r,n){var i=r._locale.weekdaysParse(e,n,r._strict);null!=i?t.d=i:l(r).invalidWeekday=e})),ce(["d","e","E"],(function(e,t,r,n){t[n]=b(e)}));var Ze="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Je="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),$e="Su_Mo_Tu_We_Th_Fr_Sa".split("_");function Qe(e,t,r){var n,i,s,o=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],n=0;n<7;++n)s=C([2e3,1]).day(n),this._minWeekdaysParse[n]=this.weekdaysMin(s,"").toLocaleLowerCase(),this._shortWeekdaysParse[n]=this.weekdaysShort(s,"").toLocaleLowerCase(),this._weekdaysParse[n]=this.weekdays(s,"").toLocaleLowerCase();return r?"dddd"===t?-1!==(i=Oe.call(this._weekdaysParse,o))?i:null:"ddd"===t?-1!==(i=Oe.call(this._shortWeekdaysParse,o))?i:null:-1!==(i=Oe.call(this._minWeekdaysParse,o))?i:null:"dddd"===t?-1!==(i=Oe.call(this._weekdaysParse,o))?i:-1!==(i=Oe.call(this._shortWeekdaysParse,o))?i:-1!==(i=Oe.call(this._minWeekdaysParse,o))?i:null:"ddd"===t?-1!==(i=Oe.call(this._shortWeekdaysParse,o))?i:-1!==(i=Oe.call(this._weekdaysParse,o))?i:-1!==(i=Oe.call(this._minWeekdaysParse,o))?i:null:-1!==(i=Oe.call(this._minWeekdaysParse,o))?i:-1!==(i=Oe.call(this._weekdaysParse,o))?i:-1!==(i=Oe.call(this._shortWeekdaysParse,o))?i:null}var Xe=ae,et=ae,tt=ae;function rt(){function e(e,t){return t.length-e.length}var t,r,n,i,s,o=[],a=[],g=[],A=[];for(t=0;t<7;t++)r=C([2e3,1]).day(t),n=this.weekdaysMin(r,""),i=this.weekdaysShort(r,""),s=this.weekdays(r,""),o.push(n),a.push(i),g.push(s),A.push(n),A.push(i),A.push(s);for(o.sort(e),a.sort(e),g.sort(e),A.sort(e),t=0;t<7;t++)a[t]=Ie(a[t]),g[t]=Ie(g[t]),A[t]=Ie(A[t]);this._weekdaysRegex=new RegExp("^("+A.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+g.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+o.join("|")+")","i")}function nt(){return this.hours()%12||12}function it(e,t){z(e,0,0,(function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)}))}function st(e,t){return t._meridiemParse}z("H",["HH",2],0,"hour"),z("h",["hh",2],0,nt),z("k",["kk",2],0,(function(){return this.hours()||24})),z("hmm",0,0,(function(){return""+nt.apply(this)+N(this.minutes(),2)})),z("hmmss",0,0,(function(){return""+nt.apply(this)+N(this.minutes(),2)+N(this.seconds(),2)})),z("Hmm",0,0,(function(){return""+this.hours()+N(this.minutes(),2)})),z("Hmmss",0,0,(function(){return""+this.hours()+N(this.minutes(),2)+N(this.seconds(),2)})),it("a",!0),it("A",!1),P("hour","h"),Y("hour",13),Ae("a",st),Ae("A",st),Ae("H",$),Ae("h",$),Ae("k",$),Ae("HH",$,V),Ae("hh",$,V),Ae("kk",$,V),Ae("hmm",Q),Ae("hmmss",X),Ae("Hmm",Q),Ae("Hmmss",X),le(["H","HH"],me),le(["k","kk"],(function(e,t,r){var n=b(e);t[me]=24===n?0:n})),le(["a","A"],(function(e,t,r){r._isPm=r._locale.isPM(e),r._meridiem=e})),le(["h","hh"],(function(e,t,r){t[me]=b(e),l(r).bigHour=!0})),le("hmm",(function(e,t,r){var n=e.length-2;t[me]=b(e.substr(0,n)),t[_e]=b(e.substr(n)),l(r).bigHour=!0})),le("hmmss",(function(e,t,r){var n=e.length-4,i=e.length-2;t[me]=b(e.substr(0,n)),t[_e]=b(e.substr(n,2)),t[ye]=b(e.substr(i)),l(r).bigHour=!0})),le("Hmm",(function(e,t,r){var n=e.length-2;t[me]=b(e.substr(0,n)),t[_e]=b(e.substr(n))})),le("Hmmss",(function(e,t,r){var n=e.length-4,i=e.length-2;t[me]=b(e.substr(0,n)),t[_e]=b(e.substr(n,2)),t[ye]=b(e.substr(i))}));var ot,at=De("Hours",!0),gt={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:xe,monthsShort:je,week:{dow:0,doy:6},weekdays:Ze,weekdaysMin:$e,weekdaysShort:Je,meridiemParse:/[ap]\.?m?\.?/i},At={},ut={};function It(e){return e?e.toLowerCase().replace("_","-"):e}function Ct(t){var r=null;if(!At[t]&&void 0!==e&&e&&e.exports)try{r=ot._abbr,!function(){var e=new Error("Cannot find module 'undefined'");throw e.code="MODULE_NOT_FOUND",e}(),lt(r)}catch(e){}return At[t]}function lt(e,t){var r;return e&&((r=o(t)?dt(e):ct(e,t))?ot=r:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),ot._abbr}function ct(e,t){if(null!==t){var r,n=gt;if(t.abbr=e,null!=At[e])S("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=At[e]._config;else if(null!=t.parentLocale)if(null!=At[t.parentLocale])n=At[t.parentLocale]._config;else{if(null==(r=Ct(t.parentLocale)))return ut[t.parentLocale]||(ut[t.parentLocale]=[]),ut[t.parentLocale].push({name:e,config:t}),null;n=r._config}return At[e]=new L(T(n,t)),ut[e]&&ut[e].forEach((function(e){ct(e.name,e.config)})),lt(e),At[e]}return delete At[e],null}function dt(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return ot;if(!i(e)){if(t=Ct(e))return t;e=[e]}return function(e){for(var t,r,n,i,s=0;s<e.length;){for(t=(i=It(e[s]).split("-")).length,r=(r=It(e[s+1]))?r.split("-"):null;t>0;){if(n=Ct(i.slice(0,t).join("-")))return n;if(r&&r.length>=t&&v(i,r,!0)>=t-1)break;t--}s++}return ot}(e)}function ht(e){var t,r=e._a;return r&&-2===l(e).overflow&&(t=r[fe]<0||r[fe]>11?fe:r[pe]<1||r[pe]>Ee(r[he],r[fe])?pe:r[me]<0||r[me]>24||24===r[me]&&(0!==r[_e]||0!==r[ye]||0!==r[be])?me:r[_e]<0||r[_e]>59?_e:r[ye]<0||r[ye]>59?ye:r[be]<0||r[be]>999?be:-1,l(e)._overflowDayOfYear&&(t<he||t>pe)&&(t=pe),l(e)._overflowWeeks&&-1===t&&(t=ve),l(e)._overflowWeekday&&-1===t&&(t=we),l(e).overflow=t),e}function ft(e,t,r){return null!=e?e:null!=t?t:r}function pt(e){var t,r,i,s,o,a=[];if(!e._d){for(i=function(e){var t=new Date(n.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}(e),e._w&&null==e._a[pe]&&null==e._a[fe]&&function(e){var t,r,n,i,s,o,a,g;if(null!=(t=e._w).GG||null!=t.W||null!=t.E)s=1,o=4,r=ft(t.GG,e._a[he],qe(Pt(),1,4).year),n=ft(t.W,1),((i=ft(t.E,1))<1||i>7)&&(g=!0);else{s=e._locale._week.dow,o=e._locale._week.doy;var A=qe(Pt(),s,o);r=ft(t.gg,e._a[he],A.year),n=ft(t.w,A.week),null!=t.d?((i=t.d)<0||i>6)&&(g=!0):null!=t.e?(i=t.e+s,(t.e<0||t.e>6)&&(g=!0)):i=s}n<1||n>Ve(r,s,o)?l(e)._overflowWeeks=!0:null!=g?l(e)._overflowWeekday=!0:(a=Ge(r,n,i,s,o),e._a[he]=a.year,e._dayOfYear=a.dayOfYear)}(e),null!=e._dayOfYear&&(o=ft(e._a[he],i[he]),(e._dayOfYear>ke(o)||0===e._dayOfYear)&&(l(e)._overflowDayOfYear=!0),r=ze(o,0,e._dayOfYear),e._a[fe]=r.getUTCMonth(),e._a[pe]=r.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=a[t]=i[t];for(;t<7;t++)e._a[t]=a[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[me]&&0===e._a[_e]&&0===e._a[ye]&&0===e._a[be]&&(e._nextDay=!0,e._a[me]=0),e._d=(e._useUTC?ze:Be).apply(null,a),s=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[me]=24),e._w&&void 0!==e._w.d&&e._w.d!==s&&(l(e).weekdayMismatch=!0)}}var mt=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,_t=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,yt=/Z|[+-]\d\d(?::?\d\d)?/,bt=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],vt=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],wt=/^\/?Date\((\-?\d+)/i;function kt(e){var t,r,n,i,s,o,a=e._i,g=mt.exec(a)||_t.exec(a);if(g){for(l(e).iso=!0,t=0,r=bt.length;t<r;t++)if(bt[t][1].exec(g[1])){i=bt[t][0],n=!1!==bt[t][2];break}if(null==i)return void(e._isValid=!1);if(g[3]){for(t=0,r=vt.length;t<r;t++)if(vt[t][1].exec(g[3])){s=(g[2]||" ")+vt[t][0];break}if(null==s)return void(e._isValid=!1)}if(!n&&null!=s)return void(e._isValid=!1);if(g[4]){if(!yt.exec(g[4]))return void(e._isValid=!1);o="Z"}e._f=i+(s||"")+(o||""),Tt(e)}else e._isValid=!1}var Mt=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/;function Ot(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}var St={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Dt(e){var t,r,n,i,s,o,a,g=Mt.exec(e._i.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,""));if(g){var A=(t=g[4],r=g[3],n=g[2],i=g[5],s=g[6],o=g[7],a=[Ot(t),je.indexOf(r),parseInt(n,10),parseInt(i,10),parseInt(s,10)],o&&a.push(parseInt(o,10)),a);if(!function(e,t,r){return!e||Je.indexOf(e)===new Date(t[0],t[1],t[2]).getDay()||(l(r).weekdayMismatch=!0,r._isValid=!1,!1)}(g[1],A,e))return;e._a=A,e._tzm=function(e,t,r){if(e)return St[e];if(t)return 0;var n=parseInt(r,10),i=n%100;return(n-i)/100*60+i}(g[8],g[9],g[10]),e._d=ze.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),l(e).rfc2822=!0}else e._isValid=!1}function Tt(e){if(e._f!==n.ISO_8601)if(e._f!==n.RFC_2822){e._a=[],l(e).empty=!0;var t,r,i,s,o,a=""+e._i,g=a.length,A=0;for(i=G(e._f,e._locale).match(U)||[],t=0;t<i.length;t++)s=i[t],(r=(a.match(ue(s,e))||[])[0])&&((o=a.substr(0,a.indexOf(r))).length>0&&l(e).unusedInput.push(o),a=a.slice(a.indexOf(r)+r.length),A+=r.length),B[s]?(r?l(e).empty=!1:l(e).unusedTokens.push(s),de(s,r,e)):e._strict&&!r&&l(e).unusedTokens.push(s);l(e).charsLeftOver=g-A,a.length>0&&l(e).unusedInput.push(a),e._a[me]<=12&&!0===l(e).bigHour&&e._a[me]>0&&(l(e).bigHour=void 0),l(e).parsedDateParts=e._a.slice(0),l(e).meridiem=e._meridiem,e._a[me]=function(e,t,r){var n;return null==r?t:null!=e.meridiemHour?e.meridiemHour(t,r):null!=e.isPM?((n=e.isPM(r))&&t<12&&(t+=12),n||12!==t||(t=0),t):t}(e._locale,e._a[me],e._meridiem),pt(e),ht(e)}else Dt(e);else kt(e)}function Lt(e){var t=e._i,r=e._f;return e._locale=e._locale||dt(e._l),null===t||void 0===r&&""===t?d({nullInput:!0}):("string"==typeof t&&(e._i=t=e._locale.preparse(t)),_(t)?new m(ht(t)):(g(t)?e._d=t:i(r)?function(e){var t,r,n,i,s;if(0===e._f.length)return l(e).invalidFormat=!0,void(e._d=new Date(NaN));for(i=0;i<e._f.length;i++)s=0,t=f({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[i],Tt(t),c(t)&&(s+=l(t).charsLeftOver,s+=10*l(t).unusedTokens.length,l(t).score=s,(null==n||s<n)&&(n=s,r=t));I(e,r||t)}(e):r?Tt(e):function(e){var t=e._i;o(t)?e._d=new Date(n.now()):g(t)?e._d=new Date(t.valueOf()):"string"==typeof t?function(e){var t=wt.exec(e._i);null===t?(kt(e),!1===e._isValid&&(delete e._isValid,Dt(e),!1===e._isValid&&(delete e._isValid,n.createFromInputFallback(e)))):e._d=new Date(+t[1])}(e):i(t)?(e._a=A(t.slice(0),(function(e){return parseInt(e,10)})),pt(e)):s(t)?function(e){if(!e._d){var t=j(e._i);e._a=A([t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],(function(e){return e&&parseInt(e,10)})),pt(e)}}(e):a(t)?e._d=new Date(t):n.createFromInputFallback(e)}(e),c(e)||(e._d=null),e))}function Et(e,t,r,n,o){var a,g={};return!0!==r&&!1!==r||(n=r,r=void 0),(s(e)&&function(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;var t;for(t in e)if(e.hasOwnProperty(t))return!1;return!0}(e)||i(e)&&0===e.length)&&(e=void 0),g._isAMomentObject=!0,g._useUTC=g._isUTC=o,g._l=r,g._i=e,g._f=t,g._strict=n,(a=new m(ht(Lt(g))))._nextDay&&(a.add(1,"d"),a._nextDay=void 0),a}function Pt(e,t,r,n){return Et(e,t,r,n,!1)}n.createFromInputFallback=k("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",(function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))})),n.ISO_8601=function(){},n.RFC_2822=function(){};var xt=k("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=Pt.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:d()})),jt=k("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=Pt.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:d()}));function Rt(e,t){var r,n;if(1===t.length&&i(t[0])&&(t=t[0]),!t.length)return Pt();for(r=t[0],n=1;n<t.length;++n)t[n].isValid()&&!t[n][e](r)||(r=t[n]);return r}var Yt=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Nt(e){var t=j(e),r=t.year||0,n=t.quarter||0,i=t.month||0,s=t.week||t.isoWeek||0,o=t.day||0,a=t.hour||0,g=t.minute||0,A=t.second||0,u=t.millisecond||0;this._isValid=function(e){for(var t in e)if(-1===Oe.call(Yt,t)||null!=e[t]&&isNaN(e[t]))return!1;for(var r=!1,n=0;n<Yt.length;++n)if(e[Yt[n]]){if(r)return!1;parseFloat(e[Yt[n]])!==b(e[Yt[n]])&&(r=!0)}return!0}(t),this._milliseconds=+u+1e3*A+6e4*g+1e3*a*60*60,this._days=+o+7*s,this._months=+i+3*n+12*r,this._data={},this._locale=dt(),this._bubble()}function Ut(e){return e instanceof Nt}function Ht(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function Ft(e,t){z(e,0,0,(function(){var e=this.utcOffset(),r="+";return e<0&&(e=-e,r="-"),r+N(~~(e/60),2)+t+N(~~e%60,2)}))}Ft("Z",":"),Ft("ZZ",""),Ae("Z",oe),Ae("ZZ",oe),le(["Z","ZZ"],(function(e,t,r){r._useUTC=!0,r._tzm=zt(oe,e)}));var Bt=/([\+\-]|\d\d)/gi;function zt(e,t){var r=(t||"").match(e);if(null===r)return null;var n=((r[r.length-1]||[])+"").match(Bt)||["-",0,0],i=60*n[1]+b(n[2]);return 0===i?0:"+"===n[0]?i:-i}function Wt(e,t){var r,i;return t._isUTC?(r=t.clone(),i=(_(e)||g(e)?e.valueOf():Pt(e).valueOf())-r.valueOf(),r._d.setTime(r._d.valueOf()+i),n.updateOffset(r,!1),r):Pt(e).local()}function Gt(e){return 15*-Math.round(e._d.getTimezoneOffset()/15)}function qt(){return!!this.isValid()&&this._isUTC&&0===this._offset}n.updateOffset=function(){};var Vt=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,Kt=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Zt(e,t){var r,n,i,s,o,g,A=e,I=null;return Ut(e)?A={ms:e._milliseconds,d:e._days,M:e._months}:a(e)?(A={},t?A[t]=e:A.milliseconds=e):(I=Vt.exec(e))?(r="-"===I[1]?-1:1,A={y:0,d:b(I[pe])*r,h:b(I[me])*r,m:b(I[_e])*r,s:b(I[ye])*r,ms:b(Ht(1e3*I[be]))*r}):(I=Kt.exec(e))?(r="-"===I[1]?-1:1,A={y:Jt(I[2],r),M:Jt(I[3],r),w:Jt(I[4],r),d:Jt(I[5],r),h:Jt(I[6],r),m:Jt(I[7],r),s:Jt(I[8],r)}):null==A?A={}:"object"==typeof A&&("from"in A||"to"in A)&&(s=Pt(A.from),o=Pt(A.to),i=s.isValid()&&o.isValid()?(o=Wt(o,s),s.isBefore(o)?g=$t(s,o):((g=$t(o,s)).milliseconds=-g.milliseconds,g.months=-g.months),g):{milliseconds:0,months:0},(A={}).ms=i.milliseconds,A.M=i.months),n=new Nt(A),Ut(e)&&u(e,"_locale")&&(n._locale=e._locale),n}function Jt(e,t){var r=e&&parseFloat(e.replace(",","."));return(isNaN(r)?0:r)*t}function $t(e,t){var r={};return r.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(r.months,"M").isAfter(t)&&--r.months,r.milliseconds=+t-+e.clone().add(r.months,"M"),r}function Qt(e,t){return function(r,n){var i;return null===n||isNaN(+n)||(S(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),i=r,r=n,n=i),Xt(this,Zt(r="string"==typeof r?+r:r,n),e),this}}function Xt(e,t,r,i){var s=t._milliseconds,o=Ht(t._days),a=Ht(t._months);e.isValid()&&(i=null==i||i,a&&Ye(e,Te(e,"Month")+a*r),o&&Le(e,"Date",Te(e,"Date")+o*r),s&&e._d.setTime(e._d.valueOf()+s*r),i&&n.updateOffset(e,o||a))}Zt.fn=Nt.prototype,Zt.invalid=function(){return Zt(NaN)};var er=Qt(1,"add"),tr=Qt(-1,"subtract");function rr(e,t){var r=12*(t.year()-e.year())+(t.month()-e.month()),n=e.clone().add(r,"months");return-(r+(t-n<0?(t-n)/(n-e.clone().add(r-1,"months")):(t-n)/(e.clone().add(r+1,"months")-n)))||0}function nr(e){var t;return void 0===e?this._locale._abbr:(null!=(t=dt(e))&&(this._locale=t),this)}n.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",n.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var ir=k("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",(function(e){return void 0===e?this.localeData():this.locale(e)}));function sr(){return this._locale}var or=1e3,ar=60*or,gr=60*ar,Ar=3506328*gr;function ur(e,t){return(e%t+t)%t}function Ir(e,t,r){return e<100&&e>=0?new Date(e+400,t,r)-Ar:new Date(e,t,r).valueOf()}function Cr(e,t,r){return e<100&&e>=0?Date.UTC(e+400,t,r)-Ar:Date.UTC(e,t,r)}function lr(e,t){z(0,[e,e.length],0,t)}function cr(e,t,r,n,i){var s;return null==e?qe(this,n,i).year:(t>(s=Ve(e,n,i))&&(t=s),dr.call(this,e,t,r,n,i))}function dr(e,t,r,n,i){var s=Ge(e,t,r,n,i),o=ze(s.year,0,s.dayOfYear);return this.year(o.getUTCFullYear()),this.month(o.getUTCMonth()),this.date(o.getUTCDate()),this}z(0,["gg",2],0,(function(){return this.weekYear()%100})),z(0,["GG",2],0,(function(){return this.isoWeekYear()%100})),lr("gggg","weekYear"),lr("ggggg","weekYear"),lr("GGGG","isoWeekYear"),lr("GGGGG","isoWeekYear"),P("weekYear","gg"),P("isoWeekYear","GG"),Y("weekYear",1),Y("isoWeekYear",1),Ae("G",ie),Ae("g",ie),Ae("GG",$,V),Ae("gg",$,V),Ae("GGGG",te,Z),Ae("gggg",te,Z),Ae("GGGGG",re,J),Ae("ggggg",re,J),ce(["gggg","ggggg","GGGG","GGGGG"],(function(e,t,r,n){t[n.substr(0,2)]=b(e)})),ce(["gg","GG"],(function(e,t,r,i){t[i]=n.parseTwoDigitYear(e)})),z("Q",0,"Qo","quarter"),P("quarter","Q"),Y("quarter",7),Ae("Q",q),le("Q",(function(e,t){t[fe]=3*(b(e)-1)})),z("D",["DD",2],"Do","date"),P("date","D"),Y("date",9),Ae("D",$),Ae("DD",$,V),Ae("Do",(function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient})),le(["D","DD"],pe),le("Do",(function(e,t){t[pe]=b(e.match($)[0])}));var hr=De("Date",!0);z("DDD",["DDDD",3],"DDDo","dayOfYear"),P("dayOfYear","DDD"),Y("dayOfYear",4),Ae("DDD",ee),Ae("DDDD",K),le(["DDD","DDDD"],(function(e,t,r){r._dayOfYear=b(e)})),z("m",["mm",2],0,"minute"),P("minute","m"),Y("minute",14),Ae("m",$),Ae("mm",$,V),le(["m","mm"],_e);var fr=De("Minutes",!1);z("s",["ss",2],0,"second"),P("second","s"),Y("second",15),Ae("s",$),Ae("ss",$,V),le(["s","ss"],ye);var pr,mr=De("Seconds",!1);for(z("S",0,0,(function(){return~~(this.millisecond()/100)})),z(0,["SS",2],0,(function(){return~~(this.millisecond()/10)})),z(0,["SSS",3],0,"millisecond"),z(0,["SSSS",4],0,(function(){return 10*this.millisecond()})),z(0,["SSSSS",5],0,(function(){return 100*this.millisecond()})),z(0,["SSSSSS",6],0,(function(){return 1e3*this.millisecond()})),z(0,["SSSSSSS",7],0,(function(){return 1e4*this.millisecond()})),z(0,["SSSSSSSS",8],0,(function(){return 1e5*this.millisecond()})),z(0,["SSSSSSSSS",9],0,(function(){return 1e6*this.millisecond()})),P("millisecond","ms"),Y("millisecond",16),Ae("S",ee,q),Ae("SS",ee,V),Ae("SSS",ee,K),pr="SSSS";pr.length<=9;pr+="S")Ae(pr,ne);function _r(e,t){t[be]=b(1e3*("0."+e))}for(pr="S";pr.length<=9;pr+="S")le(pr,_r);var yr=De("Milliseconds",!1);z("z",0,0,"zoneAbbr"),z("zz",0,0,"zoneName");var br=m.prototype;function vr(e){return e}br.add=er,br.calendar=function(e,t){var r=e||Pt(),i=Wt(r,this).startOf("day"),s=n.calendarFormat(this,i)||"sameElse",o=t&&(D(t[s])?t[s].call(this,r):t[s]);return this.format(o||this.localeData().calendar(s,this,Pt(r)))},br.clone=function(){return new m(this)},br.diff=function(e,t,r){var n,i,s;if(!this.isValid())return NaN;if(!(n=Wt(e,this)).isValid())return NaN;switch(i=6e4*(n.utcOffset()-this.utcOffset()),t=x(t)){case"year":s=rr(this,n)/12;break;case"month":s=rr(this,n);break;case"quarter":s=rr(this,n)/3;break;case"second":s=(this-n)/1e3;break;case"minute":s=(this-n)/6e4;break;case"hour":s=(this-n)/36e5;break;case"day":s=(this-n-i)/864e5;break;case"week":s=(this-n-i)/6048e5;break;default:s=this-n}return r?s:y(s)},br.endOf=function(e){var t;if(void 0===(e=x(e))||"millisecond"===e||!this.isValid())return this;var r=this._isUTC?Cr:Ir;switch(e){case"year":t=r(this.year()+1,0,1)-1;break;case"quarter":t=r(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=r(this.year(),this.month()+1,1)-1;break;case"week":t=r(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=r(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=r(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=gr-ur(t+(this._isUTC?0:this.utcOffset()*ar),gr)-1;break;case"minute":t=this._d.valueOf(),t+=ar-ur(t,ar)-1;break;case"second":t=this._d.valueOf(),t+=or-ur(t,or)-1}return this._d.setTime(t),n.updateOffset(this,!0),this},br.format=function(e){e||(e=this.isUtc()?n.defaultFormatUtc:n.defaultFormat);var t=W(this,e);return this.localeData().postformat(t)},br.from=function(e,t){return this.isValid()&&(_(e)&&e.isValid()||Pt(e).isValid())?Zt({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},br.fromNow=function(e){return this.from(Pt(),e)},br.to=function(e,t){return this.isValid()&&(_(e)&&e.isValid()||Pt(e).isValid())?Zt({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},br.toNow=function(e){return this.to(Pt(),e)},br.get=function(e){return D(this[e=x(e)])?this[e]():this},br.invalidAt=function(){return l(this).overflow},br.isAfter=function(e,t){var r=_(e)?e:Pt(e);return!(!this.isValid()||!r.isValid())&&("millisecond"===(t=x(t)||"millisecond")?this.valueOf()>r.valueOf():r.valueOf()<this.clone().startOf(t).valueOf())},br.isBefore=function(e,t){var r=_(e)?e:Pt(e);return!(!this.isValid()||!r.isValid())&&("millisecond"===(t=x(t)||"millisecond")?this.valueOf()<r.valueOf():this.clone().endOf(t).valueOf()<r.valueOf())},br.isBetween=function(e,t,r,n){var i=_(e)?e:Pt(e),s=_(t)?t:Pt(t);return!!(this.isValid()&&i.isValid()&&s.isValid())&&("("===(n=n||"()")[0]?this.isAfter(i,r):!this.isBefore(i,r))&&(")"===n[1]?this.isBefore(s,r):!this.isAfter(s,r))},br.isSame=function(e,t){var r,n=_(e)?e:Pt(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=x(t)||"millisecond")?this.valueOf()===n.valueOf():(r=n.valueOf(),this.clone().startOf(t).valueOf()<=r&&r<=this.clone().endOf(t).valueOf()))},br.isSameOrAfter=function(e,t){return this.isSame(e,t)||this.isAfter(e,t)},br.isSameOrBefore=function(e,t){return this.isSame(e,t)||this.isBefore(e,t)},br.isValid=function(){return c(this)},br.lang=ir,br.locale=nr,br.localeData=sr,br.max=jt,br.min=xt,br.parsingFlags=function(){return I({},l(this))},br.set=function(e,t){if("object"==typeof e)for(var r=function(e){var t=[];for(var r in e)t.push({unit:r,priority:R[r]});return t.sort((function(e,t){return e.priority-t.priority})),t}(e=j(e)),n=0;n<r.length;n++)this[r[n].unit](e[r[n].unit]);else if(D(this[e=x(e)]))return this[e](t);return this},br.startOf=function(e){var t;if(void 0===(e=x(e))||"millisecond"===e||!this.isValid())return this;var r=this._isUTC?Cr:Ir;switch(e){case"year":t=r(this.year(),0,1);break;case"quarter":t=r(this.year(),this.month()-this.month()%3,1);break;case"month":t=r(this.year(),this.month(),1);break;case"week":t=r(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=r(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=r(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=ur(t+(this._isUTC?0:this.utcOffset()*ar),gr);break;case"minute":t=this._d.valueOf(),t-=ur(t,ar);break;case"second":t=this._d.valueOf(),t-=ur(t,or)}return this._d.setTime(t),n.updateOffset(this,!0),this},br.subtract=tr,br.toArray=function(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]},br.toObject=function(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}},br.toDate=function(){return new Date(this.valueOf())},br.toISOString=function(e){if(!this.isValid())return null;var t=!0!==e,r=t?this.clone().utc():this;return r.year()<0||r.year()>9999?W(r,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):D(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",W(r,"Z")):W(r,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},br.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="";this.isLocal()||(e=0===this.utcOffset()?"moment.utc":"moment.parseZone",t="Z");var r="["+e+'("]',n=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",i=t+'[")]';return this.format(r+n+"-MM-DD[T]HH:mm:ss.SSS"+i)},br.toJSON=function(){return this.isValid()?this.toISOString():null},br.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},br.unix=function(){return Math.floor(this.valueOf()/1e3)},br.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},br.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},br.year=Se,br.isLeapYear=function(){return Me(this.year())},br.weekYear=function(e){return cr.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},br.isoWeekYear=function(e){return cr.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)},br.quarter=br.quarters=function(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)},br.month=Ne,br.daysInMonth=function(){return Ee(this.year(),this.month())},br.week=br.weeks=function(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")},br.isoWeek=br.isoWeeks=function(e){var t=qe(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")},br.weeksInYear=function(){var e=this.localeData()._week;return Ve(this.year(),e.dow,e.doy)},br.isoWeeksInYear=function(){return Ve(this.year(),1,4)},br.date=hr,br.day=br.days=function(e){if(!this.isValid())return null!=e?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=function(e,t){return"string"!=typeof e?e:isNaN(e)?"number"==typeof(e=t.weekdaysParse(e))?e:null:parseInt(e,10)}(e,this.localeData()),this.add(e-t,"d")):t},br.weekday=function(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")},br.isoWeekday=function(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=function(e,t){return"string"==typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7},br.dayOfYear=function(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")},br.hour=br.hours=at,br.minute=br.minutes=fr,br.second=br.seconds=mr,br.millisecond=br.milliseconds=yr,br.utcOffset=function(e,t,r){var i,s=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null!=e){if("string"==typeof e){if(null===(e=zt(oe,e)))return this}else Math.abs(e)<16&&!r&&(e*=60);return!this._isUTC&&t&&(i=Gt(this)),this._offset=e,this._isUTC=!0,null!=i&&this.add(i,"m"),s!==e&&(!t||this._changeInProgress?Xt(this,Zt(e-s,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,n.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?s:Gt(this)},br.utc=function(e){return this.utcOffset(0,e)},br.local=function(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Gt(this),"m")),this},br.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var e=zt(se,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this},br.hasAlignedHourOffset=function(e){return!!this.isValid()&&(e=e?Pt(e).utcOffset():0,(this.utcOffset()-e)%60==0)},br.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},br.isLocal=function(){return!!this.isValid()&&!this._isUTC},br.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},br.isUtc=qt,br.isUTC=qt,br.zoneAbbr=function(){return this._isUTC?"UTC":""},br.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},br.dates=k("dates accessor is deprecated. Use date instead.",hr),br.months=k("months accessor is deprecated. Use month instead",Ne),br.years=k("years accessor is deprecated. Use year instead",Se),br.zone=k("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",(function(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()})),br.isDSTShifted=k("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",(function(){if(!o(this._isDSTShifted))return this._isDSTShifted;var e={};if(f(e,this),(e=Lt(e))._a){var t=e._isUTC?C(e._a):Pt(e._a);this._isDSTShifted=this.isValid()&&v(e._a,t.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}));var wr=L.prototype;function kr(e,t,r,n){var i=dt(),s=C().set(n,t);return i[r](s,e)}function Mr(e,t,r){if(a(e)&&(t=e,e=void 0),e=e||"",null!=t)return kr(e,t,r,"month");var n,i=[];for(n=0;n<12;n++)i[n]=kr(e,n,r,"month");return i}function Or(e,t,r,n){"boolean"==typeof e?(a(t)&&(r=t,t=void 0),t=t||""):(r=t=e,e=!1,a(t)&&(r=t,t=void 0),t=t||"");var i,s=dt(),o=e?s._week.dow:0;if(null!=r)return kr(t,(r+o)%7,n,"day");var g=[];for(i=0;i<7;i++)g[i]=kr(t,(i+o)%7,n,"day");return g}wr.calendar=function(e,t,r){var n=this._calendar[e]||this._calendar.sameElse;return D(n)?n.call(t,r):n},wr.longDateFormat=function(e){var t=this._longDateFormat[e],r=this._longDateFormat[e.toUpperCase()];return t||!r?t:(this._longDateFormat[e]=r.replace(/MMMM|MM|DD|dddd/g,(function(e){return e.slice(1)})),this._longDateFormat[e])},wr.invalidDate=function(){return this._invalidDate},wr.ordinal=function(e){return this._ordinal.replace("%d",e)},wr.preparse=vr,wr.postformat=vr,wr.relativeTime=function(e,t,r,n){var i=this._relativeTime[r];return D(i)?i(e,t,r,n):i.replace(/%d/i,e)},wr.pastFuture=function(e,t){var r=this._relativeTime[e>0?"future":"past"];return D(r)?r(t):r.replace(/%s/i,t)},wr.set=function(e){var t,r;for(r in e)D(t=e[r])?this[r]=t:this["_"+r]=t;this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},wr.months=function(e,t){return e?i(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||Pe).test(t)?"format":"standalone"][e.month()]:i(this._months)?this._months:this._months.standalone},wr.monthsShort=function(e,t){return e?i(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[Pe.test(t)?"format":"standalone"][e.month()]:i(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},wr.monthsParse=function(e,t,r){var n,i,s;if(this._monthsParseExact)return Re.call(this,e,t,r);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),n=0;n<12;n++){if(i=C([2e3,n]),r&&!this._longMonthsParse[n]&&(this._longMonthsParse[n]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[n]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),r||this._monthsParse[n]||(s="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[n]=new RegExp(s.replace(".",""),"i")),r&&"MMMM"===t&&this._longMonthsParse[n].test(e))return n;if(r&&"MMM"===t&&this._shortMonthsParse[n].test(e))return n;if(!r&&this._monthsParse[n].test(e))return n}},wr.monthsRegex=function(e){return this._monthsParseExact?(u(this,"_monthsRegex")||Fe.call(this),e?this._monthsStrictRegex:this._monthsRegex):(u(this,"_monthsRegex")||(this._monthsRegex=He),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)},wr.monthsShortRegex=function(e){return this._monthsParseExact?(u(this,"_monthsRegex")||Fe.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(u(this,"_monthsShortRegex")||(this._monthsShortRegex=Ue),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)},wr.week=function(e){return qe(e,this._week.dow,this._week.doy).week},wr.firstDayOfYear=function(){return this._week.doy},wr.firstDayOfWeek=function(){return this._week.dow},wr.weekdays=function(e,t){var r=i(this._weekdays)?this._weekdays:this._weekdays[e&&!0!==e&&this._weekdays.isFormat.test(t)?"format":"standalone"];return!0===e?Ke(r,this._week.dow):e?r[e.day()]:r},wr.weekdaysMin=function(e){return!0===e?Ke(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin},wr.weekdaysShort=function(e){return!0===e?Ke(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort},wr.weekdaysParse=function(e,t,r){var n,i,s;if(this._weekdaysParseExact)return Qe.call(this,e,t,r);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),n=0;n<7;n++){if(i=C([2e3,1]).day(n),r&&!this._fullWeekdaysParse[n]&&(this._fullWeekdaysParse[n]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[n]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[n]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[n]||(s="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[n]=new RegExp(s.replace(".",""),"i")),r&&"dddd"===t&&this._fullWeekdaysParse[n].test(e))return n;if(r&&"ddd"===t&&this._shortWeekdaysParse[n].test(e))return n;if(r&&"dd"===t&&this._minWeekdaysParse[n].test(e))return n;if(!r&&this._weekdaysParse[n].test(e))return n}},wr.weekdaysRegex=function(e){return this._weekdaysParseExact?(u(this,"_weekdaysRegex")||rt.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(u(this,"_weekdaysRegex")||(this._weekdaysRegex=Xe),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)},wr.weekdaysShortRegex=function(e){return this._weekdaysParseExact?(u(this,"_weekdaysRegex")||rt.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(u(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=et),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},wr.weekdaysMinRegex=function(e){return this._weekdaysParseExact?(u(this,"_weekdaysRegex")||rt.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(u(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=tt),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},wr.isPM=function(e){return"p"===(e+"").toLowerCase().charAt(0)},wr.meridiem=function(e,t,r){return e>11?r?"pm":"PM":r?"am":"AM"},lt("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===b(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),n.lang=k("moment.lang is deprecated. Use moment.locale instead.",lt),n.langData=k("moment.langData is deprecated. Use moment.localeData instead.",dt);var Sr=Math.abs;function Dr(e,t,r,n){var i=Zt(t,r);return e._milliseconds+=n*i._milliseconds,e._days+=n*i._days,e._months+=n*i._months,e._bubble()}function Tr(e){return e<0?Math.floor(e):Math.ceil(e)}function Lr(e){return 4800*e/146097}function Er(e){return 146097*e/4800}function Pr(e){return function(){return this.as(e)}}var xr=Pr("ms"),jr=Pr("s"),Rr=Pr("m"),Yr=Pr("h"),Nr=Pr("d"),Ur=Pr("w"),Hr=Pr("M"),Fr=Pr("Q"),Br=Pr("y");function zr(e){return function(){return this.isValid()?this._data[e]:NaN}}var Wr=zr("milliseconds"),Gr=zr("seconds"),qr=zr("minutes"),Vr=zr("hours"),Kr=zr("days"),Zr=zr("months"),Jr=zr("years"),$r=Math.round,Qr={ss:44,s:45,m:45,h:22,d:26,M:11};function Xr(e,t,r,n,i){return i.relativeTime(t||1,!!r,e,n)}var en=Math.abs;function tn(e){return(e>0)-(e<0)||+e}function rn(){if(!this.isValid())return this.localeData().invalidDate();var e,t,r=en(this._milliseconds)/1e3,n=en(this._days),i=en(this._months);e=y(r/60),t=y(e/60),r%=60,e%=60;var s=y(i/12),o=i%=12,a=n,g=t,A=e,u=r?r.toFixed(3).replace(/\.?0+$/,""):"",I=this.asSeconds();if(!I)return"P0D";var C=I<0?"-":"",l=tn(this._months)!==tn(I)?"-":"",c=tn(this._days)!==tn(I)?"-":"",d=tn(this._milliseconds)!==tn(I)?"-":"";return C+"P"+(s?l+s+"Y":"")+(o?l+o+"M":"")+(a?c+a+"D":"")+(g||A||u?"T":"")+(g?d+g+"H":"")+(A?d+A+"M":"")+(u?d+u+"S":"")}var nn=Nt.prototype;return nn.isValid=function(){return this._isValid},nn.abs=function(){var e=this._data;return this._milliseconds=Sr(this._milliseconds),this._days=Sr(this._days),this._months=Sr(this._months),e.milliseconds=Sr(e.milliseconds),e.seconds=Sr(e.seconds),e.minutes=Sr(e.minutes),e.hours=Sr(e.hours),e.months=Sr(e.months),e.years=Sr(e.years),this},nn.add=function(e,t){return Dr(this,e,t,1)},nn.subtract=function(e,t){return Dr(this,e,t,-1)},nn.as=function(e){if(!this.isValid())return NaN;var t,r,n=this._milliseconds;if("month"===(e=x(e))||"quarter"===e||"year"===e)switch(t=this._days+n/864e5,r=this._months+Lr(t),e){case"month":return r;case"quarter":return r/3;case"year":return r/12}else switch(t=this._days+Math.round(Er(this._months)),e){case"week":return t/7+n/6048e5;case"day":return t+n/864e5;case"hour":return 24*t+n/36e5;case"minute":return 1440*t+n/6e4;case"second":return 86400*t+n/1e3;case"millisecond":return Math.floor(864e5*t)+n;default:throw new Error("Unknown unit "+e)}},nn.asMilliseconds=xr,nn.asSeconds=jr,nn.asMinutes=Rr,nn.asHours=Yr,nn.asDays=Nr,nn.asWeeks=Ur,nn.asMonths=Hr,nn.asQuarters=Fr,nn.asYears=Br,nn.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*b(this._months/12):NaN},nn._bubble=function(){var e,t,r,n,i,s=this._milliseconds,o=this._days,a=this._months,g=this._data;return s>=0&&o>=0&&a>=0||s<=0&&o<=0&&a<=0||(s+=864e5*Tr(Er(a)+o),o=0,a=0),g.milliseconds=s%1e3,e=y(s/1e3),g.seconds=e%60,t=y(e/60),g.minutes=t%60,r=y(t/60),g.hours=r%24,o+=y(r/24),i=y(Lr(o)),a+=i,o-=Tr(Er(i)),n=y(a/12),a%=12,g.days=o,g.months=a,g.years=n,this},nn.clone=function(){return Zt(this)},nn.get=function(e){return e=x(e),this.isValid()?this[e+"s"]():NaN},nn.milliseconds=Wr,nn.seconds=Gr,nn.minutes=qr,nn.hours=Vr,nn.days=Kr,nn.weeks=function(){return y(this.days()/7)},nn.months=Zr,nn.years=Jr,nn.humanize=function(e){if(!this.isValid())return this.localeData().invalidDate();var t=this.localeData(),r=function(e,t,r){var n=Zt(e).abs(),i=$r(n.as("s")),s=$r(n.as("m")),o=$r(n.as("h")),a=$r(n.as("d")),g=$r(n.as("M")),A=$r(n.as("y")),u=i<=Qr.ss&&["s",i]||i<Qr.s&&["ss",i]||s<=1&&["m"]||s<Qr.m&&["mm",s]||o<=1&&["h"]||o<Qr.h&&["hh",o]||a<=1&&["d"]||a<Qr.d&&["dd",a]||g<=1&&["M"]||g<Qr.M&&["MM",g]||A<=1&&["y"]||["yy",A];return u[2]=t,u[3]=+e>0,u[4]=r,Xr.apply(null,u)}(this,!e,t);return e&&(r=t.pastFuture(+this,r)),t.postformat(r)},nn.toISOString=rn,nn.toString=rn,nn.toJSON=rn,nn.locale=nr,nn.localeData=sr,nn.toIsoString=k("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",rn),nn.lang=ir,z("X",0,0,"unix"),z("x",0,0,"valueOf"),Ae("x",ie),Ae("X",/[+-]?\d+(\.\d{1,3})?/),le("X",(function(e,t,r){r._d=new Date(1e3*parseFloat(e,10))})),le("x",(function(e,t,r){r._d=new Date(b(e))})),n.version="2.24.0",t=Pt,n.fn=br,n.min=function(){return Rt("isBefore",[].slice.call(arguments,0))},n.max=function(){return Rt("isAfter",[].slice.call(arguments,0))},n.now=function(){return Date.now?Date.now():+new Date},n.utc=C,n.unix=function(e){return Pt(1e3*e)},n.months=function(e,t){return Mr(e,t,"months")},n.isDate=g,n.locale=lt,n.invalid=d,n.duration=Zt,n.isMoment=_,n.weekdays=function(e,t,r){return Or(e,t,r,"weekdays")},n.parseZone=function(){return Pt.apply(null,arguments).parseZone()},n.localeData=dt,n.isDuration=Ut,n.monthsShort=function(e,t){return Mr(e,t,"monthsShort")},n.weekdaysMin=function(e,t,r){return Or(e,t,r,"weekdaysMin")},n.defineLocale=ct,n.updateLocale=function(e,t){if(null!=t){var r,n,i=gt;null!=(n=Ct(e))&&(i=n._config),t=T(i,t),(r=new L(t)).parentLocale=At[e],At[e]=r,lt(e)}else null!=At[e]&&(null!=At[e].parentLocale?At[e]=At[e].parentLocale:null!=At[e]&&delete At[e]);return At[e]},n.locales=function(){return M(At)},n.weekdaysShort=function(e,t,r){return Or(e,t,r,"weekdaysShort")},n.normalizeUnits=x,n.relativeTimeRounding=function(e){return void 0===e?$r:"function"==typeof e&&($r=e,!0)},n.relativeTimeThreshold=function(e,t){return void 0!==Qr[e]&&(void 0===t?Qr[e]:(Qr[e]=t,"s"===e&&(Qr.ss=t-1),!0))},n.calendarFormat=function(e,t){var r=e.diff(t,"days",!0);return r<-6?"sameElse":r<-1?"lastWeek":r<0?"lastDay":r<1?"sameDay":r<2?"nextDay":r<7?"nextWeek":"sameElse"},n.prototype=br,n.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},n}()}).call(this,r(90)(e))},function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));var n=function(){return"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}()},function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));var n=function(){function e(e){return Error.call(this),this.message=e?e.length+" errors occurred during unsubscription:\n"+e.map((function(e,t){return t+1+") "+e.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=e,this}return e.prototype=Object.create(Error.prototype),e}()},function(e,t,r){"use strict";var n=r(3),i=r(151),s=r(221),o=r(2);class a extends i.a{processList(e,t){let r;Object(o.log)("processing comp...");try{r=this._buildDb(t.compatibility,t.compatibilityVersion)}catch(e){return Object(o.log)("CompatibilityDb processList() error",e),!1}return!!r&&(Object(o.log)("processed comp..."),this.db=r,e||(n.a.compatibility=t),!0)}hasIssue(e,t){return this.db.list&&this.db.list.hasOwnProperty(e)&&Object(s.a)(t,this.db.list[e])}_buildDb(e,t){const r={};return e.forEach(e=>{r[e.aid]=e.urls}),{list:r,version:t}}}t.a=new a("compatibility")},,function(e,t,r){"use strict";var n=r(258),i=r(143),s=r(99),o=r(109),a=r(259),g=r(260),A=r(188);r.d(t,"a",(function(){return u}));var u=function(e){if(e&&"function"==typeof e[o.a])return u=e,function(e){var t=u[o.a]();if("function"!=typeof t.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return t.subscribe(e)};if(Object(a.a)(e))return Object(n.a)(e);if(Object(g.a)(e))return r=e,function(e){return r.then((function(t){e.closed||(e.next(t),e.complete())}),(function(t){return e.error(t)})).then(null,i.a),e};if(e&&"function"==typeof e[s.a])return t=e,function(e){for(var r=t[s.a]();;){var n=r.next();if(n.done){e.complete();break}if(e.next(n.value),e.closed)break}return"function"==typeof r.return&&e.add((function(){r.return&&r.return()})),e};var t,r,u,I=Object(A.a)(e)?"an invalid object":"'"+e+"'";throw new TypeError("You provided "+I+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.")}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={getWindow:!0,isTabURL:!0,getLocale:!0,getBrowserMajorVersion:!0,enableChangeEvents:!0,addWindowObserver:!0,removeWindowObserver:!0,addSessionRestoreObserver:!0,removeSessionRestoreObserver:!0,addMigrationObserver:!0,removeMigrationObserver:!0,forEachWindow:!0,getUrlForTab:!0,getActiveTab:!0,getCookies:!0,disableChangeEvents:!0,isDefaultBrowser:!0,isPrivateMode:!0,openLink:!0};t.getWindow=function(){return u},t.isTabURL=function(){return!1},t.getLocale=function(){return i.window.navigator.language||i.window.navigator.userLanguage},t.getBrowserMajorVersion=function(){let e=navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./),t=!!e&&parseInt(e[2],10);t||(e=navigator.userAgent.match(/Firefox\/([0-9]+)\./),t=!!e&&parseInt(e[1],10));return t},t.enableChangeEvents=function(){i.chrome.cliqz&&i.chrome.cliqz.onPrefChange&&(i.chrome.cliqz.onPrefChange.addListener(C,"datareporting.healthreport.","uploadEnabled"),i.chrome.cliqz.onPrefChange.addListener(C,"toolkit.telemetry.","enabled"))},t.addWindowObserver=c,t.removeWindowObserver=function(e){if(void 0===s.default)return;const t=l.get(e);s.default.onCreated.removeListener(t.open),s.default.onFocusChanged.removeListener(t.focus),s.default.onRemoved.removeListener(t.close)},t.addSessionRestoreObserver=function(){},t.removeSessionRestoreObserver=function(){},t.addMigrationObserver=function(){},t.removeMigrationObserver=function(){},t.forEachWindow=function(e){return[...I.values()].map(t=>{let r;try{r=e(t)}catch(e){}return r})},t.getUrlForTab=function(e){return new Promise(t=>{i.chrome.tabs.get(Number(e),e=>{i.chrome.runtime.lastError?t(null):t(e.url)})})},t.getActiveTab=function(){return new Promise((e,t)=>{i.chrome.tabs.query({active:!0,currentWindow:!0},r=>{if(0!==r.length){const t=r[0];e({id:t.id,url:t.url})}else t(new Error("Result of query for active tab is undefined"))})})},t.getCookies=function e(t){return new Promise(r=>{const n={url:t};h&&(n.firstPartyDomain=null),i.chrome.cookies.getAll(n,n=>{i.chrome.runtime.lastError&&i.chrome.runtime.lastError.message&&i.chrome.runtime.lastError.message.indexOf("firstPartyDomain")>-1?(h=!h,r(e(t))):r(n.map(e=>e.value).join(";"))})})},t.disableChangeEvents=function(){i.chrome.cliqz&&i.chrome.cliqz.onPrefChange&&i.chrome.cliqz.onPrefChange.removeListener(C)},t.isDefaultBrowser=function(){if(i.chrome.cliqz&&i.chrome.cliqz.isDefaultBrowser)return i.chrome.cliqz.isDefaultBrowser();return Promise.resolve(null)},t.isPrivateMode=function(e){if(!e)throw new Error("isPrivateMode was called without a window object");return e.incognito||i.chrome.extension.inIncognitoContext},t.openLink=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];r?i.chrome.tabs.create({url:t,active:n}):i.chrome.windows.getCurrent({populate:!0},e=>{const r=e.tabs.find(e=>e.active);i.chrome.tabs.update(r.id,{url:t})})};var i=r(51),s=function(e){if(e&&e.__esModule)return e;var t=A();if(t&&t.has(e))return t.get(e);var r={};if(null!=e){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var s=n?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(r,i,s):r[i]=e[i]}}r.default=e,t&&t.set(e,r);return r}
/*!
 * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */(r(318));Object.keys(s).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(n,e)||Object.defineProperty(t,e,{enumerable:!0,get:function(){return s[e]}}))}));var o,a=(o=r(39))&&o.__esModule?o:{default:o},g=r(267);function A(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return A=function(){return e},e}Object.keys(g).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(n,e)||Object.defineProperty(t,e,{enumerable:!0,get:function(){return g[e]}}))}));let u=null;const I=new Map;const C=()=>a.default.pub("healthReportChange");const l=new WeakMap;function c(e){if(void 0===s.default)return;const t={open:t=>e(t,"opened"),focus:t=>{const r=I.get(t)||{id:t};return e(r,"focused")},close:t=>e({id:t},"closed")};l.set(e,t),s.default.onCreated.addListener(t.open),s.default.onFocusChanged.addListener(t.focus),s.default.onRemoved.addListener(t.close)}function d(e,t){"opened"===t&&I.set(e.id,e),"closed"===t&&I.delete(e.id),"focused"===t&&(u=I.get(e.id)||u),e.focused&&(u=e)}void 0!==s.default?(c(d),s.default.getAll(e=>e.forEach(e=>d(e,"opened")))):(u=i.window,I.set(void 0,i.window));let h=!1},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getMessage=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(!e)return"";if(s.IMPLEMENTS_GET_MESSAGE)return(0,s.getMessage)(e,t);0===Object.keys(s.locale).length&&(0,s.loadTranslation)(u.currLocale);const r=(s.locale[u.currLocale][e]||{message:e}).message||e;let n=t;Array.isArray(t)||(n=[t]);return n=n.map(String),r.replace(/\$(?:([1-9]\d*)|(\$+))/g,(function(e,t,r){if(t){const e=parseInt(t,10)-1;return e in n?n[e]:""}return r}))},Object.defineProperty(t,"LOCALE_PATH",{enumerable:!0,get:function(){return s.LOCALE_PATH}}),t.default=t.getLanguageFromLocale=void 0;var n,i=r(173),s=r(405),o=(n=r(19))&&n.__esModule?n:{default:n};
/*!
 * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */
const a=JSON.stringify(["de-DE","en-US","da-DK","de","en-GB","fr-FR","en-DE","es-ES","ru-RU","nl-NL","en","de-CH","it-IT","de-AT","sv-SE","pl-PL","nb-NO","fi-FI","en-DK","hu-HU","fr"]),g=e=>e.match(/([a-z]+)(?:[-_]([A-Z]+))?/)[1];function A(){let e;try{e=JSON.parse(o.default.get("config_locale_whitelist",a))}catch(t){e=JSON.parse(a),console.log(`Locale - Malformed JSON: ${t}`)}let t=(0,i.getLocale)();return e.includes(t)||(t="en"),t}t.getLanguageFromLocale=g;const u={locale:s.locale,get currLocale(){return e=this.PLATFORM_LANGUAGE,-1!==s.SUPPORTED_LANGS.indexOf(e)?e:"en";var e},get PLATFORM_LOCALE(){return A()},get PLATFORM_LANGUAGE_FILTERED(){return g(A())},get PLATFORM_LANGUAGE(){return g((0,i.getLocale)())}};var I=u;t.default=I},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i=(n=r(198))&&n.__esModule?n:{default:n};
/*!
 * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */
var s=("undefined"!=typeof browser?browser:i.default).runtime;t.default=s},function(e,t,r){"use strict";function n(e,t){return function(e){if(Array.isArray(e))return e}
/*!
 * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var r=[],n=!0,i=!1,s=void 0;try{for(var o,a=e[Symbol.iterator]();!(n=(o=a.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){i=!0,s=e}finally{try{n||null==a.return||a.return()}finally{if(i)throw s}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=class{constructor(e){this.maxSize=e,this.reset=()=>{this.cache=new Map,this.head=null,this.tail=null,this.size=0},this.reset()}has(e){return this.cache.has(e)}get(e){const t=this.cache.get(e);if(t)return this._touch(t),t.value}set(e,t){let r=this.cache.get(e);r?(r.value=t,this._touch(r)):(r=this._newNode(e,t),this.size>=this.maxSize&&(this.cache.delete(this.tail.key),this._remove(this.tail)),this.cache.set(e,r),this._pushFront(r))}toMap(){const e=new Map;var t=!0,r=!1,i=void 0;try{for(var s,o=this.cache.entries()[Symbol.iterator]();!(t=(s=o.next()).done);t=!0){const t=n(s.value,2),r=t[0],i=t[1].value;e.set(r,i)}}catch(e){r=!0,i=e}finally{try{t||null==o.return||o.return()}finally{if(r)throw i}}return e}_newNode(e,t){return{prev:null,next:null,key:e,value:t}}_touch(e){this._remove(e),this._pushFront(e)}_remove(e){e&&(null===e.prev?this.head=e.next:e.prev.next=e.next,null===e.next?this.tail=e.prev:e.next.prev=e.prev,this.size-=1)}_pushFront(e){e&&(e.prev=null,e.next=this.head,null!==this.head&&(this.head.prev=e),this.head=e,null===this.tail&&(this.tail=e),this.size+=1)}}},function(e,t,r){var n=r(361),i="object"==typeof self&&self&&self.Object===Object&&self,s=n||i||Function("return this")();e.exports=s},function(e,t){e.exports=function(e){return null!=e&&"object"==typeof e}},,,function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));var n=r(6),i=r(10);function s(){return function(e){return e.lift(new o(e))}}var o=function(){function e(e){this.connectable=e}return e.prototype.call=function(e,t){var r=this.connectable;r._refCount++;var n=new a(e,r),i=t.subscribe(n);return n.closed||(n.connection=r.connect()),i},e}(),a=function(e){function t(t,r){var n=e.call(this,t)||this;return n.connectable=r,n}return n.b(t,e),t.prototype._unsubscribe=function(){var e=this.connectable;if(e){this.connectable=null;var t=e._refCount;if(t<=0)this.connection=null;else if(e._refCount=t-1,t>1)this.connection=null;else{var r=this.connection,n=e._connection;this.connection=null,!n||r&&n!==r||n.unsubscribe()}}else this.connection=null},t}(i.a)},function(e,t,r){"use strict";r.d(t,"a",(function(){return u}));var n=r(6),i=r(37),s=r(256),o=r(30),a=r(249),g=r(110),A=r(257),u=function(e){function t(t,r,n){void 0===t&&(t=Number.POSITIVE_INFINITY),void 0===r&&(r=Number.POSITIVE_INFINITY);var i=e.call(this)||this;return i.scheduler=n,i._events=[],i._infiniteTimeWindow=!1,i._bufferSize=t<1?1:t,i._windowTime=r<1?1:r,r===Number.POSITIVE_INFINITY?(i._infiniteTimeWindow=!0,i.next=i.nextInfiniteTimeWindow):i.next=i.nextTimeWindow,i}return n.b(t,e),t.prototype.nextInfiniteTimeWindow=function(t){var r=this._events;r.push(t),r.length>this._bufferSize&&r.shift(),e.prototype.next.call(this,t)},t.prototype.nextTimeWindow=function(t){this._events.push(new I(this._getNow(),t)),this._trimBufferThenGetEvents(),e.prototype.next.call(this,t)},t.prototype._subscribe=function(e){var t,r=this._infiniteTimeWindow,n=r?this._events:this._trimBufferThenGetEvents(),i=this.scheduler,s=n.length;if(this.closed)throw new g.a;if(this.isStopped||this.hasError?t=o.a.EMPTY:(this.observers.push(e),t=new A.a(this,e)),i&&e.add(e=new a.a(e,i)),r)for(var u=0;u<s&&!e.closed;u++)e.next(n[u]);else for(u=0;u<s&&!e.closed;u++)e.next(n[u].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),t},t.prototype._getNow=function(){return(this.scheduler||s.a).now()},t.prototype._trimBufferThenGetEvents=function(){for(var e=this._getNow(),t=this._bufferSize,r=this._windowTime,n=this._events,i=n.length,s=0;s<i&&!(e-n[s].time<r);)s++;return i>t&&(s=Math.max(s,i-t)),s>0&&n.splice(0,s),n},t}(i.a),I=function(){return function(e,t){this.time=e,this.value=t}}()},function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=r(16);function i(e,t){return t?new n.a((function(r){return t.schedule(s,0,{error:e,subscriber:r})})):new n.a((function(t){return t.error(e)}))}function s(e){var t=e.error;e.subscriber.error(t)}},function(e,t,r){"use strict";r.d(t,"b",(function(){return u})),r.d(t,"a",(function(){return I}));var n=r(6),i=r(61),s=r(40),o=r(21),a=r(20),g=r(126),A={};function u(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=null,n=null;return Object(i.a)(e[e.length-1])&&(n=e.pop()),"function"==typeof e[e.length-1]&&(r=e.pop()),1===e.length&&Object(s.a)(e[0])&&(e=e[0]),Object(g.a)(e,n).lift(new I(r))}var I=function(){function e(e){this.resultSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new C(e,this.resultSelector))},e}(),C=function(e){function t(t,r){var n=e.call(this,t)||this;return n.resultSelector=r,n.active=0,n.values=[],n.observables=[],n}return n.b(t,e),t.prototype._next=function(e){this.values.push(A),this.observables.push(e)},t.prototype._complete=function(){var e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(var r=0;r<t;r++){var n=e[r];this.add(Object(a.a)(this,n,n,r))}}},t.prototype.notifyComplete=function(e){0==(this.active-=1)&&this.destination.complete()},t.prototype.notifyNext=function(e,t,r,n,i){var s=this.values,o=s[r],a=this.toRespond?o===A?--this.toRespond:this.toRespond:0;s[r]=t,0===a&&(this.resultSelector?this._tryResultSelector(s):this.destination.next(s.slice()))},t.prototype._tryResultSelector=function(e){var t;try{t=this.resultSelector.apply(this,e)}catch(e){return void this.destination.error(e)}this.destination.next(t)},t}(o.a)},function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));var n=r(118),i=r(98);function s(e){return void 0===e&&(e=Number.POSITIVE_INFINITY),Object(n.a)(i.a,e)}},function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r(16),i=r(65),s=r(64);function o(e){return new n.a((function(t){var r;try{r=e()}catch(e){return void t.error(e)}return(r?Object(i.a)(r):Object(s.b)()).subscribe(t)}))}},function(e,t,r){"use strict";r.d(t,"b",(function(){return u})),r.d(t,"a",(function(){return I}));var n=r(6),i=r(126),s=r(40),o=r(10),a=r(21),g=r(20),A=r(99);function u(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=e[e.length-1];return"function"==typeof r&&e.pop(),Object(i.a)(e,void 0).lift(new I(r))}var I=function(){function e(e){this.resultSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new C(e,this.resultSelector))},e}(),C=function(e){function t(t,r,n){void 0===n&&(n=Object.create(null));var i=e.call(this,t)||this;return i.iterators=[],i.active=0,i.resultSelector="function"==typeof r?r:null,i.values=n,i}return n.b(t,e),t.prototype._next=function(e){var t=this.iterators;Object(s.a)(e)?t.push(new c(e)):"function"==typeof e[A.a]?t.push(new l(e[A.a]())):t.push(new d(this.destination,this,e))},t.prototype._complete=function(){var e=this.iterators,t=e.length;if(this.unsubscribe(),0!==t){this.active=t;for(var r=0;r<t;r++){var n=e[r];if(n.stillUnsubscribed)this.destination.add(n.subscribe(n,r));else this.active--}}else this.destination.complete()},t.prototype.notifyInactive=function(){this.active--,0===this.active&&this.destination.complete()},t.prototype.checkIterators=function(){for(var e=this.iterators,t=e.length,r=this.destination,n=0;n<t;n++){if("function"==typeof(o=e[n]).hasValue&&!o.hasValue())return}var i=!1,s=[];for(n=0;n<t;n++){var o,a=(o=e[n]).next();if(o.hasCompleted()&&(i=!0),a.done)return void r.complete();s.push(a.value)}this.resultSelector?this._tryresultSelector(s):r.next(s),i&&r.complete()},t.prototype._tryresultSelector=function(e){var t;try{t=this.resultSelector.apply(this,e)}catch(e){return void this.destination.error(e)}this.destination.next(t)},t}(o.a),l=function(){function e(e){this.iterator=e,this.nextResult=e.next()}return e.prototype.hasValue=function(){return!0},e.prototype.next=function(){var e=this.nextResult;return this.nextResult=this.iterator.next(),e},e.prototype.hasCompleted=function(){var e=this.nextResult;return e&&e.done},e}(),c=function(){function e(e){this.array=e,this.index=0,this.length=0,this.length=e.length}return e.prototype[A.a]=function(){return this},e.prototype.next=function(e){var t=this.index++,r=this.array;return t<this.length?{value:r[t],done:!1}:{value:null,done:!0}},e.prototype.hasValue=function(){return this.array.length>this.index},e.prototype.hasCompleted=function(){return this.array.length===this.index},e}(),d=function(e){function t(t,r,n){var i=e.call(this,t)||this;return i.parent=r,i.observable=n,i.stillUnsubscribed=!0,i.buffer=[],i.isComplete=!1,i}return n.b(t,e),t.prototype[A.a]=function(){return this},t.prototype.next=function(){var e=this.buffer;return 0===e.length&&this.isComplete?{value:null,done:!0}:{value:e.shift(),done:!1}},t.prototype.hasValue=function(){return this.buffer.length>0},t.prototype.hasCompleted=function(){return 0===this.buffer.length&&this.isComplete},t.prototype.notifyComplete=function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},t.prototype.notifyNext=function(e,t,r,n,i){this.buffer.push(t),this.parent.checkIterators()},t.prototype.subscribe=function(e,t){return Object(g.a)(this,this.observable,this,t)},t}(a.a)},function(e,t,r){"use strict";function n(e){return null!==e&&"object"==typeof e}r.d(t,"a",(function(){return n}))},function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=r(10);function i(e){for(;e;){var t=e,r=t.closed,i=t.destination,s=t.isStopped;if(r||s)return!1;e=i&&i instanceof n.a?i:null}return!0}},function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));var n=r(16),i=r(30);function s(e,t){return new n.a((function(r){var n=new i.a,s=0;return n.add(t.schedule((function(){s!==e.length?(r.next(e[s++]),r.closed||n.add(this.schedule())):r.complete()}))),n}))}},function(e,t,r){"use strict";
/*!
 * Copyright (c) 2017-2019 Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */var n=function(){function e(e){this.size=e,this.pos=0,this.buffer=new Uint32Array(e)}return e.prototype.seekZero=function(){this.pos=0},e.prototype.slice=function(){if(0!==this.pos&&this.pos>this.buffer.length)throw new Error("StaticDataView too small: "+this.buffer.length+", but required "+this.pos);return this.buffer.slice(0,this.pos)},e.prototype.push=function(e){this.buffer[this.pos++]=e},e}();t.a=n},function(e,t,r){"use strict";var n=r(26),i=function(){function e(e){var t=void 0===e?{}:e,r=t.checksum,n=void 0===r?"":r,i=t.js,s=void 0===i?new Map:i,o=t.resources,a=void 0===o?new Map:o;this.checksum=n,this.js=s,this.resources=a}return e.deserialize=function(t){for(var r=t.getASCII(),n=new Map,i=t.getUint16(),s=0;s<i;s+=1)n.set(t.getASCII(),{contentType:t.getASCII(),data:t.getASCII()});var o=new Map;return n.forEach((function(e,t){var r=e.contentType,n=e.data;"application/javascript"===r&&o.set(t,n)})),new e({checksum:r,js:o,resources:n})},e.parse=function(t,r){for(var n,i=r.checksum,s=new Map,o=t.split("\n\n"),a=0;a<o.length;a+=1){var g=(n=o[a],n.replace(/^\s*#.*$/gm,"")).trim();if(0!==g.length){var A=g.indexOf("\n"),u=g.slice(0,A).split(/\s+/),I=u[0],C=u[1],l=g.slice(A+1);if(void 0===I||void 0===C||void 0===l)continue;s.has(C)||s.set(C,new Map),s.get(C).set(I,l)}}var c=s.get("application/javascript"),d=new Map;return s.forEach((function(e,t){e.forEach((function(e,r){d.set(r,{contentType:t,data:e})}))})),new e({checksum:i,js:c,resources:d})},e.prototype.getResource=function(e){return this.resources.get(e)},e.prototype.getSerializedSize=function(){var e=n.b.sizeOfASCII(this.checksum)+2*n.b.sizeOfByte();return this.resources.forEach((function(t,r){var i=t.contentType,s=t.data;e+=n.b.sizeOfASCII(r)+n.b.sizeOfASCII(i)+n.b.sizeOfASCII(s)})),e},e.prototype.serialize=function(e){e.pushASCII(this.checksum),e.pushUint16(this.resources.size),this.resources.forEach((function(t,r){var n=t.contentType,i=t.data;e.pushASCII(r),e.pushASCII(n),e.pushASCII(i)}))},e}();
/*!
 * Copyright (c) 2017-2019 Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */t.a=i},function(e,t,r){"use strict";var n=r(6),i=1,s={};var o=function(e){var t=i++;return s[t]=e,Promise.resolve().then((function(){return function(e){var t=s[e];t&&t()}(t)})),t},a=function(e){delete s[e]},g=function(e){function t(t,r){var n=e.call(this,t,r)||this;return n.scheduler=t,n.work=r,n}return n.b(t,e),t.prototype.requestAsyncId=function(t,r,n){return void 0===n&&(n=0),null!==n&&n>0?e.prototype.requestAsyncId.call(this,t,r,n):(t.actions.push(this),t.scheduled||(t.scheduled=o(t.flush.bind(t,null))))},t.prototype.recycleAsyncId=function(t,r,n){if(void 0===n&&(n=0),null!==n&&n>0||null===n&&this.delay>0)return e.prototype.recycleAsyncId.call(this,t,r,n);0===t.actions.length&&(a(r),t.scheduled=void 0)},t}(r(129).a),A=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.b(t,e),t.prototype.flush=function(e){this.active=!0,this.scheduled=void 0;var t,r=this.actions,n=-1,i=r.length;e=e||r.shift();do{if(t=e.execute(e.state,e.delay))break}while(++n<i&&(e=r.shift()));if(this.active=!1,t){for(;++n<i&&(e=r.shift());)e.unsubscribe();throw t}},t}(r(127).a);r.d(t,"a",(function(){return u}));var u=new A(g)},function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));var n=r(83),i=r(143),s={closed:!0,next:function(e){},error:function(e){if(n.a.useDeprecatedSynchronousErrorHandling)throw e;Object(i.a)(e)},complete:function(){}}},function(e,t,r){"use strict";var n=r(26),i=new Uint8Array(4),s=function(){function e(e){var t=e.config,r=e.deserialize,n=e.filters;this.deserialize=r,this.filters=i,this.config=t,0!==n.length&&this.update(n,void 0)}return e.deserialize=function(t,r,n){var i=new e({deserialize:r,config:n,filters:[]});return i.filters=t.getBytes(),i},e.prototype.update=function(e,t){var r=this.filters.byteLength,s=[],o=this.config.enableCompression,a=this.getFilters();if(0!==a.length)if(void 0===t||0===t.size)s=a;else for(var g=0;g<a.length;g+=1){var A=a[g];!1===t.has(A.getId())?s.push(A):r-=A.getSerializedSize(o)}var u=s.length!==a.length,I=s.length;for(g=0;g<e.length;g+=1){r+=(A=e[g]).getSerializedSize(o),s.push(A)}var C=s.length>I;if(0===s.length)this.filters=i;else if(!0===C||!0===u){var l=n.b.allocate(r,this.config);l.pushUint32(s.length),!0===this.config.debug&&s.sort((function(e,t){return e.getId()-t.getId()}));for(g=0;g<s.length;g+=1)s[g].serialize(l);this.filters=l.buffer}},e.prototype.getSerializedSize=function(){return n.b.sizeOfBytes(this.filters,!1)},e.prototype.serialize=function(e){e.pushBytes(this.filters)},e.prototype.getFilters=function(){if(this.filters.byteLength<=4)return[];for(var e=[],t=n.b.fromUint8Array(this.filters,this.config),r=t.getUint32(),i=0;i<r;i+=1)e.push(this.deserialize(t));return e},e}();
/*!
 * Copyright (c) 2017-2019 Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */t.a=s},,function(e,t,r){"use strict";!function(e){function t(e){for(var t=new s,r=/[a-z0-9]{201,}/gi,n=/[a-z0-9_-]{201,}/gi,i=/[a-z0-9_.-]{201,}/gi,o=0;o<e.length;o+=1){var a=e[o];if(0!==a.length){t.update(a.match(r)||[]),t.update((a.match(n)||[]).filter((function(e){return-1!==e.indexOf("-")||-1!==e.indexOf("_")}))),t.update((a.match(i)||[]).filter((function(e){return e.indexOf(".")})));for(var g=a.length,A=0;A<g-1;A+=1)for(var u=g-A,I=2;200>=I&&I<=u;I+=1)t.incr(a.slice(A,A+I))}}for(e=0,r="",t=Array.from(t.entries()),o=0;o<t.length;o+=1)n=t[o][0],(i=t[o][1]*Math.pow(n.length,2.2))>e&&(r=n,e=i);return r}function r(e,t){var r=new i(e);return(e=function(e,t){for(var r=0,n=0,i=0;i<t.length;i+=1){var s=t[i];r+=e(s).length,n+=s.length}return{totalCompressed:r,totalUncompressed:n}}((function(e){return r.compress(e)}),t)).totalCompressed/e.totalUncompressed*100}var n=new Uint8Array(0),i=function(){function e(e){this.buffer=new Uint8Array(3e4),this.verbatim=new Uint8Array(255),this.codebook=e;for(var t={chars:{},code:void 0},r=0;r<e.length;r+=1){for(var n=e[r],i=t,s=0;s<n.length;s+=1){var o=n[s];void 0===i.chars[o]&&(i.chars[o]={chars:{},code:void 0}),i=i.chars[o]}i.code=r}this.trie=t}return e.prototype.compress=function(e){return 0===(e=this.inplaceCompress(e))?n:this.buffer.slice(0,e)},e.prototype.UNSAFE_compress=function(e){return 0===(e=this.inplaceCompress(e))?n:this.buffer.subarray(0,e)},e.prototype.decompress=function(e){if(0===e.byteLength)return"";for(var t="",r=0;r<e.byteLength;)254===e[r]?(t+=String.fromCharCode(e[r+1]),r+=2):255===e[r]?(t+=String.fromCharCode.apply(null,e.subarray(r+2,r+e[r+1]+2)),r+=e[r+1]+2):(t+=this.codebook[e[r]],r+=1);return t},e.prototype.getCompressedSize=function(e){if(0===e.length)return 0;for(var t=0,r=0,n=0;n<e.length;){for(var i=-1,s=-1,o=this.trie,a=n;a<e.length&&void 0!==(o=o.chars[e[a]]);a+=1)void 0!==o.code&&(s=o.code,i=a+1);-1===s?(n++,255==++r&&(t+=2+r,r=0)):(0!==r&&(t+=2+(1===r?0:r),r=0),t++,n=i)}return 0!==r&&(t+=2+(1===r?0:r)),t},e.prototype.inplaceCompress=function(e){if(0===e.length)return 0;for(var t=0,r=0,n=0;n<e.length;){for(var i=-1,s=-1,o=this.trie,a=n;a<e.length&&void 0!==(o=o.chars[e[a]]);a+=1)void 0!==o.code&&(s=o.code,i=a+1);-1===s?(this.verbatim[r++]=e.charCodeAt(n++),255===r&&(t=this.flushVerbatim(r,t),r=0)):(0!==r&&(t=this.flushVerbatim(r,t),r=0),this.buffer[t++]=s,n=i)}return 0!==r&&(t=this.flushVerbatim(r,t)),t},e.prototype.flushVerbatim=function(e,t){if(1===e)this.buffer[t++]=254,this.buffer[t++]=this.verbatim[0];else{this.buffer[t++]=255,this.buffer[t++]=e;for(var r=0;r<e;r+=1)this.buffer[t++]=this.verbatim[r]}return t},e}(),s=function(){function e(){this.map=new Map}return e.prototype.incr=function(e){this.map.set(e,(this.map.get(e)||0)+1)},e.prototype.update=function(e){for(var t=0;t<e.length;t+=1)this.incr(e[t])},e.prototype.entries=function(){return this.map.entries()},e}(),o=' ;the;e;t;a;of;o;and;i;n;s;e ;r; th; t;in;he;th;h;he ;to;\r\n;l;s ;d; a;an;er;c; o;d ;on; of;re;of ;t ;, ;is;u;at;   ;n ;or;which;f;m;as;it;that;\n;was;en;  ; w;es; an; i;f ;g;p;nd; s;nd ;ed ;w;ed;http://;https://;for;te;ing;y ;The; c;ti;r ;his;st; in;ar;nt;,; to;y;ng; h;with;le;al;to ;b;ou;be;were; b;se;o ;ent;ha;ng ;their;";hi;from; f;in ;de;ion;me;v;.;ve;all;re ;ri;ro;is ;co;f t;are;ea;. ;her; m;er ; p;es ;by;they;di;ra;ic;not;s, ;d t;at ;ce;la;h ;ne;as ;tio;on ;n t;io;we; a ;om;, a;s o;ur;li;ll;ch;had;this;e t;g ; wh;ere; co;e o;a ;us; d;ss; be; e;s a;ma;one;t t;or ;but;el;so;l ;e s;s,;no;ter; wa;iv;ho;e a; r;hat;s t;ns;ch ;wh;tr;ut;/;have;ly ;ta; ha; on;tha;-; l;ati;en ;pe; re;there;ass;si; fo;wa;ec;our;who;its;z;fo;rs;ot;un;im;th ;nc;ate;ver;ad; we;ly;ee; n;id; cl;ac;il;rt; wi;e, ; it;whi; ma;ge;x;e c;men;.com'.split(";"),a=null;e.Smaz=i,e.compress=function(e){return null===a&&(a=new i(o)),a.compress(e)},e.decompress=function(e){return null===a&&(a=new i(o)),a.decompress(e)},e.generate=function(e){for(var n=e,i=[],o=0;254>o;o+=1){var a=t(n);if(!a){console.log("No more strings",o);break}i.push(a),console.log("+ "+a+" = "+r(i,e)+"%");for(var g=[],A=0;A<n.length;A+=1){var u=n[A];if(-1!==u.indexOf(a)){u=u.split(a);for(var I=0;I<u.length;I+=1)g.push(u[I])}else g.push(u)}n=g}for(n=new s,o=0;o<e.length;o+=1)for(u=e[o],A=0;A<u.length;A+=1)n.incr(u[A]);for(n=Array.from(n.entries()).sort((function(e,t){return t[1]-e[1]})),console.log(n),a=r(i,e),o=0;o<n.length;o+=1)if(g=n[o][0],254>i.length)i.push(g),console.log("Codebook not full, adding letter: "+g+" = "+r(i,e));else{for(u=100,I=-1,console.log("> letter",g),A=0;A<i.length;A+=1){var C=i[A];i[A]=g;var l=r(i,e);i[A]=C,l<u&&(u=l,I=A)}u<a&&(console.log("replacing "+i[I]+" with "+g+" = "+u+"%"),i[I]=g,a=u)}return i},e.getCompressedSize=function(e){return null===a&&(a=new i(o)),a.getCompressedSize(e)},Object.defineProperty(e,"__esModule",{value:!0})}(t)},function(e,t,r){var n,i,s;i=[e],void 0===(s="function"==typeof(n=function(e){"use strict";if("undefined"==typeof browser||Object.getPrototypeOf(browser)!==Object.prototype){const t="The message port closed before a response was received.",r="Returning a Promise is the preferred way to send a reply from an onMessage/onMessageExternal listener, as the sendResponse will be removed from the specs (See https://developer.mozilla.org/docs/Mozilla/Add-ons/WebExtensions/API/runtime/onMessage)",n=e=>{const n={alarms:{clear:{minArgs:0,maxArgs:1},clearAll:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getAll:{minArgs:0,maxArgs:0}},bookmarks:{create:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},getChildren:{minArgs:1,maxArgs:1},getRecent:{minArgs:1,maxArgs:1},getSubTree:{minArgs:1,maxArgs:1},getTree:{minArgs:0,maxArgs:0},move:{minArgs:2,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeTree:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}},browserAction:{disable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},enable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},getBadgeBackgroundColor:{minArgs:1,maxArgs:1},getBadgeText:{minArgs:1,maxArgs:1},getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},openPopup:{minArgs:0,maxArgs:0},setBadgeBackgroundColor:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setBadgeText:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},browsingData:{remove:{minArgs:2,maxArgs:2},removeCache:{minArgs:1,maxArgs:1},removeCookies:{minArgs:1,maxArgs:1},removeDownloads:{minArgs:1,maxArgs:1},removeFormData:{minArgs:1,maxArgs:1},removeHistory:{minArgs:1,maxArgs:1},removeLocalStorage:{minArgs:1,maxArgs:1},removePasswords:{minArgs:1,maxArgs:1},removePluginData:{minArgs:1,maxArgs:1},settings:{minArgs:0,maxArgs:0}},commands:{getAll:{minArgs:0,maxArgs:0}},contextMenus:{remove:{minArgs:1,maxArgs:1},removeAll:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},cookies:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:1,maxArgs:1},getAllCookieStores:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},devtools:{inspectedWindow:{eval:{minArgs:1,maxArgs:2,singleCallbackArg:!1}},panels:{create:{minArgs:3,maxArgs:3,singleCallbackArg:!0}}},downloads:{cancel:{minArgs:1,maxArgs:1},download:{minArgs:1,maxArgs:1},erase:{minArgs:1,maxArgs:1},getFileIcon:{minArgs:1,maxArgs:2},open:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},pause:{minArgs:1,maxArgs:1},removeFile:{minArgs:1,maxArgs:1},resume:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},extension:{isAllowedFileSchemeAccess:{minArgs:0,maxArgs:0},isAllowedIncognitoAccess:{minArgs:0,maxArgs:0}},history:{addUrl:{minArgs:1,maxArgs:1},deleteAll:{minArgs:0,maxArgs:0},deleteRange:{minArgs:1,maxArgs:1},deleteUrl:{minArgs:1,maxArgs:1},getVisits:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1}},i18n:{detectLanguage:{minArgs:1,maxArgs:1},getAcceptLanguages:{minArgs:0,maxArgs:0}},identity:{launchWebAuthFlow:{minArgs:1,maxArgs:1}},idle:{queryState:{minArgs:1,maxArgs:1}},management:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},getSelf:{minArgs:0,maxArgs:0},setEnabled:{minArgs:2,maxArgs:2},uninstallSelf:{minArgs:0,maxArgs:1}},notifications:{clear:{minArgs:1,maxArgs:1},create:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:0},getPermissionLevel:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},pageAction:{getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},hide:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},permissions:{contains:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},request:{minArgs:1,maxArgs:1}},runtime:{getBackgroundPage:{minArgs:0,maxArgs:0},getBrowserInfo:{minArgs:0,maxArgs:0},getPlatformInfo:{minArgs:0,maxArgs:0},openOptionsPage:{minArgs:0,maxArgs:0},requestUpdateCheck:{minArgs:0,maxArgs:0},sendMessage:{minArgs:1,maxArgs:3},sendNativeMessage:{minArgs:2,maxArgs:2},setUninstallURL:{minArgs:1,maxArgs:1}},sessions:{getDevices:{minArgs:0,maxArgs:1},getRecentlyClosed:{minArgs:0,maxArgs:1},restore:{minArgs:0,maxArgs:1}},storage:{local:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},managed:{get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1}},sync:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}}},tabs:{captureVisibleTab:{minArgs:0,maxArgs:2},create:{minArgs:1,maxArgs:1},detectLanguage:{minArgs:0,maxArgs:1},discard:{minArgs:0,maxArgs:1},duplicate:{minArgs:1,maxArgs:1},executeScript:{minArgs:1,maxArgs:2},get:{minArgs:1,maxArgs:1},getCurrent:{minArgs:0,maxArgs:0},getZoom:{minArgs:0,maxArgs:1},getZoomSettings:{minArgs:0,maxArgs:1},highlight:{minArgs:1,maxArgs:1},insertCSS:{minArgs:1,maxArgs:2},move:{minArgs:2,maxArgs:2},query:{minArgs:1,maxArgs:1},reload:{minArgs:0,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeCSS:{minArgs:1,maxArgs:2},sendMessage:{minArgs:2,maxArgs:3},setZoom:{minArgs:1,maxArgs:2},setZoomSettings:{minArgs:1,maxArgs:2},update:{minArgs:1,maxArgs:2}},topSites:{get:{minArgs:0,maxArgs:0}},webNavigation:{getAllFrames:{minArgs:1,maxArgs:1},getFrame:{minArgs:1,maxArgs:1}},webRequest:{handlerBehaviorChanged:{minArgs:0,maxArgs:0}},windows:{create:{minArgs:0,maxArgs:1},get:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:1},getCurrent:{minArgs:0,maxArgs:1},getLastFocused:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}}};if(0===Object.keys(n).length)throw new Error("api-metadata.json has not been included in browser-polyfill");class i extends WeakMap{constructor(e,t){super(t),this.createItem=e}get(e){return this.has(e)||this.set(e,this.createItem(e)),super.get(e)}}const s=(t,r)=>(...n)=>{e.runtime.lastError?t.reject(e.runtime.lastError):r.singleCallbackArg||n.length<=1&&!1!==r.singleCallbackArg?t.resolve(n[0]):t.resolve(n)},o=e=>1==e?"argument":"arguments",a=(e,t,r)=>new Proxy(t,{apply:(t,n,i)=>r.call(n,e,...i)});let g=Function.call.bind(Object.prototype.hasOwnProperty);const A=(e,t={},r={})=>{let n=Object.create(null),i={has:(t,r)=>r in e||r in n,get(i,u,I){if(u in n)return n[u];if(!(u in e))return;let C=e[u];if("function"==typeof C)if("function"==typeof t[u])C=a(e,e[u],t[u]);else if(g(r,u)){let t=((e,t)=>(function(r,...n){if(n.length<t.minArgs)throw new Error(`Expected at least ${t.minArgs} ${o(t.minArgs)} for ${e}(), got ${n.length}`);if(n.length>t.maxArgs)throw new Error(`Expected at most ${t.maxArgs} ${o(t.maxArgs)} for ${e}(), got ${n.length}`);return new Promise((i,o)=>{if(t.fallbackToNoCallback)try{r[e](...n,s({resolve:i,reject:o},t))}catch(s){console.warn(`${e} API method doesn't seem to support the callback parameter, `+"falling back to call it without a callback: ",s),r[e](...n),t.fallbackToNoCallback=!1,t.noCallback=!0,i()}else t.noCallback?(r[e](...n),i()):r[e](...n,s({resolve:i,reject:o},t))})}))(u,r[u]);C=a(e,e[u],t)}else C=C.bind(e);else{if("object"!=typeof C||null===C||!g(t,u)&&!g(r,u))return Object.defineProperty(n,u,{configurable:!0,enumerable:!0,get:()=>e[u],set(t){e[u]=t}}),C;C=A(C,t[u],r[u])}return n[u]=C,C},set:(t,r,i,s)=>(r in n?n[r]=i:e[r]=i,!0),defineProperty:(e,t,r)=>Reflect.defineProperty(n,t,r),deleteProperty:(e,t)=>Reflect.deleteProperty(n,t)},u=Object.create(e);return new Proxy(u,i)},u=e=>({addListener(t,r,...n){t.addListener(e.get(r),...n)},hasListener:(t,r)=>t.hasListener(e.get(r)),removeListener(t,r){t.removeListener(e.get(r))}});let I=!1;const C=new i(e=>"function"!=typeof e?e:function(t,n,i){let s,o,a=!1,g=new Promise(e=>{s=function(t){I||(console.warn(r,(new Error).stack),I=!0),a=!0,e(t)}});try{o=e(t,n,s)}catch(e){o=Promise.reject(e)}const A=!0!==o&&(e=>e&&"object"==typeof e&&"function"==typeof e.then)(o);if(!0!==o&&!A&&!a)return!1;const u=e=>{e.then(e=>{i(e)},e=>{let t;t=e&&(e instanceof Error||"string"==typeof e.message)?e.message:"An unexpected error occurred",i({__mozWebExtensionPolyfillReject__:!0,message:t})}).catch(e=>{console.error("Failed to send onMessage rejected reply",e)})};return u(A?o:g),!0}),l=({reject:r,resolve:n},i)=>{e.runtime.lastError?e.runtime.lastError.message===t?n():r(e.runtime.lastError):i&&i.__mozWebExtensionPolyfillReject__?r(new Error(i.message)):n(i)},c=(e,t,r,...n)=>{if(n.length<t.minArgs)throw new Error(`Expected at least ${t.minArgs} ${o(t.minArgs)} for ${e}(), got ${n.length}`);if(n.length>t.maxArgs)throw new Error(`Expected at most ${t.maxArgs} ${o(t.maxArgs)} for ${e}(), got ${n.length}`);return new Promise((e,t)=>{const i=l.bind(null,{resolve:e,reject:t});n.push(i),r.sendMessage(...n)})},d={runtime:{onMessage:u(C),onMessageExternal:u(C),sendMessage:c.bind(null,"sendMessage",{minArgs:1,maxArgs:3})},tabs:{sendMessage:c.bind(null,"sendMessage",{minArgs:2,maxArgs:3})}},h={clear:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}};return n.privacy={network:{networkPredictionEnabled:h,webRTCIPHandlingPolicy:h},services:{passwordSavingEnabled:h},websites:{hyperlinkAuditingEnabled:h,referrersEnabled:h}},A(e,d,n)};e.exports=n(chrome)}else e.exports=browser})?n.apply(t,i):n)||(e.exports=s)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isKnownProtocol=function(e){return a.has(e.toLowerCase())},t.getPunycodeEncoded=function(e){return(0,s.getPunycodeEncoded)(i.default.toASCII,e)},t.default=void 0;var n,i=(n=r(400))&&n.__esModule?n:{default:n},s=r(402);
/*!
 * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */
var o=s.URL;t.default=o;const a=new Set(["http","https","ftp","file","about","mailto","chrome","moz-extension","chrome-extension","view-source","data","dat","resource"])},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.service=void 0;var n=a(r(33)),i=a(r(124)),s=r(102),o=a(r(28));function a(e){return e&&e.__esModule?e:{default:e}}function g(e,t,r,n,i,s,o){try{var a=e[s](o),g=a.value}catch(e){return void r(e)}a.done?t(g):Promise.resolve(g).then(n,i)}class A{constructor(){this.domainOwners={},this.apps={},this.bugs={},this.domains={}}getAppOwner(e){return this.apps[e]||{name:"Unknown",cat:"unknown"}}getBugOwner(e){const t=this.getAppForBug(e);return this.getAppOwner(t)}getAppForBug(e){return this.bugs[e]}_getDomainOwner(e){return e in this.domains?this.apps[this.domains[e]]:-1!==e.indexOf(".")&&this._getDomainOwner(e.substring(e.indexOf(".")+1))}getDomainOwner(e){return this._getDomainOwner(e)||{name:(0,s.getGeneralDomain)(e),cat:"unknown"}}getTrackerDetails(e){return this.apps[e]?this.apps[e]:Object.values(this.apps).find(t=>t.wtm===e)}}const u=function(){var e,t=(e=function*(){const e=new A;function t(t){const r=t.apps,n=t.bugs,i=t.domains;e.apps=r,e.bugs=n,e.domains=i;const s={};Object.keys(i).forEach(e=>{s[e]=r[i[e]].name}),e.domainOwners=s}const n=new i.default(["antitracking","tracker_db_v2.json"],{remoteURL:`${o.default.settings.CDN_BASEURL}/anti-tracking/tracker_db_v2.json`,cron:864e5});return n.onUpdate(t),t(yield n.load()),r.unload=()=>{n.stop()},e},function(){var t=this,r=arguments;return new Promise((function(n,i){var s=e.apply(t,r);function o(e){g(s,n,i,o,a,"next",e)}function a(e){g(s,n,i,o,a,"throw",e)}o(void 0)}))});function r(){return t.apply(this,arguments)}return r}();t.service=u;var I=n.default.service("domainInfo",["getAppOwner","getBugOwner","getAppForBug","getDomainOwner","getTrackerDetails","domains"]);t.default=I},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;
/*!
 * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */
var n=crypto;t.default=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ClockOutOfSyncWhileJoining=t.ServerError=t.InitSignerError=t.JoinGroupsError=t.FetchConfigError=t.OldVersionError=t.MsgTimeoutError=t.TransportError=t.TooBigMsgError=t.SignMsgError=t.BadCredentialsError=t.NoCredentialsError=t.InvalidMsgError=t.NotReadyError=t.MsgQuotaError=void 0;
/*!
 * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */
class n extends Error{constructor(e){super(e),this.name=this.constructor.name,"function"==typeof Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error(e).stack}}class i extends n{constructor(e){super(e),this.isRecoverableHpnv2Error=!0,this.isPermanentHpnv2Error=!1}}class s extends n{constructor(e){super(e),this.isRecoverableHpnv2Error=!1,this.isPermanentHpnv2Error=!0}}t.MsgQuotaError=class extends s{};t.NotReadyError=class extends i{};t.InvalidMsgError=class extends s{};t.NoCredentialsError=class extends i{};t.BadCredentialsError=class extends i{};t.SignMsgError=class extends s{};t.TooBigMsgError=class extends s{};t.TransportError=class extends i{};t.MsgTimeoutError=class extends i{};t.OldVersionError=class extends s{};t.FetchConfigError=class extends i{};t.JoinGroupsError=class extends i{};t.InitSignerError=class extends s{};t.ServerError=class extends i{};t.ClockOutOfSyncWhileJoining=class extends i{}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createPersistent=function(e,t){a(e,r=>{let n={},i=!1;try{n=JSON.parse(r||"{}")}catch(e){n={},i=!0}t(new Proxy(n,new A(e,n,i)))})},t.clearPersistent=function(e){Object.keys(e).forEach(t=>delete e[t])},t.getValue=function(e,t){return n.default.get(`attrack.${e}`,t)},t.setValue=function(e,t){n.default.set(`attrack.${e}`,t)},t.loadRecord=a,t.saveRecord=g,t.deletePersistantObject=function(e){return t=e,s.default.removeItem(`cliqz.dbattrack.${t}`);var t},t.AutoPersistentObject=t.PersistentObject=t.LazyPersistentObject=void 0;var n=o(r(19)),i=o(r(44)),s=o(r(484));function o(e){return e&&e.__esModule?e:{default:e}}
/*!
 * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */function a(e,t){s.default.getItem(`cliqz.dbattrack.${e}`).then(t)}function g(e,t){s.default.setItem(`cliqz.dbattrack.${e}`,t)}class A{constructor(e,t,r){this.name=e,this.target=t,this.dirty=r||!1,i.default.register(this.persistState.bind(this),{timeout:6e4}),Object.keys(this.target).forEach(e=>{this.target[e]=this.proxyBranch(this.target[e])}),this.set=function(e,t,r){return e[t]=this.proxyBranch(r),this.dirty=!0,!0},this.deleteProperty=function(e,t){return delete e[t],this.dirty=!0,!0}}persistState(){this.dirty&&(g(this.name,JSON.stringify(this.target)),this.dirty=!1)}proxyBranch(e){return"object"==typeof e?(Object.keys(e).forEach(t=>{e[t]=this.proxyBranch(e[t])}),new Proxy(e,this)):e}isDirty(){return this.dirty}}t.LazyPersistentObject=class{constructor(e){this.name=e,this.value={},this.dirty=!1}load(){return new Promise(e=>{a(this.name,t=>{try{this.value=JSON.parse(t||"{}")}catch(e){this.value={},this.dirty=!0}e(this.value)})})}save(){this.dirty&&(g(this.name,JSON.stringify(this.value)),this.dirty=!1)}setValue(e){this.value=e,this.dirty=!0,this.save()}setDirty(){this.dirty=!0}isDirty(){return this.dirty}clear(){this.value={},this.dirty=!0,this.save()}};class u{constructor(e,t){this.name=e,this.value={},this.dirty=!1,this.setter=t,this.setter(this.value),this.load()}load(){a(this.name,e=>{try{this.value=JSON.parse(e||"{}")}catch(e){this.value={},this.dirty=!0}this.setter(this.value)})}setValue(e){this.value=e,this.dirty=!0,this.setter(e),this.save()}save(){this.dirty&&(g(this.name,JSON.stringify(this.value)),this.dirty=!1)}setDirty(){this.dirty=!0}isDirty(){return this.dirty}clear(){this.value={},this.dirty=!0,this.save(),this.setter(this.value)}}t.PersistentObject=u;t.AutoPersistentObject=class extends u{constructor(e,t,r){super(e,t),i.default.register(this.save.bind(this),{interval:r})}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"script";if(e)return i.default.makeRequest({url:e,type:t,sourceUrl:e});return null},t.buildMultiPatternIndex=function(e){const t=[],r=new Map,o=new Map;return e.forEach(e=>{let s=e.patterns,a=e.groupID;s.forEach(e=>{const s=i.default.NetworkFilter.parse(e);if(s){o.set(s.getId(),e),t.push(s);const n=r.get(s.getId())||new Set;n.add(a),r.set(s.getId(),n)}else n.default.error("Error parsing the filter / pattern ",e)})}),new s.MultiPatternIndex(t,o,r)},t.buildSimplePatternIndex=function(e){const t=[],r=new Map;for(let n=0;n<e.length;n+=1){const s=e[n],o=i.default.NetworkFilter.parse(s);o&&(r.set(o.getId(),s),t.push(o))}return new s.SimplePatternIndex(t,r)},t.buildMultiPatternIndexPatternAsID=function(e){const t=[],r=new Map,o=new Map;return e.forEach(e=>{const s=i.default.NetworkFilter.parse(e);s?(t.push(s),r.set(s.getId(),e),o.set(s.getId(),new Set([e]))):n.default.error("Error parsing the filter / pattern ",e)}),new s.MultiPatternIndex(t,r,o)};var n=o(r(29)),i=o(r(159)),s=r(522);function o(e){return e&&e.__esModule?e:{default:e}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.buildCachedMap=t.default=void 0;var n,i=(n=r(344))&&n.__esModule?n:{default:n};class s{constructor(){this.data=new Map}init(){return Promise.resolve()}unload(){this.data.clear()}get(e){return this.data.get(e)}set(e,t){this.data.set(e,t)}has(e){return this.data.has(e)}delete(e){this.data.delete(e)}clear(){this.data.clear()}size(){return this.data.size}keys(){return[...this.data.keys()]}entries(){return[...this.data.entries()]}}t.default=s;t.buildCachedMap=(e,t)=>t?new i.default(e):new s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i=(n=r(43))&&n.__esModule?n:{default:n};function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(r,!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}t.default=class{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.default,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"docData";this.db=e,this.contID=r,this.logger=t}upsert(e,t){return this.db.get(e).catch(()=>({_id:e,[this.contID]:{}})).then(r=>{void 0===r&&(r={_id:e,[this.contID]:{}}),this.db.put(o({},r,{[this.contID]:o({},r.docData,{},t)}))})}get(e){return this.db.get(e).then(e=>e[this.contID]).catch(t=>(t&&t.status&&404!==t.status?this.logger.error(`getDocData: error getting doc ${e} with err: `,t):this.logger.log(`missing DB entry for docID ${e}`),null))}remove(e){return this.db.get(e).then(t=>(this.logger.log(`removeDocData: removing doc ${e}`),this.db.remove(t))).then(()=>{this.logger.log(`removeDocData: doc ${e} removed properly`)}).catch(t=>{t&&t.status&&404!==t.status?this.logger.error(`removeDocData: something happened removing the doc: ${e} - err:`,t):this.logger.log(`missing DB entry for docID ${e}`)})}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSynchronizedDateFormatted=function(){return(0,i.default)().format(s)},Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i.default}}),t.MONTH_FORMAT=t.WEEK_FORMAT=t.DAY_FORMAT=t.DATE_FORMAT=void 0;var n,i=(n=r(230))&&n.__esModule?n:{default:n};
/*!
 * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */
const s="YYYY-MM-DD";t.DATE_FORMAT=s;t.DAY_FORMAT="YYYY-DDD";t.WEEK_FORMAT="YYYY-WW";t.MONTH_FORMAT="YYYY-M"},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.indicesHistogramToArray=
/*!
 * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */
function(e){const t=[],r=Math.max(...e.keys());for(let n=0;n<=r;n+=1)t.push(e.get(n));return t},t.counterSchema=function(e){const t={};return e.forEach(e=>{t[e]={type:"integer",minimum:0}}),{required:[],properties:t}},t.count=function(e){const t={};return e.forEach(e=>{t[e]=(t[e]||0)+1}),t},t.sum=i,t.mean=function(e){return i(e)/e.length},t.median=function(e){if(e.sort((e,t)=>e-t),0===e.length)return 0;const t=Math.floor(e.length/2);return e.length%2?e[t]:(e[t-1]+e[t])/2},t.actionFallback=void 0;var n=r(268);function i(e){let t=0;for(let r=0;r<e.length;r+=1)t+=e[r];return t}t.actionFallback=e=>t=>{if(t instanceof n.ModuleDisabledError||t instanceof n.ModuleMissingError)return e;throw t}},function(e,t,r){var n=r(293),i=r(649),s=r(650),o="[object Null]",a="[object Undefined]",g=n?n.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?a:o:g&&g in Object(e)?i(e):s(e)}},function(e,t,r){"use strict";r.d(t,"b",(function(){return A}));var n=r(152),i=r(191),s=r(7),o={extractHostname:!0,mixedInputs:!1,validateHostname:!1},a=new i.a(300),g=function(){function e(e){var t=e.requestId,r=e.tabId,n=e.type,i=e.domain,o=e.hostname,a=e.url,g=e.sourceDomain,A=e.sourceHostname;this.id=t,this.tabId=r,this.type=n,this.url=a,this.hostname=o,this.domain=i,this.sourceHostname=A,this.sourceDomain=g,this.sourceHostnameHash=Object(s.e)(this.sourceHostname),this.sourceDomainHash=Object(s.e)(this.sourceDomain),this.isThirdParty=0!==this.sourceDomain.length&&this.sourceDomain!==this.domain,this.isFirstParty=!this.isThirdParty,this.isSupported=!0,this.url.startsWith("http:")?(this.isHttp=!0,this.isHttps=!1):this.url.startsWith("https:")?(this.isHttps=!0,this.isHttp=!1):this.url.startsWith("ws:")||this.url.startsWith("wss:")?(this.isHttp=!1,this.isHttps=!1,this.type="websocket",this.isSupported=!0):(this.isHttp=!1,this.isHttps=!1,this.isSupported=!1),this.tokens=void 0,this.fuzzySignature=void 0}return e.fromRawDetails=function(t){var r=t.requestId,i=void 0===r?"0":r,s=t.tabId,a=void 0===s?0:s,g=t.url,A=void 0===g?"":g,u=t.hostname,I=t.domain,C=t.sourceUrl,l=void 0===C?"":C,c=t.sourceHostname,d=t.sourceDomain,h=t.type,f=void 0===h?"main_frame":h;if(A=A.toLowerCase(),void 0===u||void 0===I){var p=Object(n.parse)(A,o);u=u||p.hostname||"",I=I||p.domain||""}if(void 0===c||void 0===d){p=Object(n.parse)(l,o);c=c||p.hostname||"",d=d||p.domain||""}return new e({requestId:i,tabId:a,domain:I,hostname:u,url:A,sourceDomain:d,sourceHostname:c,sourceUrl:l,type:f})},e.prototype.getTokens=function(){return void 0===this.tokens&&(a.seekZero(),this.sourceDomain&&a.push(Object(s.e)(this.sourceDomain)),this.sourceHostname&&a.push(Object(s.e)(this.sourceHostname)),Object(s.q)(this.url,a),this.tokens=a.slice()),this.tokens},e.prototype.getFuzzySignature=function(){return void 0===this.fuzzySignature&&(this.fuzzySignature=Object(s.d)(this.url)),this.fuzzySignature},e.prototype.isMainFrame=function(){return"main_frame"===this.type||"mainFrame"===this.type},e.prototype.isSubFrame=function(){return"sub_frame"===this.type||"subFrame"===this.type},e}();function A(e){return g.fromRawDetails(e)}t.a=g},function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));var n=function(){function e(t,r){void 0===r&&(r=e.now),this.SchedulerAction=t,this.now=r}return e.prototype.schedule=function(e,t,r){return void 0===t&&(t=0),new this.SchedulerAction(this,e).schedule(r,t)},e.now=function(){return Date.now()},e}()},,,,,,,,,function(e,t,r){"use strict";
/*!
 * Copyright (c) 2017-2019 Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */
function n(e){for(var t=e.sort(),r=1,n=1;n<t.length;n+=1)t[r-1]!==t[n]&&(t[r++]=t[n]);return t.subarray(0,r)}r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return s}));var i=new Uint32Array(0);function s(e){if(0===e.length)return i;if(1===e.length)return e[0];for(var t=0,r=0;r<e.length;r+=1)t+=e[r].length;var n=new Uint32Array(t),s=0;for(r=0;r<e.length;r+=1)for(var o=e[r],a=0;a<o.length;a+=1)n[s]=o[a],s+=1;return n}},function(e,t,r){"use strict";r.d(t,"b",(function(){return a})),r.d(t,"a",(function(){return g}));var n=r(47),i=r(3),s=r(12),o=r(2);function a(e,t){const{db:r}=n.a,o=Object(s.processUrl)(e.toLowerCase());let a=!1;const A=o.pathname?o.pathname.substring(1):"";return a=u(r.patterns.host_path,o.hostname,A)||u(r.patterns.host,o.hostname)||function(e){const t=n.a.db.patterns.path,r=`/${e}`;for(const e in t)if(r.includes(e))return t[e];return!1}(A)||function(e){const t=n.a.db.patterns.regex;for(const r in t)if(t[r].test(e))return+r;return!1}(o.host+o.pathname),!(void 0!==t&&i.a.ignore_first_party&&!1!==a&&r.firstPartyExceptions[a]&&g(t,r.firstPartyExceptions[a]))&&a}function g(e,t){const r=Object(s.processUrl)(e.toLowerCase());let n=r.hostname;const i=r.pathname?r.pathname.substring(1):"";n.startsWith("www.")&&(n=n.slice(4));for(let e=0;e<t.length;e++){const{host:r,path:a}=Object(s.processFpeUrl)(t[e]);if(r===n){if(!a)return Object(o.log)(`[fuzzyUrlMatcher] host (${r}) match`),!0;if("*"===a.slice(-1)){if(i.startsWith(a.slice(0,-1)))return Object(o.log)(`[fuzzyUrlMatcher] host (${r}) and path (${a}) fuzzy match`),!0}else if(a===i)return Object(o.log)(`[fuzzyUrlMatcher] host (${r}) and path (${a}) match`),!0}}return!1}function A(e,t){let r,n,i,s;for(i=0;i<e.length;i++)if((r=e[i]).hasOwnProperty("$"))for(n=r.$,s=0;s<n.length;s++)if(t.startsWith(n[s].path))return n[s].id;return!1}function u(e,t,r){const n=t.split(".").reverse(),i=[];let s,o=e,a=!1;for(let e=0;e<n.length;e++){if(s=n[e],!o.hasOwnProperty(s))return void 0!==r?A(i,r):a;a=(o=o[s]).hasOwnProperty("$")?o.$:a,void 0!==r&&o.hasOwnProperty("$")&&i.push(o)}return void 0!==r?A(i,r):a}},function(e,t,r){e.exports=function(e){function t(n){if(r[n])return r[n].exports;var i=r[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var r={};return t.m=e,t.c=r,t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t,r){e.exports=r(1)},function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){return c()(e)?e:[e]}function s(e){if(null===e||"object"!==n(e)||function(e){return"[object Date]"===Object.prototype.toString.call(e)}(e))return e;if(c()(e))return e.map(s);var t={};return p()(e).forEach((function(r){t[C()(r)]=s(e[r])})),t}function o(e,t){var r=t.camelizeKeys,n=t.camelizeTypeValues,i={};return p()(e).forEach((function(t){var o=e[t],a=r?C()(t):t;i[a]={},void 0!==o.data&&(c()(o.data)?i[a].data=o.data.map((function(e){return{id:e.id,type:n?C()(e.type):e.type}})):h()(o.data)?i[a].data=o.data:i[a].data={id:o.data.id,type:n?C()(o.data.type):o.data.type},void 0!==o.meta&&(i[a].meta=s(o.meta))),o.links&&(i[a].links=r?s(o.links):o.links)})),i}function a(e,t){if(t.camelizeKeys){var r={};return p()(e).forEach((function(t){r[C()(t)]=s(e[t])})),r}return e}function g(e,t){var r=t.camelizeKeys,n=t.camelizeTypeValues,g={};return i(e).forEach((function(e){var t=r?C()(e.type):e.type;g[t]=g[t]||{},g[t][e.id]=g[t][e.id]||{id:e.id},g[t][e.id].type=n?C()(e.type):e.type,r?(g[t][e.id].attributes={},p()(e.attributes).forEach((function(r){g[t][e.id].attributes[C()(r)]=s(e.attributes[r])}))):g[t][e.id].attributes=e.attributes,e.links&&(g[t][e.id].links={},p()(e.links).forEach((function(n){var i=r?C()(n):n;g[t][e.id].links[i]=e.links[n]}))),e.relationships&&(g[t][e.id].relationships=o(e.relationships,{camelizeKeys:r,camelizeTypeValues:n})),e.meta&&(g[t][e.id].meta=a(e.meta,{camelizeKeys:r}))})),g}function A(e){return e.replace(/\?.*$/,"")}function u(e,t,r){var n,s=r.camelizeKeys,g=r.camelizeTypeValues,u=r.filterEndpoint,I={};if(I.meta={},u)I.meta[t]={},n=I.meta[t];else{var l=A(t);I.meta[l]={},I.meta[l][t.slice(l.length)]={},n=I.meta[l][t.slice(l.length)]}if(n.data={},e.data){var c=[];i(e.data).forEach((function(e){var t={id:e.id,type:g?C()(e.type):e.type};e.relationships&&(t.relationships=o(e.relationships,{camelizeKeys:s,camelizeTypeValues:g})),c.push(t)})),n.data=c}return e.links&&(n.links=e.links,I.meta[A(t)].links=e.links),e.meta&&(n.meta=a(e.meta,{camelizeKeys:s})),I}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r={},n=t.endpoint,i=t.filterEndpoint,s=t.camelizeKeys,o=t.camelizeTypeValues;if(void 0===i&&(i=!0),void 0===s&&(s=!0),void 0===o&&(o=!0),e.data&&_()(r,g(e.data,{camelizeKeys:s,camelizeTypeValues:o})),e.included&&_()(r,g(e.included,{camelizeKeys:s,camelizeTypeValues:o})),n){var a=i?A(n):n;_()(r,u(e,a,{camelizeKeys:s,camelizeTypeValues:o,filterEndpoint:i}))}return r};var I=r(2),C=r.n(I),l=r(3),c=r.n(l),d=r(4),h=r.n(d),f=r(5),p=r.n(f),m=r(6),_=r.n(m)},function(e,t){e.exports=r(644)},function(e,t){e.exports=r(238)},function(e,t){e.exports=r(667)},function(e,t){e.exports=r(668)},function(e,t){e.exports=r(677)}])},function(e,t){e.exports=function(e){function t(n){if(r[n])return r[n].exports;var i=r[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var r={};return t.m=e,t.c=r,t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t,r){e.exports=r(1)},function(e,t,r){"use strict";function n(e){return!(!e||"function"!=typeof e.hasOwnProperty||!(e.hasOwnProperty("__ownerID")||e._map&&e._map.hasOwnProperty("__ownerID")))}function i(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Array.isArray(t)||(t=[t]),n(e)){var i=e.getIn(t.map((function(e){return"".concat(e)})));return r&&i?i.toJS():i}return t.reduce((function(e,t){return e[t]}),e)}function s(e){return n(e)?e.keySeq().toArray():Object.keys(e)}function o(e,t,r,n,i){var s=n.ignoreLinks,o=t.relationships[r];if(void 0!==o.data)return Array.isArray(o.data)?o.data.map((function(t){return a(e,t.type,t.id,n,i)||t})):null===o.data?null:a(e,o.data.type,o.data.id,n,i)||o.data;if(!s&&o.links)throw new Error("Remote lazy loading is not supported (see: https://github.com/yury-dymov/json-api-normalizer/issues/2). To disable this error, include option 'ignoreLinks: true' in the build function like so: build(reducer, type, id, { ignoreLinks: true })")}function a(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},g=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},A=Object.assign({},{eager:!1,ignoreLinks:!1,includeType:!1},n),u=A.eager,I=A.includeType;if(!i(e,t))return null;if(null===r||Array.isArray(r))return(r||s(i(e,t))).map((function(r){return a(e,t,r,A,g)}));var C=r.toString(),l=function(e,t){return t?"".concat(e).concat(t):null}(t,C),c=g[l];if(c)return c;var d={},h=i(e,[t,C],!0);return h?(h.id&&(d.id=h.id),h.attributes&&(Object.keys(h.attributes).forEach((function(e){d[e]=h.attributes[e]})),Object.defineProperty(d,"resolved",{value:!0})),h.meta&&(d.meta=h.meta),h.links&&(d.links=h.links),I&&!d.type&&(d.type=t),g[l]=d,h.relationships&&Object.keys(h.relationships).forEach((function(t){u?d[t]=o(e,h,t,A,g):Object.defineProperty(d,t,{enumerable:!0,get:function(){var r="__".concat(t);if(d[r])return d[r];var n=o(e,h,t,A,g);return Object.defineProperty(d,r,{enumerable:!1,value:n}),d[r]}})})),void 0===d.id&&(d.id=C),d):null}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a}])},,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getResourceUrl=function(e){return n.chrome.runtime.getURL(`modules/${e}`.replace(/\/+/g,"/"))},t.isBetaVersion=function(){const e=n.chrome&&n.chrome.runtime&&n.chrome.runtime.getManifest&&n.chrome.runtime.getManifest()||!1;return e&&e.applications&&e.applications.gecko&&"string"==typeof e.applications.gecko.update_url&&-1!==e.applications.gecko.update_url.indexOf("/browser_beta/")||!1},t.OS=t.appName=t.default=void 0;var n=r(51);
/*!
 * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */function i(e){try{return-1!==navigator.userAgent.indexOf(e)}catch(e){return!1}}var s={isMobile:i("Mobile"),isFirefox:i("Firefox"),isChromium:i("Chrome"),isEdge:i("Edge"),platformName:"webextension"};t.default=s;const o=n.chrome&&n.chrome.cliqzAppConstants?n.chrome.cliqzAppConstants.get("MOZ_APP_NAME"):void 0;t.appName=o;const a=n.chrome&&n.chrome.cliqzAppConstants&&n.chrome.cliqzAppConstants.get("platform")||n.window&&n.window.navigator&&n.window.navigator.platform||void 0;t.OS=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.clearInterval=t.clearTimeout=t.setInterval=t.setTimeout=void 0;t.setTimeout=function(){return("undefined"==typeof setTimeout?window.setTimeout.bind(window):setTimeout)(...arguments)};t.setInterval=function(){return("undefined"==typeof setInterval?window.setInterval.bind(window):setInterval)(...arguments)};t.clearTimeout=function(){return("undefined"==typeof clearTimeout?window.clearTimeout.bind(window):clearTimeout)(...arguments)};t.clearInterval=function(){return("undefined"==typeof clearInterval?window.clearInterval.bind(window):clearInterval)(...arguments)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(173);Object.keys(n).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return n[e]}})}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;
/*!
 * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */
const n=()=>{};t.default=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t}),this.promise.catch(n)}}},function(e,t,r){(function(e){var n=void 0!==e&&e||"undefined"!=typeof self&&self||window,i=Function.prototype.apply;function s(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new s(i.call(setTimeout,n,arguments),clearTimeout)},t.setInterval=function(){return new s(i.call(setInterval,n,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},s.prototype.unref=s.prototype.ref=function(){},s.prototype.close=function(){this._clearFn.call(n,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},r(273),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,r(27))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isSynchronizedDateAvailable=o,t.default=function(){if(o())return(0,n.default)(i.default.get("config_ts"),"YYYYMMDD");return null};var n=s(r(103)),i=s(r(19));function s(e){return e&&e.__esModule?e:{default:e}}
/*!
 * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */function o(){return i.default.has("config_ts")}},function(e,t,r){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;
/*!
 * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */
var i=((n=r(74))&&n.__esModule?n:{default:n}).default.get("webrequest-pipeline",{level:"log"});t.default=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.PREFS=t.DEFAULTS=t.COOKIE_MODE=t.TELEMETRY=t.VERSION=void 0;var n=function(e){if(e&&e.__esModule)return e;var t=C();if(t&&t.has(e))return t.get(e);var r={};if(null!=e){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var s=n?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(r,i,s):r[i]=e[i]}}r.default=e,t&&t.set(e,r);return r}(r(203)),i=I(r(19)),s=I(r(28)),o=I(r(341)),a=r(104),g=I(r(39)),A=r(68),u=I(r(44));function I(e){return e&&e.__esModule?e:{default:e}}function C(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return C=function(){return e},e}function l(e,t,r,n,i,s,o){try{var a=e[s](o),g=a.value}catch(e){return void r(e)}a.done?t(g):Promise.resolve(g).then(n,i)}function c(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var s=e.apply(t,r);function o(e){l(s,n,i,o,a,"next",e)}function a(e){l(s,n,i,o,a,"throw",e)}o(void 0)}))}}const d=s.default.settings,h=`${d.CDN_BASEURL}/anti-tracking/whitelist/versioncheck.json`,f=`${d.CDN_BASEURL}/anti-tracking/config.json`,p=`${d.CDN_BASEURL}/anti-tracking/whitelist/2`,m="antitrackingProtectionEnabled";t.VERSION="0.102";const _={DISABLED:0,TRACKERS_ONLY:1,ALL:2};t.TELEMETRY=_;const y={THIRD_PARTY:"thirdparty",TRACKERS:"trackers",GHOSTERY:"ghostery"};t.COOKIE_MODE=y;const b={safekeyValuesThreshold:4,shortTokenLength:6,placeHolder:d.antitrackingPlaceholder,cliqzHeader:d.antitrackingHeader,enabled:!0,cookieEnabled:!Object.prototype.hasOwnProperty.call(d,m)||d[m],qsEnabled:!Object.prototype.hasOwnProperty.call(d,m)||d[m],bloomFilterEnabled:!0,telemetryMode:_.TRACKERS_ONLY,sendAntiTrackingHeader:!0,blockCookieNewToken:!1,tpDomainDepth:2,firstPartyIsolation:!1,tokenTelemetry:{},databaseEnabled:!0,cookieMode:y.THIRD_PARTY};t.DEFAULTS=b;const v={enabled:"modules.antitracking.enabled",cookieEnabled:"attrackBlockCookieTracking",qsEnabled:"attrackRemoveQueryStringTracking",fingerprintEnabled:"attrackCanvasFingerprintTracking",referrerEnabled:"attrackRefererTracking",trackerTxtEnabled:"trackerTxt",bloomFilterEnabled:"attrackBloomFilter",forceBlockEnabled:"attrackForceBlock",overrideUserAgent:"attrackOverrideUserAgent",cookieTrustReferers:"attrackCookieTrustReferers",telemetryMode:"attrackTelemetryMode",sendAntiTrackingHeader:"attrackSendHeader",firstPartyIsolation:"attrack.firstPartyIsolation",cookieMode:"attrack.cookieMode"};t.PREFS=v;const w=["blockRules","reportList","cookieWhitelist","subdomainRewriteRules","compatibilityList","tokenTelemetry"];t.default=class{constructor(e,t){let r=e.defaults,i=void 0===r?b:r,s=e.versionUrl,o=void 0===s?h:s,a=e.whitelistUrl,g=void 0===a?p:a;this.debugMode=!1,this.versionCheckUrl=o,this.whitelistUrl=g,this.onUpdated=t,this.tokenDomainCountThreshold=2,this.safeKeyExpire=7,this.localBlockExpire=24,Object.assign(this,i),this.safekeyValuesThreshold=parseInt(n.getValue("safekeyValuesThreshold"),10)||this.safekeyValuesThreshold,this.shortTokenLength=parseInt(n.getValue("shortTokenLength"),10)||this.shortTokenLength,this.paused=!1,this.loadPrefs()}loadPrefs(){Object.keys(v).forEach(e=>{this[e]=i.default.get(v[e],this[e]||!1)})}setPref(e,t){if(!v[e])throw new Error(`pref ${e} not known`);i.default.set(v[e],t)}onPrefChange(e){Object.keys(v).map(e=>v[e]).indexOf(e)>-1&&this.loadPrefs()}init(){var e=this;return c((function*(){yield e._loadConfig(),e._prefListener=g.default.subscribe("prefchange",t=>{"config_ts"===t&&e._loadConfig()})}))()}unload(){this._prefListener&&(this._prefListener.unsubscribe(),this._prefListener=null)}_loadConfig(){var e=this;return c((function*(){const t=yield o.default.multiGet(["attrack.configLastUpdate","attrack.config"]),r=t.reduce((e,t)=>Object.assign(e,{[t[0]]:t[1]}),{}),n=i.default.get("config_ts",null)||(0,a.getConfigTs)();if(2!==t.length||r["attrack.configLastUpdate"]!==n)try{const t=yield(yield(0,A.fetch)(f)).json();e._updateConfig(t),yield o.default.multiSet([["attrack.configLastUpdate",n],["attrack.config",JSON.stringify(t)]])}catch(t){u.default.setTimeout(e._loadConfig.bind(e),3e4)}else e._updateConfig(JSON.parse(r["attrack.config"]))}))()}_updateConfig(e){w.forEach(t=>{this[t]=e[t]}),this.onUpdated&&this.onUpdated()}}},function(e,t,r){"use strict";r.d(t,"b",(function(){return g})),r.d(t,"a",(function(){return C}));var n=r(6),i=r(10),s=r(30),o=r(16),a=r(37);function g(e,t,r,n){return function(i){return i.lift(new A(e,t,r,n))}}var A=function(){function e(e,t,r,n){this.keySelector=e,this.elementSelector=t,this.durationSelector=r,this.subjectSelector=n}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))},e}(),u=function(e){function t(t,r,n,i,s){var o=e.call(this,t)||this;return o.keySelector=r,o.elementSelector=n,o.durationSelector=i,o.subjectSelector=s,o.groups=null,o.attemptedToUnsubscribe=!1,o.count=0,o}return n.b(t,e),t.prototype._next=function(e){var t;try{t=this.keySelector(e)}catch(e){return void this.error(e)}this._group(e,t)},t.prototype._group=function(e,t){var r=this.groups;r||(r=this.groups=new Map);var n,i=r.get(t);if(this.elementSelector)try{n=this.elementSelector(e)}catch(e){this.error(e)}else n=e;if(!i){i=this.subjectSelector?this.subjectSelector():new a.a,r.set(t,i);var s=new C(t,i,this);if(this.destination.next(s),this.durationSelector){var o=void 0;try{o=this.durationSelector(new C(t,i))}catch(e){return void this.error(e)}this.add(o.subscribe(new I(t,i,this)))}}i.closed||i.next(n)},t.prototype._error=function(e){var t=this.groups;t&&(t.forEach((function(t,r){t.error(e)})),t.clear()),this.destination.error(e)},t.prototype._complete=function(){var e=this.groups;e&&(e.forEach((function(e,t){e.complete()})),e.clear()),this.destination.complete()},t.prototype.removeGroup=function(e){this.groups.delete(e)},t.prototype.unsubscribe=function(){this.closed||(this.attemptedToUnsubscribe=!0,0===this.count&&e.prototype.unsubscribe.call(this))},t}(i.a),I=function(e){function t(t,r,n){var i=e.call(this,r)||this;return i.key=t,i.group=r,i.parent=n,i}return n.b(t,e),t.prototype._next=function(e){this.complete()},t.prototype._unsubscribe=function(){var e=this.parent,t=this.key;this.key=this.parent=null,e&&e.removeGroup(t)},t}(i.a),C=function(e){function t(t,r,n){var i=e.call(this)||this;return i.key=t,i.groupSubject=r,i.refCountSubscription=n,i}return n.b(t,e),t.prototype._subscribe=function(e){var t=new s.a,r=this.refCountSubscription,n=this.groupSubject;return r&&!r.closed&&t.add(new l(r)),t.add(n.subscribe(e)),t},t}(o.a),l=function(e){function t(t){var r=e.call(this)||this;return r.parent=t,t.count++,r}return n.b(t,e),t.prototype.unsubscribe=function(){var t=this.parent;t.closed||this.closed||(e.prototype.unsubscribe.call(this),t.count-=1,0===t.count&&t.attemptedToUnsubscribe&&t.unsubscribe())},t}(s.a)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LANDING_MONITOR_TYPE=void 0;t.LANDING_MONITOR_TYPE="landing"},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(73),i=a(r(199)),s=a(r(204)),o=r(102);function a(e){return e&&e.__esModule?e:{default:e}}class g{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if("string"!=typeof e)throw new Error(`invalid raw url type: ${typeof e}`);this.rawUrl=e,this.referrerName=t,this.tabId=r,this.normalizedUrl=null,this.urlDetails=null,this.domain=null,this.patternsRequest=null,this.categoriesMatches=null}hasReferrerName(){return null!==this.referrerName}getReferrerName(){return this.referrerName}getTabId(){return this.tabId}getRawUrl(){return this.rawUrl}static _getNormalizedUrl(e){try{return decodeURIComponent(e.replace(/\+/g,"%20")).toLowerCase()}catch(t){return e.toLowerCase()}}getNormalizedUrl(){return null===this.normalizedUrl&&(this.normalizedUrl=g._getNormalizedUrl(this.rawUrl)),this.normalizedUrl}getUrlDetails(){return null===this.urlDetails&&(this.urlDetails=(0,n.getDetailsFromUrl)(this.rawUrl)),this.urlDetails}getDomain(){return null===this.domain&&(this.domain=(0,o.getGeneralDomain)(this.rawUrl)),this.domain}getGeneralDomain(){return this.getDomain()}getPatternRequest(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"script";if(null===this.patternsRequest){let t=this.rawUrl;t=g._rewriteGoogleSerpUrl(t),t=g._getNormalizedUrl(t),this.patternsRequest=(0,s.default)(t,e)}return this.patternsRequest}setCategoriesMatchTraits(e){this.categoriesMatches=e}getCategoriesMatchTraits(){return this.categoriesMatches}static _rewriteGoogleSerpUrl(e){let t;try{t=new i.default(e)}catch(t){return e}const r=t.generalDomain;if(!r||!r.startsWith("google."))return e;if("/search"!==t.pathname)return e;const n=new Map(t.searchParams.params),s=n.get("q")||n.get("query");return s?`${e.substr(0,e.indexOf("?"))}?q=${s}`:e}}t.default=g},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i=(n=r(134))&&n.__esModule?n:{default:n};
/*!
 * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */
class s extends i.default{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];super(()=>0),e.forEach(e=>this.incr(e))}incr(e){this.update(e,e=>e+1)}}t.default=s},function(e,t,r){var n=r(646);e.exports=function(e){return null==e?"":n(e)}},function(e,t){var r=Array.isArray;e.exports=r},function(e,t,r){var n=r(295),i=r(368);e.exports=function(e){return null!=e&&i(e.length)&&!n(e)}},function(e,t,r){var n=r(680),i=r(681),s=r(682),o=r(683),a=r(684);function g(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}g.prototype.clear=n,g.prototype.delete=i,g.prototype.get=s,g.prototype.has=o,g.prototype.set=a,e.exports=g},function(e,t,r){var n=r(242);e.exports=function(e,t){for(var r=e.length;r--;)if(n(e[r][0],t))return r;return-1}},function(e,t){e.exports=function(e,t){return e===t||e!=e&&t!=t}},function(e,t,r){var n=r(296)(Object,"create");e.exports=n},function(e,t,r){var n=r(704);e.exports=function(e,t){var r=e.__data__;return n(t)?r["string"==typeof t?"string":"hash"]:r.map}},,,function(e,t,r){"use strict";r.d(t,"a",(function(){return A})),r.d(t,"b",(function(){return u}));var n=r(6),i=r(37),s=r(16),o=r(10),a=r(30),g=r(181),A=function(e){function t(t,r){var n=e.call(this)||this;return n.source=t,n.subjectFactory=r,n._refCount=0,n._isComplete=!1,n}return n.b(t,e),t.prototype._subscribe=function(e){return this.getSubject().subscribe(e)},t.prototype.getSubject=function(){var e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject},t.prototype.connect=function(){var e=this._connection;return e||(this._isComplete=!1,(e=this._connection=new a.a).add(this.source.subscribe(new I(this.getSubject(),this))),e.closed&&(this._connection=null,e=a.a.EMPTY)),e},t.prototype.refCount=function(){return Object(g.a)()(this)},t}(s.a),u=function(){var e=A.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:e._subscribe},_isComplete:{value:e._isComplete,writable:!0},getSubject:{value:e.getSubject},connect:{value:e.connect},refCount:{value:e.refCount}}}(),I=function(e){function t(t,r){var n=e.call(this,t)||this;return n.connectable=r,n}return n.b(t,e),t.prototype._error=function(t){this._unsubscribe(),e.prototype._error.call(this,t)},t.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){var e=this.connectable;if(e){this.connectable=null;var t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}},t}(i.b);o.a},function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r(6),i=r(37),s=r(110),o=function(e){function t(t){var r=e.call(this)||this;return r._value=t,r}return n.b(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),t.prototype._subscribe=function(t){var r=e.prototype._subscribe.call(this,t);return r&&!r.closed&&t.next(this._value),r},t.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new s.a;return this._value},t.prototype.next=function(t){e.prototype.next.call(this,this._value=t)},t}(i.a)},function(e,t,r){"use strict";r.d(t,"b",(function(){return o})),r.d(t,"a",(function(){return g}));var n=r(6),i=r(10),s=r(95);function o(e,t){return void 0===t&&(t=0),function(r){return r.lift(new a(e,t))}}var a=function(){function e(e,t){void 0===t&&(t=0),this.scheduler=e,this.delay=t}return e.prototype.call=function(e,t){return t.subscribe(new g(e,this.scheduler,this.delay))},e}(),g=function(e){function t(t,r,n){void 0===n&&(n=0);var i=e.call(this,t)||this;return i.scheduler=r,i.delay=n,i}return n.b(t,e),t.dispatch=function(e){var t=e.notification,r=e.destination;t.observe(r),this.unsubscribe()},t.prototype.scheduleMessage=function(e){this.destination.add(this.scheduler.schedule(t.dispatch,this.delay,new A(e,this.destination)))},t.prototype._next=function(e){this.scheduleMessage(s.a.createNext(e))},t.prototype._error=function(e){this.scheduleMessage(s.a.createError(e)),this.unsubscribe()},t.prototype._complete=function(){this.scheduleMessage(s.a.createComplete()),this.unsubscribe()},t}(i.a),A=function(){return function(e,t){this.notification=e,this.destination=t}}()},function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));var n=function(){function e(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return e.prototype=Object.create(Error.prototype),e}()},function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=r(185);function i(){return Object(n.a)(1)}},function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r(16),i=r(61),s=r(185),o=r(126);function a(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=Number.POSITIVE_INFINITY,a=null,g=e[e.length-1];return Object(i.a)(g)?(a=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&(r=e.pop())):"number"==typeof g&&(r=e.pop()),null===a&&1===e.length&&e[0]instanceof n.a?e[0]:Object(s.a)(r)(Object(o.a)(e,a))}},function(e,t,r){"use strict";r.d(t,"a",(function(){return g}));var n=r(6),i=r(40),s=r(126),o=r(21),a=r(20);function g(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(1===e.length){if(!Object(i.a)(e[0]))return e[0];e=e[0]}return Object(s.a)(e,void 0).lift(new A)}var A=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new u(e))},e}(),u=function(e){function t(t){var r=e.call(this,t)||this;return r.hasFirst=!1,r.observables=[],r.subscriptions=[],r}return n.b(t,e),t.prototype._next=function(e){this.observables.push(e)},t.prototype._complete=function(){var e=this.observables,t=e.length;if(0===t)this.destination.complete();else{for(var r=0;r<t&&!this.hasFirst;r++){var n=e[r],i=Object(a.a)(this,n,n,r);this.subscriptions&&this.subscriptions.push(i),this.add(i)}this.observables=null}},t.prototype.notifyNext=function(e,t,r,n,i){if(!this.hasFirst){this.hasFirst=!0;for(var s=0;s<this.subscriptions.length;s++)if(s!==r){var o=this.subscriptions[s];o.unsubscribe(),this.remove(o)}this.subscriptions=null}this.destination.next(t)},t}(o.a)},function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r(16),i=r(45),s=r(130),o=r(61);function a(e,t,r){void 0===e&&(e=0);var a=-1;return Object(s.a)(t)?a=Number(t)<1?1:Number(t):Object(o.a)(t)&&(r=t),Object(o.a)(r)||(r=i.a),new n.a((function(t){var n=Object(s.a)(e)?e:+e-r.now();return r.schedule(g,n,{index:0,period:a,subscriber:t})}))}function g(e){var t=e.index,r=e.period,n=e.subscriber;if(n.next(t),!n.closed){if(-1===r)return n.complete();e.index=t+1,this.schedule(e,r)}}},function(e,t,r){"use strict";var n=r(16),i=r(30),s=r(109);var o=r(190),a=r(99);var g=r(260),A=r(259);function u(e,t){if(null!=e){if(function(e){return e&&"function"==typeof e[s.a]}(e))return function(e,t){return new n.a((function(r){var n=new i.a;return n.add(t.schedule((function(){var i=e[s.a]();n.add(i.subscribe({next:function(e){n.add(t.schedule((function(){return r.next(e)})))},error:function(e){n.add(t.schedule((function(){return r.error(e)})))},complete:function(){n.add(t.schedule((function(){return r.complete()})))}}))}))),n}))}(e,t);if(Object(g.a)(e))return function(e,t){return new n.a((function(r){var n=new i.a;return n.add(t.schedule((function(){return e.then((function(e){n.add(t.schedule((function(){r.next(e),n.add(t.schedule((function(){return r.complete()})))})))}),(function(e){n.add(t.schedule((function(){return r.error(e)})))}))}))),n}))}(e,t);if(Object(A.a)(e))return Object(o.a)(e,t);if(function(e){return e&&"function"==typeof e[a.a]}(e)||"string"==typeof e)return function(e,t){if(!e)throw new Error("Iterable cannot be null");return new n.a((function(r){var n,s=new i.a;return s.add((function(){n&&"function"==typeof n.return&&n.return()})),s.add(t.schedule((function(){n=e[a.a](),s.add(t.schedule((function(){if(!r.closed){var e,t;try{var i=n.next();e=i.value,t=i.done}catch(e){return void r.error(e)}t?r.complete():(r.next(e),this.schedule())}})))}))),s}))}(e,t)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")}r.d(t,"a",(function(){return u}))},function(e,t,r){"use strict";var n=r(6),i=function(e){function t(t,r){var n=e.call(this,t,r)||this;return n.scheduler=t,n.work=r,n}return n.b(t,e),t.prototype.schedule=function(t,r){return void 0===r&&(r=0),r>0?e.prototype.schedule.call(this,t,r):(this.delay=r,this.state=t,this.scheduler.flush(this),this)},t.prototype.execute=function(t,r){return r>0||this.closed?e.prototype.execute.call(this,t,r):this._execute(t,r)},t.prototype.requestAsyncId=function(t,r,n){return void 0===n&&(n=0),null!==n&&n>0||null===n&&this.delay>0?e.prototype.requestAsyncId.call(this,t,r,n):t.flush(this)},t}(r(129).a),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.b(t,e),t}(r(127).a);r.d(t,"a",(function(){return o}));var o=new s(i)},function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=r(6),i=function(e){function t(t,r){var n=e.call(this)||this;return n.subject=t,n.subscriber=r,n.closed=!1,n}return n.b(t,e),t.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var e=this.subject,t=e.observers;if(this.subject=null,t&&0!==t.length&&!e.isStopped&&!e.closed){var r=t.indexOf(this.subscriber);-1!==r&&t.splice(r,1)}}},t}(r(30).a)},function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));var n=function(e){return function(t){for(var r=0,n=e.length;r<n&&!t.closed;r++)t.next(e[r]);t.complete()}}},function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));var n=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e}},function(e,t,r){"use strict";function n(e){return!!e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}r.d(t,"a",(function(){return n}))},function(e,t,r){"use strict";function n(e,t){function r(){return!r.pred.apply(r.thisArg,arguments)}return r.pred=e,r.thisArg=t,r}r.d(t,"a",(function(){return n}))},function(e,t,r){"use strict";var n=r(4),i=r(2);const{IS_CLIQZ:s,BROWSER_INFO:o}=n.a,a="firefox"===o.name;t.a=new class{constructor(){this.language=this._getDefaultLanguage(),this.SYNC_SET=new Set(n.a.SYNC_ARRAY)}init(){return Object(i.prefsGet)().then(e=>{const t=Number((new Date).getTime()),r=(t,r)=>{null!==e[t]&&void 0!==e[t]||(e[t]=r,i(t,r)),this[t]=e[t]},i=(e,t)=>{n.a.INIT_COMPLETE||(n.a.initProps[e]=t)},{previous_version:o}=e;null!==e.previous_version&&void 0!==e.previous_version||e.previousVersion&&(e.previous_version=e.previousVersion,chrome.storage.local.remove("previousVersion"),delete e.previousVersion),this.previous_version=e.previous_version||"",o!==this.previous_version&&i("previous_version",this.previous_version);const{reload_banner_status:g,trackers_banner_status:A}=e;g&&"object"==typeof g?(this.reload_banner_status=!!g.show,i("reload_banner_status",this.reload_banner_status)):r("reload_banner_status",!0),A&&"object"==typeof A?(this.trackers_banner_status=!!A.show,i("trackers_banner_status",this.trackers_banner_status)):r("trackers_banner_status",!0),r("alert_bubble_pos","br"),r("alert_bubble_timeout",15),r("alert_expanded",!1),r("block_by_default",!1),r("bugs_last_checked",0),r("bugs_last_updated",t),r("cliqz_import_state",0),r("cmp_version",0),r("current_theme","default"),r("enable_ad_block",!s),r("enable_anti_tracking",!s),r("enable_autoupdate",!0),r("enable_click2play",!0),r("enable_click2play_social",!0),r("enable_human_web",!s&&!a),r("enable_metrics",!1),r("enable_offers",!s),r("enable_smart_block",!0),r("expand_all_trackers",!0),r("hide_alert_trusted",!1),r("ignore_first_party",!0),r("import_callout_dismissed",!0),r("insights_promo_modal_last_seen",0),r("install_random_number",0),r("install_date",0),r("is_expanded",!1),r("is_expert",!1),r("last_cmp_date",0),r("notify_library_updates",!1),r("notify_promotions",!0),r("notify_upgrade_updates",!0),r("paid_subscription",!1),r("plus_promo_modal_last_seen",0),r("rewards_accepted",!1),r("rewards_opted_in",!1),r("settings_last_imported",0),r("settings_last_exported",0),r("show_alert",!0),r("show_badge",!0),r("show_cmp",!0),r("show_tracker_urls",!0),r("toggle_individual_trackers",!0),r("setup_step",7),r("setup_show_warning_override",!0),r("setup_number",0),r("setup_block",1),r("setup_complete",!1),r("tutorial_complete",!1),r("account",null),r("bugs",{}),r("click2play",{}),r("cmp_data",[]),r("compatibility",{}),r("metrics",{}),r("new_app_ids",[]),r("selected_app_ids",{}),r("site_blacklist",[]),r("site_specific_blocks",{}),r("site_specific_unblocks",{}),r("site_whitelist",[]),r("cliqz_module_whitelist",{}),r("surrogates",{}),r("version_history",[])})}_getDefaultLanguage(){const e={de:"Deutsch",en:"English",es:"espaol",fr:"Franais",hu:"magyar",it:"Italiano",ja:"",ko:"",nl:"Nederlands",pl:"Polski",pt_BR:"portugus",ru:"",zh_CN:"",zh_TW:""};let t=window.navigator.language.replace("-","_");return e.hasOwnProperty(t)?t:(t=t.slice(0,2),e.hasOwnProperty(t)?t:"en")}}},function(e,t,r){"use strict";var n=r(3),i=r(18),s=r(170),o=r(4),a=r(96),g=r(88),A=r(2);t.a=class{constructor(){this.policy=new a.c,this.allowedCategoriesList=["essential","audio_video_player","comments"],this.allowedTypesList=["stylesheet","image","font"]}shouldUnblock(e,t,r,n,s){if(!this.shouldCheck(r,e))return!1;let o;return this._appHasKnownIssue(r,e,n)?o="hasIssue":this._allowedCategories(r,e,t)?o="allowedCategory":this._allowedTypes(r,e,s)?o="allowedType":this._pageWasReloaded(r,e)&&(o="pageReloaded"),!!o&&(Object(A.log)("Smart Blocking unblocked appId",e,"for reason:",o),i.a.setTabSmartBlockAppInfo(r,e,o,!1),!0)}shouldBlock(e,t,r,n,s,o){if(!this.shouldCheck(r,e))return!1;let a;this._requestWasSlow(r,e,o)&&(a="slow",this._appHasKnownIssue(r,e,n)?a="hasIssue":this._allowedCategories(r,e,t)?a="allowedCategory":this._allowedTypes(r,e,s)?a="allowedType":this._pageWasReloaded(r,e)&&(a="pageReloaded"));const g="slow"===a;return g&&(Object(A.log)("Smart Blocking blocked appId",e,"for reason:",a),i.a.setTabSmartBlockAppInfo(r,e,"slow",!0)),g}shouldCheck(e,t=!1){const r=i.a.getTabInfo(e,"url"),s=i.a.getTabInfo(e,"host");return n.a.enable_smart_block&&!o.a.SESSION.paused_blocking&&!this.policy.getSitePolicy(r)&&(t&&(!n.a.site_specific_unblocks.hasOwnProperty(s)||!n.a.site_specific_unblocks[s].includes(+t))||!1===t)&&(t&&(!n.a.site_specific_blocks.hasOwnProperty(s)||!n.a.site_specific_blocks[s].includes(+t))||!1===t)&&g.a.db.apps&&!g.a.db.apps.hasOwnProperty(t)}isFirstPartyRequest(e,t="",r=""){return!!this.shouldCheck(e)&&t===r}_pageWasReloaded(e){return i.a.getTabInfo(e,"reloaded")||!1}_appHasKnownIssue(e,t,r){return s.a.hasIssue(t,r)}isInsecureRequest(e,t,r,n){return!!this.shouldCheck(e)&&("localhost"!==n&&"127.0.0.1"!==n&&"[::1]"!==n&&("https"===t&&("http"===r||"ws"===r)||!1))}_allowedCategories(e,t,r){return this.allowedCategoriesList.includes(r)}_allowedTypes(e,t,r){return this.allowedTypesList.includes(r)}checkReloadThreshold(e){if(!this.shouldCheck(e))return!1;return i.a.getTabInfoPersist(e,"numOfReloads")>1&&Date.now()-i.a.getTabInfoPersist(e,"firstLoadTimestamp")<3e4||!1}_requestWasSlow(e,t,r){return r-i.a.getTabInfo(e,"timestamp")>5e3||!1}}},,function(e,t,r){"use strict";r.r(t);var n=r(152),i=32,s=38,o=61,a=r(6),g=function(){function e(e){var t=this;this.isEncoded=!1,this.params=[],"string"==typeof e?A(e,"?"===e[0]?1:0,e.length,this,[s],o,[],{encode:!0}):Array.isArray(e)?e.forEach((function(e){t.append(e[0],e[1])})):"object"==typeof e&&Object.keys(e).forEach((function(r){t.append(r,e[r])}))}return e.prototype.entries=function(){var e;return Object(a.c)(this,(function(t){switch(t.label){case 0:e=0,t.label=1;case 1:return e<this.params.length?[4,[u(this.params[e][0]),u(this.params[e][1])]]:[3,4];case 2:t.sent(),t.label=3;case 3:return e+=1,[3,1];case 4:return[2]}}))},e.prototype.append=function(e,t){this.params.push([I(e),I(t)])},e.prototype.delete=function(e){this.params=this.params.filter((function(t){var r=Object(a.d)(t,2),n=r[0];r[1];return u(n)!==e}))},e.prototype.forEach=function(e){var t=this;this.params.forEach((function(r){var n=Object(a.d)(r,2),i=n[0],s=n[1];e(u(s),u(i),t)}))},e.prototype.get=function(e){var t=this.params.find((function(t){var r=Object(a.d)(t,2),n=r[0];r[1];return u(n)===e}));return t?u(t[1]):null},e.prototype.getAll=function(e){return this.params.filter((function(t){var r=Object(a.d)(t,2),n=r[0];r[1];return u(n)===e})).map((function(e){return e[1]}))},e.prototype.has=function(e){return null!==this.get(e)},e.prototype.keys=function(){var e;return Object(a.c)(this,(function(t){switch(t.label){case 0:e=0,t.label=1;case 1:return e<this.params.length?[4,u(this.params[e][0])]:[3,4];case 2:t.sent(),t.label=3;case 3:return e+=1,[3,1];case 4:return[2]}}))},e.prototype.set=function(e,t){var r=this.params.findIndex((function(t){var r=Object(a.d)(t,2),n=r[0];r[1];return u(n)===e}));-1!==r?(this.delete(e),this.params.splice(r,0,[I(e),I(t)])):this.append(e,t)},e.prototype.sort=function(){this.params=this.params.sort((function(e,t){return e[0].localeCompare(t[0])}))},e.prototype.toString=function(){return this.params.map((function(e){var t=Object(a.d)(e,2);return t[0]+"="+t[1]})).join("&")},e.prototype.values=function(){var e;return Object(a.c)(this,(function(t){switch(t.label){case 0:e=0,t.label=1;case 1:return e<this.params.length?[4,u(this.params[e][1])]:[3,4];case 2:t.sent(),t.label=3;case 3:return e+=1,[3,1];case 4:return[2]}}))},e.prototype[Symbol.iterator]=function(){return this.entries()},e}();function A(e,t,r,n,i,s,o,a){for(var g=t,A=g,u=0,I=0,C=(void 0===a?{encode:!1}:a).encode?n.append.bind(n):function(e,t){return n.params.push([e,t])};g<=r;g+=1){var l=e.charCodeAt(g);if(l===s&&0===u)u=g,I=g+1;else if(-1!==i.indexOf(l))g>A&&C(e.slice(A,u||g),e.slice(I||g,g)),A=g+1,u=0,I=0;else if(-1!==o.indexOf(l))break}return g!==A&&C(e.slice(A,u||g),e.slice(I||g,g)),g}function u(e){return-1!==e.indexOf("%")?function(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(t){return e}}(e):e}function I(e){for(var t=""+e,r="",n=0;n<t.length;n++)t.charCodeAt(n)===i?r+="+":r+=encodeURIComponent(t[n]);return r}var C=[47,35,63];function l(e){return e>=65&&e<=90||e>=97&&e<=122||e>=48&&e<=57||45===e||43===e}var c=function(){function e(e){this.parse(e)}return Object.defineProperty(e.prototype,"protocol",{get:function(){return this._protocol},set:function(e){var t=this._protocol,r=e.endsWith(":")?"":":";this.href=""+e+r+this.href.slice(t.length),this.parse(this.href)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"username",{get:function(){return this._username},set:function(e){this._username=e,this.reparse()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"password",{get:function(){return this._password},set:function(e){this._password=e,this.reparse()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hostname",{get:function(){return this._hostname},set:function(e){this._hostname=e,this._port?this.port=this._port:this.host=this._hostname},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"host",{get:function(){return this._host},set:function(e){this._host=e,this.reparse()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"port",{get:function(){return this._port},set:function(e){"https:"===this.protocol&&"443"===e?e="":"http:"===this.protocol&&"80"===e&&(e=""),this._port=e,this._host=this.hostname+(this._port?":":"")+this._port,this.reparse()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pathname",{get:function(){return this._pathname},set:function(e){var t=47===e.charCodeAt(0)?e:"/"+e;this._pathname=t,this.reparse()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"search",{get:function(){return this._search||this._extractParams(),this._search},set:function(e){var t=63===e.charCodeAt(0)?e.slice(1):e;0===this.queryStartIndex?this.parse(this.href+"?"+t+this.hash):this.parse(""+this.href.slice(0,this.queryStartIndex+1)+t+this.hash)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"searchParams",{get:function(){return this.isQueryParsed||this._extractSearchParams(),this._query},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parameters",{get:function(){return this.isQueryParsed||this._extractSearchParams(),this._parameters},enumerable:!0,configurable:!0}),e.prototype.hasParameterString=function(){return this.parameterStartIndex>0},Object.defineProperty(e.prototype,"hash",{get:function(){return this._search||this._hash||this._extractParams(),this._hash},set:function(e){var t=35===e.charCodeAt(0)?e.slice(1):e;""===this.hash?this.href.endsWith("#")?this.href=""+this.href+t:this.href=this.href+"#"+t:this.href=this.href.slice(0,this.href.length-this.hash.length)+"#"+t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"href",{get:function(){return this._href},set:function(e){this.parse(e)},enumerable:!0,configurable:!0}),e.prototype.toString=function(){return this.href},e.prototype.toJSON=function(){return this.href},Object.defineProperty(e.prototype,"domainInfo",{get:function(){return this._domainInfo||(this._domainInfo=Object(n.parse)(this.hostname,{extractHostname:!1})),this._domainInfo},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hostIsIp",{get:function(){return this.domainInfo.isIp},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"domain",{get:function(){return this.domainInfo.hostname||this.hostname},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"generalDomain",{get:function(){return this.domainInfo.domain||this.hostname},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.pathname||"/"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scheme",{get:function(){return this.protocol.slice(0,-1)},enumerable:!0,configurable:!0}),e.prototype.isValidHost=function(){return this.hostIsIp||null!==this.generalDomain},e.prototype.extractKeyValues=function(){if(this.parsedParameters)return this.parsedParameters;if(this.parsedParameters=new g,0===this.queryStartIndex&&0===this.parameterStartIndex)return this.parsedParameters;var e=this.parameterStartIndex||this.queryStartIndex,t=this.href.length-1,r=e;return 59===this.href.charCodeAt(r)&&(r=this._extractParamTuples(r+1,t,this.parsedParameters,[59],o,[63,35])),63===this.href.charCodeAt(r)&&(r=this._extractParamTuples(r+1,t,this.parsedParameters,[s,59],o,[35])),this.parsedParameters},e.prototype._extractHostname=function(e,t){var r=0,n=!1,i=e,s=!1,o=!1;if(91===this._href.charCodeAt(i))for(s=!0;i<=t;i+=1){if(93===(I=this._href.charCodeAt(i))){var a=this._href.charCodeAt(i+1);if(58===a)r=i+1,i+=1,n=!0;else if(47===a)i+=1,n=!0;else if(i!==t)throw new TypeError("expected `:` or `/` after IPv6 address");break}}if(!s)for(;i<=t;i+=1){if(58===(I=this._href.charCodeAt(i))){r=i,n=!0;break}if(64===I)return this._username=this._href.slice(e,i),this._password="",this._extractHostname(i+1,t);if(-1!==C.indexOf(I)){n=!0;break}if(I<=32)throw new TypeError("Invalid character '"+this.href[i]+"' in hostname");I>=65&&I<=90&&(o=!0)}var g=n?i:i+1;if(o&&(this._href=""+this._href.slice(0,e)+this._href.slice(e,g).toLowerCase()+this._href.slice(g)),this._hostname=this._href.slice(e,g),r>0){for(var A=i+=1,u=!1;i<=t;i+=1){var I=this._href.charCodeAt(i);if(-1!==C.indexOf(I)){this._port=this._href.slice(A,i);break}if(64===I)return this._username=this._href.slice(e,r||i),this._password=this._href.slice(r+1,i),this._extractHostname(i+1,t);(I<48||I>57)&&(u=!0)}if(this._port||(this._port=this.href.slice(A,i)),u)throw new TypeError("Invalid URL: port contains non numeric character");if(this._port.length>=5&&+this._port>65535)throw new TypeError("Invalid URL: invalid port number")}return this._host=this._href.slice(e,n?i:i+1),this.origin=this._protocol+"//"+this._host,n?i:i+1},e.prototype._extractParams=function(){if(this.queryStartIndex>0){var e=this.queryStartIndex,t=this.href.length-1;if(63===this.href.charCodeAt(e)){for(var r=!1;e<=t;e+=1)if(35===this.href.charCodeAt(e)){r=!0;break}this._search=this.href.slice(this.queryStartIndex,r?e:t+1),1===this._search.length&&(this._search="")}35===this.href.charCodeAt(e)&&(this._hash=this.href.slice(e,t+1))}},e.prototype._extractSearchParams=function(){if(this.isQueryParsed=!0,0!==this.queryStartIndex||0!==this.parameterStartIndex){var e=this.parameterStartIndex||this.queryStartIndex,t=this.href.length-1,r=e;if(59===this.href.charCodeAt(r)&&(r=this._extractParamTuples(r+1,t,this._parameters,[59],o,[63,35])),63===this.href.charCodeAt(r)){var n=r;r=this._extractParamTuples(r+1,t,this._query,[s],o,[35]),this._search=this.href.slice(n,r),1===this._search.length&&(this._search="")}35===this.href.charCodeAt(r)&&(this._hash=this.href.slice(r,t+1))}},e.prototype._extractParamTuples=function(e,t,r,n,i,s){return A(this.href,e,t,r,n,i,s)},e.prototype.parse=function(e){if("string"!=typeof e||0===e.length)throw new TypeError(e+" is not a valid URL");this._protocol="",this._hostname="",this._host="",this._port="",this._pathname="",this._username="",this._password="",this._search="",this._hash="",this.parameterStartIndex=0,this.queryStartIndex=0,this.isQueryParsed=!1,this._parameters=new g,this._query=new g,this._domainInfo=null,this.parsedParameters=null;for(var t=0,r=e.length-1;e.charCodeAt(t)<=32;)t+=1;for(;e.charCodeAt(r)<=32;)r-=1;this._href=e.slice(t,r+1),r=this._href.length-1;for(var n=!1;t<=r;t+=1){if(58===(s=this._href.charCodeAt(t))){this._protocol=this._href.slice(0,t+1),n&&(this._protocol=this._protocol.toLowerCase(),this._href=""+this._protocol+this._href.slice(t+1));break}if(!l(s))throw new TypeError("Invalid URL protocol");s>=65&&s<=90&&(n=!0)}if(t>=r)throw new TypeError("No protocol");for(this.slashes="",t+=1;t<r&&47===this._href.charCodeAt(t);t+=1)this.slashes+="/";if(this.slashes.length>=2?t=this._extractHostname(t,r):(this._host="",this._hostname="",this.origin="null"),t>=r)47!==this._href.charCodeAt(r)&&(this._href+="/"),this._pathname="/";else{for(var i=t;t<=r;t+=1){var s;if(59!==(s=this._href.charCodeAt(t))||this.parameterStartIndex){if(63===s||35===s){this.queryStartIndex=t;break}}else this.parameterStartIndex=t}this._pathname=this.href.slice(i,0!==this.queryStartIndex?this.queryStartIndex:r+1)||"/"}},e.prototype.reparse=function(){var e=this.username?this.password?this.username+":"+this.password+"@":this.username+"@":this.password?":"+this.password+"@":"";this.parse(""+this.protocol+this.slashes+e+this.host+this.pathname+this.search+this.hash)},e}();function d(e,t){var r=e(t.hostname);return r!==t.hostname?new c(""+t.protocol+t.slashes+r+t.pathname+t.search+t.hash):t}r.d(t,"URL",(function(){return c})),r.d(t,"URLSearchParams",(function(){return g})),r.d(t,"getPunycodeEncoded",(function(){return d}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=
/*!
 * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */
function(e){return new Promise(t=>(0,n.setTimeout)(t,e))};var n=r(145)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.newTab=function(e){let t,r=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).focus,i=void 0===r||r;const s=new Promise(e=>{t=e});return n.chrome.tabs.create({url:e,active:i},e=>{t(e.id)}),s},t.getCurrentTabId=function(){return A.apply(this,arguments)},t.queryTabs=function(){return new Promise(e=>n.chrome.tabs.query({},e))},t.queryActiveTabs=function(){return[]},t.getTabsWithUrl=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return new Promise(t=>n.chrome.tabs.query({},r=>t(r.filter(t=>t.url===e))))},t.getCurrentgBrowser=function(){throw new Error("getCurrentgBrowser() is not implemented!")},t.closeTab=u,t.getCurrentTab=I,t.closeTabsWithUrl=function(e){let t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).strict,r=[e];void 0===t||t||(r=(0,s.getUrlVariations)(e));return new Promise(e=>{n.chrome.tabs.query({url:r},(function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];Promise.all(t.map(e=>u(e.id))).then(e)}))})},t.updateTab=C,t.updateCurrentTab=function(e){return c.apply(this,arguments)},t.getTab=function(e){return new Promise((t,r)=>{"number"==typeof e?n.chrome.tabs.get(e,e=>{e?t(e):r(new Error("tab not found"))}):n.chrome.tabs.query({active:!0,currentWindow:!0},e=>t(e&&e[0]))})},t.query=function(e){return new Promise(t=>{n.chrome.tabs.query(e,t)})},t.reloadTab=function(e){return new Promise(t=>{n.chrome.tabs.reload(e,t)})},t.findTabs=function(e){return new Promise(t=>n.chrome.tabs.query({url:e},e=>t(n.chrome.runtime.lastError?[]:e)))},t.default=void 0;var n=r(51),i=r(173),s=r(73);function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var r=[],n=!0,i=!1,s=void 0;try{for(var o,a=e[Symbol.iterator]();!(n=(o=a.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){i=!0,s=e}finally{try{n||null==a.return||a.return()}finally{if(i)throw s}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function a(e,t,r,n,i,s,o){try{var a=e[s](o),g=a.value}catch(e){return void r(e)}a.done?t(g):Promise.resolve(g).then(n,i)}function g(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var s=e.apply(t,r);function o(e){a(s,n,i,o,g,"next",e)}function g(e){a(s,n,i,o,g,"throw",e)}o(void 0)}))}}function A(){return(A=g((function*(){return(yield(0,i.getActiveTab)()).id}))).apply(this,arguments)}function u(e){return new Promise((t,r)=>{n.chrome.tabs.onRemoved.addListener((function r(i){i===e&&(t(),n.chrome.tabs.onRemoved.removeListener(r))}));const i=n.chrome.tabs.remove(Number(e),()=>{n.chrome.runtime.lastError&&r(new Error(`tab with id '${e}' is missing, probably already closed.`))});i&&i.catch&&i.catch(r)})}function I(e){const t="number"==typeof e?e:n.chrome.windows.WINDOW_ID_CURRENT;return new Promise(e=>n.chrome.tabs.query({windowId:t,active:!0},t=>{let r=o(t,1)[0];return e(r)}))}function C(e,t){return l.apply(this,arguments)}function l(){return(l=g((function*(e,t){let r=e,i=t;if("number"!=typeof r){const t=yield I();r=t.id,i=e}return new Promise(e=>{n.chrome.tabs.update(r,i,e)})}))).apply(this,arguments)}function c(){return(c=g((function*(e){return C((yield I()).id,{url:e})}))).apply(this,arguments)}var d=n.chrome&&n.chrome.tabs||void 0;t.default=d},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActionMissingError=t.ModuleDisabledError=t.ModuleMissingError=void 0;
/*!
 * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */
class n extends Error{constructor(e){super(`module '${e}' is missing`),this.name="ModuleMissingError"}}t.ModuleMissingError=n;class i extends Error{constructor(e){super(`module '${e}' is disabled`),this.name="ModuleDisabledError"}}t.ModuleDisabledError=i;class s extends Error{constructor(e,t){super(`action '${t}' is not defined on module '${e}'`),this.name="ActionMissingError"}}t.ActionMissingError=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i=(n=r(43))&&n.__esModule?n:{default:n},s=r(91);function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var r=[],n=!0,i=!1,s=void 0;try{for(var o,a=e[Symbol.iterator]();!(n=(o=a.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){i=!0,s=e}finally{try{n||null==a.return||a.return()}finally{if(i)throw s}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}const a={ONCE:0,FOREVER:1};t.default=class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.events=new Map;for(let t=0;t<e.length;t+=1)this.events.set(e[t],new Map)}on(e,t){this._registerCallback(e,t,a.FOREVER)}once(e,t){this._registerCallback(e,t,a.ONCE)}emit(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];if(this.events.has(e)){const t=this.events.get(e);[...t.entries()].forEach(n=>{let g=o(n,2),A=g[0];g[1]===a.ONCE&&t.delete(A),(0,s.nextTick)(()=>A(...r)).catch(t=>i.default.error("Error while emitting event",e,A,r,t))})}}unsubscribe(e,t){"function"==typeof t&&this.events.has(e)&&this.events.get(e).delete(t)}_registerCallback(e,t,r){if(!this.events.has(e))throw new Error(`${e} is not a valid app lifecycle event`,this);"function"==typeof t&&this.events.get(e).set(t,r)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.decompress=t.compress=void 0;var n=function(e){if(e&&e.__esModule)return e;var t=i();if(t&&t.has(e))return t.get(e);var r={};if(null!=e){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){var o=n?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(r,s,o):r[s]=e[s]}}r.default=e,t&&t.set(e,r);return r}
/*!
 * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */(r(415));function i(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return i=function(){return e},e}const s=n.compress||!1;t.compress=s;const o=n.decompress||!1;t.decompress=o},function(e,t,r){"use strict";e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isTrackableOriginHeaderFromOurExtension=function(e){return l.some(t=>e===t)},t.fetchArrayBuffer=t.AbortController=t.Response=t.Request=t.Headers=t.fetch=t.default=void 0,r(425);var n=function(e){if(e&&e.__esModule)return e;var t=s();if(t&&t.has(e))return t.get(e);var r={};if(null!=e){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(r,i,o):r[i]=e[i]}}r.default=e,t&&t.set(e,r);return r}
/*!
 * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */(r(426)),i=r(51);function s(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}const o=n.fetch,a=n.Headers,g=n.Request,A=n.Response;t.Response=A,t.Request=g,t.Headers=a,t.fetch=o;const u=window.AbortController;t.AbortController=u;var I=o;t.default=I;const C=function(){try{const e=i.chrome.i18n.getMessage("@@extension_id");if(e)return e}catch(e){}return i.chrome.runtime.id}(),l=[`moz-extension://${C}`,`chrome-extension://${C}`];const c=o;t.fetchArrayBuffer=c},function(e,t,r){(function(e,t){!function(e,r){"use strict";if(!e.setImmediate){var n,i,s,o,a,g=1,A={},u=!1,I=e.document,C=Object.getPrototypeOf&&Object.getPrototypeOf(e);C=C&&C.setTimeout?C:e,"[object process]"==={}.toString.call(e.process)?n=function(e){t.nextTick((function(){c(e)}))}:!function(){if(e.postMessage&&!e.importScripts){var t=!0,r=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=r,t}}()?e.MessageChannel?((s=new MessageChannel).port1.onmessage=function(e){c(e.data)},n=function(e){s.port2.postMessage(e)}):I&&"onreadystatechange"in I.createElement("script")?(i=I.documentElement,n=function(e){var t=I.createElement("script");t.onreadystatechange=function(){c(e),t.onreadystatechange=null,i.removeChild(t),t=null},i.appendChild(t)}):n=function(e){setTimeout(c,0,e)}:(o="setImmediate$"+Math.random()+"$",a=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(o)&&c(+t.data.slice(o.length))},e.addEventListener?e.addEventListener("message",a,!1):e.attachEvent("onmessage",a),n=function(t){e.postMessage(o+t,"*")}),C.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),r=0;r<t.length;r++)t[r]=arguments[r+1];var i={callback:e,args:t};return A[g]=i,n(g),g++},C.clearImmediate=l}function l(e){delete A[e]}function c(e){if(u)setTimeout(c,0,e);else{var t=A[e];if(t){u=!0;try{!function(e){var t=e.callback,n=e.args;switch(n.length){case 0:t();break;case 1:t(n[0]);break;case 2:t(n[0],n[1]);break;case 3:t(n[0],n[1],n[2]);break;default:t.apply(r,n)}}(t)}finally{l(e),u=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,r(27),r(147))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"inflate",{enumerable:!0,get:function(){return n.inflate}}),Object.defineProperty(t,"deflate",{enumerable:!0,get:function(){return n.deflate}});var n=r(431)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.normalizeString=h,t.parsePlatform=p,t.default=function(){return _.apply(this,arguments)},t.getInstallDateAsDaysSinceEpoch=y,t.getDaysSinceInstall=function(){return v.apply(this,arguments)},Object.defineProperty(t,"getChannel",{enumerable:!0,get:function(){return i.getChannel}});var n=g(r(437)),i=r(276),s=r(329),o=g(r(74)),a=g(r(230));function g(e){return e&&e.__esModule?e:{default:e}}function A(e,t,r,n,i,s,o){try{var a=e[s](o),g=a.value}catch(e){return void r(e)}a.done?t(g):Promise.resolve(g).then(n,i)}function u(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var s=e.apply(t,r);function o(e){A(s,n,i,o,a,"next",e)}function a(e){A(s,n,i,o,a,"throw",e)}o(void 0)}))}}const I=o.default.get("core",{level:"log",prefix:"[demographics]"}),C=new Set(["amd64","i386","x86_64"]),l=new Set(["FreeBSD","NetBSD","OpenBSD","DragonFly"]),c=new Set(["Arch","CentOS","Fedora","Debian","Gentoo","GNU","Mageia","Mandriva","Mint","RedHat","Slackware","SUSE","Ubuntu","VectorLinux"]),d="YYYY/MM/DD";function h(e){return e.trim().toLowerCase().replace(/\s+/g,"-")}function f(e){if((0,s.isConfigTsDate)(e))return(0,s.formattedToDate)(e,s.CONFIG_TS_FORMAT).format(d);const t=parseInt(e,10),r=(0,s.dateToDaysSinceEpoch)((0,a.default)());if(t>=16129&&t<=r){const e=(0,s.daysSinceEpochToDate)(t);if(e.isValid())return e.format(d)}return`Other/${e}`}function p(e){let t=`Other/${e}`;if("ios"===e)t="Mobile/iOS";else if("android"===e)t="Mobile/Android";else if(e){const r=new n.default;r.setUA(e);const i=r.getOS(),s=i.name,o=i.version;let a=!1;if("Windows"===s?(t="Desktop/Windows",a=!0):"Mac OS"===s?(t="Desktop/Mac OS",a=!0):l.has(s)?t=`Desktop/BSD/${s}`:"Linux"===s||"linux"===s?t="Desktop/Linux":c.has(s)?(t=`Desktop/Linux/${s}`,a=!0):"Android"===s?(t="Mobile/Android",a=!0):"iOS"===s?(t="Mobile/iOS",a=!0):void 0!==s&&(t=`Other/${s}`),a&&!C.has(o)&&void 0!==o){let e;(e=-1!==o.indexOf(" ")?o.split(" ",1)[0].split("."):o.split(".")).length>2&&(e=e.slice(0,2)),t=`${t}/${e.join(".").trim()}`}}return I.debug("platform",t),t}function m(e,t){let r=`Other/${e||""}`;try{let n=null;try{n=Number(e)}catch(e){}if("40"===e){const e="CLIQZ/desktop";r=t.includes("Windows")?`${e}/Cliqz for Windows`:t.includes("Mac")?`${e}/Cliqz for Mac OS`:`${e}/Cliqz for Linux`}else null!==n&&n<40?r="CLIQZ/add-on/Cliqz for Firefox":"MA60"===e?r="CLIQZ/android/Concept Browser":"MA10"===e?r="third-party/mobile/Telefonica":e.startsWith("MA")?r=e.startsWith("MA5")?"Ghostery/mobile/Ghostery for Android":"CLIQZ/mobile/Cliqz for Android":e.startsWith("MI")?r=e.startsWith("MI5")?"Ghostery/mobile/Ghostery for iOS":e.startsWith("MI6")?"Lumen/mobile/Lumen for iOS":"CLIQZ/mobile/Cliqz for iOS":"CH50"===e?r="third-party/desktop/Avira Scout":"CT10"===e?r="CLIQZ/desktop/CliqzTab for Chrome":"GT00"===e?r="Ghostery/desktop/GhosteryTab for Firefox":"GT10"===e?r="Ghostery/desktop/GhosteryTab for Chrome":"MO00"===e?r="MyOffrz/desktop/Standalone for Firefox":"MO10"===e?r="MyOffrz/desktop/Standalone for Chrome":"MO02"===e&&(r="MyOffrz/desktop/Standalone Test");return I.debug("product",r),r}catch(e){return r}}function _(){return(_=u((function*(){const e=p(yield(0,i.getUserAgent)());return{country:h((r=yield(0,i.getCountry)(),r||"")),campaign:h((t=yield(0,i.getDistribution)(),t)),install_date:h(f(yield(0,i.getInstallDate)())),platform:h(e),product:h(m(yield(0,i.getChannel)(),e))};var t,r}))).apply(this,arguments)}function y(){return b.apply(this,arguments)}function b(){return(b=u((function*(){const e=yield(0,i.getInstallDate)();return(0,s.isConfigTsDate)(e)?(0,s.dateToDaysSinceEpoch)((0,s.formattedToDate)(e,s.CONFIG_TS_FORMAT)):e}))).apply(this,arguments)}function v(){return(v=u((function*(){return(0,s.dateToDaysSinceEpoch)((0,a.default)())-(yield y())}))).apply(this,arguments)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getUserAgent=function(){return navigator.userAgent},t.getDistribution=function(){return I.apply(this,arguments)},t.getChannel=function(){if(o.browser.cliqzAppConstants)return o.browser.cliqzAppConstants.get("CLIQZ_CHANNEL")||s.default.settings.channel||"";if((0,i.hasPref)(u))return s.default.settings.channel+(0,i.getPref)(u,"");return s.default.settings.channel||""},t.getInstallDate=function(){return C.apply(this,arguments)},t.getCountry=function(){return(0,i.getPref)("config_location.granular","")};var n,i=r(317),s=(n=r(28))&&n.__esModule?n:{default:n},o=r(51);function a(e,t,r,n,i,s,o){try{var a=e[s](o),g=a.value}catch(e){return void r(e)}a.done?t(g):Promise.resolve(g).then(n,i)}function g(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var s=e.apply(t,r);function o(e){a(s,n,i,o,g,"next",e)}function g(e){a(s,n,i,o,g,"throw",e)}o(void 0)}))}}const A="web0003",u="offers.distribution.channel.ID";function I(){return(I=g((function*(){let e=(0,i.getPref)("distribution","");return o.browser.demographics&&!e&&"40"===s.default.settings.channel&&navigator.userAgent.indexOf("Mac OS")>-1&&(e=(yield o.browser.demographics.getMacDistribution())||A,(0,i.setPref)("distribution",e)),e}))).apply(this,arguments)}function C(){return(C=g((function*(){return o.browser.cliqzNativeBridge?o.browser.cliqzNativeBridge.callAction("getInstallDate",[]):(0,i.getPref)("install_date","")}))).apply(this,arguments)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"VALID_RESPONSE_PROPERTIES",{enumerable:!0,get:function(){return n.VALID_RESPONSE_PROPERTIES}}),t.EXTRA_INFO_SPEC=t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t=s();if(t&&t.has(e))return t.get(e);var r={};if(null!=e){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(r,i,o):r[i]=e[i]}}r.default=e,t&&t.set(e,r);return r}
/*!
 * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */(r(441)),i=r(84);function s(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}var o=n.default;function a(e){return e?[e.BLOCKING,e.REQUEST_HEADERS||e.REQUESTHEADERS,e.RESPONSE_HEADERS||e.RESPONSEHEADERS,e.EXTRA_HEADERS].filter(e=>!!e):[]}t.default=o;const g=i.isEdge?{onBeforeRequest:["blocking"],onBeforeSendHeaders:["blocking","requestHeaders"],onSendHeaders:["requestHeaders"],onHeadersReceived:["blocking","requestHeaders"],onAuthRequired:["responseHeaders","blocking"],onResponseStarted:["responseHeaders"],onBeforeRedirect:["responseHeaders"],onCompleted:["responseHeaders"],onErrorOccurred:void 0}:{onBeforeRequest:a(n.default.OnBeforeRequestOptions),onBeforeSendHeaders:a(n.default.OnBeforeSendHeadersOptions),onSendHeaders:a(n.default.OnSendHeadersOptions),onHeadersReceived:a(n.default.OnHeadersReceivedOptions),onAuthRequired:a(n.default.OnAuthRequiredOptions),onResponseStarted:a(n.default.OnResponseStartedOptions),onBeforeRedirect:a(n.default.OnBeforeRedirectOptions),onCompleted:a(n.default.OnCompletedOptions),onErrorOccurred:void 0};t.EXTRA_INFO_SPEC=g},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.normalizeAclkUrl=
/*!
 * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */
function(e){const t=e.split("aclk?");if(2!==t.length)throw new Error(`Expected Google pagead "aclk" URL. Instead got: ${e}`);return t[1].replace(/ved=.*&/,"").replace(/&q=&adurl=$/,"").replace(/&adurl=&q=$/,"")}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseHostname=u,t.parseURL=I,t.Network=void 0;var n=a(r(156)),i=r(91),s=r(73),o=a(r(463));function a(e){return e&&e.__esModule?e:{default:e}}function g(e,t,r,n,i,s,o){try{var a=e[s](o),g=a.value}catch(e){return void r(e)}a.done?t(g):Promise.resolve(g).then(n,i)}function A(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var s=e.apply(t,r);function o(e){g(s,n,i,o,a,"next",e)}function a(e){g(s,n,i,o,a,"throw",e)}o(void 0)}))}}function u(e){const t={hostname:null,username:"",password:"",port:null};let r=e,n=e.split("@");if(n.length>1){const e=n[0].split(":");t.username=e[0],t.password=e[1],r=n[1]}return(n=r.split(":")).length>1?(t.hostname=n[0],t.port=parseInt(n[1],10)):(t.hostname=n[0],t.port=80),t}function I(e){const t={};let r=e.split("://");if(!(r.length>=2))return null;{t.protocol=r[0];let e=r.slice(1,r.length).join("://");if(""===(r=e.split("/"))[0])return null;if(/[?!@#\$\^\&*\)\(+=]/g.test(r[0]))return null;const n=u(r[0]);t.hostname=n.hostname,t.port=n.port,t.username=n.username,t.password=n.password,t.path="/",t.query_string=null,r.length>1&&(e=r.splice(1,r.length).join("/"),r=e.split("?"),t.path="/"+r[0],r.length>1&&(t.query_string=r.splice(1,r.length).join("?")),r=t.path.split(";"),t.path=r[0],r.length>1&&(t.query_string=r.splice(1,r.length).join(";")+"&"+(t.query_string||"")),r=t.path.split("#"),t.path=r[0],r.length>1&&(t.query_string=r.splice(1,r.length).join("#")+"&"+(t.query_string||"")))}return t}t.Network=class{constructor(){this.dns=new o.default}sanitizeUrlsWithPrivateDomains(e){var t=this;return A((function*(){if("page"===e.action){if(e.payload.url&&(yield t.isHostNamePrivate(e.payload.url)))return n.default.debug("sanitizeUrlsWithPrivateDomains: dropped because of private URL:",e.payload.url),null;if(e.payload.x&&e.payload.x.canonical_url&&(yield t.isHostNamePrivate(e.payload.x.canonical_url))&&(n.default.debug('sanitizeUrlsWithPrivateDomains: private "canonical_url" URL nulled out:',e.payload.url),e.payload.x.canonical_url=null),e.payload.ref&&(yield t.isHostNamePrivate(e.payload.ref))&&(n.default.debug('sanitizeUrlsWithPrivateDomains: private "ref" URL nulled out:',e.payload.ref),e.payload.ref=null),e.payload.red)for(let r=0;r<e.payload.red.length;r+=1)e.payload.red[r]&&(yield t.isHostNamePrivate(e.payload.red[r]))&&(n.default.debug('sanitizeUrlsWithPrivateDomains: private "red" URL nulled out:',e.payload.red[r]),e.payload.red[r]=null)}return e}))()}isHostNamePrivate(e){var t=this;return A((function*(){let r;try{r=I(e).hostname}catch(e){return!0}if(!r)return!0;try{const e=yield t.dns.resolveHost(r);return(0,s.isPrivateIP)(e)}catch(e){return n.default.log("Could not resolve domain",r,". Be conservative and assume that the domain is private.",e),!0}}))()}cacheDnsResolution(e,t){this.dns.cacheDnsResolution(e,t)}flushExpiredCacheEntries(){(0,i.nextTick)(()=>{this.dns.flushExpiredCacheEntries()}).catch(n.default.error)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.formatDate=o,t.formatHoursAsYYYYMMDD=function(e){return o(e).slice(0,8)},t.formatError=function e(t){let r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=t&&t.constructor&&t.constructor.name;const i=t&&t.message;const s=t&&t.stack;const o=r?t&&t.originalError&&e(t.originalError,!1):void 0;return{name:n,msg:i,stack:s,originalError:o}},t.reflectPromise=function(e){return a.apply(this,arguments)},t.encodeWithPadding=function(e){const t=(0,n.deflate)(e),r=Math.max(1024,function(e){let t=0|e;return t-=1,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,t|=t>>16,t+=1}(2+t.length)),s=new Uint8Array(r);return new DataView(s.buffer).setUint16(0,function(e){if(e>=32767)throw new i.TooBigMsgError("Message is too big");return 32768|e}(t.length)),s.set(t,2),s},t.decodeWithPadding=function(e){const t=function(e){if(e<32768)throw new Error("Wrong encoded length");return 32767&e}(new DataView(e.buffer).getUint16());return(0,n.inflate)(e.slice(2,2+t))};var n=r(274),i=r(202);function s(e,t,r,n,i,s,o){try{var a=e[s](o),g=a.value}catch(e){return void r(e)}a.done?t(g):Promise.resolve(g).then(n,i)}function o(e){return new Date(3600*e*1e3).toISOString().replace(/[^0-9]/g,"")}function a(){var e;return e=function*(e){try{return{value:yield e}}catch(e){return{isError:!0,error:e}}},(a=function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){s(o,n,i,a,g,"next",e)}function g(e){s(o,n,i,a,g,"throw",e)}a(void 0)}))}).apply(this,arguments)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){const r=[];let n=null;const s=()=>{(()=>new Promise(e=>{r.length>0?e(r.splice(0,1)[0]):n=e}))().then(e=>{let r=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var r=[],n=!0,i=!1,s=void 0;try{for(var o,a=e[Symbol.iterator]();!(n=(o=a.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){i=!0,s=e}finally{try{n||null==a.return||a.return()}finally{if(i)throw s}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}(e,3),n=r[0],i=r[1],s=r[2];return Promise.resolve(t(n)).then(i).catch(s)}).catch(t=>i.default.error(`MessageQueue ${e} :: error: ${t}`)).then(s)};return s(),{push:e=>{if(null!==n){const t=n;return n=null,new Promise((r,n)=>t([e,r,n]))}return new Promise((t,n)=>{r.push([e,t,n])})},getSize:()=>r.length}};var n,i=(n=r(43))&&n.__esModule?n:{default:n}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.splitTelemetryData=function(e,t){let r=0,n={};const i=[];for(const s in e)if(Object.prototype.hasOwnProperty.call(e,s)){const o=JSON.stringify(e[s]).length;0!==r&&r+o>t&&(i.push(n),n={},r=0),r+=o,n[s]=e[s]}Object.keys(n).length>0&&i.push(n);return i},t.generatePayload=a,t.cleanTimestampCache=function(e,t,r){Object.keys(e).forEach(n=>{(r-e[n]||t<0)&&delete e[n]})},t.generateAttrackPayload=function(e,t,r){const n=r;return n.ver=i.VERSION,n.ctry=
/*!
 * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */
function(){return o.default.get("config_location","--")}(),t=t||(0,s.getHourTimestamp)(),a(e,t,!1,n)},t.truncateDomain=function(e,t){const r=e.domain;if(e.isIp||e.hostname===r||null===r||0===r.length)return e.hostname;const n=e.subdomain.split(".").filter(e=>e.length>0);return`${n.slice(Math.max(n.length-t,0)).join(".")}.${r}`};var n,i=r(232),s=r(104),o=(n=r(19))&&n.__esModule?n:{default:n};function a(e,t,r,n){const i={data:e,ts:t};if(r&&(i.instant=!0),n)for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&(i[e]=n[e]);return i}},function(e,t,r){"use strict";(function(e){r.d(t,"a",(function(){return l}));var n=r(6),i=r(97),s=r(26),o=r(387),a=r(123),g=r(107),A=r(210),u=r(192),I=r(311),C=r(101),l=40;var c=function(t){function r(e){var r=void 0===e?{}:e,n=r.cosmeticFilters,s=void 0===n?[]:n,o=r.networkFilters,a=void 0===o?[]:o,g=r.config,A=void 0===g?new i.a:g,l=r.lists,c=void 0===l?new Map:l,d=t.call(this)||this;return d.config=new i.a(A),d.lists=c,d.csp=new C.a({config:d.config}),d.genericHides=new C.a({config:d.config}),d.exceptions=new C.a({config:d.config}),d.importants=new C.a({config:d.config}),d.redirects=new C.a({config:d.config}),d.filters=new C.a({config:d.config}),d.cosmetics=new I.a({config:d.config}),d.resources=new u.a,0===a.length&&0===s.length||d.update({newCosmeticFilters:s,newNetworkFilters:a}),d}return Object(n.b)(r,t),r.fromLists=function(e,t,r){var i=this;void 0===r&&(r={});var s=Object(a.c)(e,t),o=Object(a.e)(e);return Promise.all([s,o]).then((function(e){var t=Object(n.d)(e,2),s=t[0],o=t[1],a=i.parse(s.join("\n"),r);return void 0!==o&&a.updateResources(o,""+o.length),a}))},r.fromPrebuiltAdsOnly=function(e){var t=this;return void 0===e&&(e=fetch),Object(a.d)(e,"https://cdn.cliqz.com/adblocker/configs/desktop-ads/allowed-lists.json",l).then((function(e){return t.deserialize(e)})).catch((function(){return console.log("failed downloading pre-built, fallback to fetching lists"),t.fromLists(e,a.b)}))},r.fromPrebuiltAdsAndTracking=function(e){var t=this;return void 0===e&&(e=fetch),Object(a.d)(e,"https://cdn.cliqz.com/adblocker/configs/desktop-ads-trackers/allowed-lists.json",l).then((function(e){return t.deserialize(e)})).catch((function(){return console.log("failed downloading pre-built, fallback to fetching lists"),t.fromLists(e,a.a)}))},r.fromPrebuiltFull=function(e){var t=this;return void 0===e&&(e=fetch),Object(a.d)(e,"https://cdn.cliqz.com/adblocker/configs/desktop-full/allowed-lists.json",l).then((function(e){return t.deserialize(e)})).catch((function(){return console.log("failed downloading pre-built, fallback to fetching lists"),t.fromLists(e,a.f)}))},r.parse=function(e,t){void 0===t&&(t={});var r=new i.a(t);return new this(Object.assign({},Object(g.g)(e,r),{config:r}))},r.deserialize=function(e){var t=s.b.fromUint8Array(e,{enableCompression:!1}),r=t.getUint8();if(l!==r)throw new Error("serialized engine version mismatch, expected "+l+" but got "+r);var n=i.a.deserialize(t);if(n.enableCompression&&t.enableCompression(),n.integrityCheck){var o=t.pos;t.pos=e.length-4;var a=t.checksum(),g=t.getUint32();if(a!==g)throw new Error("serialized engine checksum mismatch, expected "+g+" but got "+a);t.pos=o}var A=new this({config:n});A.resources=u.a.deserialize(t);for(var c=new Map,d=t.getUint16(),h=0;h<d;h+=1)c.set(t.getASCII(),t.getASCII());return A.lists=c,A.importants=C.a.deserialize(t,n),A.redirects=C.a.deserialize(t,n),A.filters=C.a.deserialize(t,n),A.exceptions=C.a.deserialize(t,n),A.csp=C.a.deserialize(t,n),A.genericHides=C.a.deserialize(t,n),A.cosmetics=I.a.deserialize(t,n),A},r.prototype.getSerializedSize=function(){var e,t,r=s.b.sizeOfByte()+this.config.getSerializedSize()+this.resources.getSerializedSize()+this.filters.getSerializedSize()+this.exceptions.getSerializedSize()+this.importants.getSerializedSize()+this.redirects.getSerializedSize()+this.csp.getSerializedSize()+this.genericHides.getSerializedSize()+this.cosmetics.getSerializedSize()+4;try{for(var i=Object(n.f)(this.lists),o=i.next();!o.done;o=i.next()){var a=Object(n.d)(o.value,2),g=a[0],A=a[1];r+=s.b.sizeOfASCII(g)+s.b.sizeOfASCII(A)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}return r},r.prototype.serialize=function(e){var t=s.b.fromUint8Array(e||new Uint8Array(this.getSerializedSize()),this.config);t.pushUint8(l),this.config.serialize(t),this.resources.serialize(t),t.pushUint16(this.lists.size);for(var r=Array.from(this.lists.entries()).sort(),n=0;n<r.length;n+=1)t.pushASCII(r[n][0]),t.pushASCII(r[n][1]);return this.importants.serialize(t),this.redirects.serialize(t),this.filters.serialize(t),this.exceptions.serialize(t),this.csp.serialize(t),this.genericHides.serialize(t),this.cosmetics.serialize(t),this.config.integrityCheck&&t.pushUint32(t.checksum()),t.subarray()},r.prototype.loadedLists=function(){return Array.from(this.lists.keys())},r.prototype.hasList=function(e,t){return this.lists.has(e)&&this.lists.get(e)===t},r.prototype.updateResources=function(e,t){return this.resources.checksum!==t&&(this.resources=u.a.parse(e,{checksum:t}),!0)},r.prototype.getFilters=function(){return{cosmeticFilters:[].concat(this.cosmetics.getFilters()),networkFilters:[].concat(this.filters.getFilters(),this.exceptions.getFilters(),this.importants.getFilters(),this.redirects.getFilters(),this.csp.getFilters(),this.genericHides.getFilters())}},r.prototype.update=function(e){var t=e.newNetworkFilters,r=void 0===t?[]:t,n=e.newCosmeticFilters,i=void 0===n?[]:n,s=e.removedCosmeticFilters,o=void 0===s?[]:s,a=e.removedNetworkFilters,g=void 0===a?[]:a,A=!1;if(!this.config.loadCosmeticFilters||0===i.length&&0===o.length||(A=!0,this.cosmetics.update(i,0===o.length?void 0:new Set(o))),this.config.loadNetworkFilters&&(0!==r.length||0!==g.length)){A=!0;for(var u=[],I=[],C=[],l=[],c=[],d=[],h=0;h<r.length;h+=1){var f=r[h];f.isCSP()?I.push(f):f.isGenericHide()?d.push(f):f.isException()?C.push(f):f.isImportant()?l.push(f):f.isRedirect()?c.push(f):u.push(f)}var p=0===g.length?void 0:new Set(g);this.importants.update(l,p),this.redirects.update(c,p),this.filters.update(u,p),this.exceptions.update(C,p),this.csp.update(I,p),this.genericHides.update(d,p)}return A},r.prototype.updateFromDiff=function(e){var t=e.added,r=e.removed,n=[],i=[],s=[],o=[];if(void 0!==r&&0!==r.length){var a=Object(g.g)(r.join("\n"),this.config),A=a.networkFilters,u=a.cosmeticFilters;Array.prototype.push.apply(s,u),Array.prototype.push.apply(o,A)}if(void 0!==t&&0!==t.length){var I=Object(g.g)(t.join("\n"),this.config);A=I.networkFilters,u=I.cosmeticFilters;Array.prototype.push.apply(n,u),Array.prototype.push.apply(i,A)}return this.update({newCosmeticFilters:n,newNetworkFilters:i,removedCosmeticFilters:s.map((function(e){return e.getId()})),removedNetworkFilters:o.map((function(e){return e.getId()}))})},r.prototype.getHtmlFilters=function(e){var t=e.url,r=e.hostname,n=e.domain,i=[];if(!1===this.config.enableHtmlFiltering||!1===this.config.loadCosmeticFilters)return i;for(var s=this.cosmetics.getHtmlRules({domain:n||"",hostname:r}),o=0;o<s.length;o+=1){var a=s[o].getExtendedSelector();void 0!==a&&i.push(a)}return 0!==i.length&&this.emit("html-filtered",i,t),i},r.prototype.getCosmeticsFilters=function(e){var t=e.url,r=e.hostname,n=e.domain,i=e.classes,s=e.hrefs,o=e.ids,a=e.getBaseRules,g=void 0===a||a,u=e.getInjectionRules,I=void 0===u||u,C=e.getRulesFromDOM,l=void 0===C||C,c=e.getRulesFromHostname,d=void 0===c||c;if(!1===this.config.loadCosmeticFilters)return{active:!1,extended:[],scripts:[],styles:""};for(var h=this.genericHides.matchAll(A.a.fromRawDetails({domain:n||"",hostname:r,url:t,sourceDomain:"",sourceHostname:"",sourceUrl:""})),f=null,p=0,m=0;m<h.length;m+=1){var _=h[m],y=(_.isImportant()?4:0)|(_.isException()?1:2);y>p&&(p=y,f=_)}var b=null===f||!1===f.isException(),v=this.cosmetics.getCosmeticsFilters({domain:n||"",hostname:r,classes:i,hrefs:s,ids:o,allowGenericHides:b,getBaseRules:g,getInjectionRules:I,getRulesFromDOM:l,getRulesFromHostname:d}),w=v.injections,k=v.stylesheet,M=[];for(m=0;m<w.length;m+=1){var O=w[m].getScript(this.resources.js);void 0!==O&&(this.emit("script-injected",O,t),M.push(O))}return 0!==k.length&&this.emit("style-injected",k,t),{active:!0,extended:[],scripts:M,styles:k}},r.prototype.matchAll=function(e){var t=[];return e.isSupported&&(Array.prototype.push.apply(t,this.importants.matchAll(e)),Array.prototype.push.apply(t,this.filters.matchAll(e)),Array.prototype.push.apply(t,this.exceptions.matchAll(e)),Array.prototype.push.apply(t,this.csp.matchAll(e)),Array.prototype.push.apply(t,this.genericHides.matchAll(e)),Array.prototype.push.apply(t,this.redirects.matchAll(e))),new Set(t)},r.prototype.getCSPDirectives=function(e){if(this.config.loadNetworkFilters&&!0===e.isSupported&&!1!==e.isMainFrame()){var t=this.csp.matchAll(e);if(0!==t.length){for(var r=new Set,n=new Set,i=0;i<t.length;i+=1){var s=t[i];if(s.isException()){if(void 0===s.csp)return;r.add(s.csp)}else n.add(s.csp)}var o=Array.from(n).filter((function(e){return!r.has(e)})).join("; ")||void 0;return void 0!==o&&this.emit("csp-injected",o,e),o}}},r.prototype.match=function(t){var r,n={exception:void 0,filter:void 0,match:!1,redirect:void 0};if(!this.config.loadNetworkFilters)return n;if(t.isSupported&&(n.filter=this.importants.match(t),void 0===n.filter&&(n.filter=this.redirects.match(t),void 0===n.filter&&(n.filter=this.filters.match(t)),void 0!==n.filter&&(n.exception=this.exceptions.match(t))),void 0!==n.filter&&n.filter.isRedirect())){var i=this.resources.getResource(n.filter.getRedirect());if(void 0!==i){var s=i.data,o=i.contentType,a=void 0;a=-1!==o.indexOf(";")?"data:"+o+","+s:"data:"+o+";base64,"+(r=s,"undefined"!=typeof btoa?btoa(r):void 0!==e?e.from(r).toString("base64"):r),n.redirect={body:s,contentType:o,dataUrl:a.trim()}}}return n.match=void 0===n.exception&&void 0!==n.filter,void 0!==n.exception?this.emit("request-whitelisted",t,n):void 0!==n.redirect?this.emit("request-redirected",t,n):void 0!==n.filter&&this.emit("request-blocked",t,n),n},r}(o.a);t.b=c}).call(this,r(50).Buffer)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CategoryMatch=t.OfferMatchTraits=t.CategoriesMatchTraits=void 0;var n,i=r(204),s=(n=r(29))&&n.__esModule?n:{default:n};function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var r=[],n=!0,i=!1,s=void 0;try{for(var o,a=e[Symbol.iterator]();!(n=(o=a.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){i=!0,s=e}finally{try{n||null==a.return||a.return()}finally{if(i)throw s}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}class a{constructor(e){this.matches=e||new Map}getCategoriesIDs(){return this.matches.keys()}*getMatchPatterns(e){var t=!0,r=!1,n=void 0;try{for(var i,s=this.weightsIter(e)[Symbol.iterator]();!(t=(i=s.next()).done);t=!0){const e=o(i.value,3)[2],t=this.matches.get(e);var a=!0,g=!1,A=void 0;try{for(var u,I=t[Symbol.iterator]();!(a=(u=I.next()).done);a=!0){const e=u.value;yield e.rawPattern}}catch(e){g=!0,A=e}finally{try{a||null==I.return||I.return()}finally{if(g)throw A}}}}catch(e){r=!0,n=e}finally{try{t||null==s.return||s.return()}finally{if(r)throw n}}}weights(e){const t=new Map;var r=!0,n=!1,i=void 0;try{for(var s,a=this.weightsIter(e)[Symbol.iterator]();!(r=(s=a.next()).done);r=!0){const e=o(s.value,2),r=e[0],n=e[1],i=t.get(r)||0;t.set(r,i+n)}}catch(e){n=!0,i=e}finally{try{r||null==a.return||a.return()}finally{if(n)throw i}}return t}*weightsIter(e){if(e){var t=!0,r=!1,n=void 0;try{for(var i,s=this.matches.entries()[Symbol.iterator]();!(t=(i=s.next()).done);t=!0){const t=o(i.value,2),r=t[0],n=t[1];var g=!0,A=!1,u=void 0;try{for(var I,C=n[Symbol.iterator]();!(g=(I=C.next()).done);g=!0){const t=I.value;var l=!0,c=!1,d=void 0;try{for(var h,f=e[Symbol.iterator]();!(l=(h=f.next()).done);l=!0){const e=h.value,n=a._scoreCatMatch(r,t,e);n&&(yield[e,n,r])}}catch(e){c=!0,d=e}finally{try{l||null==f.return||f.return()}finally{if(c)throw d}}}}catch(e){A=!0,u=e}finally{try{g||null==C.return||C.return()}finally{if(A)throw u}}}}catch(e){r=!0,n=e}finally{try{t||null==s.return||s.return()}finally{if(r)throw n}}}}haveCommonWith(e){return!this.weightsIter(e).next().done}static _scoreCatMatch(e,t,r){if(!r.startsWith(e))return 0;const n=t.rawPattern||"";let i=Math.min(t.tokenCount||0,10);"|"===n[0]&&"|"===n[1]&&(i-=1),i=Math.max(i,0);const s=Math.pow(Math.E,i);return e.length===r.length?s:s/2}}t.CategoriesMatchTraits=a;class g{constructor(e,t,r){if(this.reason=[],e&&t){var n=!0,i=!1,s=void 0;try{for(var o,a=e.getMatchPatterns(t)[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){const e=o.value;this.addReason({pattern:e,domainHash:r})}}catch(e){i=!0,s=e}finally{try{n||null==a.return||a.return()}finally{if(i)throw s}}}}static fromStorage(e){const t=new g(null,null,""),r=e&&e.reason||[];return t.reason=r.map(g._transform),t}static _transform(e){return"string"==typeof e?{pattern:e}:e}getReason(){return this.reason}addReason(e){let t=e.pattern,r=e.domainHash;this.reason.map(e=>e.pattern).includes(t)||this.reason.push({pattern:t,domainHash:r})}toStorage(){return{reason:this.reason}}}t.OfferMatchTraits=g;t.CategoryMatch=class{constructor(){this.multiPatternObj=null,this.patterns=new Map}addCategoryPatterns(e,t){e&&t&&this.patterns.set(e,t)}removeCategoryPatterns(e){this.patterns.delete(e)}clear(){this.patterns=new Map}build(){const e=[];this.patterns.forEach((t,r)=>e.push({groupID:r,patterns:t}));try{this.multiPatternObj=(0,i.buildMultiPatternIndex)(e)}catch(e){s.default.error("Failed to build an index of patterns:",e)}}checkMatches(e){const t=this.multiPatternObj?this.multiPatternObj.matchWithPatterns(e):new Map;return new a(t)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(54);class i{constructor(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:(0,n.timestampMS)();this.name=e,this.durationSecs=t,this.activationTime=r}serialize(){return{name:this.name,durationSecs:this.durationSecs,activationTime:this.activationTime}}static deserialize(e){return new i(e.name,e.durationSecs,e.activationTime)}getDurationSecs(){return this.durationSecs}getName(){return this.name}activate(){this.activationTime=(0,n.timestampMS)()}isActive(){return((0,n.timestampMS)()-this.activationTime)/1e3<this.durationSecs}}t.default=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDateFromDateKey=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;const s=t<10?`0${t}`:`${t}`,o=r<10?`0${r}`:`${r}`,a=n<10?`0${n}`:`${n}`;return Number((0,i.default)(`${e}:${s}:${o}:${a}`,"YYYYMMDD:HH:mm:ss").format("x"))},t.getDaysFromTimeRange=
/*!
 * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */
function(e,t){if(t<e)return null;let r=(0,i.default)(e).startOf("day");const n=(0,i.default)(t).startOf("day");let s=n.diff(r,"days");s>1825&&(r=n.clone().subtract(1825,"days"),s=1825);const o=[Number(r.format("YYYYMMDD"))];for(;s>0;)o.push(Number(r.add(1,"days").format("YYYYMMDD"))),s-=1;return o},t.getTodayDayKey=function(){return(0,i.default)().format("YYYYMMDD")},t.timestamp=function(){return Date.now()};var n,i=(n=r(103))&&n.__esModule?n:{default:n}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CATEGORY_LIFE_TIME_SECS=t.default=void 0;var n,i=(n=r(29))&&n.__esModule?n:{default:n},s=r(54),o=r(286),a=r(548);function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var r=[],n=!0,i=!1,s=void 0;try{for(var o,a=e[Symbol.iterator]();!(n=(o=a.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){i=!0,s=e}finally{try{n||null==a.return||a.return()}finally{if(i)throw s}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}t.CATEGORY_LIFE_TIME_SECS=1296e3;t.default=class{constructor(e,t,r,n,i){this.name=e,this.patterns=t,this.version=r,this.timeRangeSecs=n,this.activationData=i;const o=(0,s.timestampMS)();this.lastUpdateTs=o,this.createdTs=o,this.matchData=this._defaultMatchData(),this.lastActivationTS=null,this.isHistoryDataSet=!1,this.activationFunctionMap={simpleCount:this._simpleCountResults.bind(this)}}serialize(){return{name:this.name,patterns:this.patterns,version:this.version,timeRangeSecs:this.timeRangeSecs,lastUpdateTs:this.lastUpdateTs,createdTs:this.createdTs,matchData:this.matchData,isHistoryDataSet:this.isHistoryDataSet,activationData:this.activationData,lastActivationTS:this.lastActivationTS}}deserialize(e){this.name=e.name,this.patterns=e.patterns,this.version=e.version,this.lastUpdateTs=e.lastUpdateTs,this.createdTs=e.createdTs,this.timeRangeSecs=e.timeRangeSecs,this.matchData=e.matchData,this.isHistoryDataSet=e.isHistoryDataSet,this.activationData=e.activationData,this.lastActivationTS=e.lastActivationTS}getName(){return this.name}getVersion(){return this.version}hasPatterns(){return!!this.patterns}getPatterns(){return this.patterns}isHistoryDataSettedUp(){return this.isHistoryDataSet}isActive(){const e=(0,s.timestampMS)();if(null!==this.lastActivationTS){if((e-this.lastActivationTS)/1e3<=this.activationData.activationTimeSecs)return!0;this.lastActivationTS=null}const t=this.activationFunctionMap[this.activationData.func];if(!t)return i.default.error(`We do not have the activation function ${this.activationData.func}`),!1;const r=t(this.activationData.args);return r&&(this.lastActivationTS=e),r}getTimeRangeSecs(){return this.timeRangeSecs}cleanUp(){const e=(0,s.timestampMS)(),t=(0,o.getTodayDayKey)(),r=Object.keys(this.matchData.perDay);let n=!1;const i=1e3*this.timeRangeSecs;for(let s=0;s<r.length;s+=1)if(r[s]!==t){e-(0,o.getDateFromDateKey)(r[s],12)>i&&(this._removeDay(r[s]),n=!0)}n&&(this.lastUpdateTs=e)}hit(){const e=(0,s.timestampMS)();null===this.matchData.firstMatchTs&&(this.matchData.firstMatchTs=e),this.matchData.lastMatchTs=e,this.matchData.total.matches+=1;const t=(0,o.getTodayDayKey)();let r=this.matchData.perDay[t];r||(r={matches:0},this.matchData.perDay[t]=r),r.matches+=1,this.lastUpdateTs=e}updateWithHistoryData(e){if(!e||!e.per_day)return void i.default.error("invalid history data",e);let t=!1;Object.entries(e.per_day).forEach(e=>{let r=g(e,2),n=r[0],i=r[1].m;const s=(this.matchData.perDay[n]||{}).matches||0;if(i>s){this.matchData.perDay[n]={matches:i},this.matchData.total.matches+=i-s;const e=(0,o.getDateFromDateKey)(n,12);this.matchData.firstMatchTs=Math.min(this.matchData.firstMatchTs,e),this.matchData.lastMatchTs=Math.max(this.matchData.lastMatchTs,e),t=!0}}),t&&(this.lastUpdateTs=(0,s.timestampMS)()),this.isHistoryDataSet=!0}getTotalMatches(){return this.matchData.total.matches}getLastMatchTs(){return this.matchData.lastMatchTs}getFirstMatchTs(){return this.matchData.firstMatchTs}countDaysWithMatches(){return Object.keys(this.matchData.perDay).length}_removeDay(e){this.matchData.total.matches-=this.matchData.perDay[e].matches,delete this.matchData.perDay[e],this.lastUpdateTs=(0,s.timestampMS)()}_defaultMatchData(){return{total:{matches:0},perDay:{},firstMatchTs:null,lastMatchTs:null}}probe(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Date;const n=e||1,i=(0,a.getStartDayKey)(t,r);let s=0;for(var o=0,A=Object.entries(this.matchData.perDay);o<A.length;o++){const e=g(A[o],2),t=e[0],r=e[1].matches;if(t>=i&&(s+=r)>=n)return[!0,1]}return[!1,Number(this.isHistoryDataSettedUp())]}getCacheSentinel(){return`${(0,o.getTodayDayKey)()}-${this.getLastMatchTs()}`}_simpleCountResults(e){let t=e.numDays,r=e.totNumHits;return(void 0===t||this.countDaysWithMatches()>=t)&&(void 0===r||this.getTotalMatches()>=r)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.putFeatureToStep=A,t.default=void 0;var n=r(102),i=a(r(29)),s=a(r(573)),o=a(r(574));function a(e){return e&&e.__esModule?e:{default:e}}const g=48;function A(e,t){const r=e.features;r.push(t),"unk"===r[0]&&r.shift()}t.default=class{constructor(){this.journey=[]}getJourney(){return this.journey.map(e=>[...e.features])}addStep(e){let t=e.feature,r=e.url;const i={features:[t],url:r,domain:(0,n.getGeneralDomain)(r)};this.journey.push(i),this.journey.length>g&&this.journey.shift()}addFeature(e){let t=e.feature,r=e.url,n=e.referrer;if(!this.journey.length)return void i.default.log(`journey:addFeature: no steps to add feature ${t}:${r}`);const a=this.journey[this.journey.length-1];r&&a.url!==r?i.default.log(`journey:addFeature: url mismatch feature ${t}:${r} to step ${a.url}`):(A(a,t),n&&(a.referrer=n),"shop"===t&&((0,s.default)(this.journey),(0,o.default)(this.journey)))}}},function(e,t,r){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;
/*!
 * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */
var i=((n=r(74))&&n.__esModule?n:{default:n}).default.get("adblocker",{level:"log"});t.default=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ADB_USER_LANG=t.ADB_PREF_STRICT=t.ADB_PREF=void 0;var n=o(r(19)),i=o(r(28)),s=r(84);function o(e){return e&&e.__esModule?e:{default:e}}
/*!
 * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */const a="cliqz-adb";t.ADB_PREF=a;const g="cliqz-adb-strict";t.ADB_PREF_STRICT=g;const A="cliqz-adb-lang";function u(e){return`${i.default.settings.ADBLOCKER_BASE_URL}/${e}/allowed-lists.json`}t.ADB_USER_LANG=A;var I=new class{get allowedListsUrl(){const e=i.default.settings.ADBLOCKER_PLATFORM;return e?this.strictMode?u(`${e}-ads-trackers`):u(`${e}-ads`):"react-native"===i.default.platform?this.strictMode?u("mobile-react-native-ads-trackers"):u("mobile-react-native-ads"):s.isMobile?this.strictMode?u("mobile-ads-trackers"):u("mobile-ads"):this.strictMode?u("desktop-ads-trackers"):u("desktop-ads")}get strictMode(){return n.default.get(g,!1)}set strictMode(e){n.default.set(g,e)}get regionsOverride(){const e=n.default.get(A);return void 0===e?[]:e.split(";").map(e=>e.trim()).filter(e=>0!==e.length)}get enabled(){const e=n.default.get(a,!0);return!0===e||1===e}set enabled(e){n.default.set(a,e)}get status(){return{isMobile:s.isMobile,adbModulePref:n.default.get("modules.adblocker.enabled",!0),adbPref:n.default.get(a,!1),adbStrict:n.default.get(g,!1),configUrl:this.allowedListsUrl,regionsOverride:n.default.get(A,"")}}};t.default=I},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.MS_TO_BIN_NAME=void 0;
/*!
 * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */
const n=[..."12345"],i=[..."1234567890"],s=["0","1","2","3","4",...n.map(()=>"5-9"),...n.map(()=>"10-14"),...n.map(()=>"15-19"),...n.map(()=>"20-24"),...n.map(()=>"25-29"),...i.map(()=>"30-39"),...i.map(()=>"40-49"),...i.map(()=>"50-59"),...i.map(()=>"60-69"),"70+"];t.MS_TO_BIN_NAME=s;t.default={name:"metrics.performance.webrequest-pipeline.timings",schema:{type:"array",minItems:1,items:{required:["step","histogram"],type:"object",properties:{step:{type:"string"},histogram:{type:"object",minProperties:1,required:[],properties:{0:{type:"integer",minimum:1},1:{type:"integer",minimum:1},2:{type:"integer",minimum:1},3:{type:"integer",minimum:1},4:{type:"integer",minimum:1},"5-9":{type:"integer",minimum:1},"10-14":{type:"integer",minimum:1},"15-19":{type:"integer",minimum:1},"20-24":{type:"integer",minimum:1},"25-29":{type:"integer",minimum:1},"30-39":{type:"integer",minimum:1},"40-49":{type:"integer",minimum:1},"50-59":{type:"integer",minimum:1},"60-69":{type:"integer",minimum:1},"70+":{type:"integer",minimum:1}}}}}}}},function(e,t,r){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;
/*!
 * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */
var i=((n=r(74))&&n.__esModule?n:{default:n}).default.get("insights",{level:"debug"});t.default=i},function(e,t,r){var n=r(177).Symbol;e.exports=n},function(e,t){var r=Object.prototype;e.exports=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||r)}},function(e,t,r){var n=r(209),i=r(161),s="[object AsyncFunction]",o="[object Function]",a="[object GeneratorFunction]",g="[object Proxy]";e.exports=function(e){if(!i(e))return!1;var t=n(e);return t==o||t==a||t==s||t==g}},function(e,t,r){var n=r(690),i=r(694);e.exports=function(e,t){var r=i(e,t);return n(r)?r:void 0}},function(e,t,r){var n=r(372);e.exports=function(e,t,r){"__proto__"==t&&n?n(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}},,,,,,,,,function(e,t,r){"use strict";r.r(t);var n=r(6),i=r(21),s=r(20);function o(e){return function(t){return t.lift(new a(e))}}var a=function(){function e(e){this.durationSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new g(e,this.durationSelector))},e}(),g=function(e){function t(t,r){var n=e.call(this,t)||this;return n.durationSelector=r,n.hasValue=!1,n}return n.b(t,e),t.prototype._next=function(e){if(this.value=e,this.hasValue=!0,!this.throttled){var t=void 0;try{t=(0,this.durationSelector)(e)}catch(e){return this.destination.error(e)}var r=Object(s.a)(this,t);!r||r.closed?this.clearThrottle():this.add(this.throttled=r)}},t.prototype.clearThrottle=function(){var e=this.value,t=this.hasValue,r=this.throttled;r&&(this.remove(r),this.throttled=null,r.unsubscribe()),t&&(this.value=null,this.hasValue=!1,this.destination.next(e))},t.prototype.notifyNext=function(e,t,r,n){this.clearThrottle()},t.prototype.notifyComplete=function(){this.clearThrottle()},t}(i.a),A=r(45),u=r(254);function I(e,t){return void 0===t&&(t=A.a),o((function(){return Object(u.a)(e,t)}))}function C(e){return function(t){return t.lift(new l(e))}}var l=function(){function e(e){this.closingNotifier=e}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.closingNotifier))},e}(),c=function(e){function t(t,r){var n=e.call(this,t)||this;return n.buffer=[],n.add(Object(s.a)(n,r)),n}return n.b(t,e),t.prototype._next=function(e){this.buffer.push(e)},t.prototype.notifyNext=function(e,t,r,n,i){var s=this.buffer;this.buffer=[],this.destination.next(s)},t}(i.a),d=r(10);function h(e,t){return void 0===t&&(t=null),function(r){return r.lift(new f(e,t))}}var f=function(){function e(e,t){this.bufferSize=e,this.startBufferEvery=t,this.subscriberClass=t&&e!==t?m:p}return e.prototype.call=function(e,t){return t.subscribe(new this.subscriberClass(e,this.bufferSize,this.startBufferEvery))},e}(),p=function(e){function t(t,r){var n=e.call(this,t)||this;return n.bufferSize=r,n.buffer=[],n}return n.b(t,e),t.prototype._next=function(e){var t=this.buffer;t.push(e),t.length==this.bufferSize&&(this.destination.next(t),this.buffer=[])},t.prototype._complete=function(){var t=this.buffer;t.length>0&&this.destination.next(t),e.prototype._complete.call(this)},t}(d.a),m=function(e){function t(t,r,n){var i=e.call(this,t)||this;return i.bufferSize=r,i.startBufferEvery=n,i.buffers=[],i.count=0,i}return n.b(t,e),t.prototype._next=function(e){var t=this.bufferSize,r=this.startBufferEvery,n=this.buffers,i=this.count;this.count++,i%r==0&&n.push([]);for(var s=n.length;s--;){var o=n[s];o.push(e),o.length===t&&(n.splice(s,1),this.destination.next(o))}},t.prototype._complete=function(){for(var t=this.buffers,r=this.destination;t.length>0;){var n=t.shift();n.length>0&&r.next(n)}e.prototype._complete.call(this)},t}(d.a),_=r(61);function y(e){var t=arguments.length,r=A.a;Object(_.a)(arguments[arguments.length-1])&&(r=arguments[arguments.length-1],t--);var n=null;t>=2&&(n=arguments[1]);var i=Number.POSITIVE_INFINITY;return t>=3&&(i=arguments[2]),function(t){return t.lift(new b(e,n,i,r))}}var b=function(){function e(e,t,r,n){this.bufferTimeSpan=e,this.bufferCreationInterval=t,this.maxBufferSize=r,this.scheduler=n}return e.prototype.call=function(e,t){return t.subscribe(new w(e,this.bufferTimeSpan,this.bufferCreationInterval,this.maxBufferSize,this.scheduler))},e}(),v=function(){return function(){this.buffer=[]}}(),w=function(e){function t(t,r,n,i,s){var o=e.call(this,t)||this;o.bufferTimeSpan=r,o.bufferCreationInterval=n,o.maxBufferSize=i,o.scheduler=s,o.contexts=[];var a=o.openContext();if(o.timespanOnly=null==n||n<0,o.timespanOnly){var g={subscriber:o,context:a,bufferTimeSpan:r};o.add(a.closeAction=s.schedule(k,r,g))}else{var A={subscriber:o,context:a},u={bufferTimeSpan:r,bufferCreationInterval:n,subscriber:o,scheduler:s};o.add(a.closeAction=s.schedule(O,r,A)),o.add(s.schedule(M,n,u))}return o}return n.b(t,e),t.prototype._next=function(e){for(var t,r=this.contexts,n=r.length,i=0;i<n;i++){var s=r[i],o=s.buffer;o.push(e),o.length==this.maxBufferSize&&(t=s)}t&&this.onBufferFull(t)},t.prototype._error=function(t){this.contexts.length=0,e.prototype._error.call(this,t)},t.prototype._complete=function(){for(var t=this.contexts,r=this.destination;t.length>0;){var n=t.shift();r.next(n.buffer)}e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){this.contexts=null},t.prototype.onBufferFull=function(e){this.closeContext(e);var t=e.closeAction;if(t.unsubscribe(),this.remove(t),!this.closed&&this.timespanOnly){e=this.openContext();var r=this.bufferTimeSpan,n={subscriber:this,context:e,bufferTimeSpan:r};this.add(e.closeAction=this.scheduler.schedule(k,r,n))}},t.prototype.openContext=function(){var e=new v;return this.contexts.push(e),e},t.prototype.closeContext=function(e){this.destination.next(e.buffer);var t=this.contexts;(t?t.indexOf(e):-1)>=0&&t.splice(t.indexOf(e),1)},t}(d.a);function k(e){var t=e.subscriber,r=e.context;r&&t.closeContext(r),t.closed||(e.context=t.openContext(),e.context.closeAction=this.schedule(e,e.bufferTimeSpan))}function M(e){var t=e.bufferCreationInterval,r=e.bufferTimeSpan,n=e.subscriber,i=e.scheduler,s=n.openContext();n.closed||(n.add(s.closeAction=i.schedule(O,r,{subscriber:n,context:s})),this.schedule(e,t))}function O(e){var t=e.subscriber,r=e.context;t.closeContext(r)}var S=r(30);function D(e,t){return function(r){return r.lift(new T(e,t))}}var T=function(){function e(e,t){this.openings=e,this.closingSelector=t}return e.prototype.call=function(e,t){return t.subscribe(new L(e,this.openings,this.closingSelector))},e}(),L=function(e){function t(t,r,n){var i=e.call(this,t)||this;return i.openings=r,i.closingSelector=n,i.contexts=[],i.add(Object(s.a)(i,r)),i}return n.b(t,e),t.prototype._next=function(e){for(var t=this.contexts,r=t.length,n=0;n<r;n++)t[n].buffer.push(e)},t.prototype._error=function(t){for(var r=this.contexts;r.length>0;){var n=r.shift();n.subscription.unsubscribe(),n.buffer=null,n.subscription=null}this.contexts=null,e.prototype._error.call(this,t)},t.prototype._complete=function(){for(var t=this.contexts;t.length>0;){var r=t.shift();this.destination.next(r.buffer),r.subscription.unsubscribe(),r.buffer=null,r.subscription=null}this.contexts=null,e.prototype._complete.call(this)},t.prototype.notifyNext=function(e,t,r,n,i){e?this.closeBuffer(e):this.openBuffer(t)},t.prototype.notifyComplete=function(e){this.closeBuffer(e.context)},t.prototype.openBuffer=function(e){try{var t=this.closingSelector.call(this,e);t&&this.trySubscribe(t)}catch(e){this._error(e)}},t.prototype.closeBuffer=function(e){var t=this.contexts;if(t&&e){var r=e.buffer,n=e.subscription;this.destination.next(r),t.splice(t.indexOf(e),1),this.remove(n),n.unsubscribe()}},t.prototype.trySubscribe=function(e){var t=this.contexts,r=new S.a,n={buffer:[],subscription:r};t.push(n);var i=Object(s.a)(this,e,n);!i||i.closed?this.closeBuffer(n):(i.context=n,this.add(i),r.add(i))},t}(i.a);function E(e){return function(t){return t.lift(new P(e))}}var P=function(){function e(e){this.closingSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new x(e,this.closingSelector))},e}(),x=function(e){function t(t,r){var n=e.call(this,t)||this;return n.closingSelector=r,n.subscribing=!1,n.openBuffer(),n}return n.b(t,e),t.prototype._next=function(e){this.buffer.push(e)},t.prototype._complete=function(){var t=this.buffer;t&&this.destination.next(t),e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){this.buffer=null,this.subscribing=!1},t.prototype.notifyNext=function(e,t,r,n,i){this.openBuffer()},t.prototype.notifyComplete=function(){this.subscribing?this.complete():this.openBuffer()},t.prototype.openBuffer=function(){var e=this.closingSubscription;e&&(this.remove(e),e.unsubscribe());var t,r=this.buffer;this.buffer&&this.destination.next(r),this.buffer=[];try{t=(0,this.closingSelector)()}catch(e){return this.error(e)}e=new S.a,this.closingSubscription=e,this.add(e),this.subscribing=!0,e.add(Object(s.a)(this,t)),this.subscribing=!1},t}(i.a),j=r(82);function R(e){return function(t){var r=new Y(e),n=t.lift(r);return r.caught=n}}var Y=function(){function e(e){this.selector=e}return e.prototype.call=function(e,t){return t.subscribe(new N(e,this.selector,this.caught))},e}(),N=function(e){function t(t,r,n){var i=e.call(this,t)||this;return i.selector=r,i.caught=n,i}return n.b(t,e),t.prototype.error=function(t){if(!this.isStopped){var r=void 0;try{r=this.selector(t,this.caught)}catch(t){return void e.prototype.error.call(this,t)}this._unsubscribeAndRecycle();var n=new j.a(this,void 0,void 0);this.add(n),Object(s.a)(this,r,void 0,void 0,n)}},t}(i.a),U=r(184);function H(e){return function(t){return t.lift(new U.a(e))}}var F=r(40),B=r(65);function z(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=null;return"function"==typeof e[e.length-1]&&(r=e.pop()),1===e.length&&Object(F.a)(e[0])&&(e=e[0].slice()),function(t){return t.lift.call(Object(B.a)([t].concat(e)),new U.a(r))}}var W=r(142);function G(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return t.lift.call(W.a.apply(void 0,[t].concat(e)))}}var q=r(251),V=r(118);function K(e,t){return Object(V.a)(e,t,1)}function Z(e,t){return K((function(){return e}),t)}function J(e){return function(t){return t.lift(new $(e,t))}}var $=function(){function e(e,t){this.predicate=e,this.source=t}return e.prototype.call=function(e,t){return t.subscribe(new Q(e,this.predicate,this.source))},e}(),Q=function(e){function t(t,r,n){var i=e.call(this,t)||this;return i.predicate=r,i.source=n,i.count=0,i.index=0,i}return n.b(t,e),t.prototype._next=function(e){this.predicate?this._tryPredicate(e):this.count++},t.prototype._tryPredicate=function(e){var t;try{t=this.predicate(e,this.index++,this.source)}catch(e){return void this.destination.error(e)}t&&this.count++},t.prototype._complete=function(){this.destination.next(this.count),this.destination.complete()},t}(d.a);function X(e){return function(t){return t.lift(new ee(e))}}var ee=function(){function e(e){this.durationSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new te(e,this.durationSelector))},e}(),te=function(e){function t(t,r){var n=e.call(this,t)||this;return n.durationSelector=r,n.hasValue=!1,n.durationSubscription=null,n}return n.b(t,e),t.prototype._next=function(e){try{var t=this.durationSelector.call(this,e);t&&this._tryNext(e,t)}catch(e){this.destination.error(e)}},t.prototype._complete=function(){this.emitValue(),this.destination.complete()},t.prototype._tryNext=function(e,t){var r=this.durationSubscription;this.value=e,this.hasValue=!0,r&&(r.unsubscribe(),this.remove(r)),(r=Object(s.a)(this,t))&&!r.closed&&this.add(this.durationSubscription=r)},t.prototype.notifyNext=function(e,t,r,n,i){this.emitValue()},t.prototype.notifyComplete=function(){this.emitValue()},t.prototype.emitValue=function(){if(this.hasValue){var t=this.value,r=this.durationSubscription;r&&(this.durationSubscription=null,r.unsubscribe(),this.remove(r)),this.value=null,this.hasValue=!1,e.prototype._next.call(this,t)}},t}(i.a);function re(e,t){return void 0===t&&(t=A.a),function(r){return r.lift(new ne(e,t))}}var ne=function(){function e(e,t){this.dueTime=e,this.scheduler=t}return e.prototype.call=function(e,t){return t.subscribe(new ie(e,this.dueTime,this.scheduler))},e}(),ie=function(e){function t(t,r,n){var i=e.call(this,t)||this;return i.dueTime=r,i.scheduler=n,i.debouncedSubscription=null,i.lastValue=null,i.hasValue=!1,i}return n.b(t,e),t.prototype._next=function(e){this.clearDebounce(),this.lastValue=e,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(se,this.dueTime,this))},t.prototype._complete=function(){this.debouncedNext(),this.destination.complete()},t.prototype.debouncedNext=function(){if(this.clearDebounce(),this.hasValue){var e=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(e)}},t.prototype.clearDebounce=function(){var e=this.debouncedSubscription;null!==e&&(this.remove(e),e.unsubscribe(),this.debouncedSubscription=null)},t}(d.a);function se(e){e.debouncedNext()}function oe(e){return void 0===e&&(e=null),function(t){return t.lift(new ae(e))}}var ae=function(){function e(e){this.defaultValue=e}return e.prototype.call=function(e,t){return t.subscribe(new ge(e,this.defaultValue))},e}(),ge=function(e){function t(t,r){var n=e.call(this,t)||this;return n.defaultValue=r,n.isEmpty=!0,n}return n.b(t,e),t.prototype._next=function(e){this.isEmpty=!1,this.destination.next(e)},t.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},t}(d.a);function Ae(e){return e instanceof Date&&!isNaN(+e)}var ue=r(95);function Ie(e,t){void 0===t&&(t=A.a);var r=Ae(e)?+e-t.now():Math.abs(e);return function(e){return e.lift(new Ce(r,t))}}var Ce=function(){function e(e,t){this.delay=e,this.scheduler=t}return e.prototype.call=function(e,t){return t.subscribe(new le(e,this.delay,this.scheduler))},e}(),le=function(e){function t(t,r,n){var i=e.call(this,t)||this;return i.delay=r,i.scheduler=n,i.queue=[],i.active=!1,i.errored=!1,i}return n.b(t,e),t.dispatch=function(e){for(var t=e.source,r=t.queue,n=e.scheduler,i=e.destination;r.length>0&&r[0].time-n.now()<=0;)r.shift().notification.observe(i);if(r.length>0){var s=Math.max(0,r[0].time-n.now());this.schedule(e,s)}else this.unsubscribe(),t.active=!1},t.prototype._schedule=function(e){this.active=!0,this.destination.add(e.schedule(t.dispatch,this.delay,{source:this,destination:this.destination,scheduler:e}))},t.prototype.scheduleNotification=function(e){if(!0!==this.errored){var t=this.scheduler,r=new ce(t.now()+this.delay,e);this.queue.push(r),!1===this.active&&this._schedule(t)}},t.prototype._next=function(e){this.scheduleNotification(ue.a.createNext(e))},t.prototype._error=function(e){this.errored=!0,this.queue=[],this.destination.error(e),this.unsubscribe()},t.prototype._complete=function(){this.scheduleNotification(ue.a.createComplete()),this.unsubscribe()},t}(d.a),ce=function(){return function(e,t){this.time=e,this.notification=t}}(),de=r(16);function he(e,t){return t?function(r){return new me(r,t).lift(new fe(e))}:function(t){return t.lift(new fe(e))}}var fe=function(){function e(e){this.delayDurationSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new pe(e,this.delayDurationSelector))},e}(),pe=function(e){function t(t,r){var n=e.call(this,t)||this;return n.delayDurationSelector=r,n.completed=!1,n.delayNotifierSubscriptions=[],n.index=0,n}return n.b(t,e),t.prototype.notifyNext=function(e,t,r,n,i){this.destination.next(e),this.removeSubscription(i),this.tryComplete()},t.prototype.notifyError=function(e,t){this._error(e)},t.prototype.notifyComplete=function(e){var t=this.removeSubscription(e);t&&this.destination.next(t),this.tryComplete()},t.prototype._next=function(e){var t=this.index++;try{var r=this.delayDurationSelector(e,t);r&&this.tryDelay(r,e)}catch(e){this.destination.error(e)}},t.prototype._complete=function(){this.completed=!0,this.tryComplete(),this.unsubscribe()},t.prototype.removeSubscription=function(e){e.unsubscribe();var t=this.delayNotifierSubscriptions.indexOf(e);return-1!==t&&this.delayNotifierSubscriptions.splice(t,1),e.outerValue},t.prototype.tryDelay=function(e,t){var r=Object(s.a)(this,e,t);r&&!r.closed&&(this.destination.add(r),this.delayNotifierSubscriptions.push(r))},t.prototype.tryComplete=function(){this.completed&&0===this.delayNotifierSubscriptions.length&&this.destination.complete()},t}(i.a),me=function(e){function t(t,r){var n=e.call(this)||this;return n.source=t,n.subscriptionDelay=r,n}return n.b(t,e),t.prototype._subscribe=function(e){this.subscriptionDelay.subscribe(new _e(e,this.source))},t}(de.a),_e=function(e){function t(t,r){var n=e.call(this)||this;return n.parent=t,n.source=r,n.sourceSubscribed=!1,n}return n.b(t,e),t.prototype._next=function(e){this.subscribeToSource()},t.prototype._error=function(e){this.unsubscribe(),this.parent.error(e)},t.prototype._complete=function(){this.unsubscribe(),this.subscribeToSource()},t.prototype.subscribeToSource=function(){this.sourceSubscribed||(this.sourceSubscribed=!0,this.unsubscribe(),this.source.subscribe(this.parent))},t}(d.a);function ye(){return function(e){return e.lift(new be)}}var be=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new ve(e))},e}(),ve=function(e){function t(t){return e.call(this,t)||this}return n.b(t,e),t.prototype._next=function(e){e.observe(this.destination)},t}(d.a);function we(e,t){return function(r){return r.lift(new ke(e,t))}}var ke=function(){function e(e,t){this.keySelector=e,this.flushes=t}return e.prototype.call=function(e,t){return t.subscribe(new Me(e,this.keySelector,this.flushes))},e}(),Me=function(e){function t(t,r,n){var i=e.call(this,t)||this;return i.keySelector=r,i.values=new Set,n&&i.add(Object(s.a)(i,n)),i}return n.b(t,e),t.prototype.notifyNext=function(e,t,r,n,i){this.values.clear()},t.prototype.notifyError=function(e,t){this._error(e)},t.prototype._next=function(e){this.keySelector?this._useKeySelector(e):this._finalizeNext(e,e)},t.prototype._useKeySelector=function(e){var t,r=this.destination;try{t=this.keySelector(e)}catch(e){return void r.error(e)}this._finalizeNext(t,e)},t.prototype._finalizeNext=function(e,t){var r=this.values;r.has(e)||(r.add(e),this.destination.next(t))},t}(i.a);function Oe(e,t){return function(r){return r.lift(new Se(e,t))}}var Se=function(){function e(e,t){this.compare=e,this.keySelector=t}return e.prototype.call=function(e,t){return t.subscribe(new De(e,this.compare,this.keySelector))},e}(),De=function(e){function t(t,r,n){var i=e.call(this,t)||this;return i.keySelector=n,i.hasKey=!1,"function"==typeof r&&(i.compare=r),i}return n.b(t,e),t.prototype.compare=function(e,t){return e===t},t.prototype._next=function(e){var t;try{var r=this.keySelector;t=r?r(e):e}catch(e){return this.destination.error(e)}var n=!1;if(this.hasKey)try{n=(0,this.compare)(this.key,t)}catch(e){return this.destination.error(e)}else this.hasKey=!0;n||(this.key=t,this.destination.next(e))},t}(d.a);function Te(e,t){return Oe((function(r,n){return t?t(r[e],n[e]):r[e]===n[e]}))}var Le=r(120),Ee=r(94),Pe=r(125);function xe(e){return void 0===e&&(e=Ye),function(t){return t.lift(new je(e))}}var je=function(){function e(e){this.errorFactory=e}return e.prototype.call=function(e,t){return t.subscribe(new Re(e,this.errorFactory))},e}(),Re=function(e){function t(t,r){var n=e.call(this,t)||this;return n.errorFactory=r,n.hasValue=!1,n}return n.b(t,e),t.prototype._next=function(e){this.hasValue=!0,this.destination.next(e)},t.prototype._complete=function(){if(this.hasValue)return this.destination.complete();var e=void 0;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)},t}(d.a);function Ye(){return new Pe.a}var Ne=r(64);function Ue(e){return function(t){return 0===e?Object(Ne.b)():t.lift(new He(e))}}var He=function(){function e(e){if(this.total=e,this.total<0)throw new Le.a}return e.prototype.call=function(e,t){return t.subscribe(new Fe(e,this.total))},e}(),Fe=function(e){function t(t,r){var n=e.call(this,t)||this;return n.total=r,n.count=0,n}return n.b(t,e),t.prototype._next=function(e){var t=this.total,r=++this.count;r<=t&&(this.destination.next(e),r===t&&(this.destination.complete(),this.unsubscribe()))},t}(d.a);function Be(e,t){if(e<0)throw new Le.a;var r=arguments.length>=2;return function(n){return n.pipe(Object(Ee.a)((function(t,r){return r===e})),Ue(1),r?oe(t):xe((function(){return new Le.a})))}}var ze=r(150);function We(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return Object(W.a)(t,ze.a.apply(void 0,e))}}function Ge(e,t){return function(r){return r.lift(new qe(e,t,r))}}var qe=function(){function e(e,t,r){this.predicate=e,this.thisArg=t,this.source=r}return e.prototype.call=function(e,t){return t.subscribe(new Ve(e,this.predicate,this.thisArg,this.source))},e}(),Ve=function(e){function t(t,r,n,i){var s=e.call(this,t)||this;return s.predicate=r,s.thisArg=n,s.source=i,s.index=0,s.thisArg=n||s,s}return n.b(t,e),t.prototype.notifyComplete=function(e){this.destination.next(e),this.destination.complete()},t.prototype._next=function(e){var t=!1;try{t=this.predicate.call(this.thisArg,e,this.index++,this.source)}catch(e){return void this.destination.error(e)}t||this.notifyComplete(!1)},t.prototype._complete=function(){this.notifyComplete(!0)},t}(d.a);function Ke(){return function(e){return e.lift(new Ze)}}var Ze=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new Je(e))},e}(),Je=function(e){function t(t){var r=e.call(this,t)||this;return r.hasCompleted=!1,r.hasSubscription=!1,r}return n.b(t,e),t.prototype._next=function(e){this.hasSubscription||(this.hasSubscription=!0,this.add(Object(s.a)(this,e)))},t.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete()},t.prototype.notifyComplete=function(e){this.remove(e),this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},t}(i.a),$e=r(56);function Qe(e,t){return t?function(r){return r.pipe(Qe((function(r,n){return Object(B.a)(e(r,n)).pipe(Object($e.a)((function(e,i){return t(r,e,n,i)})))})))}:function(t){return t.lift(new Xe(e))}}var Xe=function(){function e(e){this.project=e}return e.prototype.call=function(e,t){return t.subscribe(new et(e,this.project))},e}(),et=function(e){function t(t,r){var n=e.call(this,t)||this;return n.project=r,n.hasSubscription=!1,n.hasCompleted=!1,n.index=0,n}return n.b(t,e),t.prototype._next=function(e){this.hasSubscription||this.tryNext(e)},t.prototype.tryNext=function(e){var t,r=this.index++;try{t=this.project(e,r)}catch(e){return void this.destination.error(e)}this.hasSubscription=!0,this._innerSub(t,e,r)},t.prototype._innerSub=function(e,t,r){var n=new j.a(this,void 0,void 0);this.destination.add(n),Object(s.a)(this,e,t,r,n)},t.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete(),this.unsubscribe()},t.prototype.notifyNext=function(e,t,r,n,i){this.destination.next(t)},t.prototype.notifyError=function(e){this.destination.error(e)},t.prototype.notifyComplete=function(e){this.destination.remove(e),this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},t}(i.a);function tt(e,t,r){return void 0===t&&(t=Number.POSITIVE_INFINITY),void 0===r&&(r=void 0),t=(t||0)<1?Number.POSITIVE_INFINITY:t,function(n){return n.lift(new rt(e,t,r))}}var rt=function(){function e(e,t,r){this.project=e,this.concurrent=t,this.scheduler=r}return e.prototype.call=function(e,t){return t.subscribe(new nt(e,this.project,this.concurrent,this.scheduler))},e}(),nt=function(e){function t(t,r,n,i){var s=e.call(this,t)||this;return s.project=r,s.concurrent=n,s.scheduler=i,s.index=0,s.active=0,s.hasCompleted=!1,n<Number.POSITIVE_INFINITY&&(s.buffer=[]),s}return n.b(t,e),t.dispatch=function(e){var t=e.subscriber,r=e.result,n=e.value,i=e.index;t.subscribeToProjection(r,n,i)},t.prototype._next=function(e){var r=this.destination;if(r.closed)this._complete();else{var n=this.index++;if(this.active<this.concurrent){r.next(e);try{var i=(0,this.project)(e,n);if(this.scheduler){var s={subscriber:this,result:i,value:e,index:n};this.destination.add(this.scheduler.schedule(t.dispatch,0,s))}else this.subscribeToProjection(i,e,n)}catch(e){r.error(e)}}else this.buffer.push(e)}},t.prototype.subscribeToProjection=function(e,t,r){this.active++,this.destination.add(Object(s.a)(this,e,t,r))},t.prototype._complete=function(){this.hasCompleted=!0,this.hasCompleted&&0===this.active&&this.destination.complete(),this.unsubscribe()},t.prototype.notifyNext=function(e,t,r,n,i){this._next(t)},t.prototype.notifyComplete=function(e){var t=this.buffer;this.destination.remove(e),this.active--,t&&t.length>0&&this._next(t.shift()),this.hasCompleted&&0===this.active&&this.destination.complete()},t}(i.a);function it(e){return function(t){return t.lift(new st(e))}}var st=function(){function e(e){this.callback=e}return e.prototype.call=function(e,t){return t.subscribe(new ot(e,this.callback))},e}(),ot=function(e){function t(t,r){var n=e.call(this,t)||this;return n.add(new S.a(r)),n}return n.b(t,e),t}(d.a);function at(e,t){if("function"!=typeof e)throw new TypeError("predicate is not a function");return function(r){return r.lift(new gt(e,r,!1,t))}}var gt=function(){function e(e,t,r,n){this.predicate=e,this.source=t,this.yieldIndex=r,this.thisArg=n}return e.prototype.call=function(e,t){return t.subscribe(new At(e,this.predicate,this.source,this.yieldIndex,this.thisArg))},e}(),At=function(e){function t(t,r,n,i,s){var o=e.call(this,t)||this;return o.predicate=r,o.source=n,o.yieldIndex=i,o.thisArg=s,o.index=0,o}return n.b(t,e),t.prototype.notifyComplete=function(e){var t=this.destination;t.next(e),t.complete(),this.unsubscribe()},t.prototype._next=function(e){var t=this.predicate,r=this.thisArg,n=this.index++;try{t.call(r||this,e,n,this.source)&&this.notifyComplete(this.yieldIndex?n:e)}catch(e){this.destination.error(e)}},t.prototype._complete=function(){this.notifyComplete(this.yieldIndex?-1:void 0)},t}(d.a);function ut(e,t){return function(r){return r.lift(new gt(e,r,!0,t))}}var It=r(98);function Ct(e,t){var r=arguments.length>=2;return function(n){return n.pipe(e?Object(Ee.a)((function(t,r){return e(t,r,n)})):It.a,Ue(1),r?oe(t):xe((function(){return new Pe.a})))}}var lt=r(233);function ct(){return function(e){return e.lift(new dt)}}var dt=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new ht(e))},e}(),ht=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.b(t,e),t.prototype._next=function(e){},t}(d.a);function ft(){return function(e){return e.lift(new pt)}}var pt=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new mt(e))},e}(),mt=function(e){function t(t){return e.call(this,t)||this}return n.b(t,e),t.prototype.notifyComplete=function(e){var t=this.destination;t.next(e),t.complete()},t.prototype._next=function(e){this.notifyComplete(!1)},t.prototype._complete=function(){this.notifyComplete(!0)},t}(d.a);function _t(e){return function(t){return 0===e?Object(Ne.b)():t.lift(new yt(e))}}var yt=function(){function e(e){if(this.total=e,this.total<0)throw new Le.a}return e.prototype.call=function(e,t){return t.subscribe(new bt(e,this.total))},e}(),bt=function(e){function t(t,r){var n=e.call(this,t)||this;return n.total=r,n.ring=new Array,n.count=0,n}return n.b(t,e),t.prototype._next=function(e){var t=this.ring,r=this.total,n=this.count++;t.length<r?t.push(e):t[n%r]=e},t.prototype._complete=function(){var e=this.destination,t=this.count;if(t>0)for(var r=this.count>=this.total?this.total:this.count,n=this.ring,i=0;i<r;i++){var s=t++%r;e.next(n[s])}e.complete()},t}(d.a);function vt(e,t){var r=arguments.length>=2;return function(n){return n.pipe(e?Object(Ee.a)((function(t,r){return e(t,r,n)})):It.a,_t(1),r?oe(t):xe((function(){return new Pe.a})))}}function wt(e){return function(t){return t.lift(new kt(e))}}var kt=function(){function e(e){this.value=e}return e.prototype.call=function(e,t){return t.subscribe(new Mt(e,this.value))},e}(),Mt=function(e){function t(t,r){var n=e.call(this,t)||this;return n.value=r,n}return n.b(t,e),t.prototype._next=function(e){this.destination.next(this.value)},t}(d.a);function Ot(){return function(e){return e.lift(new St)}}var St=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new Dt(e))},e}(),Dt=function(e){function t(t){return e.call(this,t)||this}return n.b(t,e),t.prototype._next=function(e){this.destination.next(ue.a.createNext(e))},t.prototype._error=function(e){var t=this.destination;t.next(ue.a.createError(e)),t.complete()},t.prototype._complete=function(){var e=this.destination;e.next(ue.a.createComplete()),e.complete()},t}(d.a);function Tt(e,t){var r=!1;return arguments.length>=2&&(r=!0),function(n){return n.lift(new Lt(e,t,r))}}var Lt=function(){function e(e,t,r){void 0===r&&(r=!1),this.accumulator=e,this.seed=t,this.hasSeed=r}return e.prototype.call=function(e,t){return t.subscribe(new Et(e,this.accumulator,this.seed,this.hasSeed))},e}(),Et=function(e){function t(t,r,n,i){var s=e.call(this,t)||this;return s.accumulator=r,s._seed=n,s.hasSeed=i,s.index=0,s}return n.b(t,e),Object.defineProperty(t.prototype,"seed",{get:function(){return this._seed},set:function(e){this.hasSeed=!0,this._seed=e},enumerable:!0,configurable:!0}),t.prototype._next=function(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)},t.prototype._tryNext=function(e){var t,r=this.index++;try{t=this.accumulator(this.seed,e,r)}catch(e){this.destination.error(e)}this.seed=t,this.destination.next(t)},t}(d.a),Pt=r(163);function xt(e,t){return arguments.length>=2?function(r){return Object(Pt.a)(Tt(e,t),_t(1),oe(t))(r)}:function(t){return Object(Pt.a)(Tt((function(t,r,n){return e(t,r,n+1)})),_t(1))(t)}}function jt(e){return xt("function"==typeof e?function(t,r){return e(t,r)>0?t:r}:function(e,t){return e>t?e:t})}var Rt=r(252);function Yt(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return t.lift.call(Rt.a.apply(void 0,[t].concat(e)))}}var Nt=r(185);function Ut(e,t,r){return void 0===r&&(r=Number.POSITIVE_INFINITY),"function"==typeof t?Object(V.a)((function(){return e}),t,r):("number"==typeof t&&(r=t),Object(V.a)((function(){return e}),r))}function Ht(e,t,r){return void 0===r&&(r=Number.POSITIVE_INFINITY),function(n){return n.lift(new Ft(e,t,r))}}var Ft=function(){function e(e,t,r){this.accumulator=e,this.seed=t,this.concurrent=r}return e.prototype.call=function(e,t){return t.subscribe(new Bt(e,this.accumulator,this.seed,this.concurrent))},e}(),Bt=function(e){function t(t,r,n,i){var s=e.call(this,t)||this;return s.accumulator=r,s.acc=n,s.concurrent=i,s.hasValue=!1,s.hasCompleted=!1,s.buffer=[],s.active=0,s.index=0,s}return n.b(t,e),t.prototype._next=function(e){if(this.active<this.concurrent){var t=this.index++,r=this.destination,n=void 0;try{n=(0,this.accumulator)(this.acc,e,t)}catch(e){return r.error(e)}this.active++,this._innerSub(n,e,t)}else this.buffer.push(e)},t.prototype._innerSub=function(e,t,r){var n=new j.a(this,void 0,void 0);this.destination.add(n),Object(s.a)(this,e,t,r,n)},t.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&(!1===this.hasValue&&this.destination.next(this.acc),this.destination.complete()),this.unsubscribe()},t.prototype.notifyNext=function(e,t,r,n,i){var s=this.destination;this.acc=t,this.hasValue=!0,s.next(t)},t.prototype.notifyComplete=function(e){var t=this.buffer;this.destination.remove(e),this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&(!1===this.hasValue&&this.destination.next(this.acc),this.destination.complete())},t}(i.a);function zt(e){return xt("function"==typeof e?function(t,r){return e(t,r)<0?t:r}:function(e,t){return e<t?e:t})}var Wt=r(247);function Gt(e,t){return function(r){var n;if(n="function"==typeof e?e:function(){return e},"function"==typeof t)return r.lift(new qt(n,t));var i=Object.create(r,Wt.b);return i.source=r,i.subjectFactory=n,i}}var qt=function(){function e(e,t){this.subjectFactory=e,this.selector=t}return e.prototype.call=function(e,t){var r=this.selector,n=this.subjectFactory(),i=r(n).subscribe(e);return i.add(t.subscribe(n)),i},e}(),Vt=r(249);function Kt(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 1===e.length&&Object(F.a)(e[0])&&(e=e[0]),function(t){return t.lift(new Zt(e))}}var Zt=function(){function e(e){this.nextSources=e}return e.prototype.call=function(e,t){return t.subscribe(new Jt(e,this.nextSources))},e}(),Jt=function(e){function t(t,r){var n=e.call(this,t)||this;return n.destination=t,n.nextSources=r,n}return n.b(t,e),t.prototype.notifyError=function(e,t){this.subscribeToNextSource()},t.prototype.notifyComplete=function(e){this.subscribeToNextSource()},t.prototype._error=function(e){this.subscribeToNextSource(),this.unsubscribe()},t.prototype._complete=function(){this.subscribeToNextSource(),this.unsubscribe()},t.prototype.subscribeToNextSource=function(){var e=this.nextSources.shift();if(e){var t=new j.a(this,void 0,void 0);this.destination.add(t),Object(s.a)(this,e,void 0,void 0,t)}else this.destination.complete()},t}(i.a);function $t(){return function(e){return e.lift(new Qt)}}var Qt=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new Xt(e))},e}(),Xt=function(e){function t(t){var r=e.call(this,t)||this;return r.hasPrev=!1,r}return n.b(t,e),t.prototype._next=function(e){var t;this.hasPrev?t=[this.prev,e]:this.hasPrev=!0,this.prev=e,t&&this.destination.next(t)},t}(d.a),er=r(261);function tr(e,t){return function(r){return[Object(Ee.a)(e,t)(r),Object(Ee.a)(Object(er.a)(e,t))(r)]}}function rr(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=e.length;if(0===r)throw new Error("list of properties cannot be empty.");return function(t){return Object($e.a)(function(e,t){return function(r){for(var n=r,i=0;i<t;i++){var s=n[e[i]];if(void 0===s)return;n=s}return n}}(e,r))(t)}}var nr=r(37);function ir(e){return e?Gt((function(){return new nr.a}),e):Gt(new nr.a)}var sr=r(248);function or(e){return function(t){return Gt(new sr.a(e))(t)}}var ar=r(128);function gr(){return function(e){return Gt(new ar.a)(e)}}var Ar=r(182);function ur(e,t,r,n){r&&"function"!=typeof r&&(n=r);var i="function"==typeof r?r:void 0,s=new Ar.a(e,t,n);return function(e){return Gt((function(){return s}),i)(e)}}var Ir=r(253);function Cr(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return 1===e.length&&Object(F.a)(e[0])&&(e=e[0]),t.lift.call(Ir.a.apply(void 0,[t].concat(e)))}}function lr(e){return void 0===e&&(e=-1),function(t){return 0===e?Object(Ne.b)():e<0?t.lift(new cr(-1,t)):t.lift(new cr(e-1,t))}}var cr=function(){function e(e,t){this.count=e,this.source=t}return e.prototype.call=function(e,t){return t.subscribe(new dr(e,this.count,this.source))},e}(),dr=function(e){function t(t,r,n){var i=e.call(this,t)||this;return i.count=r,i.source=n,i}return n.b(t,e),t.prototype.complete=function(){if(!this.isStopped){var t=this.source,r=this.count;if(0===r)return e.prototype.complete.call(this);r>-1&&(this.count=r-1),t.subscribe(this._unsubscribeAndRecycle())}},t}(d.a);function hr(e){return function(t){return t.lift(new fr(e))}}var fr=function(){function e(e){this.notifier=e}return e.prototype.call=function(e,t){return t.subscribe(new pr(e,this.notifier,t))},e}(),pr=function(e){function t(t,r,n){var i=e.call(this,t)||this;return i.notifier=r,i.source=n,i.sourceIsBeingSubscribedTo=!0,i}return n.b(t,e),t.prototype.notifyNext=function(e,t,r,n,i){this.sourceIsBeingSubscribedTo=!0,this.source.subscribe(this)},t.prototype.notifyComplete=function(t){if(!1===this.sourceIsBeingSubscribedTo)return e.prototype.complete.call(this)},t.prototype.complete=function(){if(this.sourceIsBeingSubscribedTo=!1,!this.isStopped){if(this.retries||this.subscribeToRetries(),!this.retriesSubscription||this.retriesSubscription.closed)return e.prototype.complete.call(this);this._unsubscribeAndRecycle(),this.notifications.next()}},t.prototype._unsubscribe=function(){var e=this.notifications,t=this.retriesSubscription;e&&(e.unsubscribe(),this.notifications=null),t&&(t.unsubscribe(),this.retriesSubscription=null),this.retries=null},t.prototype._unsubscribeAndRecycle=function(){var t=this._unsubscribe;return this._unsubscribe=null,e.prototype._unsubscribeAndRecycle.call(this),this._unsubscribe=t,this},t.prototype.subscribeToRetries=function(){var t;this.notifications=new nr.a;try{t=(0,this.notifier)(this.notifications)}catch(t){return e.prototype.complete.call(this)}this.retries=t,this.retriesSubscription=Object(s.a)(this,t)},t}(i.a);function mr(e){return void 0===e&&(e=-1),function(t){return t.lift(new _r(e,t))}}var _r=function(){function e(e,t){this.count=e,this.source=t}return e.prototype.call=function(e,t){return t.subscribe(new yr(e,this.count,this.source))},e}(),yr=function(e){function t(t,r,n){var i=e.call(this,t)||this;return i.count=r,i.source=n,i}return n.b(t,e),t.prototype.error=function(t){if(!this.isStopped){var r=this.source,n=this.count;if(0===n)return e.prototype.error.call(this,t);n>-1&&(this.count=n-1),r.subscribe(this._unsubscribeAndRecycle())}},t}(d.a);function br(e){return function(t){return t.lift(new vr(e,t))}}var vr=function(){function e(e,t){this.notifier=e,this.source=t}return e.prototype.call=function(e,t){return t.subscribe(new wr(e,this.notifier,this.source))},e}(),wr=function(e){function t(t,r,n){var i=e.call(this,t)||this;return i.notifier=r,i.source=n,i}return n.b(t,e),t.prototype.error=function(t){if(!this.isStopped){var r=this.errors,n=this.retries,i=this.retriesSubscription;if(n)this.errors=null,this.retriesSubscription=null;else{r=new nr.a;try{n=(0,this.notifier)(r)}catch(t){return e.prototype.error.call(this,t)}i=Object(s.a)(this,n)}this._unsubscribeAndRecycle(),this.errors=r,this.retries=n,this.retriesSubscription=i,r.next(t)}},t.prototype._unsubscribe=function(){var e=this.errors,t=this.retriesSubscription;e&&(e.unsubscribe(),this.errors=null),t&&(t.unsubscribe(),this.retriesSubscription=null),this.retries=null},t.prototype.notifyNext=function(e,t,r,n,i){var s=this._unsubscribe;this._unsubscribe=null,this._unsubscribeAndRecycle(),this._unsubscribe=s,this.source.subscribe(this)},t}(i.a),kr=r(181);function Mr(e){return function(t){return t.lift(new Or(e))}}var Or=function(){function e(e){this.notifier=e}return e.prototype.call=function(e,t){var r=new Sr(e),n=t.subscribe(r);return n.add(Object(s.a)(r,this.notifier)),n},e}(),Sr=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.hasValue=!1,t}return n.b(t,e),t.prototype._next=function(e){this.value=e,this.hasValue=!0},t.prototype.notifyNext=function(e,t,r,n,i){this.emitValue()},t.prototype.notifyComplete=function(){this.emitValue()},t.prototype.emitValue=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.value))},t}(i.a);function Dr(e,t){return void 0===t&&(t=A.a),function(r){return r.lift(new Tr(e,t))}}var Tr=function(){function e(e,t){this.period=e,this.scheduler=t}return e.prototype.call=function(e,t){return t.subscribe(new Lr(e,this.period,this.scheduler))},e}(),Lr=function(e){function t(t,r,n){var i=e.call(this,t)||this;return i.period=r,i.scheduler=n,i.hasValue=!1,i.add(n.schedule(Er,r,{subscriber:i,period:r})),i}return n.b(t,e),t.prototype._next=function(e){this.lastValue=e,this.hasValue=!0},t.prototype.notifyNext=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.lastValue))},t}(d.a);function Er(e){var t=e.subscriber,r=e.period;t.notifyNext(),this.schedule(e,r)}function Pr(e,t){return function(r){return r.lift(new xr(e,t))}}var xr=function(){function e(e,t){this.compareTo=e,this.comparator=t}return e.prototype.call=function(e,t){return t.subscribe(new jr(e,this.compareTo,this.comparator))},e}(),jr=function(e){function t(t,r,n){var i=e.call(this,t)||this;return i.compareTo=r,i.comparator=n,i._a=[],i._b=[],i._oneComplete=!1,i.destination.add(r.subscribe(new Rr(t,i))),i}return n.b(t,e),t.prototype._next=function(e){this._oneComplete&&0===this._b.length?this.emit(!1):(this._a.push(e),this.checkValues())},t.prototype._complete=function(){this._oneComplete?this.emit(0===this._a.length&&0===this._b.length):this._oneComplete=!0,this.unsubscribe()},t.prototype.checkValues=function(){for(var e=this._a,t=this._b,r=this.comparator;e.length>0&&t.length>0;){var n=e.shift(),i=t.shift(),s=!1;try{s=r?r(n,i):n===i}catch(e){this.destination.error(e)}s||this.emit(!1)}},t.prototype.emit=function(e){var t=this.destination;t.next(e),t.complete()},t.prototype.nextB=function(e){this._oneComplete&&0===this._a.length?this.emit(!1):(this._b.push(e),this.checkValues())},t.prototype.completeB=function(){this._oneComplete?this.emit(0===this._a.length&&0===this._b.length):this._oneComplete=!0},t}(d.a),Rr=function(e){function t(t,r){var n=e.call(this,t)||this;return n.parent=r,n}return n.b(t,e),t.prototype._next=function(e){this.parent.nextB(e)},t.prototype._error=function(e){this.parent.error(e),this.unsubscribe()},t.prototype._complete=function(){this.parent.completeB(),this.unsubscribe()},t}(d.a);function Yr(){return new nr.a}function Nr(){return function(e){return Object(kr.a)()(Gt(Yr)(e))}}function Ur(e,t,r){var n;return n=e&&"object"==typeof e?e:{bufferSize:e,windowTime:t,refCount:!1,scheduler:r},function(e){return e.lift(function(e){var t,r,n=e.bufferSize,i=void 0===n?Number.POSITIVE_INFINITY:n,s=e.windowTime,o=void 0===s?Number.POSITIVE_INFINITY:s,a=e.refCount,g=e.scheduler,A=0,u=!1,I=!1;return function(e){A++,t&&!u||(u=!1,t=new Ar.a(i,o,g),r=e.subscribe({next:function(e){t.next(e)},error:function(e){u=!0,t.error(e)},complete:function(){I=!0,t.complete()}}));var n=t.subscribe(this);this.add((function(){A--,n.unsubscribe(),r&&!I&&a&&0===A&&(r.unsubscribe(),r=void 0,t=void 0)}))}}(n))}}function Hr(e){return function(t){return t.lift(new Fr(e,t))}}var Fr=function(){function e(e,t){this.predicate=e,this.source=t}return e.prototype.call=function(e,t){return t.subscribe(new Br(e,this.predicate,this.source))},e}(),Br=function(e){function t(t,r,n){var i=e.call(this,t)||this;return i.predicate=r,i.source=n,i.seenValue=!1,i.index=0,i}return n.b(t,e),t.prototype.applySingleValue=function(e){this.seenValue?this.destination.error("Sequence contains more than one element"):(this.seenValue=!0,this.singleValue=e)},t.prototype._next=function(e){var t=this.index++;this.predicate?this.tryNext(e,t):this.applySingleValue(e)},t.prototype.tryNext=function(e,t){try{this.predicate(e,t,this.source)&&this.applySingleValue(e)}catch(e){this.destination.error(e)}},t.prototype._complete=function(){var e=this.destination;this.index>0?(e.next(this.seenValue?this.singleValue:void 0),e.complete()):e.error(new Pe.a)},t}(d.a);function zr(e){return function(t){return t.lift(new Wr(e))}}var Wr=function(){function e(e){this.total=e}return e.prototype.call=function(e,t){return t.subscribe(new Gr(e,this.total))},e}(),Gr=function(e){function t(t,r){var n=e.call(this,t)||this;return n.total=r,n.count=0,n}return n.b(t,e),t.prototype._next=function(e){++this.count>this.total&&this.destination.next(e)},t}(d.a);function qr(e){return function(t){return t.lift(new Vr(e))}}var Vr=function(){function e(e){if(this._skipCount=e,this._skipCount<0)throw new Le.a}return e.prototype.call=function(e,t){return 0===this._skipCount?t.subscribe(new d.a(e)):t.subscribe(new Kr(e,this._skipCount))},e}(),Kr=function(e){function t(t,r){var n=e.call(this,t)||this;return n._skipCount=r,n._count=0,n._ring=new Array(r),n}return n.b(t,e),t.prototype._next=function(e){var t=this._skipCount,r=this._count++;if(r<t)this._ring[r]=e;else{var n=r%t,i=this._ring,s=i[n];i[n]=e,this.destination.next(s)}},t}(d.a);function Zr(e){return function(t){return t.lift(new Jr(e))}}var Jr=function(){function e(e){this.notifier=e}return e.prototype.call=function(e,t){return t.subscribe(new $r(e,this.notifier))},e}(),$r=function(e){function t(t,r){var n=e.call(this,t)||this;n.hasValue=!1;var i=new j.a(n,void 0,void 0);return n.add(i),n.innerSubscription=i,Object(s.a)(n,r,void 0,void 0,i),n}return n.b(t,e),t.prototype._next=function(t){this.hasValue&&e.prototype._next.call(this,t)},t.prototype.notifyNext=function(e,t,r,n,i){this.hasValue=!0,this.innerSubscription&&this.innerSubscription.unsubscribe()},t.prototype.notifyComplete=function(){},t}(i.a);function Qr(e){return function(t){return t.lift(new Xr(e))}}var Xr=function(){function e(e){this.predicate=e}return e.prototype.call=function(e,t){return t.subscribe(new en(e,this.predicate))},e}(),en=function(e){function t(t,r){var n=e.call(this,t)||this;return n.predicate=r,n.skipping=!0,n.index=0,n}return n.b(t,e),t.prototype._next=function(e){var t=this.destination;this.skipping&&this.tryCallPredicate(e),this.skipping||t.next(e)},t.prototype.tryCallPredicate=function(e){try{var t=this.predicate(e,this.index++);this.skipping=Boolean(t)}catch(e){this.destination.error(e)}},t}(d.a);function tn(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=e[e.length-1];return Object(_.a)(r)?(e.pop(),function(t){return Object(W.a)(e,t,r)}):function(t){return Object(W.a)(e,t)}}var rn=r(193),nn=r(130),sn=function(e){function t(t,r,n){void 0===r&&(r=0),void 0===n&&(n=rn.a);var i=e.call(this)||this;return i.source=t,i.delayTime=r,i.scheduler=n,(!Object(nn.a)(r)||r<0)&&(i.delayTime=0),n&&"function"==typeof n.schedule||(i.scheduler=rn.a),i}return n.b(t,e),t.create=function(e,r,n){return void 0===r&&(r=0),void 0===n&&(n=rn.a),new t(e,r,n)},t.dispatch=function(e){var t=e.source,r=e.subscriber;return this.add(t.subscribe(r))},t.prototype._subscribe=function(e){var r=this.delayTime,n=this.source;return this.scheduler.schedule(t.dispatch,r,{source:n,subscriber:e})},t}(de.a);function on(e,t){return void 0===t&&(t=0),function(r){return r.lift(new an(e,t))}}var an=function(){function e(e,t){this.scheduler=e,this.delay=t}return e.prototype.call=function(e,t){return new sn(t,this.delay,this.scheduler).subscribe(e)},e}();function gn(e,t){return"function"==typeof t?function(r){return r.pipe(gn((function(r,n){return Object(B.a)(e(r,n)).pipe(Object($e.a)((function(e,i){return t(r,e,n,i)})))})))}:function(t){return t.lift(new An(e))}}var An=function(){function e(e){this.project=e}return e.prototype.call=function(e,t){return t.subscribe(new un(e,this.project))},e}(),un=function(e){function t(t,r){var n=e.call(this,t)||this;return n.project=r,n.index=0,n}return n.b(t,e),t.prototype._next=function(e){var t,r=this.index++;try{t=this.project(e,r)}catch(e){return void this.destination.error(e)}this._innerSub(t,e,r)},t.prototype._innerSub=function(e,t,r){var n=this.innerSubscription;n&&n.unsubscribe();var i=new j.a(this,void 0,void 0);this.destination.add(i),this.innerSubscription=Object(s.a)(this,e,t,r,i)},t.prototype._complete=function(){var t=this.innerSubscription;t&&!t.closed||e.prototype._complete.call(this),this.unsubscribe()},t.prototype._unsubscribe=function(){this.innerSubscription=null},t.prototype.notifyComplete=function(t){this.destination.remove(t),this.innerSubscription=null,this.isStopped&&e.prototype._complete.call(this)},t.prototype.notifyNext=function(e,t,r,n,i){this.destination.next(t)},t}(i.a);function In(){return gn(It.a)}function Cn(e,t){return t?gn((function(){return e}),t):gn((function(){return e}))}function ln(e){return function(t){return t.lift(new cn(e))}}var cn=function(){function e(e){this.notifier=e}return e.prototype.call=function(e,t){var r=new dn(e),n=Object(s.a)(r,this.notifier);return n&&!r.seenValue?(r.add(n),t.subscribe(r)):r},e}(),dn=function(e){function t(t){var r=e.call(this,t)||this;return r.seenValue=!1,r}return n.b(t,e),t.prototype.notifyNext=function(e,t,r,n,i){this.seenValue=!0,this.complete()},t.prototype.notifyComplete=function(){},t}(i.a);function hn(e,t){return void 0===t&&(t=!1),function(r){return r.lift(new fn(e,t))}}var fn=function(){function e(e,t){this.predicate=e,this.inclusive=t}return e.prototype.call=function(e,t){return t.subscribe(new pn(e,this.predicate,this.inclusive))},e}(),pn=function(e){function t(t,r,n){var i=e.call(this,t)||this;return i.predicate=r,i.inclusive=n,i.index=0,i}return n.b(t,e),t.prototype._next=function(e){var t,r=this.destination;try{t=this.predicate(e,this.index++)}catch(e){return void r.error(e)}this.nextOrComplete(e,t)},t.prototype.nextOrComplete=function(e,t){var r=this.destination;Boolean(t)?r.next(e):(this.inclusive&&r.next(e),r.complete())},t}(d.a),mn=r(87),_n=r(121);function yn(e,t,r){return function(n){return n.lift(new bn(e,t,r))}}var bn=function(){function e(e,t,r){this.nextOrObserver=e,this.error=t,this.complete=r}return e.prototype.call=function(e,t){return t.subscribe(new vn(e,this.nextOrObserver,this.error,this.complete))},e}(),vn=function(e){function t(t,r,n,i){var s=e.call(this,t)||this;return s._tapNext=mn.a,s._tapError=mn.a,s._tapComplete=mn.a,s._tapError=n||mn.a,s._tapComplete=i||mn.a,Object(_n.a)(r)?(s._context=s,s._tapNext=r):r&&(s._context=r,s._tapNext=r.next||mn.a,s._tapError=r.error||mn.a,s._tapComplete=r.complete||mn.a),s}return n.b(t,e),t.prototype._next=function(e){try{this._tapNext.call(this._context,e)}catch(e){return void this.destination.error(e)}this.destination.next(e)},t.prototype._error=function(e){try{this._tapError.call(this._context,e)}catch(e){return void this.destination.error(e)}this.destination.error(e)},t.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()},t}(d.a),wn={leading:!0,trailing:!1};function kn(e,t){return void 0===t&&(t=wn),function(r){return r.lift(new Mn(e,t.leading,t.trailing))}}var Mn=function(){function e(e,t,r){this.durationSelector=e,this.leading=t,this.trailing=r}return e.prototype.call=function(e,t){return t.subscribe(new On(e,this.durationSelector,this.leading,this.trailing))},e}(),On=function(e){function t(t,r,n,i){var s=e.call(this,t)||this;return s.destination=t,s.durationSelector=r,s._leading=n,s._trailing=i,s._hasValue=!1,s}return n.b(t,e),t.prototype._next=function(e){this._hasValue=!0,this._sendValue=e,this._throttled||(this._leading?this.send():this.throttle(e))},t.prototype.send=function(){var e=this._hasValue,t=this._sendValue;e&&(this.destination.next(t),this.throttle(t)),this._hasValue=!1,this._sendValue=null},t.prototype.throttle=function(e){var t=this.tryDurationSelector(e);t&&this.add(this._throttled=Object(s.a)(this,t))},t.prototype.tryDurationSelector=function(e){try{return this.durationSelector(e)}catch(e){return this.destination.error(e),null}},t.prototype.throttlingDone=function(){var e=this._throttled,t=this._trailing;e&&e.unsubscribe(),this._throttled=null,t&&this.send()},t.prototype.notifyNext=function(e,t,r,n,i){this.throttlingDone()},t.prototype.notifyComplete=function(){this.throttlingDone()},t}(i.a);function Sn(e,t,r){return void 0===t&&(t=A.a),void 0===r&&(r=wn),function(n){return n.lift(new Dn(e,t,r.leading,r.trailing))}}var Dn=function(){function e(e,t,r,n){this.duration=e,this.scheduler=t,this.leading=r,this.trailing=n}return e.prototype.call=function(e,t){return t.subscribe(new Tn(e,this.duration,this.scheduler,this.leading,this.trailing))},e}(),Tn=function(e){function t(t,r,n,i,s){var o=e.call(this,t)||this;return o.duration=r,o.scheduler=n,o.leading=i,o.trailing=s,o._hasTrailingValue=!1,o._trailingValue=null,o}return n.b(t,e),t.prototype._next=function(e){this.throttled?this.trailing&&(this._trailingValue=e,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(Ln,this.duration,{subscriber:this})),this.leading?this.destination.next(e):this.trailing&&(this._trailingValue=e,this._hasTrailingValue=!0))},t.prototype._complete=function(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()},t.prototype.clearThrottle=function(){var e=this.throttled;e&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),e.unsubscribe(),this.remove(e),this.throttled=null)},t}(d.a);function Ln(e){e.subscriber.clearThrottle()}var En=r(186);function Pn(e){return void 0===e&&(e=A.a),function(t){return Object(En.a)((function(){return t.pipe(Tt((function(t,r){var n=t.current;return{value:r,current:e.now(),last:n}}),{current:e.now(),value:void 0,last:void 0}),Object($e.a)((function(e){var t=e.current,r=e.last,n=e.value;return new xn(n,t-r)})))}))}}var xn=function(){return function(e,t){this.value=e,this.interval=t}}(),jn=r(250);function Rn(e,t,r){return void 0===r&&(r=A.a),function(n){var i=Ae(e),s=i?+e-r.now():Math.abs(e);return n.lift(new Yn(s,i,t,r))}}var Yn=function(){function e(e,t,r,n){this.waitFor=e,this.absoluteTimeout=t,this.withObservable=r,this.scheduler=n}return e.prototype.call=function(e,t){return t.subscribe(new Nn(e,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))},e}(),Nn=function(e){function t(t,r,n,i,s){var o=e.call(this,t)||this;return o.absoluteTimeout=r,o.waitFor=n,o.withObservable=i,o.scheduler=s,o.action=null,o.scheduleTimeout(),o}return n.b(t,e),t.dispatchTimeout=function(e){var t=e.withObservable;e._unsubscribeAndRecycle(),e.add(Object(s.a)(e,t))},t.prototype.scheduleTimeout=function(){var e=this.action;e?this.action=e.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(t.dispatchTimeout,this.waitFor,this))},t.prototype._next=function(t){this.absoluteTimeout||this.scheduleTimeout(),e.prototype._next.call(this,t)},t.prototype._unsubscribe=function(){this.action=null,this.scheduler=null,this.withObservable=null},t}(i.a),Un=r(183);function Hn(e,t){return void 0===t&&(t=A.a),Rn(e,Object(Un.a)(new jn.a),t)}function Fn(e){return void 0===e&&(e=A.a),Object($e.a)((function(t){return new Bn(t,e.now())}))}var Bn=function(){return function(e,t){this.value=e,this.timestamp=t}}();function zn(e,t,r){return 0===r?[t]:(e.push(t),e)}function Wn(){return xt(zn,[])}function Gn(e){return function(t){return t.lift(new qn(e))}}var qn=function(){function e(e){this.windowBoundaries=e}return e.prototype.call=function(e,t){var r=new Vn(e),n=t.subscribe(r);return n.closed||r.add(Object(s.a)(r,this.windowBoundaries)),n},e}(),Vn=function(e){function t(t){var r=e.call(this,t)||this;return r.window=new nr.a,t.next(r.window),r}return n.b(t,e),t.prototype.notifyNext=function(e,t,r,n,i){this.openWindow()},t.prototype.notifyError=function(e,t){this._error(e)},t.prototype.notifyComplete=function(e){this._complete()},t.prototype._next=function(e){this.window.next(e)},t.prototype._error=function(e){this.window.error(e),this.destination.error(e)},t.prototype._complete=function(){this.window.complete(),this.destination.complete()},t.prototype._unsubscribe=function(){this.window=null},t.prototype.openWindow=function(){var e=this.window;e&&e.complete();var t=this.destination,r=this.window=new nr.a;t.next(r)},t}(i.a);function Kn(e,t){return void 0===t&&(t=0),function(r){return r.lift(new Zn(e,t))}}var Zn=function(){function e(e,t){this.windowSize=e,this.startWindowEvery=t}return e.prototype.call=function(e,t){return t.subscribe(new Jn(e,this.windowSize,this.startWindowEvery))},e}(),Jn=function(e){function t(t,r,n){var i=e.call(this,t)||this;return i.destination=t,i.windowSize=r,i.startWindowEvery=n,i.windows=[new nr.a],i.count=0,t.next(i.windows[0]),i}return n.b(t,e),t.prototype._next=function(e){for(var t=this.startWindowEvery>0?this.startWindowEvery:this.windowSize,r=this.destination,n=this.windowSize,i=this.windows,s=i.length,o=0;o<s&&!this.closed;o++)i[o].next(e);var a=this.count-n+1;if(a>=0&&a%t==0&&!this.closed&&i.shift().complete(),++this.count%t==0&&!this.closed){var g=new nr.a;i.push(g),r.next(g)}},t.prototype._error=function(e){var t=this.windows;if(t)for(;t.length>0&&!this.closed;)t.shift().error(e);this.destination.error(e)},t.prototype._complete=function(){var e=this.windows;if(e)for(;e.length>0&&!this.closed;)e.shift().complete();this.destination.complete()},t.prototype._unsubscribe=function(){this.count=0,this.windows=null},t}(d.a);function $n(e){var t=A.a,r=null,n=Number.POSITIVE_INFINITY;return Object(_.a)(arguments[3])&&(t=arguments[3]),Object(_.a)(arguments[2])?t=arguments[2]:Object(nn.a)(arguments[2])&&(n=arguments[2]),Object(_.a)(arguments[1])?t=arguments[1]:Object(nn.a)(arguments[1])&&(r=arguments[1]),function(i){return i.lift(new Qn(e,r,n,t))}}var Qn=function(){function e(e,t,r,n){this.windowTimeSpan=e,this.windowCreationInterval=t,this.maxWindowSize=r,this.scheduler=n}return e.prototype.call=function(e,t){return t.subscribe(new ei(e,this.windowTimeSpan,this.windowCreationInterval,this.maxWindowSize,this.scheduler))},e}(),Xn=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._numberOfNextedValues=0,t}return n.b(t,e),t.prototype.next=function(t){this._numberOfNextedValues++,e.prototype.next.call(this,t)},Object.defineProperty(t.prototype,"numberOfNextedValues",{get:function(){return this._numberOfNextedValues},enumerable:!0,configurable:!0}),t}(nr.a),ei=function(e){function t(t,r,n,i,s){var o=e.call(this,t)||this;o.destination=t,o.windowTimeSpan=r,o.windowCreationInterval=n,o.maxWindowSize=i,o.scheduler=s,o.windows=[];var a=o.openWindow();if(null!==n&&n>=0){var g={subscriber:o,window:a,context:null},A={windowTimeSpan:r,windowCreationInterval:n,subscriber:o,scheduler:s};o.add(s.schedule(ni,r,g)),o.add(s.schedule(ri,n,A))}else{var u={subscriber:o,window:a,windowTimeSpan:r};o.add(s.schedule(ti,r,u))}return o}return n.b(t,e),t.prototype._next=function(e){for(var t=this.windows,r=t.length,n=0;n<r;n++){var i=t[n];i.closed||(i.next(e),i.numberOfNextedValues>=this.maxWindowSize&&this.closeWindow(i))}},t.prototype._error=function(e){for(var t=this.windows;t.length>0;)t.shift().error(e);this.destination.error(e)},t.prototype._complete=function(){for(var e=this.windows;e.length>0;){var t=e.shift();t.closed||t.complete()}this.destination.complete()},t.prototype.openWindow=function(){var e=new Xn;return this.windows.push(e),this.destination.next(e),e},t.prototype.closeWindow=function(e){e.complete();var t=this.windows;t.splice(t.indexOf(e),1)},t}(d.a);function ti(e){var t=e.subscriber,r=e.windowTimeSpan,n=e.window;n&&t.closeWindow(n),e.window=t.openWindow(),this.schedule(e,r)}function ri(e){var t=e.windowTimeSpan,r=e.subscriber,n=e.scheduler,i=e.windowCreationInterval,s=r.openWindow(),o={action:this,subscription:null},a={subscriber:r,window:s,context:o};o.subscription=n.schedule(ni,t,a),this.add(o.subscription),this.schedule(e,i)}function ni(e){var t=e.subscriber,r=e.window,n=e.context;n&&n.action&&n.subscription&&n.action.remove(n.subscription),t.closeWindow(r)}function ii(e,t){return function(r){return r.lift(new si(e,t))}}var si=function(){function e(e,t){this.openings=e,this.closingSelector=t}return e.prototype.call=function(e,t){return t.subscribe(new oi(e,this.openings,this.closingSelector))},e}(),oi=function(e){function t(t,r,n){var i=e.call(this,t)||this;return i.openings=r,i.closingSelector=n,i.contexts=[],i.add(i.openSubscription=Object(s.a)(i,r,r)),i}return n.b(t,e),t.prototype._next=function(e){var t=this.contexts;if(t)for(var r=t.length,n=0;n<r;n++)t[n].window.next(e)},t.prototype._error=function(t){var r=this.contexts;if(this.contexts=null,r)for(var n=r.length,i=-1;++i<n;){var s=r[i];s.window.error(t),s.subscription.unsubscribe()}e.prototype._error.call(this,t)},t.prototype._complete=function(){var t=this.contexts;if(this.contexts=null,t)for(var r=t.length,n=-1;++n<r;){var i=t[n];i.window.complete(),i.subscription.unsubscribe()}e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){var e=this.contexts;if(this.contexts=null,e)for(var t=e.length,r=-1;++r<t;){var n=e[r];n.window.unsubscribe(),n.subscription.unsubscribe()}},t.prototype.notifyNext=function(e,t,r,n,i){if(e===this.openings){var o=void 0;try{o=(0,this.closingSelector)(t)}catch(e){return this.error(e)}var a=new nr.a,g=new S.a,A={window:a,subscription:g};this.contexts.push(A);var u=Object(s.a)(this,o,A);u.closed?this.closeWindow(this.contexts.length-1):(u.context=A,g.add(u)),this.destination.next(a)}else this.closeWindow(this.contexts.indexOf(e))},t.prototype.notifyError=function(e){this.error(e)},t.prototype.notifyComplete=function(e){e!==this.openSubscription&&this.closeWindow(this.contexts.indexOf(e.context))},t.prototype.closeWindow=function(e){if(-1!==e){var t=this.contexts,r=t[e],n=r.window,i=r.subscription;t.splice(e,1),n.complete(),i.unsubscribe()}},t}(i.a);function ai(e){return function(t){return t.lift(new gi(e))}}var gi=function(){function e(e){this.closingSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new Ai(e,this.closingSelector))},e}(),Ai=function(e){function t(t,r){var n=e.call(this,t)||this;return n.destination=t,n.closingSelector=r,n.openWindow(),n}return n.b(t,e),t.prototype.notifyNext=function(e,t,r,n,i){this.openWindow(i)},t.prototype.notifyError=function(e,t){this._error(e)},t.prototype.notifyComplete=function(e){this.openWindow(e)},t.prototype._next=function(e){this.window.next(e)},t.prototype._error=function(e){this.window.error(e),this.destination.error(e),this.unsubscribeClosingNotification()},t.prototype._complete=function(){this.window.complete(),this.destination.complete(),this.unsubscribeClosingNotification()},t.prototype.unsubscribeClosingNotification=function(){this.closingNotification&&this.closingNotification.unsubscribe()},t.prototype.openWindow=function(e){void 0===e&&(e=null),e&&(this.remove(e),e.unsubscribe());var t=this.window;t&&t.complete();var r,n=this.window=new nr.a;this.destination.next(n);try{r=(0,this.closingSelector)()}catch(e){return this.destination.error(e),void this.window.error(e)}this.add(this.closingNotification=Object(s.a)(this,r))},t}(i.a);function ui(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){var r;"function"==typeof e[e.length-1]&&(r=e.pop());var n=e;return t.lift(new Ii(n,r))}}var Ii=function(){function e(e,t){this.observables=e,this.project=t}return e.prototype.call=function(e,t){return t.subscribe(new Ci(e,this.observables,this.project))},e}(),Ci=function(e){function t(t,r,n){var i=e.call(this,t)||this;i.observables=r,i.project=n,i.toRespond=[];var o=r.length;i.values=new Array(o);for(var a=0;a<o;a++)i.toRespond.push(a);for(a=0;a<o;a++){var g=r[a];i.add(Object(s.a)(i,g,g,a))}return i}return n.b(t,e),t.prototype.notifyNext=function(e,t,r,n,i){this.values[r]=t;var s=this.toRespond;if(s.length>0){var o=s.indexOf(r);-1!==o&&s.splice(o,1)}},t.prototype.notifyComplete=function(){},t.prototype._next=function(e){if(0===this.toRespond.length){var t=[e].concat(this.values);this.project?this._tryProject(t):this.destination.next(t)}},t.prototype._tryProject=function(e){var t;try{t=this.project.apply(this,e)}catch(e){return void this.destination.error(e)}this.destination.next(t)},t}(i.a),li=r(187);function ci(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return t.lift.call(li.b.apply(void 0,[t].concat(e)))}}function di(e){return function(t){return t.lift(new li.a(e))}}r.d(t,"audit",(function(){return o})),r.d(t,"auditTime",(function(){return I})),r.d(t,"buffer",(function(){return C})),r.d(t,"bufferCount",(function(){return h})),r.d(t,"bufferTime",(function(){return y})),r.d(t,"bufferToggle",(function(){return D})),r.d(t,"bufferWhen",(function(){return E})),r.d(t,"catchError",(function(){return R})),r.d(t,"combineAll",(function(){return H})),r.d(t,"combineLatest",(function(){return z})),r.d(t,"concat",(function(){return G})),r.d(t,"concatAll",(function(){return q.a})),r.d(t,"concatMap",(function(){return K})),r.d(t,"concatMapTo",(function(){return Z})),r.d(t,"count",(function(){return J})),r.d(t,"debounce",(function(){return X})),r.d(t,"debounceTime",(function(){return re})),r.d(t,"defaultIfEmpty",(function(){return oe})),r.d(t,"delay",(function(){return Ie})),r.d(t,"delayWhen",(function(){return he})),r.d(t,"dematerialize",(function(){return ye})),r.d(t,"distinct",(function(){return we})),r.d(t,"distinctUntilChanged",(function(){return Oe})),r.d(t,"distinctUntilKeyChanged",(function(){return Te})),r.d(t,"elementAt",(function(){return Be})),r.d(t,"endWith",(function(){return We})),r.d(t,"every",(function(){return Ge})),r.d(t,"exhaust",(function(){return Ke})),r.d(t,"exhaustMap",(function(){return Qe})),r.d(t,"expand",(function(){return tt})),r.d(t,"filter",(function(){return Ee.a})),r.d(t,"finalize",(function(){return it})),r.d(t,"find",(function(){return at})),r.d(t,"findIndex",(function(){return ut})),r.d(t,"first",(function(){return Ct})),r.d(t,"groupBy",(function(){return lt.b})),r.d(t,"ignoreElements",(function(){return ct})),r.d(t,"isEmpty",(function(){return ft})),r.d(t,"last",(function(){return vt})),r.d(t,"map",(function(){return $e.a})),r.d(t,"mapTo",(function(){return wt})),r.d(t,"materialize",(function(){return Ot})),r.d(t,"max",(function(){return jt})),r.d(t,"merge",(function(){return Yt})),r.d(t,"mergeAll",(function(){return Nt.a})),r.d(t,"mergeMap",(function(){return V.a})),r.d(t,"flatMap",(function(){return V.a})),r.d(t,"mergeMapTo",(function(){return Ut})),r.d(t,"mergeScan",(function(){return Ht})),r.d(t,"min",(function(){return zt})),r.d(t,"multicast",(function(){return Gt})),r.d(t,"observeOn",(function(){return Vt.b})),r.d(t,"onErrorResumeNext",(function(){return Kt})),r.d(t,"pairwise",(function(){return $t})),r.d(t,"partition",(function(){return tr})),r.d(t,"pluck",(function(){return rr})),r.d(t,"publish",(function(){return ir})),r.d(t,"publishBehavior",(function(){return or})),r.d(t,"publishLast",(function(){return gr})),r.d(t,"publishReplay",(function(){return ur})),r.d(t,"race",(function(){return Cr})),r.d(t,"reduce",(function(){return xt})),r.d(t,"repeat",(function(){return lr})),r.d(t,"repeatWhen",(function(){return hr})),r.d(t,"retry",(function(){return mr})),r.d(t,"retryWhen",(function(){return br})),r.d(t,"refCount",(function(){return kr.a})),r.d(t,"sample",(function(){return Mr})),r.d(t,"sampleTime",(function(){return Dr})),r.d(t,"scan",(function(){return Tt})),r.d(t,"sequenceEqual",(function(){return Pr})),r.d(t,"share",(function(){return Nr})),r.d(t,"shareReplay",(function(){return Ur})),r.d(t,"single",(function(){return Hr})),r.d(t,"skip",(function(){return zr})),r.d(t,"skipLast",(function(){return qr})),r.d(t,"skipUntil",(function(){return Zr})),r.d(t,"skipWhile",(function(){return Qr})),r.d(t,"startWith",(function(){return tn})),r.d(t,"subscribeOn",(function(){return on})),r.d(t,"switchAll",(function(){return In})),r.d(t,"switchMap",(function(){return gn})),r.d(t,"switchMapTo",(function(){return Cn})),r.d(t,"take",(function(){return Ue})),r.d(t,"takeLast",(function(){return _t})),r.d(t,"takeUntil",(function(){return ln})),r.d(t,"takeWhile",(function(){return hn})),r.d(t,"tap",(function(){return yn})),r.d(t,"throttle",(function(){return kn})),r.d(t,"throttleTime",(function(){return Sn})),r.d(t,"throwIfEmpty",(function(){return xe})),r.d(t,"timeInterval",(function(){return Pn})),r.d(t,"timeout",(function(){return Hn})),r.d(t,"timeoutWith",(function(){return Rn})),r.d(t,"timestamp",(function(){return Fn})),r.d(t,"toArray",(function(){return Wn})),r.d(t,"window",(function(){return Gn})),r.d(t,"windowCount",(function(){return Kn})),r.d(t,"windowTime",(function(){return $n})),r.d(t,"windowToggle",(function(){return ii})),r.d(t,"windowWhen",(function(){return ai})),r.d(t,"withLatestFrom",(function(){return ui})),r.d(t,"zip",(function(){return ci})),r.d(t,"zipAll",(function(){return di}))},function(e,t,r){"use strict";r.r(t);var n=r(16),i=r(247),s=r(233),o=r(109),a=r(37),g=r(248),A=r(182),u=r(128),I=r(193),C=r(45),l=r(256),c=r(6),d=r(129),h=function(e){function t(t,r){var n=e.call(this,t,r)||this;return n.scheduler=t,n.work=r,n}return c.b(t,e),t.prototype.requestAsyncId=function(t,r,n){return void 0===n&&(n=0),null!==n&&n>0?e.prototype.requestAsyncId.call(this,t,r,n):(t.actions.push(this),t.scheduled||(t.scheduled=requestAnimationFrame((function(){return t.flush(null)}))))},t.prototype.recycleAsyncId=function(t,r,n){if(void 0===n&&(n=0),null!==n&&n>0||null===n&&this.delay>0)return e.prototype.recycleAsyncId.call(this,t,r,n);0===t.actions.length&&(cancelAnimationFrame(r),t.scheduled=void 0)},t}(d.a),f=r(127),p=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return c.b(t,e),t.prototype.flush=function(e){this.active=!0,this.scheduled=void 0;var t,r=this.actions,n=-1,i=r.length;e=e||r.shift();do{if(t=e.execute(e.state,e.delay))break}while(++n<i&&(e=r.shift()));if(this.active=!1,t){for(;++n<i&&(e=r.shift());)e.unsubscribe();throw t}},t}(f.a))(h),m=function(e){function t(t,r){void 0===t&&(t=_),void 0===r&&(r=Number.POSITIVE_INFINITY);var n=e.call(this,t,(function(){return n.frame}))||this;return n.maxFrames=r,n.frame=0,n.index=-1,n}return c.b(t,e),t.prototype.flush=function(){for(var e,t,r=this.actions,n=this.maxFrames;(t=r[0])&&t.delay<=n&&(r.shift(),this.frame=t.delay,!(e=t.execute(t.state,t.delay))););if(e){for(;t=r.shift();)t.unsubscribe();throw e}},t.frameTimeFactor=10,t}(f.a),_=function(e){function t(t,r,n){void 0===n&&(n=t.index+=1);var i=e.call(this,t,r)||this;return i.scheduler=t,i.work=r,i.index=n,i.active=!0,i.index=t.index=n,i}return c.b(t,e),t.prototype.schedule=function(r,n){if(void 0===n&&(n=0),!this.id)return e.prototype.schedule.call(this,r,n);this.active=!1;var i=new t(this.scheduler,this.work);return this.add(i),i.schedule(r,n)},t.prototype.requestAsyncId=function(e,r,n){void 0===n&&(n=0),this.delay=e.frame+n;var i=e.actions;return i.push(this),i.sort(t.sortActions),!0},t.prototype.recycleAsyncId=function(e,t,r){void 0===r&&(r=0)},t.prototype._execute=function(t,r){if(!0===this.active)return e.prototype._execute.call(this,t,r)},t.sortActions=function(e,t){return e.delay===t.delay?e.index===t.index?0:e.index>t.index?1:-1:e.delay>t.delay?1:-1},t}(d.a),y=r(211),b=r(30),v=r(10),w=r(95),k=r(163),M=r(87),O=r(98);function S(e){return!!e&&(e instanceof n.a||"function"==typeof e.lift&&"function"==typeof e.subscribe)}var D=r(120),T=r(125),L=r(110),E=r(169),P=r(250),x=r(56),j=r(189),R=r(40),Y=r(61);function N(e,t,r){if(t){if(!Object(Y.a)(t))return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return N(e,r).apply(void 0,n).pipe(Object(x.a)((function(e){return Object(R.a)(e)?t.apply(void 0,e):t(e)})))};r=t}return function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];var s,o=this,a={context:o,subject:s,callbackFunc:e,scheduler:r};return new n.a((function(n){if(r){var i={args:t,subscriber:n,params:a};return r.schedule(U,0,i)}if(!s){s=new u.a;try{e.apply(o,t.concat([function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];s.next(e.length<=1?e[0]:e),s.complete()}]))}catch(e){Object(j.a)(s)?s.error(e):console.warn(e)}}return s.subscribe(n)}))}}function U(e){var t=this,r=e.args,n=e.subscriber,i=e.params,s=i.callbackFunc,o=i.context,a=i.scheduler,g=i.subject;if(!g){g=i.subject=new u.a;try{s.apply(o,r.concat([function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var n=e.length<=1?e[0]:e;t.add(a.schedule(H,0,{value:n,subject:g}))}]))}catch(e){g.error(e)}}this.add(g.subscribe(n))}function H(e){var t=e.value,r=e.subject;r.next(t),r.complete()}function F(e,t,r){if(t){if(!Object(Y.a)(t))return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return F(e,r).apply(void 0,n).pipe(Object(x.a)((function(e){return Object(R.a)(e)?t.apply(void 0,e):t(e)})))};r=t}return function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];var s={subject:void 0,args:t,callbackFunc:e,scheduler:r,context:this};return new n.a((function(n){var i=s.context,o=s.subject;if(r)return r.schedule(B,0,{params:s,subscriber:n,context:i});if(!o){o=s.subject=new u.a;try{e.apply(i,t.concat([function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=e.shift();r?o.error(r):(o.next(e.length<=1?e[0]:e),o.complete())}]))}catch(e){Object(j.a)(o)?o.error(e):console.warn(e)}}return o.subscribe(n)}))}}function B(e){var t=this,r=e.params,n=e.subscriber,i=e.context,s=r.callbackFunc,o=r.args,a=r.scheduler,g=r.subject;if(!g){g=r.subject=new u.a;try{s.apply(i,o.concat([function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var n=e.shift();if(n)t.add(a.schedule(W,0,{err:n,subject:g}));else{var i=e.length<=1?e[0]:e;t.add(a.schedule(z,0,{value:i,subject:g}))}}]))}catch(e){this.add(a.schedule(W,0,{err:e,subject:g}))}}this.add(g.subscribe(n))}function z(e){var t=e.value,r=e.subject;r.next(t),r.complete()}function W(e){var t=e.err;e.subject.error(t)}var G=r(184),q=r(142),V=r(186),K=r(64),Z=r(188),J=r(65);function $(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(1===e.length){var r=e[0];if(Object(R.a)(r))return Q(r,null);if(Object(Z.a)(r)&&Object.getPrototypeOf(r)===Object.prototype){var n=Object.keys(r);return Q(n.map((function(e){return r[e]})),n)}}if("function"==typeof e[e.length-1]){var i=e.pop();return Q(e=1===e.length&&Object(R.a)(e[0])?e[0]:e,null).pipe(Object(x.a)((function(e){return i.apply(void 0,e)})))}return Q(e,null)}function Q(e,t){return new n.a((function(r){var n=e.length;if(0!==n)for(var i=new Array(n),s=0,o=0,a=function(a){var g=Object(J.a)(e[a]),A=!1;r.add(g.subscribe({next:function(e){A||(A=!0,o++),i[a]=e},error:function(e){return r.error(e)},complete:function(){++s!==n&&A||(o===n&&r.next(t?t.reduce((function(e,t,r){return e[t]=i[r],e}),{}):i),r.complete())}}))},g=0;g<n;g++)a(g);else r.complete()}))}var X=r(121);function ee(e,t,r,i){return Object(X.a)(r)&&(i=r,r=void 0),i?ee(e,t,r).pipe(Object(x.a)((function(e){return Object(R.a)(e)?i.apply(void 0,e):i(e)}))):new n.a((function(n){!function e(t,r,n,i,s){var o;if(function(e){return e&&"function"==typeof e.addEventListener&&"function"==typeof e.removeEventListener}(t)){var a=t;t.addEventListener(r,n,s),o=function(){return a.removeEventListener(r,n,s)}}else if(function(e){return e&&"function"==typeof e.on&&"function"==typeof e.off}(t)){var g=t;t.on(r,n),o=function(){return g.off(r,n)}}else if(function(e){return e&&"function"==typeof e.addListener&&"function"==typeof e.removeListener}(t)){var A=t;t.addListener(r,n),o=function(){return A.removeListener(r,n)}}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(var u=0,I=t.length;u<I;u++)e(t[u],r,n,i,s)}i.add(o)}(e,t,(function(e){arguments.length>1?n.next(Array.prototype.slice.call(arguments)):n.next(e)}),n,r)}))}function te(e,t,r){return r?te(e,t).pipe(Object(x.a)((function(e){return Object(R.a)(e)?r.apply(void 0,e):r(e)}))):new n.a((function(r){var n,i=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return r.next(1===e.length?e[0]:e)};try{n=e(i)}catch(e){return void r.error(e)}if(Object(X.a)(t))return function(){return t(i,n)}}))}function re(e,t,r,i,s){var o,a;if(1==arguments.length){var g=e;a=g.initialState,t=g.condition,r=g.iterate,o=g.resultSelector||O.a,s=g.scheduler}else void 0===i||Object(Y.a)(i)?(a=e,o=O.a,s=i):(a=e,o=i);return new n.a((function(e){var n=a;if(s)return s.schedule(ne,0,{subscriber:e,iterate:r,condition:t,resultSelector:o,state:n});for(;;){if(t){var i=void 0;try{i=t(n)}catch(t){return void e.error(t)}if(!i){e.complete();break}}var g=void 0;try{g=o(n)}catch(t){return void e.error(t)}if(e.next(g),e.closed)break;try{n=r(n)}catch(t){return void e.error(t)}}}))}function ne(e){var t=e.subscriber,r=e.condition;if(!t.closed){if(e.needIterate)try{e.state=e.iterate(e.state)}catch(e){return void t.error(e)}else e.needIterate=!0;if(r){var n=void 0;try{n=r(e.state)}catch(e){return void t.error(e)}if(!n)return void t.complete();if(t.closed)return}var i;try{i=e.resultSelector(e.state)}catch(e){return void t.error(e)}if(!t.closed&&(t.next(i),!t.closed))return this.schedule(e)}}function ie(e,t,r){return void 0===t&&(t=K.a),void 0===r&&(r=K.a),Object(V.a)((function(){return e()?t:r}))}var se=r(130);function oe(e,t){return void 0===e&&(e=0),void 0===t&&(t=C.a),(!Object(se.a)(e)||e<0)&&(e=0),t&&"function"==typeof t.schedule||(t=C.a),new n.a((function(r){return r.add(t.schedule(ae,e,{subscriber:r,counter:0,period:e})),r}))}function ae(e){var t=e.subscriber,r=e.counter,n=e.period;t.next(r),this.schedule({subscriber:t,counter:r+1,period:n},n)}var ge=r(252),Ae=new n.a(M.a);function ue(){return Ae}var Ie=r(150);function Ce(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(0===e.length)return K.a;var r=e[0],i=e.slice(1);return 1===e.length&&Object(R.a)(r)?Ce.apply(void 0,r):new n.a((function(e){var t=function(){return e.add(Ce.apply(void 0,i).subscribe(e))};return Object(J.a)(r).subscribe({next:function(t){e.next(t)},error:t,complete:t})}))}function le(e,t){return t?new n.a((function(r){var n=Object.keys(e),i=new b.a;return i.add(t.schedule(ce,0,{keys:n,index:0,subscriber:r,subscription:i,obj:e})),i})):new n.a((function(t){for(var r=Object.keys(e),n=0;n<r.length&&!t.closed;n++){var i=r[n];e.hasOwnProperty(i)&&t.next([i,e[i]])}t.complete()}))}function ce(e){var t=e.keys,r=e.index,n=e.subscriber,i=e.subscription,s=e.obj;if(!n.closed)if(r<t.length){var o=t[r];n.next([o,s[o]]),i.add(this.schedule({keys:t,index:r+1,subscriber:n,subscription:i,obj:s}))}else n.complete()}var de=r(261),he=r(172),fe=r(94);function pe(e,t,r){return[Object(fe.a)(t,r)(new n.a(Object(he.a)(e))),Object(fe.a)(Object(de.a)(t,r))(new n.a(Object(he.a)(e)))]}var me=r(253);function _e(e,t,r){return void 0===e&&(e=0),new n.a((function(n){void 0===t&&(t=e,e=0);var i=0,s=e;if(r)return r.schedule(ye,0,{index:i,count:t,start:e,subscriber:n});for(;;){if(i++>=t){n.complete();break}if(n.next(s++),n.closed)break}}))}function ye(e){var t=e.start,r=e.index,n=e.count,i=e.subscriber;r>=n?i.complete():(i.next(t),i.closed||(e.index=r+1,e.start=t+1,this.schedule(e)))}var be=r(183),ve=r(254);function we(e,t){return new n.a((function(r){var n,i;try{n=e()}catch(e){return void r.error(e)}try{i=t(n)}catch(e){return void r.error(e)}var s=(i?Object(J.a)(i):K.a).subscribe(r);return function(){s.unsubscribe(),n&&n.unsubscribe()}}))}var ke=r(187),Me=r(255),Oe=r(83);r.d(t,"Observable",(function(){return n.a})),r.d(t,"ConnectableObservable",(function(){return i.a})),r.d(t,"GroupedObservable",(function(){return s.a})),r.d(t,"observable",(function(){return o.a})),r.d(t,"Subject",(function(){return a.a})),r.d(t,"BehaviorSubject",(function(){return g.a})),r.d(t,"ReplaySubject",(function(){return A.a})),r.d(t,"AsyncSubject",(function(){return u.a})),r.d(t,"asapScheduler",(function(){return I.a})),r.d(t,"asyncScheduler",(function(){return C.a})),r.d(t,"queueScheduler",(function(){return l.a})),r.d(t,"animationFrameScheduler",(function(){return p})),r.d(t,"VirtualTimeScheduler",(function(){return m})),r.d(t,"VirtualAction",(function(){return _})),r.d(t,"Scheduler",(function(){return y.a})),r.d(t,"Subscription",(function(){return b.a})),r.d(t,"Subscriber",(function(){return v.a})),r.d(t,"Notification",(function(){return w.a})),r.d(t,"NotificationKind",(function(){return w.b})),r.d(t,"pipe",(function(){return k.a})),r.d(t,"noop",(function(){return M.a})),r.d(t,"identity",(function(){return O.a})),r.d(t,"isObservable",(function(){return S})),r.d(t,"ArgumentOutOfRangeError",(function(){return D.a})),r.d(t,"EmptyError",(function(){return T.a})),r.d(t,"ObjectUnsubscribedError",(function(){return L.a})),r.d(t,"UnsubscriptionError",(function(){return E.a})),r.d(t,"TimeoutError",(function(){return P.a})),r.d(t,"bindCallback",(function(){return N})),r.d(t,"bindNodeCallback",(function(){return F})),r.d(t,"combineLatest",(function(){return G.b})),r.d(t,"concat",(function(){return q.a})),r.d(t,"defer",(function(){return V.a})),r.d(t,"empty",(function(){return K.b})),r.d(t,"forkJoin",(function(){return $})),r.d(t,"from",(function(){return J.a})),r.d(t,"fromEvent",(function(){return ee})),r.d(t,"fromEventPattern",(function(){return te})),r.d(t,"generate",(function(){return re})),r.d(t,"iif",(function(){return ie})),r.d(t,"interval",(function(){return oe})),r.d(t,"merge",(function(){return ge.a})),r.d(t,"never",(function(){return ue})),r.d(t,"of",(function(){return Ie.a})),r.d(t,"onErrorResumeNext",(function(){return Ce})),r.d(t,"pairs",(function(){return le})),r.d(t,"partition",(function(){return pe})),r.d(t,"race",(function(){return me.a})),r.d(t,"range",(function(){return _e})),r.d(t,"throwError",(function(){return be.a})),r.d(t,"timer",(function(){return ve.a})),r.d(t,"using",(function(){return we})),r.d(t,"zip",(function(){return ke.b})),r.d(t,"scheduled",(function(){return Me.a})),r.d(t,"EMPTY",(function(){return K.a})),r.d(t,"NEVER",(function(){return Ae})),r.d(t,"config",(function(){return Oe.a}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.lifecycleEvents=void 0;var n=u(r(43)),i=u(r(397)),s=u(r(228)),o=u(r(640)),a=u(r(33)),g=u(r(269)),A=r(268);function u(e){return e&&e.__esModule?e:{default:e}}
/*!
 * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */const I={enabled:"enabled",disabled:"disabled"};t.lifecycleEvents=I;const C=Object.keys(I).map(e=>I[e]),l=Object.freeze({NOT_INITIALIZED:Symbol("NOT_INITIALIZED"),ENABLING:Symbol("ENABLING"),ENABLED:Symbol("ENABLED"),DISABLED:Symbol("DISABLED")});class c extends g.default{constructor(e,t,r){super(C),this.name=e,this.loadingTime=0,this.loadingTimeSync=0,this.settings=t,this._browser=r,this._bgReadyDefer=new s.default,this._state=l.NOT_INITIALIZED,this._stat={init:0,load:0}}get providedServices(){return this._services?this._services:(this._services=Object.create(null),Object.keys(this.backgroundModule.providesServices||{}).forEach(e=>{const t=this.backgroundModule.providesServices[e];this._services[e]=new o.default(t)}),this._services)}get requiredServices(){return this.backgroundModule.requiresServices||[]}isReady(){return this._bgReadyDefer.promise}get _module(){return i.default[this.name]||{}}get backgroundModule(){return this._module}get isNotInitialized(){return this._state===l.NOT_INITIALIZED}get isEnabled(){return this._state===l.ENABLED}get isEnabling(){return this._state===l.ENABLING}get isDisabled(){return this._state===l.DISABLED}markAsEnabling(){this.isEnabling||(this._state=l.ENABLING,this._bgReadyDefer=new s.default)}markAsDisabled(){this._state=l.DISABLED,this._bgReadyDefer.reject(new A.ModuleDisabledError(this.name))}enable(){n.default.log("Module",this.name,"start loading"),this.markAsEnabling();const e=Date.now();return Promise.resolve(this.backgroundModule).then(e=>{this.background=e;const t=Date.now(),r=e.init(this.settings,this._browser);return this.loadingTimeSync=Date.now()-t,r}).then(()=>{this._state=l.ENABLED,this.loadingTime=Date.now()-e,n.default.log("Module: ",this.name," -- loaded"),this._bgReadyDefer.resolve(),this.emit(I.enabled)}).catch(e=>{throw this._state=l.DISABLED,this._bgReadyDefer.reject(e),e})}disable(){n.default.log("Module",this.name,"start unloading");const e=this.background;e&&e.unload(),this._state=l.DISABLED,this.loadingTime=null,this._bgReadyDefer=new s.default,n.default.log("Module",this.name,"unloading finished"),this.emit(I.disabled)}status(){return{name:this.name,isEnabled:this.isEnabled||this.isEnabling,loadingTime:this.loadingTime,loadingTimeSync:this.loadingTimeSync,state:this.isEnabled&&this.backgroundModule.getState&&this.backgroundModule.getState()}}action(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return a.default.module(this.name).action(e,...r)}}t.default=c},,function(e,t,r){"use strict";
/*!
 * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */e.exports={App:r(314).default,config:r(28).default}},function(e,t,r){"use strict";var n=r(220),i=r(62),s=r(7),o=r(78),a=r(76),g=r(195);
/*!
 * Copyright (c) 2017-2019 Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */
function A(e,t){if(0===e.length)return"";for(var r=[],n=" { "+t+" }",i=0;i<e.length;i+=1024){for(var s=e[i],o=i+1,a=Math.min(e.length,i+1024);o<a;o+=1)s+=",\n"+e[o];if(s+=n,e.length<1024)return s;r.push(s)}return r.join("\n")}function u(e){for(var t=new Map,r=0;r<e.length;r+=1){var n=e[r],i=n.getStyle();void 0===(a=t.get(i))?t.set(i,[n.getSelector()]):a.push(n.getSelector())}var s=[],o=Array.from(t.entries());for(r=0;r<o.length;r+=1){i=o[r][0];var a=o[r][1];s.push(A(a,i))}return s.join("\n\n")}function I(e){for(var t=[],r=0;r<e.length;r+=1){var n=e[r];if(n.hasCustomStyle())return u(e);t.push(n.selector)}return A(t,i.a)}function C(e,t){for(var r=Object(i.d)(e,t),n=Object(i.c)(e,t),s=new Uint32Array(r.length+n.length),o=0,a=0;a<r.length;a+=1)s[o++]=r[a];for(a=0;a<n.length;a+=1)s[o++]=n[a];return s}var l=function(){function e(e){var t=e.filters,r=void 0===t?[]:t,n=e.config;this.genericRules=new g.a({config:n,deserialize:i.b.deserialize,filters:[]}),this.classesIndex=new a.a({config:n,deserialize:i.b.deserialize,filters:[],optimize:o.a}),this.hostnameIndex=new a.a({config:n,deserialize:i.b.deserialize,filters:[],optimize:o.a}),this.hrefsIndex=new a.a({config:n,deserialize:i.b.deserialize,filters:[],optimize:o.a}),this.htmlIndex=new a.a({config:n,deserialize:i.b.deserialize,filters:[],optimize:o.a}),this.idsIndex=new a.a({config:n,deserialize:i.b.deserialize,filters:[],optimize:o.a}),this.unhideIndex=new a.a({config:n,deserialize:i.b.deserialize,filters:[],optimize:o.a}),this.baseStylesheet=null,this.extraGenericRules=null,0!==r.length&&this.update(r,void 0)}return e.deserialize=function(t,r){var n=new e({config:r});return n.genericRules=g.a.deserialize(t,i.b.deserialize,r),n.classesIndex=a.a.deserialize(t,i.b.deserialize,o.a,r),n.hostnameIndex=a.a.deserialize(t,i.b.deserialize,o.a,r),n.hrefsIndex=a.a.deserialize(t,i.b.deserialize,o.a,r),n.htmlIndex=a.a.deserialize(t,i.b.deserialize,o.a,r),n.idsIndex=a.a.deserialize(t,i.b.deserialize,o.a,r),n.unhideIndex=a.a.deserialize(t,i.b.deserialize,o.a,r),n},e.prototype.getFilters=function(){return[].concat(this.genericRules.getFilters(),this.classesIndex.getFilters(),this.hostnameIndex.getFilters(),this.hrefsIndex.getFilters(),this.htmlIndex.getFilters(),this.idsIndex.getFilters(),this.unhideIndex.getFilters())},e.prototype.update=function(e,t){for(var r=[],n=[],i=[],s=[],o=[],a=[],g=[],A=0;A<e.length;A+=1){var u=e[A];u.isUnhide()?g.push(u):u.isHtmlFiltering()?o.push(u):u.isGenericHide()?u.isClassSelector()?r.push(u):u.isIdSelector()?a.push(u):u.isHrefSelector()?s.push(u):n.push(u):i.push(u)}this.genericRules.update(n,t),this.classesIndex.update(r,t),this.hostnameIndex.update(i,t),this.hrefsIndex.update(s,t),this.htmlIndex.update(o,t),this.idsIndex.update(a,t),this.unhideIndex.update(g,t)},e.prototype.getSerializedSize=function(){return this.genericRules.getSerializedSize()+this.classesIndex.getSerializedSize()+this.hostnameIndex.getSerializedSize()+this.hrefsIndex.getSerializedSize()+this.htmlIndex.getSerializedSize()+this.idsIndex.getSerializedSize()+this.unhideIndex.getSerializedSize()},e.prototype.serialize=function(e){this.genericRules.serialize(e),this.classesIndex.serialize(e),this.hostnameIndex.serialize(e),this.hrefsIndex.serialize(e),this.htmlIndex.serialize(e),this.idsIndex.serialize(e),this.unhideIndex.serialize(e)},e.prototype.getHtmlRules=function(e){var t=e.domain,r=e.hostname,n=C(r,t),i=[];this.htmlIndex.iterMatchingFilters(n,(function(e){return e.match(r,t)&&i.push(e),!0}));var s=new Set;return 0!==i.length&&this.unhideIndex.iterMatchingFilters(n,(function(e){return e.match(r,t)&&s.add(e.getSelector()),!0})),i.filter((function(e){return 0===s.size||!1===s.has(e.getSelector())}))},e.prototype.getCosmeticsFilters=function(e){var t=e.domain,r=e.hostname,i=e.classes,o=void 0===i?[]:i,a=e.hrefs,g=void 0===a?[]:a,A=e.ids,u=void 0===A?[]:A,l=e.allowGenericHides,c=void 0===l||l,d=e.getBaseRules,h=void 0===d||d,f=e.getInjectionRules,p=void 0===f||f,m=e.getRulesFromDOM,_=void 0===m||m,y=e.getRulesFromHostname,b=void 0===y||y,v=C(r,t),w=[];if(!0===b&&this.hostnameIndex.iterMatchingFilters(v,(function(e){return e.match(r,t)&&w.push(e),!0})),!0===c&&!0===b)for(var k=this.getGenericRules(),M=0;M<k.length;M+=1){!0===(T=k[M]).match(r,t)&&w.push(T)}!0===c&&!0===_&&0!==o.length&&this.classesIndex.iterMatchingFilters(Object(s.j)(o),(function(e){return e.match(r,t)&&w.push(e),!0})),!0===c&&!0===_&&0!==u.length&&this.idsIndex.iterMatchingFilters(Object(s.j)(u),(function(e){return e.match(r,t)&&w.push(e),!0})),!0===c&&!0===_&&0!==g.length&&this.hrefsIndex.iterMatchingFilters(Object(n.a)(Object(n.b)(g.map((function(e){return Object(s.o)(e,!1,!1)})))),(function(e){return e.match(r,t)&&w.push(e),!0}));var O=[],S=[];if(0!==w.length){var D=new Set;this.unhideIndex.iterMatchingFilters(v,(function(e){return e.match(r,t)&&D.add(e.getSelector()),!0}));for(M=0;M<w.length;M+=1){var T=w[M];0!==D.size&&D.has(T.getSelector())||(!0===p&&T.isScriptInject()?O.push(T):S.push(T))}}var L=!1===h||!1===c?"":this.getBaseStylesheet();return 0!==S.length&&(0!==L.length&&(L+="\n\n"),L+=I(S)),{injections:O,stylesheet:L}},e.prototype.getGenericRules=function(){return null===this.extraGenericRules?this.lazyPopulateGenericRulesCache().genericRules:this.extraGenericRules},e.prototype.getBaseStylesheet=function(){return null===this.baseStylesheet?this.lazyPopulateGenericRulesCache().baseStylesheet:this.baseStylesheet},e.prototype.lazyPopulateGenericRulesCache=function(){if(null===this.baseStylesheet||null===this.extraGenericRules){for(var e=this.unhideIndex.getFilters(),t=new Set,r=0;r<e.length;r+=1)t.add(e[r].getSelector());var n=this.genericRules.getFilters(),i=[],s=[];for(r=0;r<n.length;r+=1){var o=n[r];o.hasCustomStyle()||o.isScriptInject()||o.hasHostnameConstraint()||t.has(o.getSelector())?s.push(o):i.push(o)}this.baseStylesheet=I(i),this.extraGenericRules=s}return{baseStylesheet:this.baseStylesheet,genericRules:this.extraGenericRules}},e}();t.a=l},,,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.shouldEnableModule=v,t.default=void 0;var n=_(r(198)),i=_(r(28)),s=m(r(39)),o=_(r(19)),a=_(r(308)),g=r(641),A=m(r(43)),u=_(r(74)),I=_(r(133)),C=r(173),l=_(r(228)),c=r(276),d=_(r(642)),h=m(r(174)),f=_(r(643));function p(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return p=function(){return e},e}function m(e){if(e&&e.__esModule)return e;var t=p();if(t&&t.has(e))return t.get(e);var r={};if(null!=e){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var s=n?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(r,i,s):r[i]=e[i]}}return r.default=e,t&&t.set(e,r),r}function _(e){return e&&e.__esModule?e:{default:e}}function y(e,t,r,n,i,s,o){try{var a=e[s](o),g=a.value}catch(e){return void r(e)}a.done?t(g):Promise.resolve(g).then(n,i)}function b(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var s=e.apply(t,r);function o(e){y(s,n,i,o,a,"next",e)}function a(e){y(s,n,i,o,a,"throw",e)}o(void 0)}))}}function v(e){const t=`modules.${e}.enabled`;return!1!==o.default.get(t)}function w(){(0,A.isLoggingEnabled)()?((0,A.enable)(),u.default.enable()):((0,A.disable)(),u.default.disable())}t.default=class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.version,r=void 0===t?i.default.EXTENSION_VERSION:t,s=e.debug,o=e.browser,A=void 0===o?n.default:o;this.settings=(0,d.default)(i.default.settings,{version:r}),this.isFullyLoaded=!1,this.version=r,this.debug=s,this.config=i.default,this.modules=Object.create(null),this.services=Object.create(null),this._startedDefer=new l.default,i.default.modules.forEach(e=>{const t=new a.default(e,this.settings,A);"core"===e&&t.backgroundModule&&(t.backgroundModule.app=this),this.modules[e]=t,Object.assign(this.services,t.providedServices)}),(0,g.setApp)(this),this.isRunning=!1}injectHelpers(){this.events=s.default,this.prefs=o.default,this.i18n=h}extensionRestart(e){return this.unload(),e&&e(),this.load()}start(){var e=this;return b((function*(){e.isRunning=!0,e.settings.channel||(e.settings.channel=yield(0,c.getChannel)()),yield e.setupPrefs(),yield e.load(),(0,C.enableChangeEvents)(),e.injectHelpers()}))()}stop(e,t,r){this.isRunning=!1,I.default.push({type:"activity",action:r,lifecyle:"stop"},void 0,!0),t&&"40"===this.settings.channel&&(t=!1),e?this.unload():(this.unload(),(0,C.disableChangeEvents)())}get moduleList(){const e=this.modules;return Object.keys(e).map(t=>e[t])}enabledModules(){return this.moduleList.filter(e=>e.isEnabled)}setupPrefs(){var e=this;return b((function*(){const t=o.default.init||Promise.resolve.bind(Promise);yield t(),("development"===i.default.environment||e.debug)&&o.default.set("developer",!0),w(),yield(0,f.default)(),e.prefchangeEventListener=(0,s.subscribe)("prefchange",e.onPrefChange,e)}))()}prepareServices(e){var t=this;return Promise.all(e.map(function(){var e=b((function*(e){try{yield t.services[e].init(t)}catch(t){A.default.error("App","cannot load service",e,t)}}));return function(t){return e.apply(this,arguments)}}()))}unloadServices(){Object.keys(this.services).forEach(e=>{try{this.services[e].unload()}catch(e){A.default.log("App","error unloading service",e)}})}loadModule(e){return e.isEnabled||e.isEnabling?(A.default.log("App","loadModule","module already loaded"),e.isReady()):(e.markAsEnabling(),this.prepareServices(e.requiredServices).then(()=>e.enable().catch(t=>A.default.error("App","Error on loading module:",e.name,t)),e=>A.default.error("App","Error on loading services",e)))}load(){A.default.log("App","Loading modules started");const e=this.moduleList,t=e.find(e=>"core"===e.name),r=e.filter(e=>"core"!==e.name&&v(e.name));return e.filter(e=>!v(e.name)).forEach(e=>e.markAsDisabled()),this.loadModule(t).then(()=>{Promise.all(r.map(e=>this.loadModule(e))).then(()=>{A.default.log("App","Loading modules -- all loaded"),this.isFullyLoaded=!0,this._startedDefer.resolve()}).catch(e=>{A.default.error("App","Loading modules failed",e),this._startedDefer.reject(e)})})}unload(){this.prefchangeEventListener&&this.prefchangeEventListener.unsubscribe(),A.default.log("App","unload background modules"),this.enabledModules().reverse().forEach(e=>{try{A.default.log("App","unload background module: ",e.name),e.disable()}catch(t){A.default.error(`Error unloading module: ${e.name}`,t)}}),A.default.log("App","unload background modules finished"),A.default.log("App","unload services"),this.unloadServices(),A.default.log("App","unload services finished")}onPrefChange(e){if("showConsoleLogs"===e&&w(),!e.startsWith("modules."))return;const t=e.split(".");if("enabled"!==t.pop())return;const r=t.pop(),n=v(r),i=!n,s=this.modules[r];s&&(n&&s.isDisabled?this.enableModule(s.name):i&&!s.isDisabled&&this.disableModule(s.name))}enableModule(e){const t=this.modules[e],r=`modules.${e}.enabled`;return o.default.has(r)&&!0!==o.default.get(r)&&o.default.set(r,!0),t.isEnabled||!this.isRunning?Promise.resolve():t.isEnabling?t.isReady():this.loadModule(t)}disableModule(e){const t=this.modules[e],r=`modules.${e}.enabled`;return o.default.has(r)&&!1===o.default.get(r)||o.default.set(r,!1),t.isNotInitialized||t.isDisabled||!this.isRunning?Promise.resolve():t.isEnabling?t.isReady().then(()=>t.disable()):(t.disable(),Promise.resolve())}ready(){return this._startedDefer.promise}status(){const e=this.modules;return{modules:Object.keys(e).reduce((t,r)=>{const n=e[r];return t[r]=n.status(),t},Object.create(null))}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(51),i=n.window&&n.window.console||console;
/*!
 * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */t.default=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;
/*!
 * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */
var n="undefined"!=typeof window?window:{};t.default=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.init=function(){return new Promise(e=>{s.chrome.storage.local.get([a],t=>{Object.assign(A,t[a]||{}),g=!0,e()})})},t.getAllCliqzPrefs=l,t.getPref=c,t.setPref=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(null!==r){if(s.browser&&s.browser.cliqz&&s.browser.cliqz.setPref)return s.browser.cliqz.setPref(`${r}${e}`,t);i.default.warn(`setting pref ${r}${e} with browser prefix when chrome.cliqz is not available (ignored)`)}const o=C(e),a=A[o]!==t;A[o]=t,a&&n.default.pub("prefchange",o,"set");if(!g)return i.default.warn(`setting pref ${o} before prefs were initialised, you will not get the correct result`),Promise.resolve();a&&I();return Promise.resolve()},t.hasPref=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null!==t)return s.browser&&s.browser.cliqz&&s.browser.cliqz.hasPref?s.browser.cliqz.hasPref(`${t}${e}`):(i.default.warn(`getting pref ${t}${e} with browser prefix when chrome.cliqz is not available (ignored)`),!1);return C(e)in A},t.clearPref=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null!==t)return s.browser&&s.browser.cliqz&&s.browser.cliqz.clearPref?s.browser.cliqz.clearPref(`${t}${e}`):(i.default.warn(`getting pref ${t}${e} with browser prefix when chrome.cliqz is not available (ignored)`),!1);const r=C(e);return delete A[r],n.default.pub("prefchange",r,"clear"),I(),!0},t.getCliqzPrefs=function(){const e={},t=l().filter((function(e){return-1===e.indexOf(".")&&-1===e.indexOf("backup")&&-1===e.indexOf("attrackSourceDomainWhitelist")||-1!==e.indexOf(".enabled")}));for(let r=0;r<t.length;r+=1)e[t[r]]=c(t[r]);return e},t.PLATFORM_TELEMETRY_WHITELIST=void 0;var n=o(r(39)),i=o(r(43)),s=r(51);function o(e){return e&&e.__esModule?e:{default:e}}
/*!
 * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */const a="cliqzprefs";let g=!1;const A={},u=void 0===s.chrome||void 0===s.chrome.cliqz?[]:["pref.cliqz.blue.theme","pref.search.quicksearch.enabled","searchui.cards.layout"];function I(){s.chrome.storage.local.set({[a]:A})}function C(e){return e.startsWith("extensions.cliqz.")?e.substr("extensions.cliqz.".length):e}function l(){return Object.keys(A)}function c(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(null!==r)return s.browser&&s.browser.cliqz&&s.browser.cliqz.getPref?s.browser.cliqz.getPref(`${r}${e}`):(i.default.warn(`getting pref ${r}${e} with browser prefix when chrome.cliqz is not available (ignored)`),t);const n=C(e);return g?A&&void 0!==A[n]?A[n]:t:(i.default.warn(`loading pref ${n} before prefs were initialised, you will not get the correct result`),A[n]||t)}t.PLATFORM_TELEMETRY_WHITELIST=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.checkIsWindowActive=
/*!
 * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */
function(e){const t=Number(e);return isNaN(t)||t<0?Promise.resolve(!1):new Promise(e=>{n.chrome.tabs.get(t,()=>{n.chrome.runtime.lastError?e(!1):e(!0)})})},t.default=void 0;var n=r(51);var i=n.chrome&&n.chrome.windows||void 0;t.default=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=g(r(43)),i=g(r(174)),s=g(r(19)),o=r(73),a=g(r(44));function g(e){return e&&e.__esModule?e:{default:e}}function A(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const I=JSON.stringify(["de,en","de","en","en,de","fr","fr,en","en,fr","nl","es","en,es","en,nl","de,fr","de,es","nl,en","de,ru","it","en,ru","en,it","en,zh","es,en"]),C={DOMAIN_THRESHOLD:3,READING_THRESHOLD:1e4,LOG_KEY:"CliqzLanguage",LOCALE_HASH:333,currentState:{},qs:"",cron:864e5,removeHashId:null,getLocale:()=>i.default.PLATFORM_LANGUAGE_FILTERED,init(e){if(C.window=e,null===this.removeHashId&&(this.removeHashId=a.default.everyHour(this.updateTicker.bind(this))),s.default.has("extensions.cliqz-lang.data"))try{C.currentState=JSON.parse(s.default.get("extensions.cliqz-lang.data",{}))}catch(e){}const t=[];let r=0;if(Object.keys(C.currentState).forEach(e=>{"locale"!==C.currentState[e]&&-1===C.currentState[e].indexOf(257)||t.push(e),C.currentState[e]instanceof Array&&(r=Math.max(r,C.currentState[e].length))}),t.length){const e=Math.max(C.DOMAIN_THRESHOLD+1,r);var i=!0,o=!1,g=void 0;try{for(var A,u=t[Symbol.iterator]();!(i=(A=u.next()).done);i=!0){const t=A.value,r=C.currentState[t];"locale"===r?C.currentState[t]=C.createHashes(e):r.length<e&&(C.currentState[t]=C.createHashes(e)),C.currentState[t][0]=C.LOCALE_HASH}}catch(e){o=!0,g=e}finally{try{i||null==u.return||u.return()}finally{if(o)throw g}}}const I=C.getLocale();I&&null===C.currentState[I]&&(C.currentState[I]=C.createHashes(C.DOMAIN_THRESHOLD+1),C.currentState[I][0]=C.LOCALE_HASH),C.cleanCurrentState(),n.default.log(C.stateToQueryString(),C.LOG_KEY)},unload(){a.default.clearTimeout(this.removeHashId),this.removeHashId=null},updateTicker(){let e=0;if(s.default.has("extensions.cliqz-lang.lastUpdate"))try{e=parseInt(s.default.get("extensions.cliqz-lang.lastUpdate",0),10)}catch(t){e=0}const t=Date.now();t>this.cron+e&&(this.removeHash(),s.default.set("extensions.cliqz-lang.lastUpdate",String(t)))},createHashes(e){const t=[];let r=0;for(;r<e;){const e=Math.floor(512*Math.random())-256;-1===t.indexOf(e)&&(t.push(e),r+=1)}return t},addLocale(e,t){const r=C.normalizeLocale(t);if(""===r||null==r||2!==r.length)return;if(""===e||null==e)return;const i=C.hashCode((0,o.cleanUrlProtocol)(e,!0).split("/")[0])%256;C.currentState[r]||(C.currentState[r]=[]),-1===C.currentState[r].indexOf(i)&&(C.currentState[r].push(i),n.default.log(`Saving: ${r} ${i}`,`${C.LOG_KEY} for url ${e}`),C.saveCurrentState())},removeHash(){let e=!1;Object.keys(C.currentState).forEach(t=>{if(C.currentState[t].length>C.DOMAIN_THRESHOLD+1){if(Math.random()<=.05){const r=Math.floor(Math.random()*C.currentState[t].length);C.currentState[t][r]!==C.LOCALE_HASH&&(e||(e=!e),n.default.log(`Removing hash ${C.currentState[t][r]} for the language ${t}`),C.currentState[t].splice(r,1))}}}),e&&C.saveCurrentState()},hashCode:e=>e.split("").reduce((e,t)=>{const r=(e<<5)-e+t.charCodeAt(0);return r&r},0),normalizeLocale:e=>e?e.split(/-|_/)[0].trim().toLowerCase():e,state(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=[];return Object.keys(C.currentState).forEach(e=>{const r=Object.keys(C.currentState[e]).length;r>C.DOMAIN_THRESHOLD&&t.push([e,1/r])}),t=t.sort((e,t)=>e[1]-t[1]),!0===e?t:t.map(e=>e[0])},cleanCurrentState(){const e=Object.keys(C.currentState),t={};for(let r=0;r<e.length;r+=1){const n=C.normalizeLocale(e[r]);t[n]=t[n]||[];for(let i=0;i<C.currentState[e[r]].length;i+=1){const s=C.currentState[e[r]][i];-1===t[n].indexOf(s)&&t[n].push(s)}}C.currentState=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?A(r,!0).forEach((function(t){u(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},t),C.saveCurrentState()},stateToQueryString(){let e;try{e=JSON.parse(s.default.get("config_language_whitelist",I))}catch(t){e=JSON.parse(I),n.default.log(`Malformed JSON: ${t}`,C.LOG_KEY)}const t=e.reduce((e,t)=>(t.split(",").forEach(t=>e.add(t)),e),new Set),r=C.state().slice(0,4);let i="";const o=r.filter(e=>t.has(e));return o.length>1&&o.every(t=>""===i&&(o.every(r=>!e.includes(`${t},${r}`)||(i=`${t},${r}`,!1)),!0)),""===i&&o.every(t=>!e.includes(t)||(i=t,!1)),i},saveCurrentState(){n.default.log(`Going to save languages: ${JSON.stringify(C.currentState)}`,C.LOG_KEY),s.default.set("extensions.cliqz-lang.data",JSON.stringify(C.currentState||{})),C.qs=C.stateToQueryString()},queryString(){let e=C.qs;return""===e&&(e=C.getLocale()),`&lang=${encodeURIComponent(e)}`}};var l=C;t.default=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={isValidUrl:!0,getEngineByQuery:!0,getSearchEngineQuery:!0,overrideSuggestionsHandler:!0,resetSuggestionsHandler:!0,getSuggestions:!0};t.isValidUrl=function(e){const t=(0,s.getDetailsFromUrl)(e);if("google"===t.name.toLowerCase()&&t.subdomains.length>0&&"www"===t.subdomains[0].toLowerCase()&&(-1!==t.extra.indexOf("/search")||0===t.extra.indexOf("/url?")||-1!==t.extra.indexOf("q=")))return!1;if("bing"===t.name.toLowerCase()&&-1!==t.extra.indexOf("q="))return!1;if("yahoo"===t.name.toLowerCase()&&(1===t.subdomains.length&&"search"===t.subdomains[0].toLowerCase()&&0===t.path.indexOf("/search")||2===t.subdomains.length&&"search"===t.subdomains[1].toLowerCase()&&0===t.path.indexOf("/search")||2===t.subdomains.length&&"r"===t.subdomains[0].toLowerCase()&&"search"===t.subdomains[1].toLowerCase()))return!1;if(["suche.cliqz.com","search.cliqz.com","suchen.cliqz.com"].indexOf(t.cleanHost)>-1)return!1;if(0===e.search(/http(s?):\/\/bit\.ly\/.*/i))return!1;if(0===e.search(/http(s?):\/\/t\.co\/.*/i))return!1;if(0===e.search(/http(s?):\/\/rover\.ebay\.com\/.*/i))return!1;const r=function(e,t){const r=t.split("&");for(let t=0;t<r.length;t+=1){const n=r[t].split("=");if(-1!==e.indexOf(n[0]))return n[1]}return null}(["q","query","search_query","field-keywords","search"],t.query);if(r){if(i.getSearchEngines().filter(e=>e.urlDetails.host===t.host).map(e=>decodeURIComponent(e.getSubmissionForQuery(r))).some(t=>-1!==e.indexOf(t)))return!1}return!0},t.getEngineByQuery=function(e){const t=e.trim().split(" ")[0];if(!t)return i.getDefaultSearchEngine();return i.getSearchEngines().find(e=>e.alias===t)||i.getDefaultSearchEngine()},t.getSearchEngineQuery=function(e,t){if(e&&e.alias)return t.replace(e.alias,"").trim();return t},t.overrideSuggestionsHandler=function(e){A=e},t.resetSuggestionsHandler=function(){A=g},t.getSuggestions=function(e){return A(e)};var i=function(e){if(e&&e.__esModule)return e;var t=a();if(t&&t.has(e))return t.get(e);var r={};if(null!=e){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var s=n?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(r,i,s):r[i]=e[i]}}r.default=e,t&&t.set(e,r);return r}
/*!
 * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */(r(412));Object.keys(i).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(n,e)||Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}}))}));var s=r(73),o=r(68);function a(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}function g(e){const t=i.getDefaultSearchEngine().getSubmissionForQuery(e,"application/x-suggestions+json");return t?(0,o.fetch)(t,{credentials:"omit",cache:"no-store"}).then(e=>e.json()):Promise.resolve([e,[]])}let A=g},function(e,t,r){"use strict";var n={};(0,r(146).assign)(n,r(416),r(419),r(326)),e.exports=n},function(e,t,r){"use strict";e.exports=function(e,t,r,n){for(var i=65535&e|0,s=e>>>16&65535|0,o=0;0!==r;){r-=o=r>2e3?2e3:r;do{s=s+(i=i+t[n++]|0)|0}while(--o);i%=65521,s%=65521}return i|s<<16|0}},function(e,t,r){"use strict";var n=function(){for(var e,t=[],r=0;r<256;r++){e=r;for(var n=0;n<8;n++)e=1&e?3988292384^e>>>1:e>>>1;t[r]=e}return t}();e.exports=function(e,t,r,i){var s=n,o=i+r;e^=-1;for(var a=i;a<o;a++)e=e>>>8^s[255&(e^t[a])];return-1^e}},function(e,t,r){"use strict";var n=r(146),i=!0,s=!0;try{String.fromCharCode.apply(null,[0])}catch(e){i=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){s=!1}for(var o=new n.Buf8(256),a=0;a<256;a++)o[a]=a>=252?6:a>=248?5:a>=240?4:a>=224?3:a>=192?2:1;function g(e,t){if(t<65534&&(e.subarray&&s||!e.subarray&&i))return String.fromCharCode.apply(null,n.shrinkBuf(e,t));for(var r="",o=0;o<t;o++)r+=String.fromCharCode(e[o]);return r}o[254]=o[254]=1,t.string2buf=function(e){var t,r,i,s,o,a=e.length,g=0;for(s=0;s<a;s++)55296==(64512&(r=e.charCodeAt(s)))&&s+1<a&&56320==(64512&(i=e.charCodeAt(s+1)))&&(r=65536+(r-55296<<10)+(i-56320),s++),g+=r<128?1:r<2048?2:r<65536?3:4;for(t=new n.Buf8(g),o=0,s=0;o<g;s++)55296==(64512&(r=e.charCodeAt(s)))&&s+1<a&&56320==(64512&(i=e.charCodeAt(s+1)))&&(r=65536+(r-55296<<10)+(i-56320),s++),r<128?t[o++]=r:r<2048?(t[o++]=192|r>>>6,t[o++]=128|63&r):r<65536?(t[o++]=224|r>>>12,t[o++]=128|r>>>6&63,t[o++]=128|63&r):(t[o++]=240|r>>>18,t[o++]=128|r>>>12&63,t[o++]=128|r>>>6&63,t[o++]=128|63&r);return t},t.buf2binstring=function(e){return g(e,e.length)},t.binstring2buf=function(e){for(var t=new n.Buf8(e.length),r=0,i=t.length;r<i;r++)t[r]=e.charCodeAt(r);return t},t.buf2string=function(e,t){var r,n,i,s,a=t||e.length,A=new Array(2*a);for(n=0,r=0;r<a;)if((i=e[r++])<128)A[n++]=i;else if((s=o[i])>4)A[n++]=65533,r+=s-1;else{for(i&=2===s?31:3===s?15:7;s>1&&r<a;)i=i<<6|63&e[r++],s--;s>1?A[n++]=65533:i<65536?A[n++]=i:(i-=65536,A[n++]=55296|i>>10&1023,A[n++]=56320|1023&i)}return g(A,n)},t.utf8border=function(e,t){var r;for((t=t||e.length)>e.length&&(t=e.length),r=t-1;r>=0&&128==(192&e[r]);)r--;return r<0?t:0===r?t:r+o[e[r]]>t?r:t}},function(e,t,r){"use strict";e.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},function(e,t,r){"use strict";e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=o(r(328)),i=r(51),s=o(r(43));function o(e){return e&&e.__esModule?e:{default:e}}
/*!
 * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */let a={};try{const e=new n.default("cliqz-kv-store");e.version(1).stores({kv:"key"}),a={get:t=>e.kv.get(t).then(e=>e.value),set:(t,r)=>e.kv.put({key:t,value:r}),remove:t=>e.kv.delete(t)}}catch(e){a={get:e=>new Promise((t,r)=>{i.chrome.storage.local.get(e,n=>{i.chrome.runtime.lastError?(s.default.error(i.chrome.runtime.lastError),r(i.chrome.runtime.lastError)):n[e]?t(n[e]):r(new Error(`storage has no value for ${e}`))})}),set:(e,t)=>new Promise((r,n)=>{i.chrome.storage.local.set({[e]:t},()=>{i.chrome.runtime.lastError?(s.default.error(i.chrome.runtime.lastError),n(i.chrome.runtime.lastError)):r()})}),remove:e=>new Promise((t,r)=>{i.chrome.storage.local.remove(e,()=>{i.chrome.runtime.lastError?(s.default.error(i.chrome.runtime.lastError),r(i.chrome.runtime.lastError)):t()})})}}var g=a;t.default=g},function(e,t,r){"use strict";r.r(t),function(e,r){var n=Object.keys,i=Array.isArray,s="undefined"!=typeof self?self:"undefined"!=typeof window?window:e;function o(e,t){return"object"!=typeof t?e:(n(t).forEach((function(r){e[r]=t[r]})),e)}var a=Object.getPrototypeOf,g={}.hasOwnProperty;function A(e,t){return g.call(e,t)}function u(e,t){"function"==typeof t&&(t=t(a(e))),n(t).forEach((function(r){C(e,r,t[r])}))}var I=Object.defineProperty;function C(e,t,r,n){I(e,t,o(r&&A(r,"get")&&"function"==typeof r.get?{get:r.get,set:r.set,configurable:!0}:{value:r,configurable:!0,writable:!0},n))}function l(e){return{from:function(t){return e.prototype=Object.create(t.prototype),C(e.prototype,"constructor",e),{extend:u.bind(null,e.prototype)}}}}var c=Object.getOwnPropertyDescriptor;var d=[].slice;function h(e,t,r){return d.call(e,t,r)}function f(e,t){return t(e)}function p(e){if(!e)throw new Error("Assertion Failed")}function m(e){s.setImmediate?r(e):setTimeout(e,0)}function _(e,t){return e.reduce((function(e,r,n){var i=t(r,n);return i&&(e[i[0]]=i[1]),e}),{})}function y(e,t){return function(){try{e.apply(this,arguments)}catch(e){t(e)}}}function b(e,t,r){try{e.apply(null,r)}catch(e){t&&t(e)}}function v(e,t){if(A(e,t))return e[t];if(!t)return e;if("string"!=typeof t){for(var r=[],n=0,i=t.length;n<i;++n){var s=v(e,t[n]);r.push(s)}return r}var o=t.indexOf(".");if(-1!==o){var a=e[t.substr(0,o)];return void 0===a?void 0:v(a,t.substr(o+1))}}function w(e,t,r){if(e&&void 0!==t&&!("isFrozen"in Object&&Object.isFrozen(e)))if("string"!=typeof t&&"length"in t){p("string"!=typeof r&&"length"in r);for(var n=0,i=t.length;n<i;++n)w(e,t[n],r[n])}else{var s=t.indexOf(".");if(-1!==s){var o=t.substr(0,s),a=t.substr(s+1);if(""===a)void 0===r?delete e[o]:e[o]=r;else{var g=e[o];g||(g=e[o]={}),w(g,a,r)}}else void 0===r?delete e[t]:e[t]=r}}function k(e){var t={};for(var r in e)A(e,r)&&(t[r]=e[r]);return t}var M=[].concat;function O(e){return M.apply([],e)}var S="Boolean,String,Date,RegExp,Blob,File,FileList,ArrayBuffer,DataView,Uint8ClampedArray,ImageData,Map,Set".split(",").concat(O([8,16,32,64].map((function(e){return["Int","Uint","Float"].map((function(t){return t+e+"Array"}))})))).filter((function(e){return s[e]})).map((function(e){return s[e]}));function D(e){if(!e||"object"!=typeof e)return e;var t;if(i(e)){t=[];for(var r=0,n=e.length;r<n;++r)t.push(D(e[r]))}else if(S.indexOf(e.constructor)>=0)t=e;else for(var s in t=e.constructor?Object.create(e.constructor.prototype):{},e)A(e,s)&&(t[s]=D(e[s]));return t}function T(e,t,r,i){return r=r||{},i=i||"",n(e).forEach((function(n){if(A(t,n)){var s=e[n],o=t[n];"object"==typeof s&&"object"==typeof o&&s&&o&&""+s.constructor==""+o.constructor?T(s,o,r,i+n+"."):s!==o&&(r[i+n]=t[n])}else r[i+n]=void 0})),n(t).forEach((function(n){A(e,n)||(r[i+n]=t[n])})),r}var L="undefined"!=typeof Symbol&&Symbol.iterator,E=L?function(e){var t;return null!=e&&(t=e[L])&&t.apply(e)}:function(){return null},P={};function x(e){var t,r,n,s;if(1===arguments.length){if(i(e))return e.slice();if(this===P&&"string"==typeof e)return[e];if(s=E(e)){for(r=[];!(n=s.next()).done;)r.push(n.value);return r}if(null==e)return[e];if("number"==typeof(t=e.length)){for(r=new Array(t);t--;)r[t]=e[t];return r}return[e]}for(t=arguments.length,r=new Array(t);t--;)r[t]=arguments[t];return r}var j="undefined"!=typeof location&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function R(e,t){j=e,Y=t}var Y=function(){return!0},N=!new Error("").stack;function U(){if(N)try{throw U.arguments,new Error}catch(e){return e}return new Error}function H(e,t){var r=e.stack;return r?(t=t||0,0===r.indexOf(e.name)&&(t+=(e.name+e.message).split("\n").length),r.split("\n").slice(t).filter(Y).map((function(e){return"\n"+e})).join("")):""}var F=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],B=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(F),z={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed"};function W(e,t){this._e=U(),this.name=e,this.message=t}function G(e,t,r,n){this._e=U(),this.failures=t,this.failedKeys=n,this.successCount=r}function q(e,t){this._e=U(),this.name="BulkError",this.failures=t,this.message=function(e,t){return e+". Errors: "+t.map((function(e){return e.toString()})).filter((function(e,t,r){return r.indexOf(e)===t})).join("\n")}(e,t)}l(W).from(Error).extend({stack:{get:function(){return this._stack||(this._stack=this.name+": "+this.message+H(this._e,2))}},toString:function(){return this.name+": "+this.message}}),l(G).from(W),l(q).from(W);var V=B.reduce((function(e,t){return e[t]=t+"Error",e}),{}),K=W,Z=B.reduce((function(e,t){var r=t+"Error";function n(e,n){this._e=U(),this.name=r,e?"string"==typeof e?(this.message=e,this.inner=n||null):"object"==typeof e&&(this.message=e.name+" "+e.message,this.inner=e):(this.message=z[t]||r,this.inner=null)}return l(n).from(K),e[t]=n,e}),{});Z.Syntax=SyntaxError,Z.Type=TypeError,Z.Range=RangeError;var J=F.reduce((function(e,t){return e[t+"Error"]=Z[t],e}),{});var $=B.reduce((function(e,t){return-1===["Syntax","Type","Range"].indexOf(t)&&(e[t+"Error"]=Z[t]),e}),{});function Q(){}function X(e){return e}function ee(e,t){return null==e||e===X?t:function(r){return t(e(r))}}function te(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function re(e,t){return e===Q?t:function(){var r=e.apply(this,arguments);void 0!==r&&(arguments[0]=r);var n=this.onsuccess,i=this.onerror;this.onsuccess=null,this.onerror=null;var s=t.apply(this,arguments);return n&&(this.onsuccess=this.onsuccess?te(n,this.onsuccess):n),i&&(this.onerror=this.onerror?te(i,this.onerror):i),void 0!==s?s:r}}function ne(e,t){return e===Q?t:function(){e.apply(this,arguments);var r=this.onsuccess,n=this.onerror;this.onsuccess=this.onerror=null,t.apply(this,arguments),r&&(this.onsuccess=this.onsuccess?te(r,this.onsuccess):r),n&&(this.onerror=this.onerror?te(n,this.onerror):n)}}function ie(e,t){return e===Q?t:function(r){var n=e.apply(this,arguments);o(r,n);var i=this.onsuccess,s=this.onerror;this.onsuccess=null,this.onerror=null;var a=t.apply(this,arguments);return i&&(this.onsuccess=this.onsuccess?te(i,this.onsuccess):i),s&&(this.onerror=this.onerror?te(s,this.onerror):s),void 0===n?void 0===a?void 0:a:o(n,a)}}function se(e,t){return e===Q?t:function(){return!1!==t.apply(this,arguments)&&e.apply(this,arguments)}}function oe(e,t){return e===Q?t:function(){var r=e.apply(this,arguments);if(r&&"function"==typeof r.then){for(var n=this,i=arguments.length,s=new Array(i);i--;)s[i]=arguments[i];return r.then((function(){return t.apply(n,s)}))}return t.apply(this,arguments)}}$.ModifyError=G,$.DexieError=W,$.BulkError=q;var ae={},ge=100,Ae=7,ue=function(){try{return[Ee.resolve(),Ee.prototype,Ee.resolve(),Function.constructor]}catch(t){var e=s.Promise;return e?[e.resolve(),e.prototype,e.resolve()]:[]}}(),Ie=ue[0],Ce=ue[1],le=ue[2],ce=Ce&&Ce.then,de=Ie&&Ie.constructor,he=ue[3],fe=!!le,pe=!1,me=le?function(){le.then(He)}:s.setImmediate?r.bind(null,He):s.MutationObserver?function(){var e=document.createElement("div");new MutationObserver((function(){He(),e=null})).observe(e,{attributes:!0}),e.setAttribute("i","1")}:function(){setTimeout(He,0)},_e=function(e,t){De.push([e,t]),be&&(me(),be=!1)},ye=!0,be=!0,ve=[],we=[],ke=null,Me=X,Oe={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:ut,pgp:!1,env:{},finalize:function(){this.unhandleds.forEach((function(e){try{ut(e[0],e[1])}catch(e){}}))}},Se=Oe,De=[],Te=0,Le=[];function Ee(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");this._listeners=[],this.onuncatched=Q,this._lib=!1;var t=this._PSD=Se;if(j&&(this._stackHolder=U(),this._prev=null,this._numPrev=0),"function"!=typeof e){if(e!==ae)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(!1===this._state&&je(this,this._value))}this._state=null,this._value=null,++t.ref,function e(t,r){try{r((function(r){if(null===t._state){if(r===t)throw new TypeError("A promise cannot be resolved with itself.");var n=t._lib&&Fe();r&&"function"==typeof r.then?e(t,(function(e,t){r instanceof Ee?r._then(e,t):r.then(e,t)})):(t._state=!0,t._value=r,Re(t)),n&&Be()}}),je.bind(null,t))}catch(e){je(t,e)}}(this,e)}var Pe={get:function(){var e=Se,t=Je;function r(r,n){var i=this,s=!e.global&&(e!==Se||t!==Je);s&&et();var o=new Ee((function(t,o){Ye(i,new xe(at(r,e,s),at(n,e,s),t,o,e))}));return j&&Ue(o,this),o}return r.prototype=ae,r},set:function(e){C(this,"then",e&&e.prototype===ae?Pe:{get:function(){return e},set:Pe.set})}};function xe(e,t,r,n,i){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.resolve=r,this.reject=n,this.psd=i}function je(e,t){if(we.push(t),null===e._state){var r=e._lib&&Fe();t=Me(t),e._state=!1,e._value=t,j&&null!==t&&"object"==typeof t&&!t._promise&&b((function(){var r=function e(t,r){var n;return c(t,r)||(n=a(t))&&e(n,r)}(t,"stack");t._promise=e,C(t,"stack",{get:function(){return pe?r&&(r.get?r.get.apply(t):r.value):e.stack}})})),function(e){ve.some((function(t){return t._value===e._value}))||ve.push(e)}(e),Re(e),r&&Be()}}function Re(e){var t=e._listeners;e._listeners=[];for(var r=0,n=t.length;r<n;++r)Ye(e,t[r]);var i=e._PSD;--i.ref||i.finalize(),0===Te&&(++Te,_e((function(){0==--Te&&ze()}),[]))}function Ye(e,t){if(null!==e._state){var r=e._state?t.onFulfilled:t.onRejected;if(null===r)return(e._state?t.resolve:t.reject)(e._value);++t.psd.ref,++Te,_e(Ne,[r,e,t])}else e._listeners.push(t)}function Ne(e,t,r){try{ke=t;var n,i=t._value;t._state?n=e(i):(we.length&&(we=[]),n=e(i),-1===we.indexOf(i)&&function(e){var t=ve.length;for(;t;)if(ve[--t]._value===e._value)return void ve.splice(t,1)}(t)),r.resolve(n)}catch(e){r.reject(e)}finally{ke=null,0==--Te&&ze(),--r.psd.ref||r.psd.finalize()}}function Ue(e,t){var r=t?t._numPrev+1:0;r<ge&&(e._prev=t,e._numPrev=r)}function He(){Fe()&&Be()}function Fe(){var e=ye;return ye=!1,be=!1,e}function Be(){var e,t,r;do{for(;De.length>0;)for(e=De,De=[],r=e.length,t=0;t<r;++t){var n=e[t];n[0].apply(null,n[1])}}while(De.length>0);ye=!0,be=!0}function ze(){var e=ve;ve=[],e.forEach((function(e){e._PSD.onunhandled.call(null,e._value,e)}));for(var t=Le.slice(0),r=t.length;r;)t[--r]()}function We(e){return new Ee(ae,!1,e)}function Ge(e,t){var r=Se;return function(){var n=Fe(),i=Se;try{return it(r,!0),e.apply(this,arguments)}catch(e){t&&t(e)}finally{it(i,!1),n&&Be()}}}u(Ee.prototype,{then:Pe,_then:function(e,t){Ye(this,new xe(null,null,e,t,Se))},catch:function(e){if(1===arguments.length)return this.then(null,e);var t=arguments[0],r=arguments[1];return"function"==typeof t?this.then(null,(function(e){return e instanceof t?r(e):We(e)})):this.then(null,(function(e){return e&&e.name===t?r(e):We(e)}))},finally:function(e){return this.then((function(t){return e(),t}),(function(t){return e(),We(t)}))},stack:{get:function(){if(this._stack)return this._stack;try{pe=!0;var e=function e(t,r,n){if(r.length===n)return r;var i="";if(!1===t._state){var s,o,a=t._value;null!=a?(s=a.name||"Error",o=a.message||a,i=H(a,0)):(s=a,o=""),r.push(s+(o?": "+o:"")+i)}j&&((i=H(t._stackHolder,2))&&-1===r.indexOf(i)&&r.push(i),t._prev&&e(t._prev,r,n));return r}(this,[],20).join("\nFrom previous: ");return null!==this._state&&(this._stack=e),e}finally{pe=!1}}},timeout:function(e,t){var r=this;return e<1/0?new Ee((function(n,i){var s=setTimeout((function(){return i(new Z.Timeout(t))}),e);r.then(n,i).finally(clearTimeout.bind(null,s))})):this}}),"undefined"!=typeof Symbol&&Symbol.toStringTag&&C(Ee.prototype,Symbol.toStringTag,"Promise"),Oe.env=st(),u(Ee,{all:function(){var e=x.apply(null,arguments).map(tt);return new Ee((function(t,r){0===e.length&&t([]);var n=e.length;e.forEach((function(i,s){return Ee.resolve(i).then((function(r){e[s]=r,--n||t(e)}),r)}))}))},resolve:function(e){if(e instanceof Ee)return e;if(e&&"function"==typeof e.then)return new Ee((function(t,r){e.then(t,r)}));var t=new Ee(ae,!0,e);return Ue(t,ke),t},reject:We,race:function(){var e=x.apply(null,arguments).map(tt);return new Ee((function(t,r){e.map((function(e){return Ee.resolve(e).then(t,r)}))}))},PSD:{get:function(){return Se},set:function(e){return Se=e}},newPSD:Qe,usePSD:ot,scheduler:{get:function(){return _e},set:function(e){_e=e}},rejectionMapper:{get:function(){return Me},set:function(e){Me=e}},follow:function(e,t){return new Ee((function(r,n){return Qe((function(t,r){var n=Se;n.unhandleds=[],n.onunhandled=r,n.finalize=te((function(){var e=this;!function(e){Le.push((function t(){e(),Le.splice(Le.indexOf(t),1)})),++Te,_e((function(){0==--Te&&ze()}),[])}((function(){0===e.unhandleds.length?t():r(e.unhandleds[0])}))}),n.finalize),e()}),t,r,n)}))}});var qe={awaits:0,echoes:0,id:0},Ve=0,Ke=[],Ze=0,Je=0,$e=0;function Qe(e,t,r,n){var i=Se,s=Object.create(i);s.parent=i,s.ref=0,s.global=!1,s.id=++$e;var a=Oe.env;s.env=fe?{Promise:Ee,PromiseProp:{value:Ee,configurable:!0,writable:!0},all:Ee.all,race:Ee.race,resolve:Ee.resolve,reject:Ee.reject,nthen:gt(a.nthen,s),gthen:gt(a.gthen,s)}:{},t&&o(s,t),++i.ref,s.finalize=function(){--this.parent.ref||this.parent.finalize()};var g=ot(s,e,r,n);return 0===s.ref&&s.finalize(),g}function Xe(){return qe.id||(qe.id=++Ve),++qe.awaits,qe.echoes+=Ae,qe.id}function et(e){!qe.awaits||e&&e!==qe.id||(0==--qe.awaits&&(qe.id=0),qe.echoes=qe.awaits*Ae)}function tt(e){return qe.echoes&&e&&e.constructor===de?(Xe(),e.then((function(e){return et(),e}),(function(e){return et(),It(e)}))):e}function rt(e){++Je,qe.echoes&&0!=--qe.echoes||(qe.echoes=qe.id=0),Ke.push(Se),it(e,!0)}function nt(){var e=Ke[Ke.length-1];Ke.pop(),it(e,!1)}function it(e,t){var r,n=Se;if((t?!qe.echoes||Ze++&&e===Se:!Ze||--Ze&&e===Se)||(r=t?rt.bind(null,e):nt,ce.call(Ie,r)),e!==Se&&(Se=e,n===Oe&&(Oe.env=st()),fe)){var i=Oe.env.Promise,o=e.env;Ce.then=o.nthen,i.prototype.then=o.gthen,(n.global||e.global)&&(Object.defineProperty(s,"Promise",o.PromiseProp),i.all=o.all,i.race=o.race,i.resolve=o.resolve,i.reject=o.reject)}}function st(){var e=s.Promise;return fe?{Promise:e,PromiseProp:Object.getOwnPropertyDescriptor(s,"Promise"),all:e.all,race:e.race,resolve:e.resolve,reject:e.reject,nthen:Ce.then,gthen:e.prototype.then}:{}}function ot(e,t,r,n,i){var s=Se;try{return it(e,!0),t(r,n,i)}finally{it(s,!1)}}function at(e,t,r){return"function"!=typeof e?e:function(){var n=Se;r&&Xe(),it(t,!0);try{return e.apply(this,arguments)}finally{it(n,!1)}}}function gt(e,t){return function(r,n){return e.call(this,at(r,t,!1),at(n,t,!1))}}var At="unhandledrejection";function ut(e,t){var r;try{r=t.onuncatched(e)}catch(e){}if(!1!==r)try{var n,i={promise:t,reason:e};if(s.document&&document.createEvent?((n=document.createEvent("Event")).initEvent(At,!0,!0),o(n,i)):s.CustomEvent&&o(n=new CustomEvent(At,{detail:i}),i),n&&s.dispatchEvent&&(dispatchEvent(n),!s.PromiseRejectionEvent&&s.onunhandledrejection))try{s.onunhandledrejection(n)}catch(e){}n.defaultPrevented||console.warn("Unhandled rejection: "+(e.stack||e))}catch(e){}}var It=Ee.reject;function Ct(e){var t={},r=function(r,n){if(n){for(var i=arguments.length,s=new Array(i-1);--i;)s[i-1]=arguments[i];return t[r].subscribe.apply(null,s),e}if("string"==typeof r)return t[r]};r.addEventType=a;for(var s=1,o=arguments.length;s<o;++s)a(arguments[s]);return r;function a(e,s,o){if("object"!=typeof e){var g;s||(s=se),o||(o=Q);var A={subscribers:[],fire:o,subscribe:function(e){-1===A.subscribers.indexOf(e)&&(A.subscribers.push(e),A.fire=s(A.fire,e))},unsubscribe:function(e){A.subscribers=A.subscribers.filter((function(t){return t!==e})),A.fire=A.subscribers.reduce(s,o)}};return t[e]=r[e]=A,A}n(g=e).forEach((function(e){var t=g[e];if(i(t))a(e,g[e][0],g[e][1]);else{if("asap"!==t)throw new Z.InvalidArgument("Invalid event config");var r=a(e,X,(function(){for(var e=arguments.length,t=new Array(e);e--;)t[e]=arguments[e];r.subscribers.forEach((function(e){m((function(){e.apply(null,t)}))}))}))}}))}}var lt,ct=String.fromCharCode(65535),dt=function(){try{return IDBKeyRange.only([[]]),[[]]}catch(e){return ct}}(),ht=-1/0,ft="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",pt="String expected.",mt=[],_t="undefined"!=typeof navigator&&/(MSIE|Trident|Edge)/.test(navigator.userAgent),yt=_t,bt=_t,vt=function(e){return!/(dexie\.js|dexie\.min\.js)/.test(e)};function wt(e,t){var r,a,g,I,l,c=wt.dependencies,d=o({addons:wt.addons,autoOpen:!0,indexedDB:c.indexedDB,IDBKeyRange:c.IDBKeyRange},t),m=d.addons,M=d.autoOpen,S=d.indexedDB,L=d.IDBKeyRange,E=this._dbSchema={},R=[],Y=[],N={},F=null,B=null,z=!1,W=null,V=!1,K="readwrite",J=this,$=new Ee((function(e){r=e})),te=new Ee((function(e,t){a=t})),se=!0,ae=!!jt(S);function ge(e){this._cfg={version:e,storesSource:null,dbschema:{},tables:{},contentUpgrade:null},this.stores({})}function Ae(e,t,r){var i=J._createTransaction(K,Y,E);i.create(t),i._completion.catch(r);var s=i._reject.bind(i);Qe((function(){Se.trans=i,0===e?(n(E).forEach((function(e){ue(t,e,E[e].primKey,E[e].indexes)})),Ee.follow((function(){return J.on.populate.fire(i)})).catch(s)):function(e,t,r){var i=[],s=R.filter((function(t){return t._cfg.version===e}))[0];if(!s)throw new Z.Upgrade("Dexie specification of currently installed DB version is missing");E=J._dbSchema=s._cfg.dbschema;var o=!1;return R.filter((function(t){return t._cfg.version>e})).forEach((function(e){i.push((function(){var n=E,i=e._cfg.dbschema;xe(n,r),xe(i,r),E=J._dbSchema=i;var s=function(e,t){var r={del:[],add:[],change:[]};for(var n in e)t[n]||r.del.push(n);for(n in t){var i=e[n],s=t[n];if(i){var o={name:n,def:s,recreate:!1,del:[],add:[],change:[]};if(i.primKey.src!==s.primKey.src)o.recreate=!0,r.change.push(o);else{var a=i.idxByName,g=s.idxByName;for(var A in a)g[A]||o.del.push(A);for(A in g){var u=a[A],I=g[A];u?u.src!==I.src&&o.change.push(I):o.add.push(I)}(o.del.length>0||o.add.length>0||o.change.length>0)&&r.change.push(o)}}else r.add.push([n,s])}return r}(n,i);if(s.add.forEach((function(e){ue(r,e[0],e[1].primKey,e[1].indexes)})),s.change.forEach((function(e){if(e.recreate)throw new Z.Upgrade("Not yet support for changing primary key");var t=r.objectStore(e.name);e.add.forEach((function(e){Ie(t,e)})),e.change.forEach((function(e){t.deleteIndex(e.name),Ie(t,e)})),e.del.forEach((function(e){t.deleteIndex(e)}))})),e._cfg.contentUpgrade)return o=!0,Ee.follow((function(){e._cfg.contentUpgrade(t)}))})),i.push((function(t){o&&yt||function(e,t){for(var r=0;r<t.db.objectStoreNames.length;++r){var n=t.db.objectStoreNames[r];null==e[n]&&t.db.deleteObjectStore(n)}}(e._cfg.dbschema,t)}))})),function e(){return i.length?Ee.resolve(i.shift()(t.idbtrans)).then(e):Ee.resolve()}().then((function(){!function(e,t){n(e).forEach((function(r){t.db.objectStoreNames.contains(r)||ue(t,r,e[r].primKey,e[r].indexes)}))}(E,r)}))}(e,i,t).catch(s)}))}function ue(e,t,r,n){var i=e.db.createObjectStore(t,r.keyPath?{keyPath:r.keyPath,autoIncrement:r.auto}:{autoIncrement:r.auto});return n.forEach((function(e){Ie(i,e)})),i}function Ie(e,t){e.createIndex(t.name,t.keyPath,{unique:t.unique,multiEntry:t.multi})}function Ce(e,t,r){var n=arguments.length;if(n<2)throw new Z.InvalidArgument("Too few arguments");for(var i=new Array(n-1);--n;)i[n-1]=arguments[n];return r=i.pop(),[e,O(i),r]}function le(e,t,r){this.name=e,this.schema=t,this._tx=r,this.hook=N[e]?N[e].hook:Ct(null,{creating:[re,Q],reading:[ee,X],updating:[ie,Q],deleting:[ne,Q]})}function ce(e,t,r){return(r?Dt:Ot)((function(r){e.push(r),t&&t()}))}function fe(e,t,r,n,i){return new Ee((function(s,o){var a=r.length,g=a-1;if(0===a)return s();if(n){var A,u=Dt(o),I=Mt(null);b((function(){for(var n=0;n<a;++n){A={onsuccess:null,onerror:null};var o=r[n];i.call(A,o[0],o[1],t);var C=e.delete(o[0]);C._hookCtx=A,C.onerror=u,C.onsuccess=n===g?Mt(s):I}}),(function(e){throw A.onerror&&A.onerror(e),e}))}else for(var C=0;C<a;++C){var l=e.delete(r[C]);l.onerror=Ot(o),C===g&&(l.onsuccess=Ge((function(){return s()})))}}))}function pe(e,t,r,n){var i=this;this.db=J,this.mode=e,this.storeNames=t,this.idbtrans=null,this.on=Ct(this,"complete","error","abort"),this.parent=n||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new Ee((function(e,t){i._resolve=e,i._reject=t})),this._completion.then((function(){i.active=!1,i.on.complete.fire()}),(function(e){var t=i.active;return i.active=!1,i.on.error.fire(e),i.parent?i.parent._reject(e):t&&i.idbtrans&&i.idbtrans.abort(),It(e)}))}function me(e,t,r){this._ctx={table:e,index:":id"===t?null:t,or:r}}function _e(e,t){var r=null,n=null;if(t)try{r=t()}catch(e){n=e}var i=e._ctx,s=i.table;this._ctx={table:s,index:i.index,isPrimKey:!i.index||s.schema.primKey.keyPath&&i.index===s.schema.primKey.name,range:r,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:n,or:i.or,valueMapper:s.hook.reading.fire}}function ye(e,t){return!(e.filter||e.algorithm||e.or)&&(t?e.justLimit:!e.replayFilter)}function be(e,t){return e._cfg.version-t._cfg.version}function ve(e,t,r){t.forEach((function(t){var n=r[t];e.forEach((function(e){t in e||(e===pe.prototype||e instanceof pe?C(e,t,{get:function(){return this.table(t)}}):e[t]=new le(t,n))}))}))}function we(e,t,r,n,i,s){var o=Ge(s?function(e,t,n){return r(s(e),t,n)}:r,i);e.onerror||(e.onerror=Ot(i)),e.onsuccess=y(t?function(){var r=e.result;if(r){var s=function(){r.continue()};t(r,(function(e){s=e}),n,i)&&o(r.value,r,(function(e){s=e})),s()}else n()}:function(){var t=e.result;if(t){var r=function(){t.continue()};o(t.value,t,(function(e){r=e})),r()}else n()},i)}function ke(e,t){return S.cmp(e,t)}function Me(e,t){return ke(e,t)>0?e:t}function Oe(e,t){return S.cmp(e,t)}function De(e,t){return S.cmp(t,e)}function Te(e,t){return e<t?-1:e===t?0:1}function Le(e,t){return e>t?-1:e===t?0:1}function Pe(e,t){return e?t?function(){return e.apply(this,arguments)&&t.apply(this,arguments)}:e:t}function xe(e,t){for(var r=t.db.objectStoreNames,n=0;n<r.length;++n){var i=r[n],o=t.objectStore(i);g="getAll"in o;for(var a=0;a<o.indexNames.length;++a){var A=o.indexNames[a],u=o.index(A).keyPath,I="string"==typeof u?u:"["+h(u).join("+")+"]";if(e[i]){var C=e[i].idxByName[I];C&&(C.name=A)}}}"undefined"!=typeof navigator&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&s.WorkerGlobalScope&&s instanceof s.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(g=!1)}function je(e){J.on("blocked").fire(e),mt.filter((function(e){return e.name===J.name&&e!==J&&!e._vcFired})).map((function(t){return t.on("versionchange").fire(e)}))}this.version=function(e){if(F||z)throw new Z.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,e);var t=R.filter((function(t){return t._cfg.version===e}))[0];return t||(t=new ge(e),R.push(t),R.sort(be),se=!1,t)},o(ge.prototype,{stores:function(e){this._cfg.storesSource=this._cfg.storesSource?o(this._cfg.storesSource,e):e;var t={};R.forEach((function(e){o(t,e._cfg.storesSource)}));var r=this._cfg.dbschema={};return this._parseStoresSpec(t,r),E=J._dbSchema=r,[N,J,pe.prototype].forEach((function(e){for(var t in e)e[t]instanceof le&&delete e[t]})),ve([N,J,pe.prototype,this._cfg.tables],n(r),r),Y=n(r),this},upgrade:function(e){return this._cfg.contentUpgrade=e,this},_parseStoresSpec:function(e,t){n(e).forEach((function(r){if(null!==e[r]){var n={},s=function(e){var t=[];return e.split(",").forEach((function(e){var r=(e=e.trim()).replace(/([&*]|\+\+)/g,""),n=/^\[/.test(r)?r.match(/^\[(.*)\]$/)[1].split("+"):r;t.push(new Et(r,n||null,/\&/.test(e),/\*/.test(e),/\+\+/.test(e),i(n),/\./.test(e)))})),t}(e[r]),o=s.shift();if(o.multi)throw new Z.Schema("Primary key cannot be multi-valued");o.keyPath&&w(n,o.keyPath,o.auto?0:o.keyPath),s.forEach((function(e){if(e.auto)throw new Z.Schema("Only primary key can be marked as autoIncrement (++)");if(!e.keyPath)throw new Z.Schema("Index must have a name and cannot be an empty string");w(n,e.keyPath,e.compound?e.keyPath.map((function(){return""})):"")})),t[r]=new Pt(r,o,s,n)}}))}}),this._allTables=N,this._createTransaction=function(e,t,r,n){return new pe(e,t,r,n)},this._whenReady=function(e){return V||Se.letThrough?e():new Ee((function(e,t){if(!z){if(!M)return void t(new Z.DatabaseClosed);J.open().catch(Q)}$.then(e,t)})).then(e)},this.verno=0,this.open=function(){if(z||F)return $.then((function(){return B?It(B):J}));j&&(te._stackHolder=U()),z=!0,B=null,V=!1;var t=r,i=null;return Ee.race([te,new Ee((function(t,r){if(!S)throw new Z.MissingAPI("indexedDB API not found. If using IE10+, make sure to run your code on a server URL (not locally). If using old Safari versions, make sure to include indexedDB polyfill.");var s=se?S.open(e):S.open(e,Math.round(10*J.verno));if(!s)throw new Z.MissingAPI("IndexedDB API not available");s.onerror=Ot(r),s.onblocked=Ge(je),s.onupgradeneeded=Ge((function(t){if(i=s.transaction,se&&!J._allowEmptyDB){s.onerror=Tt,i.abort(),s.result.close();var n=S.deleteDatabase(e);n.onsuccess=n.onerror=Ge((function(){r(new Z.NoSuchDatabase("Database "+e+" doesnt exist"))}))}else{i.onerror=Ot(r),Ae((t.oldVersion>Math.pow(2,62)?0:t.oldVersion)/10,i,r)}}),r),s.onsuccess=Ge((function(){if(i=null,F=s.result,mt.push(J),se)!function(){if(J.verno=F.version/10,J._dbSchema=E={},0===(Y=h(F.objectStoreNames,0)).length)return;var e=F.transaction(xt(Y),"readonly");Y.forEach((function(t){for(var r=e.objectStore(t),n=r.keyPath,i=n&&"string"==typeof n&&-1!==n.indexOf("."),s=new Et(n,n||"",!1,!1,!!r.autoIncrement,n&&"string"!=typeof n,i),o=[],a=0;a<r.indexNames.length;++a){var g=r.index(r.indexNames[a]);i=(n=g.keyPath)&&"string"==typeof n&&-1!==n.indexOf(".");var A=new Et(g.name,n,!!g.unique,!!g.multiEntry,!1,n&&"string"!=typeof n,i);o.push(A)}E[t]=new Pt(t,s,o,{})})),ve([N],n(E),E)}();else if(F.objectStoreNames.length>0)try{xe(E,F.transaction(xt(F.objectStoreNames),"readonly"))}catch(e){}F.onversionchange=Ge((function(e){J._vcFired=!0,J.on("versionchange").fire(e)})),ae||"__dbnames"===e||lt.dbnames.put({name:e}).catch(Q),t()}),r)}))]).then((function(){return W=[],Ee.resolve(wt.vip(J.on.ready.fire)).then((function e(){if(W.length>0){var t=W.reduce(oe,Q);return W=[],Ee.resolve(wt.vip(t)).then(e)}}))})).finally((function(){W=null})).then((function(){return z=!1,J})).catch((function(e){try{i&&i.abort()}catch(e){}return z=!1,J.close(),It(B=e)})).finally((function(){V=!0,t()}))},this.close=function(){var e=mt.indexOf(J);if(e>=0&&mt.splice(e,1),F){try{F.close()}catch(e){}F=null}M=!1,B=new Z.DatabaseClosed,z&&a(B),$=new Ee((function(e){r=e})),te=new Ee((function(e,t){a=t}))},this.delete=function(){var t=arguments.length>0;return new Ee((function(r,n){if(t)throw new Z.InvalidArgument("Arguments not allowed in db.delete()");function i(){J.close();var t=S.deleteDatabase(e);t.onsuccess=Ge((function(){ae||lt.dbnames.delete(e).catch(Q),r()})),t.onerror=Ot(n),t.onblocked=je}z?$.then(i):i()}))},this.backendDB=function(){return F},this.isOpen=function(){return null!==F},this.hasBeenClosed=function(){return B&&B instanceof Z.DatabaseClosed},this.hasFailed=function(){return null!==B},this.dynamicallyOpened=function(){return se},this.name=e,u(this,{tables:{get:function(){return n(N).map((function(e){return N[e]}))}}}),this.on=Ct(this,"populate","blocked","versionchange",{ready:[oe,Q]}),this.on.ready.subscribe=f(this.on.ready.subscribe,(function(e){return function(t,r){wt.vip((function(){V?(B||Ee.resolve().then(t),r&&e(t)):W?(W.push(t),r&&e(t)):(e(t),r||e((function e(){J.on.ready.unsubscribe(t),J.on.ready.unsubscribe(e)})))}))}})),this.transaction=function(){var e=Ce.apply(this,arguments);return this._transaction.apply(this,e)},this._transaction=function(e,t,r){var n=Se.trans;n&&n.db===J&&-1===e.indexOf("!")||(n=null);var i=-1!==e.indexOf("?");e=e.replace("!","").replace("?","");try{var s=t.map((function(e){var t=e instanceof le?e.name:e;if("string"!=typeof t)throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return t}));if("r"==e||"readonly"==e)e="readonly";else{if("rw"!=e&&e!=K)throw new Z.InvalidArgument("Invalid transaction mode: "+e);e=K}if(n){if("readonly"===n.mode&&e===K){if(!i)throw new Z.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");n=null}n&&s.forEach((function(e){if(n&&-1===n.storeNames.indexOf(e)){if(!i)throw new Z.SubTransaction("Table "+e+" not included in parent transaction.");n=null}})),i&&n&&!n.active&&(n=null)}}catch(e){return n?n._promise(null,(function(t,r){r(e)})):It(e)}return n?n._promise(e,o,"lock"):Se.trans?ot(Se.transless,(function(){return J._whenReady(o)})):J._whenReady(o);function o(){return Ee.resolve().then((function(){var t,i=Se.transless||Se,o=J._createTransaction(e,s,E,n),a={trans:o,transless:i};n?o.idbtrans=n.idbtrans:o.create(),r.constructor===he&&Xe();var g=Ee.follow((function(){if(t=r.call(o,o))if(t.constructor===de){var e=et.bind(null,null);t.then(e,e)}else"function"==typeof t.next&&"function"==typeof t.throw&&(t=Lt(t))}),a);return(t&&"function"==typeof t.then?Ee.resolve(t).then((function(e){return o.active?e:It(new Z.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))})):g.then((function(){return t}))).then((function(e){return n&&o._resolve(),o._completion.then((function(){return e}))})).catch((function(e){return o._reject(e),It(e)}))}))}},this.table=function(e){if(!A(N,e))throw new Z.InvalidTable("Table "+e+" does not exist");return N[e]},u(le.prototype,{_trans:function(e,t,r){var n=this._tx||Se.trans;return n&&n.db===J?n===Se.trans?n._promise(e,t,r):Qe((function(){return n._promise(e,t,r)}),{trans:n,transless:Se.transless||Se}):function e(t,r,n){if(V||Se.letThrough){var i=J._createTransaction(t,r,E);try{i.create()}catch(e){return It(e)}return i._promise(t,(function(e,t){return Qe((function(){return Se.trans=i,n(e,t,i)}))})).then((function(e){return i._completion.then((function(){return e}))}))}if(!z){if(!M)return It(new Z.DatabaseClosed);J.open().catch(Q)}return $.then((function(){return e(t,r,n)}))}(e,[this.name],t)},_idbstore:function(e,t,r){var n=this.name;return this._trans(e,(function(e,r,i){if(-1===i.storeNames.indexOf(n))throw new Z.NotFound("Table"+n+" not part of transaction");return t(e,r,i.idbtrans.objectStore(n),i)}),r)},get:function(e,t){if(e&&e.constructor===Object)return this.where(e).first(t);var r=this;return this._idbstore("readonly",(function(t,n,i){var s=i.get(e);s.onerror=Ot(n),s.onsuccess=Ge((function(){t(r.hook.reading.fire(s.result))}),n)})).then(t)},where:function(e){if("string"==typeof e)return new me(this,e);if(i(e))return new me(this,"["+e.join("+")+"]");var t=n(e);if(1===t.length)return this.where(t[0]).equals(e[t[0]]);var r=this.schema.indexes.concat(this.schema.primKey).filter((function(e){return e.compound&&t.every((function(t){return e.keyPath.indexOf(t)>=0}))&&e.keyPath.every((function(e){return t.indexOf(e)>=0}))}))[0];if(r&&dt!==ct)return this.where(r.name).equals(r.keyPath.map((function(t){return e[t]})));r||console.warn("The query "+JSON.stringify(e)+" on "+this.name+" would benefit of a compound index ["+t.join("+")+"]");var s=this.schema.idxByName,o=t.reduce((function(t,r){return[t[0]||s[r],t[0]||!s[r]?Pe(t[1],(function(t){return""+v(t,r)==""+e[r]})):t[1]]}),[null,null]),a=o[0];return a?this.where(a.name).equals(e[a.keyPath]).filter(o[1]):r?this.filter(o[1]):this.where(t).equals("")},count:function(e){return this.toCollection().count(e)},offset:function(e){return this.toCollection().offset(e)},limit:function(e){return this.toCollection().limit(e)},reverse:function(){return this.toCollection().reverse()},filter:function(e){return this.toCollection().and(e)},each:function(e){return this.toCollection().each(e)},toArray:function(e){return this.toCollection().toArray(e)},orderBy:function(e){return new _e(new me(this,i(e)?"["+e.join("+")+"]":e))},toCollection:function(){return new _e(new me(this))},mapToClass:function(e,t){this.schema.mappedClass=e;var r=Object.create(e.prototype);t&&kt(r,t),this.schema.instanceTemplate=r;var n=function(t){if(!t)return t;var r=Object.create(e.prototype);for(var n in t)if(A(t,n))try{r[n]=t[n]}catch(e){}return r};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=n,this.hook("reading",n),e},defineClass:function(e){return this.mapToClass(wt.defineClass(e),e)},bulkDelete:function(e){return this.hook.deleting.fire===Q?this._idbstore(K,(function(t,r,n,i){t(fe(n,i,e,!1,Q))})):this.where(":id").anyOf(e).delete().then((function(){}))},bulkPut:function(e,t){var r=this;return this._idbstore(K,(function(n,i,s){if(!s.keyPath&&!r.schema.primKey.auto&&!t)throw new Z.InvalidArgument("bulkPut() with non-inbound keys requires keys array in second argument");if(s.keyPath&&t)throw new Z.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(t&&t.length!==e.length)throw new Z.InvalidArgument("Arguments objects and keys must have the same length");if(0===e.length)return n();var o,a,g=function(e){0===A.length?n(e):i(new q(r.name+".bulkPut(): "+A.length+" of "+u+" operations failed",A))},A=[],u=e.length,I=r;if(r.hook.creating.fire===Q&&r.hook.updating.fire===Q){a=ce(A);for(var C=0,l=e.length;C<l;++C)(o=t?s.put(e[C],t[C]):s.put(e[C])).onerror=a;o.onerror=ce(A,g),o.onsuccess=St(g)}else{var c=t||s.keyPath&&e.map((function(e){return v(e,s.keyPath)})),d=c&&_(c,(function(t,r){return null!=t&&[t,e[r]]}));(c?I.where(":id").anyOf(c.filter((function(e){return null!=e}))).modify((function(){this.value=d[this.primKey],d[this.primKey]=null})).catch(G,(function(e){A=e.failures})).then((function(){for(var r=[],n=t&&[],i=c.length-1;i>=0;--i){var s=c[i];(null==s||d[s])&&(r.push(e[i]),t&&n.push(s),null!=s&&(d[s]=null))}return r.reverse(),t&&n.reverse(),I.bulkAdd(r,n)})).then((function(e){var t=c[c.length-1];return null!=t?t:e})):I.bulkAdd(e)).then(g).catch(q,(function(e){A=A.concat(e.failures),g()})).catch(i)}}),"locked")},bulkAdd:function(e,t){var r=this,n=this.hook.creating.fire;return this._idbstore(K,(function(i,s,o,a){if(!o.keyPath&&!r.schema.primKey.auto&&!t)throw new Z.InvalidArgument("bulkAdd() with non-inbound keys requires keys array in second argument");if(o.keyPath&&t)throw new Z.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(t&&t.length!==e.length)throw new Z.InvalidArgument("Arguments objects and keys must have the same length");if(0===e.length)return i();function g(e){0===C.length?i(e):s(new q(r.name+".bulkAdd(): "+C.length+" of "+l+" operations failed",C))}var A,u,I,C=[],l=e.length;if(n!==Q){var c,d=o.keyPath;u=ce(C,null,!0),I=Mt(null),b((function(){for(var r=0,i=e.length;r<i;++r){c={onerror:null,onsuccess:null};var s=t&&t[r],g=e[r],C=t?s:d?v(g,d):void 0,l=n.call(c,C,g,a);null==C&&null!=l&&(d?w(g=D(g),d,l):s=l),(A=null!=s?o.add(g,s):o.add(g))._hookCtx=c,r<i-1&&(A.onerror=u,c.onsuccess&&(A.onsuccess=I))}}),(function(e){throw c.onerror&&c.onerror(e),e})),A.onerror=ce(C,g,!0),A.onsuccess=Mt(g)}else{u=ce(C);for(var h=0,f=e.length;h<f;++h)(A=t?o.add(e[h],t[h]):o.add(e[h])).onerror=u;A.onerror=ce(C,g),A.onsuccess=St(g)}}))},add:function(e,t){var r=this.hook.creating.fire;return this._idbstore(K,(function(n,i,s,o){var a={onsuccess:null,onerror:null};if(r!==Q){var g=null!=t?t:s.keyPath?v(e,s.keyPath):void 0,A=r.call(a,g,e,o);null==g&&null!=A&&(s.keyPath?w(e,s.keyPath,A):t=A)}try{var u=null!=t?s.add(e,t):s.add(e);u._hookCtx=a,u.onerror=Dt(i),u.onsuccess=Mt((function(t){var r=s.keyPath;r&&w(e,r,t),n(t)}))}catch(e){throw a.onerror&&a.onerror(e),e}}))},put:function(e,t){var r=this,n=this.hook.creating.fire,i=this.hook.updating.fire;if(n!==Q||i!==Q){var s=this.schema.primKey.keyPath,o=void 0!==t?t:s&&v(e,s);return null==o?this.add(e):(e=D(e),this._trans(K,(function(){return r.where(":id").equals(o).modify((function(){this.value=e})).then((function(n){return 0===n?r.add(e,t):o}))}),"locked"))}return this._idbstore(K,(function(r,n,i){var s=void 0!==t?i.put(e,t):i.put(e);s.onerror=Ot(n),s.onsuccess=Ge((function(t){var n=i.keyPath;n&&w(e,n,t.target.result),r(s.result)}))}))},delete:function(e){return this.hook.deleting.subscribers.length?this.where(":id").equals(e).delete():this._idbstore(K,(function(t,r,n){var i=n.delete(e);i.onerror=Ot(r),i.onsuccess=Ge((function(){t(i.result)}))}))},clear:function(){return this.hook.deleting.subscribers.length?this.toCollection().delete():this._idbstore(K,(function(e,t,r){var n=r.clear();n.onerror=Ot(t),n.onsuccess=Ge((function(){e(n.result)}))}))},update:function(e,t){if("object"!=typeof t||i(t))throw new Z.InvalidArgument("Modifications must be an object.");if("object"!=typeof e||i(e))return this.where(":id").equals(e).modify(t);n(t).forEach((function(r){w(e,r,t[r])}));var r=v(e,this.schema.primKey.keyPath);return void 0===r?It(new Z.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(r).modify(t)}}),u(pe.prototype,{_lock:function(){return p(!Se.global),++this._reculock,1!==this._reculock||Se.global||(Se.lockOwnerFor=this),this},_unlock:function(){if(p(!Se.global),0==--this._reculock)for(Se.global||(Se.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var e=this._blockedFuncs.shift();try{ot(e[1],e[0])}catch(e){}}return this},_locked:function(){return this._reculock&&Se.lockOwnerFor!==this},create:function(e){var t=this;if(!this.mode)return this;if(p(!this.idbtrans),!e&&!F)switch(B&&B.name){case"DatabaseClosedError":throw new Z.DatabaseClosed(B);case"MissingAPIError":throw new Z.MissingAPI(B.message,B);default:throw new Z.OpenFailed(B)}if(!this.active)throw new Z.TransactionInactive;return p(null===this._completion._state),(e=this.idbtrans=e||F.transaction(xt(this.storeNames),this.mode)).onerror=Ge((function(r){Tt(r),t._reject(e.error)})),e.onabort=Ge((function(r){Tt(r),t.active&&t._reject(new Z.Abort(e.error)),t.active=!1,t.on("abort").fire(r)})),e.oncomplete=Ge((function(){t.active=!1,t._resolve()})),this},_promise:function(e,t,r){var n=this;if(e===K&&this.mode!==K)return It(new Z.ReadOnly("Transaction is readonly"));if(!this.active)return It(new Z.TransactionInactive);if(this._locked())return new Ee((function(i,s){n._blockedFuncs.push([function(){n._promise(e,t,r).then(i,s)},Se])}));if(r)return Qe((function(){var e=new Ee((function(e,r){n._lock();var i=t(e,r,n);i&&i.then&&i.then(e,r)}));return e.finally((function(){return n._unlock()})),e._lib=!0,e}));var i=new Ee((function(e,r){var i=t(e,r,n);i&&i.then&&i.then(e,r)}));return i._lib=!0,i},_root:function(){return this.parent?this.parent._root():this},waitFor:function(e){var t=this._root();if(e=Ee.resolve(e),t._waitingFor)t._waitingFor=t._waitingFor.then((function(){return e}));else{t._waitingFor=e,t._waitingQueue=[];var r=t.idbtrans.objectStore(t.storeNames[0]);!function e(){for(++t._spinCount;t._waitingQueue.length;)t._waitingQueue.shift()();t._waitingFor&&(r.get(-1/0).onsuccess=e)}()}var n=t._waitingFor;return new Ee((function(r,i){e.then((function(e){return t._waitingQueue.push(Ge(r.bind(null,e)))}),(function(e){return t._waitingQueue.push(Ge(i.bind(null,e)))})).finally((function(){t._waitingFor===n&&(t._waitingFor=null)}))}))},abort:function(){this.active&&this._reject(new Z.Abort),this.active=!1},tables:{get:(I="Transaction.tables",l=function(){return N},function(){return console.warn(I+" is deprecated. See https://github.com/dfahlander/Dexie.js/wiki/Deprecations. "+H(U(),1)),l.apply(this,arguments)})},table:function(e){return new le(e,J.table(e).schema,this)}}),u(me.prototype,(function(){function e(e,t,r){var n=e instanceof me?new _e(e):e;return n._ctx.error=r?new r(t):new TypeError(t),n}function t(e){return new _e(e,(function(){return L.only("")})).limit(0)}function r(e,t,r,n,i,s){for(var o=Math.min(e.length,n.length),a=-1,g=0;g<o;++g){var A=t[g];if(A!==n[g])return i(e[g],r[g])<0?e.substr(0,g)+r[g]+r.substr(g+1):i(e[g],n[g])<0?e.substr(0,g)+n[g]+r.substr(g+1):a>=0?e.substr(0,a)+t[a]+r.substr(a+1):null;i(e[g],A)<0&&(a=g)}return o<n.length&&"next"===s?e+r.substr(e.length):o<e.length&&"prev"===s?e.substr(0,r.length):a<0?null:e.substr(0,a)+n[a]+r.substr(a+1)}function n(t,n,i,s){var o,a,g,A,u,I,C,l=i.length;if(!i.every((function(e){return"string"==typeof e})))return e(t,pt);function c(e){o=function(e){return"next"===e?function(e){return e.toUpperCase()}:function(e){return e.toLowerCase()}}(e),a=function(e){return"next"===e?function(e){return e.toLowerCase()}:function(e){return e.toUpperCase()}}(e),g="next"===e?Te:Le;var t=i.map((function(e){return{lower:a(e),upper:o(e)}})).sort((function(e,t){return g(e.lower,t.lower)}));A=t.map((function(e){return e.upper})),u=t.map((function(e){return e.lower})),I=e,C="next"===e?"":s}c("next");var d=new _e(t,(function(){return L.bound(A[0],u[l-1]+s)}));d._ondirectionchange=function(e){c(e)};var h=0;return d._addAlgorithm((function(e,t,i){var s=e.key;if("string"!=typeof s)return!1;var o=a(s);if(n(o,u,h))return!0;for(var c=null,d=h;d<l;++d){var f=r(s,o,A[d],u[d],g,I);null===f&&null===c?h=d+1:(null===c||g(c,f)>0)&&(c=f)}return t(null!==c?function(){e.continue(c+C)}:i),!1})),d}return{between:function(r,n,i,s){i=!1!==i,s=!0===s;try{return ke(r,n)>0||0===ke(r,n)&&(i||s)&&(!i||!s)?t(this):new _e(this,(function(){return L.bound(r,n,!i,!s)}))}catch(t){return e(this,ft)}},equals:function(e){return new _e(this,(function(){return L.only(e)}))},above:function(e){return new _e(this,(function(){return L.lowerBound(e,!0)}))},aboveOrEqual:function(e){return new _e(this,(function(){return L.lowerBound(e)}))},below:function(e){return new _e(this,(function(){return L.upperBound(e,!0)}))},belowOrEqual:function(e){return new _e(this,(function(){return L.upperBound(e)}))},startsWith:function(t){return"string"!=typeof t?e(this,pt):this.between(t,t+ct,!0,!0)},startsWithIgnoreCase:function(e){return""===e?this.startsWith(e):n(this,(function(e,t){return 0===e.indexOf(t[0])}),[e],ct)},equalsIgnoreCase:function(e){return n(this,(function(e,t){return e===t[0]}),[e],"")},anyOfIgnoreCase:function(){var e=x.apply(P,arguments);return 0===e.length?t(this):n(this,(function(e,t){return-1!==t.indexOf(e)}),e,"")},startsWithAnyOfIgnoreCase:function(){var e=x.apply(P,arguments);return 0===e.length?t(this):n(this,(function(e,t){return t.some((function(t){return 0===e.indexOf(t)}))}),e,ct)},anyOf:function(){var r=x.apply(P,arguments),n=Oe;try{r.sort(n)}catch(t){return e(this,ft)}if(0===r.length)return t(this);var i=new _e(this,(function(){return L.bound(r[0],r[r.length-1])}));i._ondirectionchange=function(e){n="next"===e?Oe:De,r.sort(n)};var s=0;return i._addAlgorithm((function(e,t,i){for(var o=e.key;n(o,r[s])>0;)if(++s===r.length)return t(i),!1;return 0===n(o,r[s])||(t((function(){e.continue(r[s])})),!1)})),i},notEqual:function(e){return this.inAnyRange([[ht,e],[e,dt]],{includeLowers:!1,includeUppers:!1})},noneOf:function(){var t=x.apply(P,arguments);if(0===t.length)return new _e(this);try{t.sort(Oe)}catch(t){return e(this,ft)}var r=t.reduce((function(e,t){return e?e.concat([[e[e.length-1][1],t]]):[[ht,t]]}),null);return r.push([t[t.length-1],dt]),this.inAnyRange(r,{includeLowers:!1,includeUppers:!1})},inAnyRange:function(r,n){if(0===r.length)return t(this);if(!r.every((function(e){return void 0!==e[0]&&void 0!==e[1]&&Oe(e[0],e[1])<=0})))return e(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",Z.InvalidArgument);var i=!n||!1!==n.includeLowers,s=n&&!0===n.includeUppers;var o,a=Oe;function g(e,t){return a(e[0],t[0])}try{(o=r.reduce((function(e,t){for(var r=0,n=e.length;r<n;++r){var i=e[r];if(ke(t[0],i[1])<0&&ke(t[1],i[0])>0){i[0]=(s=i[0],o=t[0],ke(s,o)<0?s:o),i[1]=Me(i[1],t[1]);break}}var s,o;return r===n&&e.push(t),e}),[])).sort(g)}catch(t){return e(this,ft)}var A=0,u=s?function(e){return Oe(e,o[A][1])>0}:function(e){return Oe(e,o[A][1])>=0},I=i?function(e){return De(e,o[A][0])>0}:function(e){return De(e,o[A][0])>=0};var C=u,l=new _e(this,(function(){return L.bound(o[0][0],o[o.length-1][1],!i,!s)}));return l._ondirectionchange=function(e){"next"===e?(C=u,a=Oe):(C=I,a=De),o.sort(g)},l._addAlgorithm((function(e,t,r){for(var n=e.key;C(n);)if(++A===o.length)return t(r),!1;return!!function(e){return!u(e)&&!I(e)}(n)||0!==ke(n,o[A][1])&&0!==ke(n,o[A][0])&&(t((function(){a===Oe?e.continue(o[A][0]):e.continue(o[A][1])})),!1)})),l},startsWithAnyOf:function(){var r=x.apply(P,arguments);return r.every((function(e){return"string"==typeof e}))?0===r.length?t(this):this.inAnyRange(r.map((function(e){return[e,e+ct]}))):e(this,"startsWithAnyOf() only works with strings")}}})),u(_e.prototype,(function(){function e(e,t){e.filter=Pe(e.filter,t)}function t(e,t,r){var n=e.replayFilter;e.replayFilter=n?function(){return Pe(n(),t())}:t,e.justLimit=r&&!n}function r(e,t){if(e.isPrimKey)return t;var r=e.table.schema.idxByName[e.index];if(!r)throw new Z.Schema("KeyPath "+e.index+" on object store "+t.name+" is not indexed");return t.index(r.name)}function i(e,t){var n=r(e,t);return e.keysOnly&&"openKeyCursor"in n?n.openKeyCursor(e.range||null,e.dir+e.unique):n.openCursor(e.range||null,e.dir+e.unique)}function s(e,t,r,n,s){var o=e.replayFilter?Pe(e.filter,e.replayFilter()):e.filter;e.or?function(){var a={},g=0;function u(){2==++g&&r()}function I(e,r,i){if(!o||o(r,i,u,n)){var s=r.primaryKey,g=""+s;"[object ArrayBuffer]"===g&&(g=""+new Uint8Array(s)),A(a,g)||(a[g]=!0,t(e,r,i))}}e.or._iterate(I,u,n,s),we(i(e,s),e.algorithm,I,u,n,!e.keysOnly&&e.valueMapper)}():we(i(e,s),Pe(e.algorithm,o),t,r,n,!e.keysOnly&&e.valueMapper)}return{_read:function(e,t){var r=this._ctx;return r.error?r.table._trans(null,It.bind(null,r.error)):r.table._idbstore("readonly",e).then(t)},_write:function(e){var t=this._ctx;return t.error?t.table._trans(null,It.bind(null,t.error)):t.table._idbstore(K,e,"locked")},_addAlgorithm:function(e){var t=this._ctx;t.algorithm=Pe(t.algorithm,e)},_iterate:function(e,t,r,n){return s(this._ctx,e,t,r,n)},clone:function(e){var t=Object.create(this.constructor.prototype),r=Object.create(this._ctx);return e&&o(r,e),t._ctx=r,t},raw:function(){return this._ctx.valueMapper=null,this},each:function(e){var t=this._ctx;return this._read((function(r,n,i){s(t,e,r,n,i)}))},count:function(e){var t=this._ctx;if(ye(t,!0))return this._read((function(e,n,i){var s=r(t,i),o=t.range?s.count(t.range):s.count();o.onerror=Ot(n),o.onsuccess=function(r){e(Math.min(r.target.result,t.limit))}}),e);var n=0;return this._read((function(e,r,i){s(t,(function(){return++n,!1}),(function(){e(n)}),r,i)}),e)},sortBy:function(e,t){var r=e.split(".").reverse(),n=r[0],i=r.length-1;function s(e,t){return t?s(e[r[t]],t-1):e[n]}var o="next"===this._ctx.dir?1:-1;function a(e,t){var r=s(e,i),n=s(t,i);return r<n?-o:r>n?o:0}return this.toArray((function(e){return e.sort(a)})).then(t)},toArray:function(e){var t=this._ctx;return this._read((function(e,n,i){if(g&&"next"===t.dir&&ye(t,!0)&&t.limit>0){var o=t.table.hook.reading.fire,a=r(t,i),A=t.limit<1/0?a.getAll(t.range,t.limit):a.getAll(t.range);A.onerror=Ot(n),A.onsuccess=St(o===X?e:function(t){try{e(t.map(o))}catch(e){n(e)}})}else{var u=[];s(t,(function(e){u.push(e)}),(function(){e(u)}),n,i)}}),e)},offset:function(e){var r=this._ctx;return e<=0?this:(r.offset+=e,ye(r)?t(r,(function(){var t=e;return function(e,r){return 0===t||(1===t?(--t,!1):(r((function(){e.advance(t),t=0})),!1))}})):t(r,(function(){var t=e;return function(){return--t<0}})),this)},limit:function(e){return this._ctx.limit=Math.min(this._ctx.limit,e),t(this._ctx,(function(){var t=e;return function(e,r,n){return--t<=0&&r(n),t>=0}}),!0),this},until:function(t,r){this._ctx;return e(this._ctx,(function(e,n,i){return!t(e.value)||(n(i),r)})),this},first:function(e){return this.limit(1).toArray((function(e){return e[0]})).then(e)},last:function(e){return this.reverse().first(e)},filter:function(t){return e(this._ctx,(function(e){return t(e.value)})),function(e,t){e.isMatch=Pe(e.isMatch,t)}(this._ctx,t),this},and:function(e){return this.filter(e)},or:function(e){return new me(this._ctx.table,e,this)},reverse:function(){return this._ctx.dir="prev"===this._ctx.dir?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},desc:function(){return this.reverse()},eachKey:function(e){var t=this._ctx;return t.keysOnly=!t.isMatch,this.each((function(t,r){e(r.key,r)}))},eachUniqueKey:function(e){return this._ctx.unique="unique",this.eachKey(e)},eachPrimaryKey:function(e){var t=this._ctx;return t.keysOnly=!t.isMatch,this.each((function(t,r){e(r.primaryKey,r)}))},keys:function(e){var t=this._ctx;t.keysOnly=!t.isMatch;var r=[];return this.each((function(e,t){r.push(t.key)})).then((function(){return r})).then(e)},primaryKeys:function(e){var t=this._ctx;if(g&&"next"===t.dir&&ye(t,!0)&&t.limit>0)return this._read((function(e,n,i){var s=r(t,i),o=t.limit<1/0?s.getAllKeys(t.range,t.limit):s.getAllKeys(t.range);o.onerror=Ot(n),o.onsuccess=St(e)})).then(e);t.keysOnly=!t.isMatch;var n=[];return this.each((function(e,t){n.push(t.primaryKey)})).then((function(){return n})).then(e)},uniqueKeys:function(e){return this._ctx.unique="unique",this.keys(e)},firstKey:function(e){return this.limit(1).keys((function(e){return e[0]})).then(e)},lastKey:function(e){return this.reverse().firstKey(e)},distinct:function(){var t=this._ctx,r=t.index&&t.table.schema.idxByName[t.index];if(!r||!r.multi)return this;var n={};return e(this._ctx,(function(e){var t=e.primaryKey.toString(),r=A(n,t);return n[t]=!0,!r})),this},modify:function(e){var t=this,r=this._ctx.table.hook,i=r.updating.fire,s=r.deleting.fire;return this._write((function(r,a,g,u){var I;if("function"==typeof e)I=i===Q&&s===Q?e:function(t){var r=D(t);if(!1===e.call(this,t,this))return!1;if(A(this,"value")){var o=T(r,this.value),a=i.call(this,o,this.primKey,r,u);a&&(t=this.value,n(a).forEach((function(e){w(t,e,a[e])})))}else s.call(this,this.primKey,t,u)};else if(i===Q){var C=n(e),l=C.length;I=function(t){for(var r=!1,n=0;n<l;++n){var i=C[n],s=e[i];v(t,i)!==s&&(w(t,i,s),r=!0)}return r}}else{var c=e;e=k(c),I=function(t){var r=!1,s=i.call(this,e,this.primKey,D(t),u);return s&&o(e,s),n(e).forEach((function(n){var i=e[n];v(t,n)!==i&&(w(t,n,i),r=!0)})),s&&(e=k(c)),r}}var d=0,h=0,f=!1,p=[],m=[],_=null;function y(e){return e&&(p.push(e),m.push(_)),a(new G("Error modifying one or more objects",p,h,m))}function M(){f&&h+p.length===d&&(p.length>0?y():r(h))}t.clone().raw()._iterate((function(e,t){_=t.primaryKey;var r={primKey:t.primaryKey,value:e,onsuccess:null,onerror:null};function n(e){return p.push(e),m.push(r.primKey),M(),!0}if(!1!==I.call(r,e,r)){var i=!A(r,"value");++d,b((function(){var e=i?t.delete():t.update(r.value);e._hookCtx=r,e.onerror=Dt(n),e.onsuccess=Mt((function(){++h,M()}))}),n)}else r.onsuccess&&r.onsuccess(r.value)}),(function(){f=!0,M()}),y,g)}))},delete:function(){var e=this,t=this._ctx,r=t.range,n=t.table.hook.deleting.fire,i=n!==Q;if(!i&&ye(t)&&(t.isPrimKey&&!bt||!r))return this._write((function(e,t,n){var i=Ot(t),s=r?n.count(r):n.count();s.onerror=i,s.onsuccess=function(){var o=s.result;b((function(){var t=r?n.delete(r):n.clear();t.onerror=i,t.onsuccess=function(){return e(o)}}),(function(e){return t(e)}))}}));var s=i?2e3:1e4;return this._write((function(r,o,a,g){var A=0,u=e.clone({keysOnly:!t.isMatch&&!i}).distinct().limit(s).raw(),I=[],C=function(){return u.each(i?function(e,t){I.push([t.primaryKey,t.value])}:function(e,t){I.push(t.primaryKey)}).then((function(){return i?I.sort((function(e,t){return Oe(e[0],t[0])})):I.sort(Oe),fe(a,g,I,i,n)})).then((function(){var e=I.length;return A+=e,I=[],e<s?A:C()}))};r(C())}))}}})),o(this,{Collection:_e,Table:le,Transaction:pe,Version:ge,WhereClause:me}),J.on("versionchange",(function(e){e.newVersion>0?console.warn("Another connection wants to upgrade database '"+J.name+"'. Closing db now to resume the upgrade."):console.warn("Another connection wants to delete database '"+J.name+"'. Closing db now to resume the delete request."),J.close()})),J.on("blocked",(function(e){!e.newVersion||e.newVersion<e.oldVersion?console.warn("Dexie.delete('"+J.name+"') was blocked"):console.warn("Upgrade '"+J.name+"' blocked by other connection holding version "+e.oldVersion/10)})),m.forEach((function(e){e(J)}))}function kt(e,t){return n(t).forEach((function(r){var n=function e(t){if("function"==typeof t)return new t;if(i(t))return[e(t[0])];if(t&&"object"==typeof t){var r={};return kt(r,t),r}return t}(t[r]);e[r]=n})),e}function Mt(e){return Ge((function(t){var r=t.target,n=r._hookCtx,i=n.value||r.result,s=n&&n.onsuccess;s&&s(i),e&&e(i)}),e)}function Ot(e){return Ge((function(t){return Tt(t),e(t.target.error),!1}))}function St(e){return Ge((function(t){e(t.target.result)}))}function Dt(e){return Ge((function(t){var r=t.target,n=r.error,i=r._hookCtx,s=i&&i.onerror;return s&&s(n),Tt(t),e(n),!1}))}function Tt(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault()}function Lt(e){var t=function(t){return e.next(t)},r=s(t),n=s((function(t){return e.throw(t)}));function s(e){return function(t){var s=e(t),o=s.value;return s.done?o:o&&"function"==typeof o.then?o.then(r,n):i(o)?Ee.all(o).then(r,n):r(o)}}return s(t)()}function Et(e,t,r,n,i,s,o){this.name=e,this.keyPath=t,this.unique=r,this.multi=n,this.auto=i,this.compound=s,this.dotted=o;var a="string"==typeof t?t:t&&"["+[].join.call(t,"+")+"]";this.src=(r?"&":"")+(n?"*":"")+(i?"++":"")+a}function Pt(e,t,r,n){this.name=e,this.primKey=t||new Et,this.indexes=r||[new Et],this.instanceTemplate=n,this.mappedClass=null,this.idxByName=_(r,(function(e){return[e.name,e]}))}function xt(e){return 1===e.length?e[0]:e}function jt(e){var t=e&&(e.getDatabaseNames||e.webkitGetDatabaseNames);return t&&t.bind(e)}R(j,vt),u(wt,$),u(wt,{delete:function(e){var t=new wt(e),r=t.delete();return r.onblocked=function(e){return t.on("blocked",e),this},r},exists:function(e){return new wt(e).open().then((function(e){return e.close(),!0})).catch(wt.NoSuchDatabaseError,(function(){return!1}))},getDatabaseNames:function(e){var t=jt(wt.dependencies.indexedDB);return t?new Ee((function(e,r){var n=t();n.onsuccess=function(t){e(h(t.target.result,0))},n.onerror=Ot(r)})).then(e):lt.dbnames.toCollection().primaryKeys(e)},defineClass:function(e){return function(e){e&&o(this,e)}},applyStructure:kt,ignoreTransaction:function(e){return Se.trans?ot(Se.transless,e):e()},vip:function(e){return Qe((function(){return Se.letThrough=!0,e()}))},async:function(e){return function(){try{var t=Lt(e.apply(this,arguments));return t&&"function"==typeof t.then?t:Ee.resolve(t)}catch(e){return It(e)}}},spawn:function(e,t,r){try{var n=Lt(e.apply(r,t||[]));return n&&"function"==typeof n.then?n:Ee.resolve(n)}catch(e){return It(e)}},currentTransaction:{get:function(){return Se.trans||null}},waitFor:function(e,t){var r=Ee.resolve("function"==typeof e?wt.ignoreTransaction(e):e).timeout(t||6e4);return Se.trans?Se.trans.waitFor(r):r},Promise:Ee,debug:{get:function(){return j},set:function(e){R(e,"dexie"===e?function(){return!0}:vt)}},derive:l,extend:o,props:u,override:f,Events:Ct,getByKeyPath:v,setByKeyPath:w,delByKeyPath:function(e,t){"string"==typeof t?w(e,t,void 0):"length"in t&&[].map.call(t,(function(t){w(e,t,void 0)}))},shallowClone:k,deepClone:D,getObjectDiff:T,asap:m,maxKey:dt,minKey:ht,addons:[],connections:mt,MultiModifyError:Z.Modify,errnames:V,IndexSpec:Et,TableSchema:Pt,dependencies:{get indexedDB(){try{return s.indexedDB||s.mozIndexedDB||s.webkitIndexedDB||s.msIndexedDB}catch(e){}},get IDBKeyRange(){try{return s.IDBKeyRange||s.webkitIDBKeyRange}catch(e){}}},semVer:"{version}",version:"{version}".split(".").map((function(e){return parseInt(e)})).reduce((function(e,t,r){return e+t/Math.pow(10,2*r)})),default:wt,Dexie:wt}),Ee.rejectionMapper=function(e,t){if(!e||e instanceof W||e instanceof TypeError||e instanceof SyntaxError||!e.name||!J[e.name])return e;var r=new J[e.name](t||e.message,e);return"stack"in e&&C(r,"stack",{get:function(){return this.inner.stack}}),r},(lt=new wt("__dbnames")).version(1).stores({dbnames:"name"}),function(){try{if(void 0!==typeof localStorage&&void 0!==s.document)try{JSON.parse(localStorage.getItem("Dexie.DatabaseNames")||"[]").forEach((function(e){return lt.dbnames.put({name:e}).catch(Q)})),localStorage.removeItem("Dexie.DatabaseNames")}catch(e){}}catch(e){}}(),t.default=wt}.call(this,r(27),r(229).setImmediate)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.daysSinceEpochToDate=function(e){return o().add(e,"days")},t.dateToDaysSinceEpoch=function(e){return e.diff(o(),"days")},t.formattedToDate=function(e,t){return(0,i.default)(e,t)},t.isConfigTsDate=function(e){return"string"==typeof e&&e.length===s.length&&(0,i.default)(e,s).isValid()},t.getLastVisited=function(e){return{exact:(0,i.default)(e).format("HH:mm LL"),fromNow:(0,i.default)(e).fromNow()}},t.getFrames=function(){const e=(0,i.default)(),t=(0,i.default)().subtract(1,"day"),r=(0,i.default)().subtract(1,"week");return{today:{frameStartsAt:1e3*e.startOf("day").valueOf(),frameEndsAt:1e3*e.endOf("day").valueOf()},yesterday:{frameStartsAt:1e3*t.startOf("day").valueOf(),frameEndsAt:1e3*t.endOf("day").valueOf()},lastWeek:{frameStartsAt:1e3*r.startOf("day").valueOf(),frameEndsAt:1e3*e.endOf("day").valueOf()}}},t.CONFIG_TS_FORMAT=void 0;var n,i=(n=r(103))&&n.__esModule?n:{default:n};
/*!
 * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */
const s="YYYYMMDD";function o(){return(0,i.default)("19700101","YYYYMMDD")}t.CONFIG_TS_FORMAT=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={hasOpenedTabWithUrl:!0};t.hasOpenedTabWithUrl=
/*!
 * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */
function(e){let t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).strict;if(void 0===t||t)return s.openedURLs.has(e);return(0,i.getUrlVariations)(e).some(e=>s.openedURLs.has(e))};var i=r(73),s=r(439),o=r(267);Object.keys(o).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(n,e)||Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}}))}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i=(n=r(176))&&n.__esModule?n:{default:n};t.default=
/*!
 * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */
class{constructor(e,t,r){this._buildValue=e,this._buildKey=r,this._maxKeySize=1e3,this._hitCounter=0,this._missCounter=0,this.lru=new i.default(t)}get(e){const t=this._buildKey?this._buildKey(e):e;let r=this.lru.get(t);return void 0!==r?(this._hitCounter+=1,r):(this._missCounter+=1,r=this._buildValue(e),!t||t.length>this._maxKeySize?r:(this.lru.set(t,r),r))}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hash=c,t.sha256=h,t.fromByteArray=u,t.toByteArray=I,t.fromArrayBuffer=C,t.toArrayBuffer=l,t.encryptAES=_,t.encryptStringAES=b,t.decryptAES=w,t.decryptStringAES=M,t.generateAESKey=S,t.exportAESKey=function(e){return T.apply(this,arguments)},t.importAESKey=p,t.importRSAKey=L,t.wrapAESKey=P,t.unwrapAESKey=j,t.encryptStringRSA=function(e,t){return Y.apply(this,arguments)},t.rawEncryptRSA=function(e,t){return N.apply(this,arguments)},t.encryptRSA=function(e,t,r){return F.apply(this,arguments)},t.decryptRSA=function(e,t){return B.apply(this,arguments)},t.decryptStringRSA=function(e,t){return z.apply(this,arguments)},t.randomBytes=function(e){return i.default.getRandomValues(new Uint8Array(e))},t.deriveAESKey=function(e){return W.apply(this,arguments)},t.sha1=function(e){return G.apply(this,arguments)},t.generateRSAKeypair=function(){return q.apply(this,arguments)},t.signRSA=function(e,t){return V.apply(this,arguments)},Object.defineProperty(t,"exportPrivateKey",{enumerable:!0,get:function(){return o.exportPrivateKey}}),Object.defineProperty(t,"exportPublicKey",{enumerable:!0,get:function(){return o.exportPublicKey}});var n,i=(n=r(201))&&n.__esModule?n:{default:n},s=r(112),o=r(333);function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var r=[],n=!0,i=!1,s=void 0;try{for(var o,a=e[Symbol.iterator]();!(n=(o=a.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){i=!0,s=e}finally{try{n||null==a.return||a.return()}finally{if(i)throw s}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function g(e,t,r,n,i,s,o){try{var a=e[s](o),g=a.value}catch(e){return void r(e)}a.done?t(g):Promise.resolve(g).then(n,i)}function A(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var s=e.apply(t,r);function o(e){g(s,n,i,o,a,"next",e)}function a(e){g(s,n,i,o,a,"throw",e)}o(void 0)}))}}function u(e,t){return"hex"===t?(0,s.toHex)(e):"b64"===t?(0,s.toBase64)(e):e}function I(e,t){return"hex"===t?(0,s.fromHex)(e):"b64"===t?(0,s.fromBase64)(e):e}function C(e,t){return u(new Uint8Array(e),t)}function l(e,t){return I(e,t).buffer}function c(e,t){return d.apply(this,arguments)}function d(){return(d=A((function*(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"hex";return i.default.subtle.digest(e,"string"==typeof t?(0,s.toUTF8)(t):t).then(e=>C(e,r))}))).apply(this,arguments)}function h(e){return f.apply(this,arguments)}function f(){return(f=A((function*(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"hex";return c("SHA-256",e,t)}))).apply(this,arguments)}function p(e){return m.apply(this,arguments)}function m(){return(m=A((function*(e){return i.default.subtle.importKey("raw",l(e,"hex"),{name:"AES-GCM",length:256},!0,["encrypt","decrypt"])}))).apply(this,arguments)}function _(e,t,r){return y.apply(this,arguments)}function y(){return(y=A((function*(e,t,r){return Promise.all([r||i.default.getRandomValues(new Uint8Array(12)),"string"==typeof t?p(t):t]).then(t=>{let r=a(t,2),n=r[0],s=r[1];return i.default.subtle.encrypt({name:"AES-GCM",iv:n},s,e).then(e=>[C(n,"b64"),C(e,"b64")])})}))).apply(this,arguments)}function b(e,t,r){return v.apply(this,arguments)}function v(){return(v=A((function*(e,t,r){return _((0,s.toUTF8)(e).buffer,t,r)}))).apply(this,arguments)}function w(e,t){return k.apply(this,arguments)}function k(){return(k=A((function*(e,t){let r=e[0],n=e[1];return r=new Uint8Array(l(r,"b64")),n=l(n,"b64"),Promise.resolve().then(()=>"string"==typeof t?p(t):t).then(e=>i.default.subtle.decrypt({name:"AES-GCM",iv:r},e,n))}))).apply(this,arguments)}function M(e,t){return O.apply(this,arguments)}function O(){return(O=A((function*(e,t){return w(e,t).then(e=>(0,s.fromUTF8)(new Uint8Array(e)))}))).apply(this,arguments)}function S(){return D.apply(this,arguments)}function D(){return(D=A((function*(){return i.default.subtle.generateKey({name:"AES-GCM",length:256},!0,["encrypt","decrypt"])}))).apply(this,arguments)}function T(){return(T=A((function*(e){return i.default.subtle.exportKey("raw",e).then(e=>C(e,"hex"))}))).apply(this,arguments)}function L(e){return E.apply(this,arguments)}function E(){return(E=A((function*(e){let t,r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"SHA-256",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"RSA-OAEP";return t=r?"RSA-OAEP"===o?["wrapKey","encrypt"]:["verify"]:"RSA-OAEP"===o?["unwrapKey","decrypt"]:["sign"],i.default.subtle.importKey(r?"spki":"pkcs8",(0,s.fromBase64)(e),{name:o,hash:{name:n}},!0,t)}))).apply(this,arguments)}function P(e,t){return x.apply(this,arguments)}function x(){return(x=A((function*(e,t){return Promise.resolve("string"==typeof t?L(t,!0):t).then(t=>i.default.subtle.wrapKey("raw",e,t,{name:"RSA-OAEP",hash:{name:"SHA-256"}})).then(e=>(0,s.toBase64)(e))}))).apply(this,arguments)}function j(e,t){return R.apply(this,arguments)}function R(){return(R=A((function*(e,t){return Promise.resolve("string"==typeof t?L(t,!1):t).then(t=>i.default.subtle.unwrapKey("raw",(0,s.fromBase64)(e),t,{name:"RSA-OAEP",modulusLength:2048,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-256"}},{name:"AES-GCM",length:256},!0,["encrypt","decrypt"]))}))).apply(this,arguments)}function Y(){return(Y=A((function*(e,t){return S().then(r=>{let n;return n=Array.isArray(t)?Promise.all(t.map(e=>P(r,e))):P(r,t),Promise.all([b(e,r),n])})}))).apply(this,arguments)}function N(){return(N=A((function*(e,t){return L(t,!0,"SHA-1").then(t=>i.default.subtle.encrypt({name:"RSA-OAEP"},t,e)).then(e=>new Uint8Array(e))}))).apply(this,arguments)}function U(e,t,r){return H.apply(this,arguments)}function H(){return(H=A((function*(e,t,r){const n=Array.isArray(t)?Promise.all(t.map(e=>P(r,e))):P(r,t);return Promise.all([_(e,r),n])}))).apply(this,arguments)}function F(){return(F=A((function*(e,t,r){return r?U(e,t,r):S().then(r=>U(e,t,r))}))).apply(this,arguments)}function B(){return(B=A((function*(e,t){const r=a(e,2),n=r[0];return j(r[1],t).then(e=>w(n,e))}))).apply(this,arguments)}function z(){return(z=A((function*(e,t){const r=a(e,2),n=r[0];return j(r[1],t).then(e=>M(n,e))}))).apply(this,arguments)}function W(){return(W=A((function*(e){return h(e,"raw").then(e=>i.default.subtle.importKey("raw",e,{name:"AES-GCM"},!0,["encrypt","decrypt"]))}))).apply(this,arguments)}function G(){return(G=A((function*(e){return c("SHA-1",e)}))).apply(this,arguments)}function q(){return(q=A((function*(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2048,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"SHA-256";return i.default.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:e,publicExponent:new Uint8Array([1,0,1]),hash:{name:t}},!0,["sign","verify"]).then(e=>Promise.all([i.default.subtle.exportKey("spki",e.publicKey).then(s.toBase64),i.default.subtle.exportKey("pkcs8",e.privateKey).then(s.toBase64)]))}))).apply(this,arguments)}function V(){return(V=A((function*(e,t){const r="string"==typeof t?(0,s.toUTF8)(t):t;return(0,s.toHex)(yield i.default.subtle.sign({name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},e,r))}))).apply(this,arguments)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.importPrivateKeyPKCS8=function(e){const t=new s.default(0);t.set((0,i.fromBase64)(e)),t.getByte(),c(t),t.getBytes(3),t.getBytes(15),t.getByte(),c(t);const r=h(t,["version","n","e","d","p","q","dp","dq","qi"]);return delete r.version,r},t.exportPrivateKeyPKCS8=l,t.exportPrivateKey=function(e){const t=["AA==",e.n,e.e,e.d,e.p,e.q,e.dp,e.dq,e.qi].map(e=>u((0,i.fromBase64)(g(e)))),r=new s.default(2e3);r.pushByte(48);const n=t.reduce((e,t)=>e+o(t.length),0);return a(r,n),t.forEach(e=>{r.pushByte(2),a(r,e.length),r.pushBytes(e)}),(0,i.toBase64)(r.crop())},t.exportPublicKey=I,t.exportPublicKeySPKI=C,t.importPublicKey=function(e){const t=new s.default(0);if(t.set((0,i.fromBase64)(e)),48!==t.getByte())throw new Error("format not correct");if(c(t),t.getBytes(15),3!==t.getByte())throw new Error("format not correct");if(c(t),0!==t.getByte())throw new Error("format not correct");return h(t,["n","e"])},t.importPrivateKey=f,t.privateKeytoKeypair=function(e){const t=f(e);return[C(t),l(t)]},t.exportPublicKeySimple=function(e){const t=[e.n,e.e].map(e=>u((0,i.fromBase64)(g(e)))),r=new s.default(2e3);r.pushByte(48);const n=t.reduce((e,t)=>e+o(t.length),0);return a(r,n),t.forEach(e=>{r.pushByte(2),a(r,e.length),r.pushBytes(e)}),(0,i.toBase64)(r.crop())};var n,i=r(112),s=(n=r(458))&&n.__esModule?n:{default:n};
/*!
 * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */
function o(e){let t=e+1;if(e<128)t+=1;else if(e<256)t+=2;else if(e<65536)t+=3;else if(e<1<<24)t+=4;else{if(!(e<1))throw new Error(`value too big ${e}`);t+=5}return t}function a(e,t){if(t<128)e.pushByte(t);else if(t<256)e.pushByte(129),e.pushByte(t);else if(t<65536)e.pushByte(130),e.pushByte(t>>8),e.pushByte(255&t);else if(t<1<<24)e.pushByte(131),e.pushByte(t>>16),e.pushByte(t>>8&255),e.pushByte(255&t);else{if(!(t<1))throw new Error(`value too big ${t}`);e.pushByte(132),e.pushByte(t>>24),e.pushByte(t>>16&255),e.pushByte(t>>8&255),e.pushByte(255&t)}}function g(e){const t=(4-(e=e.replace(/-/g,"+").replace(/_/g,"/")).length%4)%4;if(3===t)throw new Error(`illegal base64 string: ${e}`);for(let r=0;r<t;r++)e+="=";return e}function A(e){e=e.replace(/\+/g,"-").replace(/\//g,"_");for(let t=0;t<2;++t)"="===e[e.length-1]&&(e=e.substring(0,e.length-1));return e}function u(e){if(128&e[0]){const t=new Uint8Array(e.length+1);return t[0]=0,t.set(e,1),t}return e}function I(e){const t=[e.n,e.e].map(e=>u((0,i.fromBase64)(g(e)))),r=t.reduce((e,t)=>e+o(t.length),0),n=new s.default(2e3);return n.pushByte(48),a(n,o(o(r)+1)+15),n.pushBytes(new Uint8Array([48,13,6,9,42,134,72,134,247,13,1,1,1,5,0])),n.pushByte(3),a(n,o(r)+1),n.pushByte(0),n.pushByte(48),a(n,r),t.forEach(e=>{n.pushByte(2),a(n,e.length),n.pushBytes(e)}),(0,i.toBase64)(n.crop())}function C(e){return I(e)}function l(e){const t=["AA==",e.n,e.e,e.d,e.p,e.q,e.dp,e.dq,e.qi].map(e=>u((0,i.fromBase64)(g(e)))),r=t.reduce((e,t)=>e+o(t.length),0),n=new s.default(2e3);return n.pushByte(48),a(n,18+o(o(r))),n.pushBytes(new Uint8Array([2,1,0])),n.pushBytes(new Uint8Array([48,13,6,9,42,134,72,134,247,13,1,1,1,5,0])),n.pushByte(4),a(n,o(r)),n.pushByte(48),a(n,r),t.forEach(e=>{n.pushByte(2),a(n,e.length),n.pushBytes(e)}),(0,i.toBase64)(n.crop())}function c(e){const t=e.getByte();if(128&t){let r=127&t,n=0;for(;r--;)n=n<<8|e.getByte();return n}return t}function d(e){if(2!==e.getByte())throw new Error("invalid tag for integer value");const t=c(e);let r=e.getBytes(t);return 0===r[0]&&(r=r.subarray(1)),r}function h(e,t){const r={};if(48!==e.getByte())throw new Error("first value not correct");c(e);for(let n=0;n<t.length;++n){let s=d(e);s=A((0,i.toBase64)(s)),r[t[n]]=s}return r.alg="RS256",r.ext=!0,r.kty="RSA",r}function f(e){const t=function(e,t){const r=new s.default(0);return r.set((0,i.fromBase64)(e)),h(r,t)}(e,["version","n","e","d","p","q","dp","dq","qi"]);return delete t.version,t}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;
/*!
 * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */
var n="undefined"!=typeof Worker?Worker:void 0;t.default=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ECDH_P256_AES_128_GCM=t.VERSION=void 0;t.VERSION=1;t.ECDH_P256_AES_128_GCM=234},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(111),i=A(r(19)),s=r(102),o=r(203),a=A(r(74)),g=A(r(81));function A(e){return e&&e.__esModule?e:{default:e}}
/*!
 * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */t.default=class{constructor(e,t){this.whitelist=new Set,this.whitelistPersist=new o.LazyPersistentObject(e),this.logger=a.default.get("core",{prefix:`url-whitelist:${e}`}),t&&this.migrate(t)}init(){return this.whitelistPersist.load().then(e=>{void 0!==e.urls&&(this.whitelist=new Set(e.urls),e.urls.some(e=>-1!==e.indexOf("."))&&this.upgrade())})}clear(){this.whitelist.clear(),this.persistWhitelist()}persistWhitelist(){this.whitelistPersist.setValue({urls:[...this.whitelist.values()]})}upgrade(){const e=new Set;this.whitelist.forEach(t=>{const r=t.slice(0,1),n=t.slice(2);e.add(`${r}:${(0,g.default)(n)}`)}),this.whitelist=e,this.persistWhitelist()}migrate(e){const t=i.default.get(e,null);t&&(this.whitelist=new Set(t)),i.default.clear(e),this.persistWhitelist()}isWhitelisted(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(0===this.whitelist.size)return!1;if(this.whitelist.has(`u:${(0,g.default)(e)}`))return!0;if(null===t||null===r){const i=n.URLInfo.get(e);if(null===i)return!1;t=null===t?i.hostname:t,r=null===r?i.generalDomain:r}return this.whitelist.has(`g:${(0,g.default)(r)}`)||this.whitelist.has(`h:${(0,g.default)(t)}`)}getState(e){return{url:this.whitelist.has(`u:${(0,g.default)(e)}`),hostname:this.whitelist.has(`h:${(0,g.default)((0,s.extractHostname)(e))}`),generalDomain:this.whitelist.has(`g:${(0,g.default)((0,s.getGeneralDomain)(e))}`)}}clearState(e){this.changeState(e,"url","remove",!0),this.changeState(e,"hostname","remove",!0),this.changeState(e,"generalDomain","remove",!0),this.persistWhitelist()}changeState(e,t,r,n){let i;switch(this.logger.log(e,t,r,"changeState"),t){case"url":i=`u:${(0,g.default)(e)}`;break;case"hostname":i=`h:${(0,g.default)((0,s.extractHostname)(e))}`;break;case"generalDomain":i=`g:${(0,g.default)((0,s.getGeneralDomain)(e))}`;break;default:throw new Error("Supported types: url, hostname, generalDomain",t)}if(i){switch(r){case"add":this.whitelist.add(i);break;case"remove":this.whitelist.delete(i);break;case"toggle":this.whitelist.has(i)?this.whitelist.delete(i):this.whitelist.add(i);break;default:return void this.logger.error("Supprted actions: add, remove, toggle",r)}n||this.persistWhitelist()}else this.logger.log("Not valid",t,e)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(r(133)),i=r(91),s=a(r(231)),o=a(r(485));function a(e){return e&&e.__esModule?e:{default:e}}
/*!
 * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */t.default=class{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];this.name=e,this.isBreakable=r,this.measureLatency=n.default.isEnabled(),this.measureLatency&&(this.latencyMetrics=new o.default(e),this.latencyMetrics.init()),this.unload({shallow:!0}),this.addAll(t)}get length(){return this.pipeline.length}unload(){let e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).shallow,t=void 0!==e&&e;this.pipeline=[],this.stepNames=new Set,this.measureLatency&&!t&&this.latencyMetrics.unload()}addAll(e){for(let t=0;t<e.length;t+=1)this.addPipelineStep(e[t])}addPipelineStep(e){const t=e.name,r=e.fn,n=e.after,i=void 0===n?[]:n,s=e.before,o=void 0===s?[]:s,a=e.spec;if(void 0===t)throw new Error(`Every step of the pipeline should be given a name in ${this.name}`);if(this.stepNames.has(t))throw new Error(`Trying to overwrite existing ${this.name}.${t}`);if("annotate"!==a&&"collect"!==a&&"blocking"!==a&&"break"!==a)throw new Error(`Every step of the pipeline should be given a valid spec (got ${a}): ${this.name}.${t}`);if(void 0===r)throw new Error(`Every step of the pipeline should have a function ('fn' argument): ${this.name}.${t}`);if("break"===a&&!this.isBreakable)throw new Error(`Cannot add a break step '${t}' to an unbreakable pipeline`);this.stepNames.add(t);const g=0===this.pipeline.length,A=i.length>0,u=o.length>0;if(!A&&!u||g)this.pipeline.push(e);else if(A&&!u){let t=-1;for(let e=0;e<this.pipeline.length;e+=1)-1!==i.indexOf(this.pipeline[e].name)&&(t=e+1);if(-1===t)throw new Error(`no step from 'after' list found, after=${JSON.stringify(i)}, pipeline=${this.name}`);t===this.pipeline.length?this.pipeline.push(e):this.pipeline.splice(t,0,e)}else{if(!u||A)throw new Error("cannot take both before and after constraints");{let t=-1;for(let e=0;e<this.pipeline.length;e+=1)if(-1!==o.indexOf(this.pipeline[e].name)){t=e;break}-1===t?this.pipeline.push(e):this.pipeline.splice(t,0,e)}}}removePipelineStep(e){this.pipeline=this.pipeline.filter(t=>t.name!==e),this.stepNames.delete(e)}execute(e,t){let r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const n=!0===this.measureLatency&&!1===e.isPrivate;for(let o=0;o<this.pipeline.length;o+=1){const a=!0===n?performance.now():0,g=this.pipeline[o],A=g.name,u=g.fn;let I=!0;switch(g.spec){case"break":case"annotate":I=u(e);break;case"collect":(0,i.nextTick)(()=>u(e));break;case"blocking":!0===r&&(I=u(e,t));break;default:s.default.error("Invalid spec for step",this.pipeline[o])}if(!0===n&&this.latencyMetrics.addTiming(A,performance.now()-a),!1===I){if(!0===this.isBreakable){s.default.debug(this.name,e.url,"Break at",A);break}s.default.error(this.name,e.url,"ignoring attempted break of unbreakable pipeline at",A)}}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i=(n=r(44))&&n.__esModule?n:{default:n};t.default=
/*!
 * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */
class{constructor(){this._items=new Set,this._timeouts=new Set}contains(e){return this._items.has(e)}has(e){return this.contains(e)}add(e,t){this._items.add(e);const r=i.default.setTimeout(function(){this.delete(e),this._timeouts.delete(r)}.bind(this),t||0);this._timeouts.add(r)}delete(e){this._items.delete(e)}clear(){var e=!0,t=!1,r=void 0;try{for(var n,s=this._timeouts[Symbol.iterator]();!(e=(n=s.next()).done);e=!0){const e=n.value;i.default.clearTimeout(e)}}catch(e){t=!0,r=e}finally{try{e||null==s.return||s.return()}finally{if(t)throw r}}this._timeouts.clear(),this._items.clear()}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=I(r(43)),i=I(r(19)),s=I(r(489)),o=function(e){if(e&&e.__esModule)return e;var t=u();if(t&&t.has(e))return t.get(e);var r={};if(null!=e){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var s=n?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(r,i,s):r[i]=e[i]}}r.default=e,t&&t.set(e,r);return r}(r(33)),a=I(r(148)),g=r(104),A=I(r(225));function u(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return u=function(){return e},e}function I(e){return e&&e.__esModule?e:{default:e}}
/*!
 * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */var C={telemetry(e){this.provider?(e.platform=this.platform,e.userAgent=this.userAgent,this.providerName.startsWith("hpn")?(e=function(e,t){i.default.get("ff-experiment",null)?e.channel="ff-experiment":e.channel=t;try{e.ts=(0,g.getConfigTs)()}catch(e){return}if(e.ts)return e["anti-duplicates"]=Math.floor(1e7*(0,a.default)()),e}(e,this.channel))&&(0,o.ifModuleEnabled)(this.provider.action("sendTelemetry",e)):(0,o.ifModuleEnabled)(this.provider.action("telemetry",e))):n.default.log("No telemetry provider loaded","attrack")},provider:null,providerName:null,msgType:"humanweb",channel:null,loadFromProvider(e,t){n.default.log(`Load telemetry provider: ${e}`,"attrack"),this.providerName=e,this.channel=t;const r=function(){if("firefox"===A.default.platformName)return{platform:"",userAgent:"firefox"};if("webextension"===A.default.platformName){let e="";return A.default.isFirefox?e="firefox":A.default.isChromium?e="chrome":A.default.isEdge&&(e="edge"),{platform:A.default.isMobile?"mobile":"",userAgent:e}}return{platform:"",userAgent:""}}(),i=r.platform,a=r.userAgent;if(this.platform=i,this.userAgent=a,"platform"===e)return this.telemetry=s.default.telemetry.bind(s.default),this.msgType=s.default.msgType,Promise.resolve(this);this.provider=o.default.module(e)}};t.default=C},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDefaultTrackerTxtRule=I,t.setDefaultTrackerTxtRule=function(e){u=e},t.updateDefaultTrackerTxtRule=function(){const e=o.default.get("attrackDefaultAction","same");g.has(e)||"same"===e?u=e:o.default.clear("attrackDefaultAction")},t.trackerRuleParser=t.TrackerTXT=t.DEFAULT_ACTION_PREF=void 0;var n=a(r(331)),i=r(104),s=r(68),o=a(r(19));function a(e){return e&&e.__esModule?e:{default:e}}
/*!
 * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */const g=new Set(["placeholder","block","empty","replace"]),A="attrackDefaultAction";t.DEFAULT_ACTION_PREF=A;let u=null;function I(){return null===u&&(u=o.default.get(A,"same")),u}const C=(e,t)=>{e.split("\n").map(e=>e.trim()).filter(e=>"R"===e[0]).forEach(e=>{const r=e.split(/\s+/).map(e=>e.trim().toLowerCase());3===r.length&&g.has(r[2])&&t.push({site:r[1],rule:r[2]})})};t.trackerRuleParser=C;const l=function(e){this.baseurl=e,this.rules=[],this.status=null,this.last_update=null};t.TrackerTXT=l,l._cache=new n.default(e=>new l(e),1e3),l.get=e=>{const t=`${e.protocol}://${e.hostname}(${80!==e.port?e.port:""})`;return l._cache.get(t)},l.prototype={update(){if("updating"===this.status||this.last_update===(0,i.getTime)())return;this.status="updating";const e=this;(0,s.httpGet)(`${e.baseurl}/tracking.txt`,(function(t){t.responseText.length<4096&&(e.rules=[],C(t.responseText,e.rules)),e.status="updated",e.last_update=(0,i.getTime)()}),(function(){e.status="error",e.last_update=(0,i.getTime)()}))},getRule(e){for(let t=0;t<this.rules.length;t+=1){const r=this.rules[t];if(e.endsWith(r.site))return r.rule}return I()}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i=r(51),s=(n=r(491))&&n.__esModule?n:{default:n};function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function g(e,t,r,n,i,s,o){try{var a=e[s](o),g=a.value}catch(e){return void r(e)}a.done?t(g):Promise.resolve(g).then(n,i)}function A(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var s=e.apply(t,r);function o(e){g(s,n,i,o,a,"next",e)}function a(e){g(s,n,i,o,a,"throw",e)}o(void 0)}))}}var u=i.chrome&&i.chrome.storage&&i.chrome.storage.local?new class{constructor(e){this.storage=e}_storageAPIRequest(e){for(var t=this,r=arguments.length,n=new Array(r>1?r-1:0),s=1;s<r;s++)n[s-1]=arguments[s];return A((function*(){return new Promise((r,s)=>{t.storage[e](...n,e=>i.chrome.runtime.lastError?s(i.chrome.runtime.lastError):r(e))})}))()}getItem(e){var t=this;return A((function*(){return(yield t._storageAPIRequest("get",e))[e]}))()}setItem(e,t){var r=this;return A((function*(){return r._storageAPIRequest("set",{[e]:t})}))()}removeItem(e){var t=this;return A((function*(){return t._storageAPIRequest("remove",e)}))()}mergeItem(e,t){var r=this;return A((function*(){const n=yield r.getItem(e),i=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(r,!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},JSON.parse(n),{},JSON.parse(t));return r.setItem(e,i)}))()}getAllKeys(){var e=this;return A((function*(){const t=yield e._storageAPIRequest("get",null);return Object.keys(t)}))()}multiGet(e){var t=this;return A((function*(){const r=yield t._storageAPIRequest("get",e);return Object.keys(r).map(e=>[e,r[e]])}))()}multiSet(e){var t=this;return A((function*(){const r=e.reduce((e,t)=>Object.assign(e,{[t[0]]:t[1]}),{});return t._storageAPIRequest("set",r)}))()}multiRemove(e){var t=this;return A((function*(){return t._storageAPIRequest("remove",e)}))()}}(i.chrome.storage.local):s.default;t.default=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i=(n=r(200))&&n.__esModule?n:{default:n};function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}t.default=class{constructor(){this.bugs={},this.others={}}_createEntry(e,t){e[t]||(e[t]={cookies:0,fingerprints:0,ads:0})}_incrementEntry(e,t,r){this._createEntry(e,t),e[t][r]+=1}_addStat(e,t,r){e?this._incrementEntry(this.bugs,e,r):this._incrementEntry(this.others,t,r)}addTrackerSeen(e,t){e?this._createEntry(this.bugs,e):this._createEntry(this.others,t)}addCookieBlocked(e,t){this._addStat(e,t,"cookies")}addTokenRemoved(e,t){this._addStat(e,t,"fingerprints")}addAdBlocked(e,t){this._addStat(e,t,"ads")}getSummary(){return{others:Object.keys(this.others).reduce((e,t)=>{const r=i.default.getDomainOwner(t);return e[r.name]?(Object.keys(this.others[t]).forEach(n=>{e[r.name][n]+=this.others[t][n]}),e[r.name].domains.push(t)):e[r.name]=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(r,!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},r,{},this.others[t],{domains:[t]}),e},{}),bugs:this.bugs}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ImageDownloaderForBatch=t.ImageDownloaderForPush=t.FALLBACK_IMAGE=void 0;var n,i=r(112),s=r(68),o=r(145),a=(n=r(29))&&n.__esModule?n:{default:n},g=r(54);function A(e,t,r,n,i,s,o){try{var a=e[s](o),g=a.value}catch(e){return void r(e)}a.done?t(g):Promise.resolve(g).then(n,i)}function u(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var s=e.apply(t,r);function o(e){A(s,n,i,o,a,"next",e)}function a(e){A(s,n,i,o,a,"throw",e)}o(void 0)}))}}const I="";t.FALLBACK_IMAGE=I;const C=2e3,l=6e5;function c(e,t){return e&&!function(e){return e&&e.startsWith("data:")}(t)}function d(e,t,r){return h.apply(this,arguments)}function h(){return(h=u((function*(e,t,r){let n;try{n=yield r(e)}catch(t){throw new Error(`offers/image-downloader: Can't fetch '${e}': ${t.message}`)}if(!n.ok)throw new Error(`offers/image-downloader: Can't fetch '${e}': ${n.status}/${n.statusText}`);const s=yield n.arrayBuffer?n.arrayBuffer():n.buffer(),o=(0,i.toBase64)(new Uint8Array(s));t(`data:${n.headers.get("content-type")};base64,${o}`)}))).apply(this,arguments)}t.ImageDownloaderForPush=class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.fetch,r=void 0===t?s.fetch:t,n=e.setTimeout,i=void 0===n?o.setTimeout:n;this.fetch=r,this.setTimeout=i}downloadWithinTimeLimit(e,t,r){var n=this;return u((function*(){if(!c(e,t))return;let i=!1;const s=d(e,r,n.fetch).then(()=>{i=!0}).catch(e=>{a.default.warn(e.message)}),o=new Promise(e=>n.setTimeout(e,C));yield Promise.race([s,o]),i||t===e||r(e)}))()}};t.ImageDownloaderForBatch=class{constructor(){let e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).fetch,t=void 0===e?s.fetch:e;this.fetch=t,this.lastActiveBatchTsMs=0,this.nThreads=0}download(e,t,r){var n=this;return u((function*(){if(!c(e,t))return!1;const i=(e=>null==e)(t)?e:I;return i!==t&&r(i),!((0,g.timestampMS)()-n.lastActiveBatchTsMs<l)&&(n.nThreads+=1,d(e,r,n.fetch).catch(e=>{a.default.warn(e.message),t!==I&&r(I)}).then(()=>{n.nThreads-=1,n.nThreads<0&&a.default.warn("ImageDownloaderForBatch: number of threads is below zero")}))}))()}markBatch(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,g.timestampMS)();this.nThreads&&(this.lastActiveBatchTsMs=e)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i=(n=r(345))&&n.__esModule?n:{default:n};function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var r=[],n=!0,i=!1,s=void 0;try{for(var o,a=e[Symbol.iterator]();!(n=(o=a.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){i=!0,s=e}finally{try{n||null==a.return||a.return()}finally{if(i)throw s}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function o(e,t,r,n,i,s,o){try{var a=e[s](o),g=a.value}catch(e){return void r(e)}a.done?t(g):Promise.resolve(g).then(n,i)}t.default=class{constructor(e){this.name=e,this.data=new Map,this.db=null}init(){var e,t=this;return(e=function*(){const e=yield(0,i.default)();t.db=new e(t.name),yield t.db.init(),(yield t.db.entries()).forEach(e=>{let r=s(e,2),n=r[0],i=r[1];t.data.set(n,i)})},function(){var t=this,r=arguments;return new Promise((function(n,i){var s=e.apply(t,r);function a(e){o(s,n,i,a,g,"next",e)}function g(e){o(s,n,i,a,g,"throw",e)}a(void 0)}))})()}unload(){this.data.clear(),null!==this.db&&(this.db.unload(),this.db=null)}get(e){return this.data.get(e)}set(e,t){return this.data.set(e,t),null!==this.db?this.db.set(e,t):Promise.resolve()}has(e){return this.data.has(e)}delete(e){return this.data.delete(e),null!==this.db?this.db.delete(e):Promise.resolve()}clear(){return this.data.clear(),null!==this.db?this.db.clear():Promise.resolve()}size(){return this.data.size}keys(){return[...this.data.keys()]}entries(){return[...this.data.entries()]}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return g};var n=o(r(525)),i=o(r(526)),s=o(r(43));function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t,r,n,i,s,o){try{var a=e[s](o),g=a.value}catch(e){return void r(e)}a.done?t(g):Promise.resolve(g).then(n,i)}const g=(A=function*(){try{const e=new n.default("test_db");yield e.init(),yield e.set("foo","bar"),yield e.get("foo"),yield e.destroy()}catch(e){return s.default.warn("Storage not available, fallback to in-memory",e),i.default}return n.default},u=function(){var e=this,t=arguments;return new Promise((function(r,n){var i=A.apply(e,t);function s(e){a(i,r,n,s,o,"next",e)}function o(e){a(i,r,n,s,o,"throw",e)}s(void 0)}))},function(){return u.apply(this,arguments)})();var A,u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mock=function(){const e={related:[],touched:[],tooltip:[],owned:[]};return{mock:!0,stats:()=>a({},e),statsCached:()=>a({},e),invalidateCache:()=>{}}},t.matchHostname=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const r=(0,s.extractHostname)(t);return A(e,r)},t.matchUrl=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return A(e,t)};var n,i=(n=r(159))&&n.__esModule?n:{default:n},s=r(102);function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(r,!0).forEach((function(t){g(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function g(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function A(e,t){const r=i.default.Request.fromRawDetails({url:t,type:"script"});return e.reduce((e,t)=>{const n=i.default.NetworkFilter.parse(t);return e||n.match(r)},!1)}},function(e,t,r){"use strict";function n(e,t,r,n,i,s,o){try{var a=e[s](o),g=a.value}catch(e){return void r(e)}a.done?t(g):Promise.resolve(g).then(n,i)}Object.defineProperty(t,"__esModule",{value:!0}),t.isThrottleError=function(e){return"ThrottleError"===e.constructor.name},t.ThrottleWithRejection=t.ThrottleError=void 0;class i extends Error{}t.ThrottleError=i;t.ThrottleWithRejection=class{constructor(e){this.throttleIntervalMs=1e3*e,this.reset()}reset(){this.isExecuting=!1,this.lastExecutionMs=0}executeAsync(e){for(var t=this,r=arguments.length,s=new Array(r>1?r-1:0),o=1;o<r;o++)s[o-1]=arguments[o];return function(e){return function(){var t=this,r=arguments;return new Promise((function(i,s){var o=e.apply(t,r);function a(e){n(o,i,s,a,g,"next",e)}function g(e){n(o,i,s,a,g,"throw",e)}a(void 0)}))}}((function*(){if(Date.now()-t.lastExecutionMs<t.throttleIntervalMs||t.isExecuting)throw new i(`Executed too frequently: ${e.name}`);t.isExecuting=!0;try{return yield e(...s)}finally{t.lastExecutionMs=Date.now(),t.isExecuting=!1}}))()}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=class{constructor(e){this.name=e}getName(){return this.name}init(){throw new Error("This should be implemented by the inherited class")}unload(){throw new Error("This should be implemented by the inherited class")}isAvailable(){throw new Error("This should be implemented by the inherited class")}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dexieSchemaLast=t.dexieSchemaV2=t.PatternsStat=void 0;var n=o(r(113)),i=o(r(92)),s=o(r(29));function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t,r,n,i,s,o){try{var a=e[s](o),g=a.value}catch(e){return void r(e)}a.done?t(g):Promise.resolve(g).then(n,i)}function g(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var s=e.apply(t,r);function o(e){a(s,n,i,o,g,"next",e)}function g(e){a(s,n,i,o,g,"throw",e)}o(void 0)}))}}function A(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const I={[i.default.AID_OFFER_TRIGGERED]:"++id",[i.default.AID_LANDING]:"++id",[i.default.AID_SUCCESS]:"++id"};t.dexieSchemaV2=I;const C=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?A(r,!0).forEach((function(t){u(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},I,{[i.default.AID_OFFER_CALL_TO_ACTION]:"++id",[i.default.AID_OFFER_CLOSED]:"++id"});t.dexieSchemaLast=C;t.PatternsStat=class{constructor(e,t){this.offerIdToReason=e,this.db=null,this.signalReEmitter=t,this.reinterpretCampaignSignalAsync=this.reinterpretCampaignSignalAsync.bind(this)}init(){var e=this;return g((function*(){const t=yield(0,n.default)();yield t.delete("offers-patterns-stat").catch(e=>s.default.error(`delete offers-patterns-stat failed, ${e.message}`)).then(()=>{e.db=new t("offers-patterns-stat-v2"),e.db.version(1).stores(I),e.db.version(3).stores(C)}),e.signalReEmitter.on("signal",e.reinterpretCampaignSignalAsync),e.threadCount=0}))()}destroy(){this.signalReEmitter.unsubscribe("signal",this.reinterpretCampaignSignalAsync),this.db&&(this.db.close(),this.db=null)}add(e){var t=this;let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return g((function*(){if(!(e in C&&t.db))return void s.default.warn(`PatternsStat: unknown collection name '${e}'`);(yield t.db)[e].add(r).catch(n=>t._logError(n,e,"add",r))}))()}moveAll(e){var t=this;return g((function*(){if(!(e in C&&t.db))return s.default.warn(`PatternsStat: unknown collection name '${e}'`),[];const r=t.group(e);return(yield t.db)[e].clear().catch(r=>t._logError(r,e,"clear")),r}))()}group(e){var t=this;return g((function*(){if(!t.db)return[];const r=new Map,n=yield t.db;return yield n[e].each(n=>t.collector(e,n,r)).catch(r=>t._logError(r,e,"each")),[...r.values()]}))()}collector(e,t,r){let n=t.campaignId,i=t.pattern,s=t.domainHash;const o=`${n},${i},${s}`,a={counter:0,campaignId:n,pattern:i,domainHash:s,type:e},g=r.get(o)||a;g.counter+=1,r.set(o,g)}getPatternSignals(){return Object.keys(C)}reinterpretCampaignSignalAsync(e,t,r){return e in C?(this.threadCount+=1,Promise.resolve().then(()=>this.reinterpretCampaignSignalSync(e,t,r))):Promise.resolve(!0)}reinterpretCampaignSignalSync(e,t,r){const n=this.offerIdToReason(r);if(n){const r=n.getReason();r?r.forEach(r=>{let n=r.pattern,i=r.domainHash;return this.add(e,{campaignId:t,pattern:n,domainHash:i})}):this.add(e,{campaignId:t,pattern:"<null>"})}else this.add(e,{campaignId:t,pattern:"<null>"});this.threadCount-=1}_logError(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const i=JSON.stringify(n);s.default.error(`PatternsStat failed: collection -> ${t},\n        operation -> ${r}, data -> ${i}, err -> ${e.message}`)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){const e=i.default.regionsOverride;if(0!==e.length)return s.default.log("Use regions override from prefs",e),e;if(n.default.state){const e=[],i=n.default.state(!0);if(s.default.log("Got language state",i),i.length>0){e.push(i[0][0]);const n=i[0][1];i.shift(0);var t=!0,r=!1,o=void 0;try{for(var g,A=i[Symbol.iterator]();!(t=(g=A.next()).done);t=!0){const t=(u=g.value,I=2,function(e){if(Array.isArray(e))return e}(u)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var r=[],n=!0,i=!1,s=void 0;try{for(var o,a=e[Symbol.iterator]();!(n=(o=a.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){i=!0,s=e}finally{try{n||null==a.return||a.return()}finally{if(i)throw s}}return r}(u,I)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()),r=t[0];t[1]<n*a&&e.push(r)}}catch(e){r=!0,o=e}finally{try{t||null==A.return||A.return()}finally{if(r)throw o}}}const C=e.filter(e=>"en"!==e).slice(0,3);return s.default.log("Use regions from Language API",C),C}var u,I;return s.default.log("Use regions default: en"),[]};var n=o(r(319)),i=o(r(290)),s=o(r(289));function o(e){return e&&e.__esModule?e:{default:e}}const a=20},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.NEWS_EDITIONS=void 0;var n,i=(n=r(33))&&n.__esModule?n:{default:n},s=r(208);function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var r=[],n=!0,i=!1,s=void 0;try{for(var o,a=e[Symbol.iterator]();!(n=(o=a.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){i=!0,s=e}finally{try{n||null==a.return||a.return()}finally{if(i)throw s}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function a(e,t,r,n,i,s,o){try{var a=e[s](o),g=a.value}catch(e){return void r(e)}a.done?t(g):Promise.resolve(g).then(n,i)}function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function A(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(r,!0).forEach((function(t){u(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const I=(e,t)=>[].concat(...e.map(e=>t.map(t=>[].concat(e,t)))),C=function e(t,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),s=2;s<n;s++)i[s-2]=arguments[s];return r?e(I(t,r),...i):t};function l(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const n={};for(let t=0;t<e.length;t+=1){const r=e[t],i=r.key,s=r.value;n[i]={type:"string",enum:[s]}}return t&&(n.index={type:"integer",minimum:0,maximum:100}),{name:`freshtab.${e.map(e=>{return e.value}).filter(e=>e).join(".")}`,schema:{required:[...Object.keys(n),...Object.keys(r)],properties:A({},n,{},r)}}}const c=["de","de-tr-en","es","fr","gb","intl","it","us"];t.NEWS_EDITIONS=c;t.default=()=>[{name:"metrics.freshtab.state",offsets:[0],version:1,needsGid:!0,sendToBackend:!0,generate:function(){var e,t=(e=function*(){try{return[{is_freshtab_on:!!(yield i.default.module("freshtab").isEnabled())}]}catch(e){return[{is_freshtab_on:!1}]}},function(){var t=this,r=arguments;return new Promise((function(n,i){var s=e.apply(t,r);function o(e){a(s,n,i,o,g,"next",e)}function g(e){a(s,n,i,o,g,"throw",e)}o(void 0)}))});return function(){return t.apply(this,arguments)}}(),schema:{required:["is_freshtab_on"],properties:{is_freshtab_on:{type:"boolean"}}}},{name:"freshtab.prefs.blueTheme",offsets:[0],generate:()=>i.default.module("freshtab").action("isBlueThemeEnabled").then(e=>[{enabled:e}],(0,s.actionFallback)([])),schema:{required:["enabled"],properties:{enabled:{type:"boolean"}}}},{name:"freshtab.prefs.browserTheme",schema:{required:["theme"],properties:{theme:{type:"string",enum:["dark","light"]}}}},{name:"freshtab.prefs.config",offsets:[0],generate:()=>i.default.module("freshtab").action("getComponentsState").then(e=>[e],(0,s.actionFallback)([])),schema:{required:["components","historyDials","customDials","search","news","background"],properties:{components:{type:"object"},historyDials:{required:["visible"],properties:{visible:{type:"boolean"}}},customDials:{required:["visible"],properties:{visible:{type:"boolean"}}},search:{required:["visible"],properties:{visible:{type:"boolean"}}},news:{required:["visible","preferedCountry"],properties:{visible:{type:"boolean"},preferedCountry:{type:"string"}}},background:{required:["image","index"],properties:{image:{type:"string"},index:{type:"number"}}}}}},l([{key:"type",value:"home"},{key:"action",value:"show"}],!1),l([{key:"type",value:"home"},{key:"action",value:"blur"}],!1),l([{key:"type",value:"home"},{key:"action",value:"focus"}],!1),l([{key:"type",value:"home"},{key:"action",value:"hide"}],!1),l([{key:"type",value:"home"},{key:"action",value:"click"},{key:"target",value:"settings"}],!1),l([{key:"type",value:"home"},{key:"view",value:"settings"},{key:"action",value:"click"},{key:"target",value:"cliqz_theme"}],!1,{state:{enum:["on","off"]}}),l([{key:"type",value:"home"},{key:"action",value:"click"},{key:"target",value:"history"}],!1),l([{key:"type",value:"home"},{key:"action",value:"click"},{key:"target",value:"topsite"}],!0),l([{key:"type",value:"home"},{key:"action",value:"click"},{key:"target",value:"delete_topsite"}],!0),l([{key:"type",value:"home"},{key:"action",value:"click"},{key:"target",value:"favorite"}],!0),l([{key:"type",value:"home"},{key:"action",value:"click"},{key:"target",value:"add_favorite"}],!0),l([{key:"type",value:"home"},{key:"view",value:"add_favorite"},{key:"action",value:"click"},{key:"target",value:"close"}],!0),l([{key:"type",value:"home"},{key:"view",value:"add_favorite"},{key:"action",value:"click"},{key:"target",value:"add"}],!0),l([{key:"type",value:"home"},{key:"action",value:"click"},{key:"target",value:"edit_favorite"}],!0),l([{key:"type",value:"home"},{key:"view",value:"edit_favorite"},{key:"action",value:"click"},{key:"target",value:"save"}],!0),l([{key:"type",value:"home"},{key:"view",value:"edit_favorite"},{key:"action",value:"click"},{key:"target",value:"close"}],!0),l([{key:"type",value:"home"},{key:"view",value:"edit_favorite"},{key:"action",value:"click"},{key:"target",value:"delete"}],!0),l([{key:"type",value:"home"},{key:"action",value:"focus"},{key:"target",value:"search_bar"}],!1),l([{key:"type",value:"home"},{key:"action",value:"blur"},{key:"target",value:"search_bar"}],!1),l([{key:"type",value:"home"},{key:"action",value:"click"},{key:"target",value:"news_pagination"}],!0),l([{key:"type",value:"offrz"},{key:"action",value:"show"}],!1),l([{key:"type",value:"offrz"},{key:"action",value:"click"},{key:"target",value:"use"}],!1),l([{key:"type",value:"offrz"},{key:"action",value:"click"},{key:"target",value:"copy_code"}],!1),l([{key:"type",value:"offrz"},{key:"action",value:"click"},{key:"target",value:"remove_offer"}],!1),l([{key:"type",value:"offrz"},{key:"action",value:"click"},{key:"target",value:"remove"}],!1),l([{key:"type",value:"offrz"},{key:"action",value:"hover"},{key:"target",value:"conditions"}],!1),...C(["click","hover"],["topnews","breakingnews","yournews"]).map(e=>{let t=o(e,2);return l([{key:"type",value:"home"},{key:"action",value:t[0]},{key:"target",value:t[1]}],!0,{edition:{type:"string",enum:c}})})]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RESULT_SOURCE_MAP=t.default=void 0;var n=r(353);function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(r,!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const a={history:{C:"Cluster",H:"History"},backend:{m:"Generic",X:"SmartCliqz",n:"News",h:"Wikipedia",r:"Recipe",v:"Video",p:"People",c:"Census",k:"Science",l:"Dictionary",q:"Qaa",s:"Shopping",g:"Game",o:"Movie"},"default-search":{"default-search":"Default search engine"},"custom-search":{"custom-search":"Custom search engine"},navigation:{"navigate-to":"Direct URL"},"query-suggestion":{Z:"Query suggestion"}};t.RESULT_SOURCE_MAP=a;const g=Object.keys(a).map(e=>Object.keys(a[e])).reduce((e,t)=>e.concat(t)),A=["CliqzEZ","EmergencyContactEZ","EntityCurrency","EntityDownload","EntityFlight","EntityGeneric","EntityKPI","EntityLocal","EntityLotto","EntityMovie","EntityMusic","EntityNews","EntityTopNews","EntityTime","EntityVOD","EntityVideo","EntityWeather","SoccerEZ"],u=["click","enter"],I=["","description","full-url","image","logo","map-image","title","url"],C=["cliqz","other","direct"],l=[n.ANCHOR_RESULT,n.HISTORY_RESULT,n.IMAGE_RESULT,n.INTERNAL_RESULT,n.LIVE_TICKER_RESULT,n.MOVIE_INFO_RESULT,n.NEWS_RESULT,n.BREAKING_NEWS_RESULT,n.SOCIAL_RESULT],c=()=>({sources:{type:"array",items:{type:"string",enum:g}},classes:{type:"array",items:{type:"string",enum:A}}});t.default=()=>[{name:"search.session",schema:{required:["version","hasUserInput","results"],properties:{version:{type:"integer",value:3},hasUserInput:{type:"boolean"},entryPoint:{type:"string",enum:["newTab","browserBar","overlayByKeyboard","overlayByMouse"]},highlightCount:{type:"integer",minimum:0},results:{type:"array",items:{type:"object",required:[],properties:s({},c())}},selection:{required:[],properties:s({action:{type:"string",enum:u},element:{type:"string",enum:I},index:{type:"integer",minimum:0},isAutocomplete:{type:"boolean"}},c(),{origin:{type:"string",enum:C},queryLength:{type:"integer",minimum:0},showTime:{type:"integer",minimum:0},subResult:{required:[],properties:{type:{type:"string",enum:l},index:{type:"integer",minimum:0}}}})}}}},{name:"metrics.search.latency",sendToBackend:!0,version:1,schema:{required:["backend","latency"],properties:{backend:{type:"string",enum:["de","us","fr","uk","es","it"]},latency:{required:[],properties:{0:{type:"integer",minimum:0},20:{type:"integer",minimum:0},40:{type:"integer",minimum:0},60:{type:"integer",minimum:0},80:{type:"integer",minimum:0},100:{type:"integer",minimum:0},120:{type:"integer",minimum:0},140:{type:"integer",minimum:0},160:{type:"integer",minimum:0},180:{type:"integer",minimum:0},200:{type:"integer",minimum:0},300:{type:"integer",minimum:0},400:{type:"integer",minimum:0},500:{type:"integer",minimum:0},600:{type:"integer",minimum:0},700:{type:"integer",minimum:0},800:{type:"integer",minimum:0},900:{type:"integer",minimum:0},rest:{type:"integer",minimum:0}}}}}}]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SOCIAL_RESULT=t.BREAKING_NEWS_RESULT=t.NEWS_RESULT=t.MOVIE_INFO_RESULT=t.LIVE_TICKER_RESULT=t.INTERNAL_RESULT=t.IMAGE_RESULT=t.HISTORY_RESULT=t.ANCHOR_RESULT=void 0;t.ANCHOR_RESULT="anchor";t.HISTORY_RESULT="history";t.IMAGE_RESULT="image";t.INTERNAL_RESULT="internal";t.LIVE_TICKER_RESULT="liveTicker";t.MOVIE_INFO_RESULT="movieInfo";t.NEWS_RESULT="news";t.BREAKING_NEWS_RESULT="breaking_news";t.SOCIAL_RESULT="social"},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.SOURCES=void 0;
/*!
 * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */
const n=["tokens","keys"];t.SOURCES=n;var i=[{name:"metrics.antitracking.tokens.batch",schema:{required:["source","size","toBeSentSize","overflow","messages"],properties:{source:{type:"string",enum:n},size:{type:"number",minimum:0},toBeSentSize:{type:"number",minimum:0},overflow:{type:"number",minimum:0},messages:{type:"number",minimum:0}}}},{name:"metrics.antitracking.tokens.clean",schema:{required:["source","dbSize","dbDelete","cacheSize","cacheDeleted","processed"],properties:{source:{type:"string",enum:n},dbSize:{type:"number",minimum:0},dbDelete:{type:"number",minimum:0},cacheSize:{type:"number",minimum:0},cacheDeleted:{type:"number",minimum:0},processed:{type:"number",minimum:0}}}}];t.default=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.CONSENT_TYPES=void 0;
/*!
 * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */
const n=["iab","google","facebook"];t.CONSENT_TYPES=n;var i=[{name:"metrics.consentric.pageAction",schema:{required:["type","site"],properties:{type:{type:"string",enum:n},site:{type:"string"}}}},{name:"metrics.consentric.popupOpened",schema:{required:["type","site"],properties:{type:{type:"string",enum:n},writeable:{type:"boolean"},site:{type:"string"}}}},{name:"metrics.consentric.consentChanged",schema:{required:["allowed","site"],properties:{allowed:{type:"number",minimum:0,maximum:5},site:{type:"string"}}}},{name:"metrics.consentric.clicked",schema:{required:["type"],properties:{type:{type:"string",enum:n},site:{type:"string"}}}}];t.default=i},function(e,t,r){"use strict";
/*!
 * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */
function n(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.actions,n=void 0===r?["click"]:r,i=t.states,s=t.index,o=void 0!==s&&s;const a=["target","action"],g={target:{type:"string",enum:[e]},action:{type:"string",enum:n}};return void 0!==i&&i.length>0&&(a.push("state"),g.state={type:"string",enum:i}),o&&(a.push("index"),g.index={type:"string"}),{name:`metrics.legacy.control_center.${e}`,schema:{required:a,properties:g}}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;const i=["off","on"],s=["expanded","collapsed"],o=["false","true"];var a=[n("report_url"),n("attrack"),n("attrack_switch",{states:i}),n("attrack_off_select",{states:["off_website","off_all"]}),n("attrack_fair",{states:i}),n("attrack_details_company_section",{index:!0}),n("adblock",["click"]),n("adblock_switch",{states:i}),n("adblock_off_select",{states:["off_website","off_domain","off_all"]}),n("adblock_fair",{states:i}),n("adblock_details_company_section",{index:!0}),n("antiphishing_switch",{states:i}),n("moresearch",{states:s}),n("offerz",{states:s}),n("complementary_search",{states:["Google","Bing","Amazon.de","DuckDuckGo","eBay","Ecosia"].map(e=>`search_engine_change_${e}`)}),n("search_humanweb",{states:["disabled","enabled"]}),n("search-index-country",{states:["de","fr","us","es","it","gb","at"]}),n("search_adult",{states:["liberal","conservative","moderate"]}),n("search_location",{states:["no","ask","yes"]}),n("search_proxy",{states:o}),n("search_transparency"),n("info_help"),n("offerz_main",{states:o}),n("offerz_location",{states:["0","1"]}),n("autoconsent_switch",{states:["inactive","active","off_all"]}),n("autoconsent_deny",{states:o})];t.default=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"integersToHistogram",{enumerable:!0,get:function(){return i.default}}),t.historySources=t.mkHistogramSchema=t.isAutocompleteAction=t.isEnterAction=t.isClickAction=t.mkCountSchema=t.default=void 0;var n,i=(n=r(358))&&n.__esModule?n:{default:n},s=r(352);function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(r,!0).forEach((function(t){g(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function g(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const A=e=>e.reduce((e,t)=>a({},e,{},t)),u=e=>({[e]:{type:"integer",minimum:0}});t.mkCountSchema=u;const I=e=>e.map(u),C=()=>({source:{required:[],properties:a({},A(I(["history","backend","mixed"])))}}),l=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return{action:{required:[],properties:a({},A(I(["click","enter",...e])))}}},c=e=>({required:[],properties:a({},A(Array.from(Array(e).keys()).map(u)),{},u("rest"))});t.mkHistogramSchema=c;const d=new Set(Object.keys(s.RESULT_SOURCE_MAP.history));t.historySources=d;const h=new Set(Object.keys(s.RESULT_SOURCE_MAP.backend)),f=e=>{let t=e.action,r=e.isAutocomplete;return"enter"===t&&r};t.isAutocompleteAction=f;const p=e=>{return"click"===e.action};t.isClickAction=p;const m=e=>{let t=e.action,r=e.isAutocomplete;return"enter"===t&&!r};t.isEnterAction=m;const _=e=>{const t=(e=>e.some(e=>d.has(e)))(e),r=(e=>e.some(e=>h.has(e)))(e);return{hasOnlyHistorySources:t&&!r,hasOnlyBackendSources:!t&&r,hasMixedSources:t&&r}};t.default=()=>[{name:"search.sessions",version:3,needsGid:!0,sendToBackend:!0,generate:e=>{const t=e.records.get("search.session");if(0===t.length)return[];const r=t.filter(e=>{return e.hasUserInput}),n=r.map(e=>{let t=e.results;return void 0===t?[]:t}).filter(e=>e.length>0),s=r.map(e=>{let t=e.selection;return void 0===t?[]:t}),o=r.reduce((e,t)=>(t.entryPoint&&(e[t.entryPoint]=(e[t.entryPoint]||0)+1),e),{}),a=n.map(e=>[].concat(...e.map(e=>{let t=e.sources;return void 0===t?[]:t}))).map(_).filter(e=>{let t=e.hasOnlyHistorySources,r=e.hasOnlyBackendSources,n=e.hasMixedSources;return t||r||n}),g=s.filter(e=>"cliqz"===e.origin),A=s.filter(e=>"direct"===e.origin),u=s.filter(e=>"other"===e.origin),I=s.filter(e=>null===e.origin),C=g.map(e=>{let t=e.sources;return _(void 0===t?[]:t)});return[{entryPoints:o,highlightCounts:(0,i.default)(r.map(e=>{return e.highlightCount}),{binSize:1,binCount:16}),results:{total:n.length,origin:{cliqz:{total:a.length,source:{history:a.filter(e=>{return e.hasOnlyHistorySources}).length,backend:a.filter(e=>{return e.hasOnlyBackendSources}).length,mixed:a.filter(e=>{return e.hasMixedSources}).length}}}},selections:{total:s.length,index:(0,i.default)(s.map(e=>{return e.index}),{binSize:1,binCount:16}),queryLength:(0,i.default)(s.map(e=>{return e.queryLength}),{binSize:1,binCount:32}),origin:{cliqz:{total:g.length,action:{autocomplete:g.filter(f).length,click:g.filter(p).length,enter:g.filter(m).length},source:{history:C.filter(e=>{return e.hasOnlyHistorySources}).length,backend:C.filter(e=>{return e.hasOnlyBackendSources}).length,mixed:C.filter(e=>{return e.hasMixedSources}).length}},direct:{total:A.length,action:{click:A.filter(p).length,enter:A.filter(m).length}},other:{total:u.length,action:{click:u.filter(p).length,enter:u.filter(m).length}},abandoned:{total:I.length,showTime:(0,i.default)(I.map(e=>{let t=e.showTime;return Math.round(t/1e3)},{binSize:1,binCount:10}))}}}}]},schema:{required:[],properties:{entryPoints:{required:[],properties:{newTab:{type:"integer",minimum:0},browserBar:{type:"integer",minimum:0},overlayByKeyboard:{type:"integer",minimum:0},overlayByMouse:{type:"integer",minimum:0},overlayByContextMenu:{type:"integer",minimum:0}}},highlightCounts:a({},c(16)),results:{required:[],properties:a({},u("total"),{origin:{required:[],properties:{cliqz:{required:[],properties:a({},u("total"),{},C())}}}})},selections:{required:[],properties:a({},u("total"),{index:a({},c(16)),queryLength:a({},c(32)),origin:{required:[],properties:a({},u("total"),{cliqz:{required:[],properties:a({},u("total"),{},l(["autocomplete"]),{},C())},direct:{required:[],properties:a({},u("total"),{},l())},other:{required:[],properties:a({},u("total"),{},l())},abandoned:{required:[],properties:a({},u("total"),{showTime:a({},c(10))})}})}})}}}}]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i=(n=r(236))&&n.__esModule?n:{default:n};var s=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.binSize,n=void 0===r?1:r,s=t.binCount,o=void 0===s?10:s,a=t.overflowBinName,g=void 0===a?"rest":a;return new i.default(e.map(e=>parseInt(e/n,10)).map(e=>!o||e<o?e*n:g)).toObj()};t.default=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=
/*!
 * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */
function(e){return e.sort((e,t)=>void 0===e.ts||e.ts<t.ts?-1:void 0===t.ts||e.ts>t.ts?1:0)}},function(e,t,r){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=((n=r(74))&&n.__esModule?n:{default:n}).default.get("myoffrz-helper",{level:"log"});t.default=i},function(e,t,r){(function(t){var r="object"==typeof t&&t&&t.Object===Object&&t;e.exports=r}).call(this,r(27))},function(e,t){var r=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");e.exports=function(e){return r.test(e)}},function(e,t,r){var n=r(669),i=r(364),s=r(238),o=r(365),a=r(366),g=r(367),A=Object.prototype.hasOwnProperty;e.exports=function(e,t){var r=s(e),u=!r&&i(e),I=!r&&!u&&o(e),C=!r&&!u&&!I&&g(e),l=r||u||I||C,c=l?n(e.length,String):[],d=c.length;for(var h in e)!t&&!A.call(e,h)||l&&("length"==h||I&&("offset"==h||"parent"==h)||C&&("buffer"==h||"byteLength"==h||"byteOffset"==h)||a(h,d))||c.push(h);return c}},function(e,t,r){var n=r(670),i=r(178),s=Object.prototype,o=s.hasOwnProperty,a=s.propertyIsEnumerable,g=n(function(){return arguments}())?n:function(e){return i(e)&&o.call(e,"callee")&&!a.call(e,"callee")};e.exports=g},function(e,t,r){(function(e){var n=r(177),i=r(671),s=t&&!t.nodeType&&t,o=s&&"object"==typeof e&&e&&!e.nodeType&&e,a=o&&o.exports===s?n.Buffer:void 0,g=(a?a.isBuffer:void 0)||i;e.exports=g}).call(this,r(90)(e))},function(e,t){var r=9007199254740991,n=/^(?:0|[1-9]\d*)$/;e.exports=function(e,t){var i=typeof e;return!!(t=null==t?r:t)&&("number"==i||"symbol"!=i&&n.test(e))&&e>-1&&e%1==0&&e<t}},function(e,t,r){var n=r(672),i=r(673),s=r(674),o=s&&s.isTypedArray,a=o?i(o):n;e.exports=a},function(e,t){var r=9007199254740991;e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=r}},function(e,t){e.exports=function(e,t){return function(r){return e(t(r))}}},function(e,t,r){var n=r(296)(r(177),"Map");e.exports=n},function(e,t,r){var n=r(297),i=r(242);e.exports=function(e,t,r){(void 0===r||i(e[t],r))&&(void 0!==r||t in e)||n(e,t,r)}},function(e,t,r){var n=r(296),i=function(){try{var e=n(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=i},function(e,t,r){var n=r(369)(Object.getPrototypeOf,Object);e.exports=n},function(e,t){e.exports=function(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}},function(e,t,r){var n=r(363),i=r(723),s=r(239);e.exports=function(e){return s(e)?n(e,!0):i(e)}},function(e,t){e.exports=function(e){return e}},,,,,,,,,,,function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r(6);
/*!
 * Copyright (c) 2017-2019 Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */function i(e,t,r){var n=r.get(e);void 0===n&&(n=[],r.set(e,n)),n.push(t)}function s(e,t,r){var n=r.get(e);if(void 0!==n){var i=n.indexOf(t);-1!==i&&n.splice(i,1)}}function o(e,t,r){if(0===r.size)return!1;var i=r.get(e);return void 0!==i&&(setTimeout((function(){for(var e=0;e<i.length;e+=1)i[e].apply(i,Object(n.e)(t))}),0),!0)}var a=function(){function e(){this.onceListeners=new Map,this.onListeners=new Map}return e.prototype.on=function(e,t){i(e,t,this.onListeners)},e.prototype.once=function(e,t){i(e,t,this.onceListeners)},e.prototype.unsubscribe=function(e,t){s(e,t,this.onListeners),s(e,t,this.onceListeners)},e.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];o(e,t,this.onListeners),!0===o(e,t,this.onceListeners)&&this.onceListeners.delete(e)},e}()},function(module,exports){module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='<!doctype html>\n\x3c!--\n * Ghostery Click2Play\n *\n * Ghostery Browser Extension\n * https://www.ghostery.com/\n *\n * Copyright 2019 Ghostery, Inc. All rights reserved.\n *\n * This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at http://mozilla.org/MPL/2.0/.\n--\x3e\n<html>\n<head>\n\t<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">\n\t<style>\n\t\tbody {\n\t\t\tmargin: 0;\n\t\t\tpadding: 0;\n\t\t}\n\t\tp {\n\t\t\tmargin: 3px;\n\t\t\tfont-family: Helvetica, Arial, sans-serif;\n\t\t\tfont-size: 13px;\n\t\t}\n\t\ttable {\n\t\t\tborder-spacing: 0;\n\t\t\twidth: 100%;\n\t\t\theight: 100%;\n\t\t\ttext-align: center;\n\t\t\tvertical-align: middle;\n\t\t}\n\t\ttd {\n\t\t\tpadding: 0;\n\t\t}\n\t</style>\n</head>\n<body>\n\t<table>\n\t\t<tr>\n\t\t\t<td>\n\t\t\t\t',data.button?__p+='\n\t\t\t\t\t<a id="action-once" href="#" onclick="return false">\n\t\t\t\t\t\t<img id="ghostery-button" src="'+(null==(__t=data.allow_once_src)?"":__t)+'" title="'+(null==(__t=data.allow_once_title)?"":__t)+'">\n\t\t\t\t\t</a>\n\t\t\t\t':(__p+="\n\t\t\t\t\t",void 0!==data.click2play_text&&data.click2play_text&&(__p+='\n\t\t\t\t\t\t<p id="text">'+(null==(__t=data.click2play_text)?"":__t)+"</p>\n\t\t\t\t\t"),__p+='\n\t\t\t\t\t<img id="ghostery-blocked" src="'+(null==(__t=data.ghostery_blocked_src)?"":__t)+'" title="'+(null==(__t=data.ghostery_blocked_title)?"":__t)+'">\n\t\t\t\t\t<a id="action-once" href="#" onclick="return false"><img src="'+(null==(__t=data.allow_once_src)?"":__t)+'" title="'+(null==(__t=data.allow_once_title)?"":__t)+'"></a>\n\t\t\t\t\t',!1===data.blacklisted&&(__p+='\n\t\t\t\t\t\t<a id="action-always" href="#" onclick="return false"><img src="'+(null==(__t=data.allow_always_src)?"":__t)+'" title="'+(null==(__t=data.allow_always_title)?"":__t)+'"></a>\n\t\t\t\t\t'),__p+="\n\t\t\t\t"),__p+="\n\t\t\t</td>\n\t\t</tr>\n\t</table>\n</body>\n</html>\n";return __p}},function(e,t,r){var n;e.exports=function e(t,r,i){function s(a,g){if(!r[a]){if(!t[a]){if(!g&&"function"==typeof n&&n)return n(a,!0);if(o)return o(a,!0);var A=new Error("Cannot find module '"+a+"'");throw A.code="MODULE_NOT_FOUND",A}var u=r[a]={exports:{}};t[a][0].call(u.exports,(function(e){var r=t[a][1][e];return s(r||e)}),u,u.exports,e,t,r,i)}return r[a].exports}for(var o="function"==typeof n&&n,a=0;a<i.length;a++)s(i[a]);return s}({1:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.has=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}},{}],2:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=a(e("./server")),s=a(e("./uuid")),o=e("./helpers");function a(e){return e&&e.__esModule?e:{default:e}}var g=function(){return console.error.bind(console)},A=function(){function e(t){var r=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).errorLogger;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.sendFunction=t,this.callbacks=new Map,this.errorLogger=r||g(),this.listeners=[this]}return n(e,[{key:"send",value:function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];var i=void 0,o=void 0,a=(0,s.default)(),g=new Promise((function(e,t){i=e,o=t}));return this.callbacks.set(a,{resolver:i,rejecter:o}),this.sendFunction({action:e,args:r,uuid:a}),g}},{key:"createProxy",value:function(){return new Proxy(this,{get:function(e,t){return e.send.bind(e,t)}})}},{key:"dispatch",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.callbacks.get(e.uuid);if(!t)return!1;if((0,o.has)(e,"response"))t.resolver(e.response);else{if(!(0,o.has)(e,"error"))return!1;t.rejecter(e.error)}return this.callbacks.delete(e.uuid),!0}},{key:"handleMessage",value:function(e){return this.listeners.some((function(t){try{return t.dispatch(e)}catch(e){return t.errorLogger("Spanan dispatch error",e),!1}}))}},{key:"export",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.filter,s=r.transform,o=r.respond,a=r.respondWithError,A=r.errorLogger,u=new i.default({actions:e,respond:o,respondWithError:a,filter:n,transform:s,errorLogger:A||g(),onTerminate:function(){t.listeners=t.listeners.filter((function(e){return e!==u}))}});return this.listeners.push(u),u}},{key:"reset",value:function(){this.listeners=[]}}]),e}();r.default=A},{"./helpers":1,"./server":3,"./uuid":4}],3:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=e("./helpers"),s=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.actions,n=void 0===r?{}:r,i=t.respond,s=void 0===i?function(){}:i,o=t.respondWithError,a=void 0===o?function(){}:o,g=t.filter,A=void 0===g?function(){return!0}:g,u=t.transform,I=void 0===u?function(e){return e}:u,C=t.errorLogger,l=t.onTerminate,c=void 0===l?function(){}:l;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.actions=n,this.onTerminate=c,this.dispatch=this.dispatch.bind(this),this.filter=A,this.transform=I,this.respond=s,this.respondWithError=a,this.errorLogger=C}return n(e,[{key:"dispatch",value:function(e){var t=this;if(!this.filter||!this.filter(e))return!1;var r=this.transform(e),n=r.args,s=void 0===n?[]:n,o=r.action;if(!(0,i.has)(this.actions,o))return!1;var a=void 0;try{var g;a=(g=this.actions)[o].apply(g,function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}(s))}catch(t){return this.respondWithError(t.message,e),!0}return a instanceof Promise||(a=Promise.resolve(a)),a.then((function(r){return t.respond(r,e)}),(function(r){return t.respondWithError(r,e)})),!0}},{key:"terminate",value:function(){this.onTerminate()}}]),e}();r.default=s},{"./helpers":1}],4:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return[e(),e(),"-",e(),"-",e(),"-",e(),"-",e(),e(),e()].join("")}},{}]},{},[2])(2)},,,,,,function(e,t,r){e.exports=r(891)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i=(n=r(316))&&n.__esModule?n:{default:n};
/*!
 * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */
var s=void 0!==i.default&&i.default.chrome||{};t.default=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=h(r(398)),i=h(r(444)),s=h(r(455)),o=h(r(472)),a=h(r(482)),g=h(r(509)),A=h(r(514)),u=h(r(583)),I=h(r(587)),C=h(r(631)),l=h(r(633)),c=h(r(636)),d=h(r(637));function h(e){return e&&e.__esModule?e:{default:e}}var f={core:n.default,"message-center":i.default,"human-web":s.default,hpnv2:o.default,antitracking:a.default,"webrequest-pipeline":g.default,"offers-v2":A.default,adblocker:u.default,anolysis:I.default,"anti-phishing":C.default,"myoffrz-helper":l.default,"popup-notification":c.default,insights:d.default};t.default=f},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=b(r(39)),i=b(r(133)),s=b(r(319)),o=b(r(28)),a=b(r(406)),g=b(r(407)),A=b(r(408)),u=b(r(85)),I=b(r(409)),C=b(r(74)),l=r(410),c=b(r(411)),d=r(68),h=r(330),f=r(440),p=b(r(124)),m=r(84),_=r(73),y=r(320);function b(e){return e&&e.__esModule?e:{default:e}}function v(e,t,r,n,i,s,o){try{var a=e[s](o),g=a.value}catch(e){return void r(e)}a.done?t(g):Promise.resolve(g).then(n,i)}function w(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var s=e.apply(t,r);function o(e){v(s,n,i,o,a,"next",e)}function a(e){v(s,n,i,o,a,"throw",e)}o(void 0)}))}}var k=(0,u.default)({requiresServices:["pacemaker","telemetry","domainInfo"],providesServices:c.default,init(e){(0,f.enableRequestSanitizer)(),this.settings=e,this.bm=new g.default,this.bm.init(),this.mm=new a.default,this.mm.init(),this.appStateInjecter=new A.default,this.appStateInjecter.init(this.app),I.default.init(),C.default.init()},unload(){(0,f.disableRequestSanitizer)(),this.bm.unload(),this.mm.unload(),this.appStateInjecter.unload(),I.default.unload(),C.default.unload()},getWindowStatusFromModules(){var e=this;let t;return Object.keys(this.app.modules).map(function(){var r=w((function*(r){const n=e.app.modules[r].backgroundModule;let i=null;return n&&n.currentWindowStatus?(t||(t=yield(0,h.getCurrentTab)()),i=yield n.currentWindowStatus(t)):n&&n.status&&(i=yield n.status()),{module:r,status:i}}));return function(e){return r.apply(this,arguments)}}())},events:{"core:tab_select":function(e){let t=e.url,r=e.incognito,i=e.id;n.default.pub("core.location_change",t,r,i)},"content:location-change":function(e){let t=e.url,r=e.isPrivate,i=e.tabId;n.default.pub("core.location_change",t,r,i)},prefchange:function(e){e.startsWith("modules.")&&e.endsWith(".enabled")&&this.actions.refreshAppState(this.app)}},actions:{recordMouseDown(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];n.default.pub("core:mouse-down",...t)},publishEvent(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];n.default.pub(e,...r)},restart(){return this.app.extensionRestart()},status(){return this.app.status()},broadcast(e,t){return t||"object"!=typeof e||(t=e,e=null),this.bm.broadcast(e,t)},getWindowStatus(e){return Promise.all(this.getWindowStatusFromModules(e)).then(e=>{const t={};return e.forEach(e=>{let r=e.module,n=e.status;t[r]=n||null}),t})},sendTelemetry:(e,t,r)=>i.default.push(e,r,t),queryCliqz(e){(0,l.queryCliqz)(e)},openLink(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.newTab,n=void 0===r||r,i=t.switchTab,s=void 0!==i&&i,a=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).tab,g=(a=void 0===a?{}:a).id;return w((function*(){let t=(0,_.fixURL)(e);if(!(0,_.isUrl)(e)||!t){const r=(0,y.getEngineByQuery)(e);t=r.getSubmissionForQuery(e)}if(n)return void(0,l.openLink)(t);let r=g;if(s&&!n){const n=(yield(0,h.query)({url:e.replace(/#.*$/,"")})).find(e=>e.url===t);if(n){const e=yield(0,h.getCurrentTab)();return r=n.id,(0,h.updateTab)(r,{active:!0}),void(e&&e.url===(0,m.getResourceUrl)(o.default.settings.NEW_TAB_URL)&&(0,h.closeTab)(g))}}(0,h.updateTab)(r,{url:t})}))()},openTab(e){(0,l.openTab)(e)},getOpenTabs:()=>(0,l.getOpenTabs)(),getReminders:e=>(0,l.getReminders)(e),recordMeta(e,t,r){n.default.pub("core:url-meta",e,t),n.default.pub("content:dom-ready",e,r),t.lang&&s.default.addLocale(e,t.lang)},enableModule(e){return this.app.enableModule(e)},disableModule(e){this.app.disableModule(e)},callContentAction(e,t,r){for(var n=arguments.length,i=new Array(n>3?n-3:0),s=3;s<n;s++)i[s-3]=arguments[s];return this.bm.callContentAction(e,t,r,...i)},click(e,t){return this.bm.callContentAction("core","click",{url:e},t)},queryHTML(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.bm.callContentAction("core","queryHTML",{url:e},t,r,n)},getHTML(e){return this.bm.callContentAction("core","getHTML",{url:e})},queryComputedStyle(e,t){return this.bm.callContentAction("core","queryComputedStyle",{url:e},t)},sendUserFeedback(e){e._type="user_feedback",(0,d.httpHandler)("POST",o.default.settings.STATISTICS,null,null,1e4,JSON.stringify(e))},refreshAppState(){this.appStateInjecter.shareAppState(this.app)},reportResourceLoaders:()=>p.default.report()}});t.default=k},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LocalUrlRegExp=t.UrlRegExp=void 0;
/*!
 * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */
const n="a-z0-9",i=`${n}\\u{00c0}-\\u{ffff}`,s=`${n}-_`,o=`${i}-_`,a=new RegExp([`^(?:[${o}]{1,63}\\.)*`,`((?:[${i}][${o}]{0,61}[${i}])|`,`(?:[${i}]))\\.`,`([${i}]{2,63})`,"(?:(?::(\\d{1,5}))|\\.)?$"].join(""),"iu");t.UrlRegExp=a;const g=new RegExp([`(^[${n}][${s}]{0,61}[${n}])`,"(:\\d{1,5})$"].join(""),"i");t.LocalUrlRegExp=g},function(e,t,r){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;
/*!
 * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */
var i=((n=r(401))&&n.__esModule?n:{default:n}).default;t.default=i},function(e,t,r){(function(e,n){var i;/*! https://mths.be/punycode v1.4.1 by @mathias */!function(s){t&&t.nodeType,e&&e.nodeType;var o="object"==typeof n&&n;o.global!==o&&o.window!==o&&o.self;var a,g=2147483647,A=36,u=1,I=26,C=38,l=700,c=72,d=128,h="-",f=/^xn--/,p=/[^\x20-\x7E]/,m=/[\x2E\u3002\uFF0E\uFF61]/g,_={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},y=A-u,b=Math.floor,v=String.fromCharCode;function w(e){throw new RangeError(_[e])}function k(e,t){for(var r=e.length,n=[];r--;)n[r]=t(e[r]);return n}function M(e,t){var r=e.split("@"),n="";return r.length>1&&(n=r[0]+"@",e=r[1]),n+k((e=e.replace(m,".")).split("."),t).join(".")}function O(e){for(var t,r,n=[],i=0,s=e.length;i<s;)(t=e.charCodeAt(i++))>=55296&&t<=56319&&i<s?56320==(64512&(r=e.charCodeAt(i++)))?n.push(((1023&t)<<10)+(1023&r)+65536):(n.push(t),i--):n.push(t);return n}function S(e){return k(e,(function(e){var t="";return e>65535&&(t+=v((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+=v(e)})).join("")}function D(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function T(e,t,r){var n=0;for(e=r?b(e/l):e>>1,e+=b(e/t);e>y*I>>1;n+=A)e=b(e/y);return b(n+(y+1)*e/(e+C))}function L(e){var t,r,n,i,s,o,a,C,l,f,p,m=[],_=e.length,y=0,v=d,k=c;for((r=e.lastIndexOf(h))<0&&(r=0),n=0;n<r;++n)e.charCodeAt(n)>=128&&w("not-basic"),m.push(e.charCodeAt(n));for(i=r>0?r+1:0;i<_;){for(s=y,o=1,a=A;i>=_&&w("invalid-input"),((C=(p=e.charCodeAt(i++))-48<10?p-22:p-65<26?p-65:p-97<26?p-97:A)>=A||C>b((g-y)/o))&&w("overflow"),y+=C*o,!(C<(l=a<=k?u:a>=k+I?I:a-k));a+=A)o>b(g/(f=A-l))&&w("overflow"),o*=f;k=T(y-s,t=m.length+1,0==s),b(y/t)>g-v&&w("overflow"),v+=b(y/t),y%=t,m.splice(y++,0,v)}return S(m)}function E(e){var t,r,n,i,s,o,a,C,l,f,p,m,_,y,k,M=[];for(m=(e=O(e)).length,t=d,r=0,s=c,o=0;o<m;++o)(p=e[o])<128&&M.push(v(p));for(n=i=M.length,i&&M.push(h);n<m;){for(a=g,o=0;o<m;++o)(p=e[o])>=t&&p<a&&(a=p);for(a-t>b((g-r)/(_=n+1))&&w("overflow"),r+=(a-t)*_,t=a,o=0;o<m;++o)if((p=e[o])<t&&++r>g&&w("overflow"),p==t){for(C=r,l=A;!(C<(f=l<=s?u:l>=s+I?I:l-s));l+=A)k=C-f,y=A-f,M.push(v(D(f+k%y,0))),C=b(k/y);M.push(v(D(C,0))),s=T(r,_,n==i),r=0,++n}++r,++t}return M.join("")}a={version:"1.4.1",ucs2:{decode:O,encode:S},decode:L,encode:E,toASCII:function(e){return M(e,(function(e){return p.test(e)?"xn--"+E(e):e}))},toUnicode:function(e){return M(e,(function(e){return f.test(e)?L(e.slice(4).toLowerCase()):e}))}},void 0===(i=function(){return a}.call(t,r,t,e))||(e.exports=i)}()}).call(this,r(90)(e),r(27))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"URL",{enumerable:!0,get:function(){return n.URL}}),Object.defineProperty(t,"getPunycodeEncoded",{enumerable:!0,get:function(){return n.getPunycodeEncoded}});var n=r(265)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=
/*!
 * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */
class{constructor(e){this.size=e,this.clear()}clear(){this.cache=[];for(let e=0;e<this.size;e+=1)this.cache.push({key:null,value:null})}get(e){const t=this.cache[e.length%this.size];if(t.key===e)return t.value}set(e,t){const r=this.cache[e.length%this.size];r.key=e,r.value=t}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isCliqzAction=
/*!
 * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */
function(e){return e.match(/^cliqz-actions,/)},t.urlStripProtocol=function(e){let t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{stripTrailingSlash:!0}).stripTrailingSlash,r=e.toLowerCase(),n=e;const i=["https://","http://","www2.","www.","mobile.","mobil.","m."];for(let e=0;e<i.length;e+=1){const t=i[e];r.startsWith(t)&&(n=n.substr(t.length),r=r.substr(t.length))}t&&n.endsWith("/")&&(n=n.substr(0,n.length-1));return n}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SUPPORTED_LANGS=t.getMessage=t.IMPLEMENTS_GET_MESSAGE=t.LOCALE_PATH=t.locale=t.loadTranslation=void 0;var n,i=r(51),s=(n=r(28))&&n.__esModule?n:{default:n};t.loadTranslation=()=>{};t.locale={};t.LOCALE_PATH=null;t.IMPLEMENTS_GET_MESSAGE=!0;t.getMessage=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return i.chrome.i18n.getMessage(e,t)};const o=s.default.settings.SUPPORTED_LANGS||["de","en","fr"];t.SUPPORTED_LANGS=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i=(n=r(39))&&n.__esModule?n:{default:n},s=r(51);t.default=
/*!
 * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */
class{constructor(){this.onLocationChangeHandler=e=>{let t=e.tabId,r=e.url,n=e.frameId,o=e.transitionType;0===n&&s.chrome.tabs.get(t,e=>{if(s.chrome.runtime.lastError)return;const a=e.incognito,g=e.active,A=e.pinned;i.default.pub("content:location-change",{active:g,frameId:n,isPrivate:a,pinned:A,tabId:t,transitionType:o,url:r,windowId:t,windowTreeInformation:{tabId:t}})})}}init(){s.chrome.webNavigation.onCommitted.addListener(this.onLocationChangeHandler),s.chrome.webNavigation.onHistoryStateUpdated.addListener(this.onLocationChangeHandler)}unload(){s.chrome.webNavigation.onCommitted.removeListener(this.onLocationChangeHandler),s.chrome.webNavigation.onHistoryStateUpdated.removeListener(this.onLocationChangeHandler)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(51),i=g(r(175)),s=g(r(43)),o=g(r(33)),a=r(73);function g(e){return e&&e.__esModule?e:{default:e}}function A(e,t,r,n,i,s,o){try{var a=e[s](o),g=a.value}catch(e){return void r(e)}a.done?t(g):Promise.resolve(g).then(n,i)}function u(e,t){const r=e.module,n=e.action,i=e.args,s=void 0===i?[]:i;if(void 0!==r&&void 0!==n)return o.default.module(r).action(n,...s,t)}t.default=class{init(){i.default.onMessage.addListener(u)}unload(){i.default.onMessage.removeListener(u)}callContentAction(e,t,r){let n=r.windowId,i=r.url,s=r.frameId;for(var o=arguments.length,a=new Array(o>3?o-3:0),g=3;g<o;g++)a[g-3]=arguments[g];return void 0!==n?this.broadcastToWindow(n,{module:e,action:t,args:a},s||0):void 0!==i?this.broadcastToUrl(i,{module:e,action:t,args:a}):Promise.reject(new Error('callContentAction expects either "url" or "windowId" to be specified'))}broadcastToWindow(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return n.browser.tabs.sendMessage(e,t,{frameId:r})}broadcastToUrl(e,t){return(r=function*(){const r=(yield n.browser.tabs.query({})).filter(t=>(0,a.equals)(t.url,e));return 0===r.length?(s.default.log("No tab found for url:",e),Promise.resolve()):(r.length>1&&s.default.log("Found more than one tab for url:",e,r),Promise.all(r.map(e=>{let r=e.id;return n.browser.tabs.sendMessage(r,t,{frameId:0})})).then(e=>1===e.length?e[0]:e))},function(){var e=this,t=arguments;return new Promise((function(n,i){var s=r.apply(e,t);function o(e){A(s,n,i,o,a,"next",e)}function a(e){A(s,n,i,o,a,"throw",e)}o(void 0)}))})();var r}broadcast(e,t){return"cliqz:core"===e?void 0!==t.url?this.broadcastToUrl(t.url,t):void 0!==t.windowId?this.broadcastToWindow(t.windowId,t):Promise.reject(new Error(`broadcast(...) expects either 'url' or 'windowId' to be specified: ${t}`)):e?Promise.reject(new Error(`call to broadcast with unknown channel ${e}`)):i.default.sendMessage(t)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(51),i=r(226);function s(e,t,r,n,i,s,o){try{var a=e[s](o),g=a.value}catch(e){return void r(e)}a.done?t(g):Promise.resolve(g).then(n,i)}function o(e){return`(function () {\n  window.CLIQZ = ${JSON.stringify(e)};\n  if (window.runCliqz !== undefined) {\n    window.runCliqz(window.CLIQZ);\n    window.runCliqz = undefined;\n  }\n}());`}class a{constructor(){this.scriptRegistration=null}init(){return Promise.resolve()}unload(){null!==this.scriptRegistration&&(this.scriptRegistration.unregister(),this.scriptRegistration=null)}setCliqzGlobal(e){var t,r=this;return(t=function*(){r.unload(),r.scriptRegistration=yield n.browser.contentScripts.register({allFrames:!0,matchAboutBlank:!0,js:[{code:o(e)}],runAt:"document_start",matches:["http://*/*","https://*/*"]})},function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function a(e){s(o,n,i,a,g,"next",e)}function g(e){s(o,n,i,a,g,"throw",e)}a(void 0)}))})()}}class g{constructor(){this.code="",this._frameListener=e=>{let t=e.tabId,r=e.frameId,s=10;!function e(o){0!==s&&(s-=1,n.chrome.tabs.executeScript(t,{code:o,frameId:r,runAt:"document_start"},()=>{n.chrome.runtime.lastError&&(0,i.setTimeout)(()=>e(o),2)}))}(this.code)}}init(){n.browser.webRequest.onCompleted.addListener(this._frameListener,{urls:["http://*/*","https://*/*"],types:["main_frame","sub_frame"]})}unload(){n.browser.webRequest.onCompleted.removeListener(this._frameListener)}setCliqzGlobal(e){this.code=o(e)}}t.default=class{constructor(){this.scriptInjector=(0,n.isContentScriptsSupported)()?new a:new g}init(e){this.scriptInjector.init(),this.shareAppState(e)}unload(){this.scriptInjector.unload()}shareAppState(e){e.ready().then(()=>{this.scriptInjector.setCliqzGlobal(function(e){return{app:e.status()}}(e))})}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=new
/*!
 * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */
class{constructor(){this.loaders=[],this.initialised=!1}init(){const e=this.loaders.map(e=>this._startLoader(e.loader,e.callback));return this.initialised=!0,Promise.all(e)}unload(){this.loaders.forEach(e=>{e.loader.stop()}),this.initialised=!1}addResourceLoader(e,t){this.loaders.push({loader:e,callback:t}),this.initialised&&this._startLoader(e,t)}_startLoader(e,t){return e.onUpdate(t),e.load().then(t)}};t.default=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.queryCliqz=function(e){return A.apply(this,arguments)},t.openLinkAndroid=function(e){g("openUrl",e)},t.openLink=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];s.default.isMobile?g("openUrl",e):i.chrome.tabs.create({url:e,active:t})},t.openTab=function(e){i.chrome.tabs.create({url:e})},t.getOpenTabs=function(){},t.getReminders=function(){},t.importBookmarks=function(){},t.callNumber=function(){},t.openMap=function(e){g("openUrl",e)},t.handleAutocompletion=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const r=e.replace(/http([s]?):\/\/(www.)?/,"").toLowerCase(),n=t.toLowerCase();r.startsWith(n)?g("autocomplete",r):g("autocomplete",t)},t.handleQuerySuggestions=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];g("suggestions",e,t)},t.hideKeyboard=function(){},t.sendUIReadySignal=function(){g("renderReady")};var n,i=r(51),s=(n=r(28))&&n.__esModule?n:{default:n};function o(e,t,r,n,i,s,o){try{var a=e[s](o),g=a.value}catch(e){return void r(e)}a.done?t(g):Promise.resolve(g).then(n,i)}const a="ANDROID_BROWSER";function g(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];i.chrome.runtime.sendMessage({source:i.chrome.runtime.id,target:a,action:e,args:r},()=>{i.chrome.runtime.lastError})}function A(){var e;return e=function*(e){return i.chrome.omnibox2.query(e,{focus:!0,openLocation:!0})},(A=function(){var t=this,r=arguments;return new Promise((function(n,i){var s=e.apply(t,r);function a(e){o(s,n,i,a,g,"next",e)}function g(e){o(s,n,i,a,g,"throw",e)}a(void 0)}))}).apply(this,arguments)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=C(r(28)),i=C(r(19)),s=r(320),o=r(432),a=r(200),g=r(44),A=r(133),u=r(435),I=r(438);function C(e){return e&&e.__esModule?e:{default:e}}
/*!
 * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */const l={logos:o.service,telemetry:A.service,"cliqz-config":I.service,session:u.service,"search-services":s.isSearchServiceReady,domainInfo:a.service,pacemaker:g.service};"production"!==n.default.environment&&(l["test-helpers"]=function e(){e.prefs=i.default});var c=l;t.default=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.loadSearchEngines=_,t.isSearchServiceReady=function(){return _()},t.getDefaultEngine=function(){return{}},t.addCustomSearchEngine=function(){},t.removeEngine=function(){},t.getDefaultSearchEngine=function(){return h.find(e=>e.default)},t.getSearchEngines=y,t.getSearchEnginesAsync=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(I)return _().then(()=>y(e));return Promise.resolve(y(e))},t.getEngineByName=b,t.setDefaultSearchEngine=v,t.revertToOriginalEngine=function(){v(u),C.removeItem("defaultSearchEngine")},t.restoreHiddenSearchEngines=function(){},t.addEngineWithDetails=function(){},t.updateAlias=function(){},t.default=void 0;var n=A(r(413)),i=A(r(228)),s=r(51),o=r(124),a=r(73),g=A(r(43));function A(e){return e&&e.__esModule?e:{default:e}}
/*!
 * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */const u=A(r(28)).default.settings.DEFAULT_SEARCH_ENGINE||"Google",I=void 0!==s.browser&&Object(s.browser)===s.browser&&Object(s.browser.cliqz)===s.browser.cliqz,C=new n.default,l=["google images","google maps","google","yahoo","bing","wikipedia","amazon","ebay","leo","youtube","ecosia"],c=e=>l.indexOf(e.toLowerCase())+1;function d(){let e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=t.find(e=>e.isDefault||e.default);return e=n&&(r||I)?n.name:C.getItem("defaultSearchEngine")||u,t.map(t=>({name:t.name,code:c(t.name),alias:t.alias||"",default:t.name===e,icon:t.icon,base_url:t.searchForm||t.search.template,urlDetails:(0,a.getDetailsFromUrl)(t.searchForm||t.search.template),getSubmissionForQuery(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"text/html";const n=t.urls[r];if(!n)return null;let i=e.split(/\s+/);i.length>0&&i[0].trim()===t.alias&&i.shift(),i=i.join(" ");const s=new URL(n.template.replace("{searchTerms}",encodeURIComponent(i))),o=new URLSearchParams(s.search);return(n.params||[]).forEach(e=>o.set(e.name.replace("{searchTerms}",i),e.value.replace("{searchTerms}",i))),n.params&&n.params.length>0&&(s.search=o.toString()),s.toString()}}))}let h=[];const f=new i.default;let p=!1,m=!1;function _(){return I?s.browser.cliqz.getSearchEngines().then(e=>{h=d(e,!1)}):s.browser.cliqzSearchEngines?s.browser.cliqzSearchEngines.getEngines().then(e=>{h=d(e,!0)}):(p||m||(m=!0,function(){let e=s.browser.i18n.getUILanguage().slice(0,2);return["en","de","fr"].includes(e)||(e="en"),new o.Resource(["webextension-specific","search-engines",`${e}.json`],{dataType:"json"}).load().catch(e=>g.default.warn("Could not load search engines.",e))}().then(e=>{h=d(e,!1)}).catch(e=>g.default.error("Could not load search engines.",e)).finally(()=>{p=!0,f.resolve()})),f.promise)}function y(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return h.filter(t=>!e.includes(t.name))}function b(e){return h.find(t=>t.name===e)}function v(e){b(e)&&(C.setItem("defaultSearchEngine",e),h.forEach(t=>{t.default=t.name===e}),I&&s.browser.cliqz.setSelectedSearchEngine(e))}t.default={}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i=(n=r(414))&&n.__esModule?n:{default:n};
/*!
 * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */
class s{constructor(e){if(!(this instanceof s))return new s(e);this.storage=i.default.bind(null,e),this.url=e}getItem(e){try{return this.storage().getItem(e)}catch(e){}}setItem(e,t){try{return this.storage().setItem(e,t)}catch(e){}}removeItem(e){try{return this.storage().removeItem(e)}catch(e){}}clear(){try{return this.storage().clear()}catch(e){}}setObject(e,t){this.setItem(e,JSON.stringify(t))}getObject(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const r=this.getItem(e);return r?JSON.parse(r):t}}t.default=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=
/*!
 * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */
function(){return localStorage}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.compress=
/*!
 * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */
function(e){return i.default.gzip(e)},t.decompress=function(e){return i.default.gunzip(e,{to:"string"})};var n,i=(n=r(321))&&n.__esModule?n:{default:n}},function(e,t,r){"use strict";var n=r(417),i=r(146),s=r(324),o=r(271),a=r(325),g=Object.prototype.toString,A=0,u=-1,I=0,C=8;function l(e){if(!(this instanceof l))return new l(e);this.options=i.assign({level:u,method:C,chunkSize:16384,windowBits:15,memLevel:8,strategy:I,to:""},e||{});var t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new a,this.strm.avail_out=0;var r=n.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(r!==A)throw new Error(o[r]);if(t.header&&n.deflateSetHeader(this.strm,t.header),t.dictionary){var c;if(c="string"==typeof t.dictionary?s.string2buf(t.dictionary):"[object ArrayBuffer]"===g.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,(r=n.deflateSetDictionary(this.strm,c))!==A)throw new Error(o[r]);this._dict_set=!0}}function c(e,t){var r=new l(t);if(r.push(e,!0),r.err)throw r.msg||o[r.err];return r.result}l.prototype.push=function(e,t){var r,o,a=this.strm,u=this.options.chunkSize;if(this.ended)return!1;o=t===~~t?t:!0===t?4:0,"string"==typeof e?a.input=s.string2buf(e):"[object ArrayBuffer]"===g.call(e)?a.input=new Uint8Array(e):a.input=e,a.next_in=0,a.avail_in=a.input.length;do{if(0===a.avail_out&&(a.output=new i.Buf8(u),a.next_out=0,a.avail_out=u),1!==(r=n.deflate(a,o))&&r!==A)return this.onEnd(r),this.ended=!0,!1;0!==a.avail_out&&(0!==a.avail_in||4!==o&&2!==o)||("string"===this.options.to?this.onData(s.buf2binstring(i.shrinkBuf(a.output,a.next_out))):this.onData(i.shrinkBuf(a.output,a.next_out)))}while((a.avail_in>0||0===a.avail_out)&&1!==r);return 4===o?(r=n.deflateEnd(this.strm),this.onEnd(r),this.ended=!0,r===A):2!==o||(this.onEnd(A),a.avail_out=0,!0)},l.prototype.onData=function(e){this.chunks.push(e)},l.prototype.onEnd=function(e){e===A&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},t.Deflate=l,t.deflate=c,t.deflateRaw=function(e,t){return(t=t||{}).raw=!0,c(e,t)},t.gzip=function(e,t){return(t=t||{}).gzip=!0,c(e,t)}},function(e,t,r){"use strict";var n,i=r(146),s=r(418),o=r(322),a=r(323),g=r(271),A=0,u=1,I=3,C=4,l=5,c=0,d=1,h=-2,f=-3,p=-5,m=-1,_=1,y=2,b=3,v=4,w=0,k=2,M=8,O=9,S=15,D=8,T=286,L=30,E=19,P=2*T+1,x=15,j=3,R=258,Y=R+j+1,N=32,U=42,H=69,F=73,B=91,z=103,W=113,G=666,q=1,V=2,K=3,Z=4,J=3;function $(e,t){return e.msg=g[t],t}function Q(e){return(e<<1)-(e>4?9:0)}function X(e){for(var t=e.length;--t>=0;)e[t]=0}function ee(e){var t=e.state,r=t.pending;r>e.avail_out&&(r=e.avail_out),0!==r&&(i.arraySet(e.output,t.pending_buf,t.pending_out,r,e.next_out),e.next_out+=r,t.pending_out+=r,e.total_out+=r,e.avail_out-=r,t.pending-=r,0===t.pending&&(t.pending_out=0))}function te(e,t){s._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,ee(e.strm)}function re(e,t){e.pending_buf[e.pending++]=t}function ne(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function ie(e,t){var r,n,i=e.max_chain_length,s=e.strstart,o=e.prev_length,a=e.nice_match,g=e.strstart>e.w_size-Y?e.strstart-(e.w_size-Y):0,A=e.window,u=e.w_mask,I=e.prev,C=e.strstart+R,l=A[s+o-1],c=A[s+o];e.prev_length>=e.good_match&&(i>>=2),a>e.lookahead&&(a=e.lookahead);do{if(A[(r=t)+o]===c&&A[r+o-1]===l&&A[r]===A[s]&&A[++r]===A[s+1]){s+=2,r++;do{}while(A[++s]===A[++r]&&A[++s]===A[++r]&&A[++s]===A[++r]&&A[++s]===A[++r]&&A[++s]===A[++r]&&A[++s]===A[++r]&&A[++s]===A[++r]&&A[++s]===A[++r]&&s<C);if(n=R-(C-s),s=C-R,n>o){if(e.match_start=t,o=n,n>=a)break;l=A[s+o-1],c=A[s+o]}}}while((t=I[t&u])>g&&0!=--i);return o<=e.lookahead?o:e.lookahead}function se(e){var t,r,n,s,g,A,u,I,C,l,c=e.w_size;do{if(s=e.window_size-e.lookahead-e.strstart,e.strstart>=c+(c-Y)){i.arraySet(e.window,e.window,c,c,0),e.match_start-=c,e.strstart-=c,e.block_start-=c,t=r=e.hash_size;do{n=e.head[--t],e.head[t]=n>=c?n-c:0}while(--r);t=r=c;do{n=e.prev[--t],e.prev[t]=n>=c?n-c:0}while(--r);s+=c}if(0===e.strm.avail_in)break;if(A=e.strm,u=e.window,I=e.strstart+e.lookahead,C=s,l=void 0,(l=A.avail_in)>C&&(l=C),r=0===l?0:(A.avail_in-=l,i.arraySet(u,A.input,A.next_in,l,I),1===A.state.wrap?A.adler=o(A.adler,u,l,I):2===A.state.wrap&&(A.adler=a(A.adler,u,l,I)),A.next_in+=l,A.total_in+=l,l),e.lookahead+=r,e.lookahead+e.insert>=j)for(g=e.strstart-e.insert,e.ins_h=e.window[g],e.ins_h=(e.ins_h<<e.hash_shift^e.window[g+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[g+j-1])&e.hash_mask,e.prev[g&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=g,g++,e.insert--,!(e.lookahead+e.insert<j)););}while(e.lookahead<Y&&0!==e.strm.avail_in)}function oe(e,t){for(var r,n;;){if(e.lookahead<Y){if(se(e),e.lookahead<Y&&t===A)return q;if(0===e.lookahead)break}if(r=0,e.lookahead>=j&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+j-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==r&&e.strstart-r<=e.w_size-Y&&(e.match_length=ie(e,r)),e.match_length>=j)if(n=s._tr_tally(e,e.strstart-e.match_start,e.match_length-j),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=j){e.match_length--;do{e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+j-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!=--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else n=s._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(n&&(te(e,!1),0===e.strm.avail_out))return q}return e.insert=e.strstart<j-1?e.strstart:j-1,t===C?(te(e,!0),0===e.strm.avail_out?K:Z):e.last_lit&&(te(e,!1),0===e.strm.avail_out)?q:V}function ae(e,t){for(var r,n,i;;){if(e.lookahead<Y){if(se(e),e.lookahead<Y&&t===A)return q;if(0===e.lookahead)break}if(r=0,e.lookahead>=j&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+j-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=j-1,0!==r&&e.prev_length<e.max_lazy_match&&e.strstart-r<=e.w_size-Y&&(e.match_length=ie(e,r),e.match_length<=5&&(e.strategy===_||e.match_length===j&&e.strstart-e.match_start>4096)&&(e.match_length=j-1)),e.prev_length>=j&&e.match_length<=e.prev_length){i=e.strstart+e.lookahead-j,n=s._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-j),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=i&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+j-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!=--e.prev_length);if(e.match_available=0,e.match_length=j-1,e.strstart++,n&&(te(e,!1),0===e.strm.avail_out))return q}else if(e.match_available){if((n=s._tr_tally(e,0,e.window[e.strstart-1]))&&te(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return q}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(n=s._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<j-1?e.strstart:j-1,t===C?(te(e,!0),0===e.strm.avail_out?K:Z):e.last_lit&&(te(e,!1),0===e.strm.avail_out)?q:V}function ge(e,t,r,n,i){this.good_length=e,this.max_lazy=t,this.nice_length=r,this.max_chain=n,this.func=i}function Ae(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=M,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new i.Buf16(2*P),this.dyn_dtree=new i.Buf16(2*(2*L+1)),this.bl_tree=new i.Buf16(2*(2*E+1)),X(this.dyn_ltree),X(this.dyn_dtree),X(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new i.Buf16(x+1),this.heap=new i.Buf16(2*T+1),X(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new i.Buf16(2*T+1),X(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function ue(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=k,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?U:W,e.adler=2===t.wrap?0:1,t.last_flush=A,s._tr_init(t),c):$(e,h)}function Ie(e){var t,r=ue(e);return r===c&&((t=e.state).window_size=2*t.w_size,X(t.head),t.max_lazy_match=n[t.level].max_lazy,t.good_match=n[t.level].good_length,t.nice_match=n[t.level].nice_length,t.max_chain_length=n[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=j-1,t.match_available=0,t.ins_h=0),r}function Ce(e,t,r,n,s,o){if(!e)return h;var a=1;if(t===m&&(t=6),n<0?(a=0,n=-n):n>15&&(a=2,n-=16),s<1||s>O||r!==M||n<8||n>15||t<0||t>9||o<0||o>v)return $(e,h);8===n&&(n=9);var g=new Ae;return e.state=g,g.strm=e,g.wrap=a,g.gzhead=null,g.w_bits=n,g.w_size=1<<g.w_bits,g.w_mask=g.w_size-1,g.hash_bits=s+7,g.hash_size=1<<g.hash_bits,g.hash_mask=g.hash_size-1,g.hash_shift=~~((g.hash_bits+j-1)/j),g.window=new i.Buf8(2*g.w_size),g.head=new i.Buf16(g.hash_size),g.prev=new i.Buf16(g.w_size),g.lit_bufsize=1<<s+6,g.pending_buf_size=4*g.lit_bufsize,g.pending_buf=new i.Buf8(g.pending_buf_size),g.d_buf=1*g.lit_bufsize,g.l_buf=3*g.lit_bufsize,g.level=t,g.strategy=o,g.method=r,Ie(e)}n=[new ge(0,0,0,0,(function(e,t){var r=65535;for(r>e.pending_buf_size-5&&(r=e.pending_buf_size-5);;){if(e.lookahead<=1){if(se(e),0===e.lookahead&&t===A)return q;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var n=e.block_start+r;if((0===e.strstart||e.strstart>=n)&&(e.lookahead=e.strstart-n,e.strstart=n,te(e,!1),0===e.strm.avail_out))return q;if(e.strstart-e.block_start>=e.w_size-Y&&(te(e,!1),0===e.strm.avail_out))return q}return e.insert=0,t===C?(te(e,!0),0===e.strm.avail_out?K:Z):(e.strstart>e.block_start&&(te(e,!1),e.strm.avail_out),q)})),new ge(4,4,8,4,oe),new ge(4,5,16,8,oe),new ge(4,6,32,32,oe),new ge(4,4,16,16,ae),new ge(8,16,32,32,ae),new ge(8,16,128,128,ae),new ge(8,32,128,256,ae),new ge(32,128,258,1024,ae),new ge(32,258,258,4096,ae)],t.deflateInit=function(e,t){return Ce(e,t,M,S,D,w)},t.deflateInit2=Ce,t.deflateReset=Ie,t.deflateResetKeep=ue,t.deflateSetHeader=function(e,t){return e&&e.state?2!==e.state.wrap?h:(e.state.gzhead=t,c):h},t.deflate=function(e,t){var r,i,o,g;if(!e||!e.state||t>l||t<0)return e?$(e,h):h;if(i=e.state,!e.output||!e.input&&0!==e.avail_in||i.status===G&&t!==C)return $(e,0===e.avail_out?p:h);if(i.strm=e,r=i.last_flush,i.last_flush=t,i.status===U)if(2===i.wrap)e.adler=0,re(i,31),re(i,139),re(i,8),i.gzhead?(re(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),re(i,255&i.gzhead.time),re(i,i.gzhead.time>>8&255),re(i,i.gzhead.time>>16&255),re(i,i.gzhead.time>>24&255),re(i,9===i.level?2:i.strategy>=y||i.level<2?4:0),re(i,255&i.gzhead.os),i.gzhead.extra&&i.gzhead.extra.length&&(re(i,255&i.gzhead.extra.length),re(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(e.adler=a(e.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=H):(re(i,0),re(i,0),re(i,0),re(i,0),re(i,0),re(i,9===i.level?2:i.strategy>=y||i.level<2?4:0),re(i,J),i.status=W);else{var f=M+(i.w_bits-8<<4)<<8;f|=(i.strategy>=y||i.level<2?0:i.level<6?1:6===i.level?2:3)<<6,0!==i.strstart&&(f|=N),f+=31-f%31,i.status=W,ne(i,f),0!==i.strstart&&(ne(i,e.adler>>>16),ne(i,65535&e.adler)),e.adler=1}if(i.status===H)if(i.gzhead.extra){for(o=i.pending;i.gzindex<(65535&i.gzhead.extra.length)&&(i.pending!==i.pending_buf_size||(i.gzhead.hcrc&&i.pending>o&&(e.adler=a(e.adler,i.pending_buf,i.pending-o,o)),ee(e),o=i.pending,i.pending!==i.pending_buf_size));)re(i,255&i.gzhead.extra[i.gzindex]),i.gzindex++;i.gzhead.hcrc&&i.pending>o&&(e.adler=a(e.adler,i.pending_buf,i.pending-o,o)),i.gzindex===i.gzhead.extra.length&&(i.gzindex=0,i.status=F)}else i.status=F;if(i.status===F)if(i.gzhead.name){o=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>o&&(e.adler=a(e.adler,i.pending_buf,i.pending-o,o)),ee(e),o=i.pending,i.pending===i.pending_buf_size)){g=1;break}g=i.gzindex<i.gzhead.name.length?255&i.gzhead.name.charCodeAt(i.gzindex++):0,re(i,g)}while(0!==g);i.gzhead.hcrc&&i.pending>o&&(e.adler=a(e.adler,i.pending_buf,i.pending-o,o)),0===g&&(i.gzindex=0,i.status=B)}else i.status=B;if(i.status===B)if(i.gzhead.comment){o=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>o&&(e.adler=a(e.adler,i.pending_buf,i.pending-o,o)),ee(e),o=i.pending,i.pending===i.pending_buf_size)){g=1;break}g=i.gzindex<i.gzhead.comment.length?255&i.gzhead.comment.charCodeAt(i.gzindex++):0,re(i,g)}while(0!==g);i.gzhead.hcrc&&i.pending>o&&(e.adler=a(e.adler,i.pending_buf,i.pending-o,o)),0===g&&(i.status=z)}else i.status=z;if(i.status===z&&(i.gzhead.hcrc?(i.pending+2>i.pending_buf_size&&ee(e),i.pending+2<=i.pending_buf_size&&(re(i,255&e.adler),re(i,e.adler>>8&255),e.adler=0,i.status=W)):i.status=W),0!==i.pending){if(ee(e),0===e.avail_out)return i.last_flush=-1,c}else if(0===e.avail_in&&Q(t)<=Q(r)&&t!==C)return $(e,p);if(i.status===G&&0!==e.avail_in)return $(e,p);if(0!==e.avail_in||0!==i.lookahead||t!==A&&i.status!==G){var m=i.strategy===y?function(e,t){for(var r;;){if(0===e.lookahead&&(se(e),0===e.lookahead)){if(t===A)return q;break}if(e.match_length=0,r=s._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,r&&(te(e,!1),0===e.strm.avail_out))return q}return e.insert=0,t===C?(te(e,!0),0===e.strm.avail_out?K:Z):e.last_lit&&(te(e,!1),0===e.strm.avail_out)?q:V}(i,t):i.strategy===b?function(e,t){for(var r,n,i,o,a=e.window;;){if(e.lookahead<=R){if(se(e),e.lookahead<=R&&t===A)return q;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=j&&e.strstart>0&&(n=a[i=e.strstart-1])===a[++i]&&n===a[++i]&&n===a[++i]){o=e.strstart+R;do{}while(n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&i<o);e.match_length=R-(o-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=j?(r=s._tr_tally(e,1,e.match_length-j),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(r=s._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),r&&(te(e,!1),0===e.strm.avail_out))return q}return e.insert=0,t===C?(te(e,!0),0===e.strm.avail_out?K:Z):e.last_lit&&(te(e,!1),0===e.strm.avail_out)?q:V}(i,t):n[i.level].func(i,t);if(m!==K&&m!==Z||(i.status=G),m===q||m===K)return 0===e.avail_out&&(i.last_flush=-1),c;if(m===V&&(t===u?s._tr_align(i):t!==l&&(s._tr_stored_block(i,0,0,!1),t===I&&(X(i.head),0===i.lookahead&&(i.strstart=0,i.block_start=0,i.insert=0))),ee(e),0===e.avail_out))return i.last_flush=-1,c}return t!==C?c:i.wrap<=0?d:(2===i.wrap?(re(i,255&e.adler),re(i,e.adler>>8&255),re(i,e.adler>>16&255),re(i,e.adler>>24&255),re(i,255&e.total_in),re(i,e.total_in>>8&255),re(i,e.total_in>>16&255),re(i,e.total_in>>24&255)):(ne(i,e.adler>>>16),ne(i,65535&e.adler)),ee(e),i.wrap>0&&(i.wrap=-i.wrap),0!==i.pending?c:d)},t.deflateEnd=function(e){var t;return e&&e.state?(t=e.state.status)!==U&&t!==H&&t!==F&&t!==B&&t!==z&&t!==W&&t!==G?$(e,h):(e.state=null,t===W?$(e,f):c):h},t.deflateSetDictionary=function(e,t){var r,n,s,a,g,A,u,I,C=t.length;if(!e||!e.state)return h;if(2===(a=(r=e.state).wrap)||1===a&&r.status!==U||r.lookahead)return h;for(1===a&&(e.adler=o(e.adler,t,C,0)),r.wrap=0,C>=r.w_size&&(0===a&&(X(r.head),r.strstart=0,r.block_start=0,r.insert=0),I=new i.Buf8(r.w_size),i.arraySet(I,t,C-r.w_size,r.w_size,0),t=I,C=r.w_size),g=e.avail_in,A=e.next_in,u=e.input,e.avail_in=C,e.next_in=0,e.input=t,se(r);r.lookahead>=j;){n=r.strstart,s=r.lookahead-(j-1);do{r.ins_h=(r.ins_h<<r.hash_shift^r.window[n+j-1])&r.hash_mask,r.prev[n&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=n,n++}while(--s);r.strstart=n,r.lookahead=j-1,se(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=j-1,r.match_available=0,e.next_in=A,e.input=u,e.avail_in=g,r.wrap=a,c},t.deflateInfo="pako deflate (from Nodeca project)"},function(e,t,r){"use strict";var n=r(146),i=4,s=0,o=1,a=2;function g(e){for(var t=e.length;--t>=0;)e[t]=0}var A=0,u=1,I=2,C=29,l=256,c=l+1+C,d=30,h=19,f=2*c+1,p=15,m=16,_=7,y=256,b=16,v=17,w=18,k=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],M=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],O=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],S=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],D=new Array(2*(c+2));g(D);var T=new Array(2*d);g(T);var L=new Array(512);g(L);var E=new Array(256);g(E);var P=new Array(C);g(P);var x,j,R,Y=new Array(d);function N(e,t,r,n,i){this.static_tree=e,this.extra_bits=t,this.extra_base=r,this.elems=n,this.max_length=i,this.has_stree=e&&e.length}function U(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function H(e){return e<256?L[e]:L[256+(e>>>7)]}function F(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function B(e,t,r){e.bi_valid>m-r?(e.bi_buf|=t<<e.bi_valid&65535,F(e,e.bi_buf),e.bi_buf=t>>m-e.bi_valid,e.bi_valid+=r-m):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=r)}function z(e,t,r){B(e,r[2*t],r[2*t+1])}function W(e,t){var r=0;do{r|=1&e,e>>>=1,r<<=1}while(--t>0);return r>>>1}function G(e,t,r){var n,i,s=new Array(p+1),o=0;for(n=1;n<=p;n++)s[n]=o=o+r[n-1]<<1;for(i=0;i<=t;i++){var a=e[2*i+1];0!==a&&(e[2*i]=W(s[a]++,a))}}function q(e){var t;for(t=0;t<c;t++)e.dyn_ltree[2*t]=0;for(t=0;t<d;t++)e.dyn_dtree[2*t]=0;for(t=0;t<h;t++)e.bl_tree[2*t]=0;e.dyn_ltree[2*y]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function V(e){e.bi_valid>8?F(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function K(e,t,r,n){var i=2*t,s=2*r;return e[i]<e[s]||e[i]===e[s]&&n[t]<=n[r]}function Z(e,t,r){for(var n=e.heap[r],i=r<<1;i<=e.heap_len&&(i<e.heap_len&&K(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!K(t,n,e.heap[i],e.depth));)e.heap[r]=e.heap[i],r=i,i<<=1;e.heap[r]=n}function J(e,t,r){var n,i,s,o,a=0;if(0!==e.last_lit)do{n=e.pending_buf[e.d_buf+2*a]<<8|e.pending_buf[e.d_buf+2*a+1],i=e.pending_buf[e.l_buf+a],a++,0===n?z(e,i,t):(z(e,(s=E[i])+l+1,t),0!==(o=k[s])&&B(e,i-=P[s],o),z(e,s=H(--n),r),0!==(o=M[s])&&B(e,n-=Y[s],o))}while(a<e.last_lit);z(e,y,t)}function $(e,t){var r,n,i,s=t.dyn_tree,o=t.stat_desc.static_tree,a=t.stat_desc.has_stree,g=t.stat_desc.elems,A=-1;for(e.heap_len=0,e.heap_max=f,r=0;r<g;r++)0!==s[2*r]?(e.heap[++e.heap_len]=A=r,e.depth[r]=0):s[2*r+1]=0;for(;e.heap_len<2;)s[2*(i=e.heap[++e.heap_len]=A<2?++A:0)]=1,e.depth[i]=0,e.opt_len--,a&&(e.static_len-=o[2*i+1]);for(t.max_code=A,r=e.heap_len>>1;r>=1;r--)Z(e,s,r);i=g;do{r=e.heap[1],e.heap[1]=e.heap[e.heap_len--],Z(e,s,1),n=e.heap[1],e.heap[--e.heap_max]=r,e.heap[--e.heap_max]=n,s[2*i]=s[2*r]+s[2*n],e.depth[i]=(e.depth[r]>=e.depth[n]?e.depth[r]:e.depth[n])+1,s[2*r+1]=s[2*n+1]=i,e.heap[1]=i++,Z(e,s,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],function(e,t){var r,n,i,s,o,a,g=t.dyn_tree,A=t.max_code,u=t.stat_desc.static_tree,I=t.stat_desc.has_stree,C=t.stat_desc.extra_bits,l=t.stat_desc.extra_base,c=t.stat_desc.max_length,d=0;for(s=0;s<=p;s++)e.bl_count[s]=0;for(g[2*e.heap[e.heap_max]+1]=0,r=e.heap_max+1;r<f;r++)(s=g[2*g[2*(n=e.heap[r])+1]+1]+1)>c&&(s=c,d++),g[2*n+1]=s,n>A||(e.bl_count[s]++,o=0,n>=l&&(o=C[n-l]),a=g[2*n],e.opt_len+=a*(s+o),I&&(e.static_len+=a*(u[2*n+1]+o)));if(0!==d){do{for(s=c-1;0===e.bl_count[s];)s--;e.bl_count[s]--,e.bl_count[s+1]+=2,e.bl_count[c]--,d-=2}while(d>0);for(s=c;0!==s;s--)for(n=e.bl_count[s];0!==n;)(i=e.heap[--r])>A||(g[2*i+1]!==s&&(e.opt_len+=(s-g[2*i+1])*g[2*i],g[2*i+1]=s),n--)}}(e,t),G(s,A,e.bl_count)}function Q(e,t,r){var n,i,s=-1,o=t[1],a=0,g=7,A=4;for(0===o&&(g=138,A=3),t[2*(r+1)+1]=65535,n=0;n<=r;n++)i=o,o=t[2*(n+1)+1],++a<g&&i===o||(a<A?e.bl_tree[2*i]+=a:0!==i?(i!==s&&e.bl_tree[2*i]++,e.bl_tree[2*b]++):a<=10?e.bl_tree[2*v]++:e.bl_tree[2*w]++,a=0,s=i,0===o?(g=138,A=3):i===o?(g=6,A=3):(g=7,A=4))}function X(e,t,r){var n,i,s=-1,o=t[1],a=0,g=7,A=4;for(0===o&&(g=138,A=3),n=0;n<=r;n++)if(i=o,o=t[2*(n+1)+1],!(++a<g&&i===o)){if(a<A)do{z(e,i,e.bl_tree)}while(0!=--a);else 0!==i?(i!==s&&(z(e,i,e.bl_tree),a--),z(e,b,e.bl_tree),B(e,a-3,2)):a<=10?(z(e,v,e.bl_tree),B(e,a-3,3)):(z(e,w,e.bl_tree),B(e,a-11,7));a=0,s=i,0===o?(g=138,A=3):i===o?(g=6,A=3):(g=7,A=4)}}g(Y);var ee=!1;function te(e,t,r,i){B(e,(A<<1)+(i?1:0),3),function(e,t,r,i){V(e),i&&(F(e,r),F(e,~r)),n.arraySet(e.pending_buf,e.window,t,r,e.pending),e.pending+=r}(e,t,r,!0)}t._tr_init=function(e){ee||(!function(){var e,t,r,n,i,s=new Array(p+1);for(r=0,n=0;n<C-1;n++)for(P[n]=r,e=0;e<1<<k[n];e++)E[r++]=n;for(E[r-1]=n,i=0,n=0;n<16;n++)for(Y[n]=i,e=0;e<1<<M[n];e++)L[i++]=n;for(i>>=7;n<d;n++)for(Y[n]=i<<7,e=0;e<1<<M[n]-7;e++)L[256+i++]=n;for(t=0;t<=p;t++)s[t]=0;for(e=0;e<=143;)D[2*e+1]=8,e++,s[8]++;for(;e<=255;)D[2*e+1]=9,e++,s[9]++;for(;e<=279;)D[2*e+1]=7,e++,s[7]++;for(;e<=287;)D[2*e+1]=8,e++,s[8]++;for(G(D,c+1,s),e=0;e<d;e++)T[2*e+1]=5,T[2*e]=W(e,5);x=new N(D,k,l+1,c,p),j=new N(T,M,0,d,p),R=new N(new Array(0),O,0,h,_)}(),ee=!0),e.l_desc=new U(e.dyn_ltree,x),e.d_desc=new U(e.dyn_dtree,j),e.bl_desc=new U(e.bl_tree,R),e.bi_buf=0,e.bi_valid=0,q(e)},t._tr_stored_block=te,t._tr_flush_block=function(e,t,r,n){var g,A,C=0;e.level>0?(e.strm.data_type===a&&(e.strm.data_type=function(e){var t,r=4093624447;for(t=0;t<=31;t++,r>>>=1)if(1&r&&0!==e.dyn_ltree[2*t])return s;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return o;for(t=32;t<l;t++)if(0!==e.dyn_ltree[2*t])return o;return s}(e)),$(e,e.l_desc),$(e,e.d_desc),C=function(e){var t;for(Q(e,e.dyn_ltree,e.l_desc.max_code),Q(e,e.dyn_dtree,e.d_desc.max_code),$(e,e.bl_desc),t=h-1;t>=3&&0===e.bl_tree[2*S[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),g=e.opt_len+3+7>>>3,(A=e.static_len+3+7>>>3)<=g&&(g=A)):g=A=r+5,r+4<=g&&-1!==t?te(e,t,r,n):e.strategy===i||A===g?(B(e,(u<<1)+(n?1:0),3),J(e,D,T)):(B(e,(I<<1)+(n?1:0),3),function(e,t,r,n){var i;for(B(e,t-257,5),B(e,r-1,5),B(e,n-4,4),i=0;i<n;i++)B(e,e.bl_tree[2*S[i]+1],3);X(e,e.dyn_ltree,t-1),X(e,e.dyn_dtree,r-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,C+1),J(e,e.dyn_ltree,e.dyn_dtree)),q(e),n&&V(e)},t._tr_tally=function(e,t,r){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&r,e.last_lit++,0===t?e.dyn_ltree[2*r]++:(e.matches++,t--,e.dyn_ltree[2*(E[r]+l+1)]++,e.dyn_dtree[2*H(t)]++),e.last_lit===e.lit_bufsize-1},t._tr_align=function(e){B(e,u<<1,3),z(e,y,D),function(e){16===e.bi_valid?(F(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}(e)}},function(e,t,r){"use strict";var n=r(420),i=r(146),s=r(324),o=r(326),a=r(271),g=r(325),A=r(423),u=Object.prototype.toString;function I(e){if(!(this instanceof I))return new I(e);this.options=i.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new g,this.strm.avail_out=0;var r=n.inflateInit2(this.strm,t.windowBits);if(r!==o.Z_OK)throw new Error(a[r]);if(this.header=new A,n.inflateGetHeader(this.strm,this.header),t.dictionary&&("string"==typeof t.dictionary?t.dictionary=s.string2buf(t.dictionary):"[object ArrayBuffer]"===u.call(t.dictionary)&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(r=n.inflateSetDictionary(this.strm,t.dictionary))!==o.Z_OK))throw new Error(a[r])}function C(e,t){var r=new I(t);if(r.push(e,!0),r.err)throw r.msg||a[r.err];return r.result}I.prototype.push=function(e,t){var r,a,g,A,I,C=this.strm,l=this.options.chunkSize,c=this.options.dictionary,d=!1;if(this.ended)return!1;a=t===~~t?t:!0===t?o.Z_FINISH:o.Z_NO_FLUSH,"string"==typeof e?C.input=s.binstring2buf(e):"[object ArrayBuffer]"===u.call(e)?C.input=new Uint8Array(e):C.input=e,C.next_in=0,C.avail_in=C.input.length;do{if(0===C.avail_out&&(C.output=new i.Buf8(l),C.next_out=0,C.avail_out=l),(r=n.inflate(C,o.Z_NO_FLUSH))===o.Z_NEED_DICT&&c&&(r=n.inflateSetDictionary(this.strm,c)),r===o.Z_BUF_ERROR&&!0===d&&(r=o.Z_OK,d=!1),r!==o.Z_STREAM_END&&r!==o.Z_OK)return this.onEnd(r),this.ended=!0,!1;C.next_out&&(0!==C.avail_out&&r!==o.Z_STREAM_END&&(0!==C.avail_in||a!==o.Z_FINISH&&a!==o.Z_SYNC_FLUSH)||("string"===this.options.to?(g=s.utf8border(C.output,C.next_out),A=C.next_out-g,I=s.buf2string(C.output,g),C.next_out=A,C.avail_out=l-A,A&&i.arraySet(C.output,C.output,g,A,0),this.onData(I)):this.onData(i.shrinkBuf(C.output,C.next_out)))),0===C.avail_in&&0===C.avail_out&&(d=!0)}while((C.avail_in>0||0===C.avail_out)&&r!==o.Z_STREAM_END);return r===o.Z_STREAM_END&&(a=o.Z_FINISH),a===o.Z_FINISH?(r=n.inflateEnd(this.strm),this.onEnd(r),this.ended=!0,r===o.Z_OK):a!==o.Z_SYNC_FLUSH||(this.onEnd(o.Z_OK),C.avail_out=0,!0)},I.prototype.onData=function(e){this.chunks.push(e)},I.prototype.onEnd=function(e){e===o.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},t.Inflate=I,t.inflate=C,t.inflateRaw=function(e,t){return(t=t||{}).raw=!0,C(e,t)},t.ungzip=C},function(e,t,r){"use strict";var n=r(146),i=r(322),s=r(323),o=r(421),a=r(422),g=0,A=1,u=2,I=4,C=5,l=6,c=0,d=1,h=2,f=-2,p=-3,m=-4,_=-5,y=8,b=1,v=2,w=3,k=4,M=5,O=6,S=7,D=8,T=9,L=10,E=11,P=12,x=13,j=14,R=15,Y=16,N=17,U=18,H=19,F=20,B=21,z=22,W=23,G=24,q=25,V=26,K=27,Z=28,J=29,$=30,Q=31,X=32,ee=852,te=592,re=15;function ne(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function ie(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new n.Buf16(320),this.work=new n.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function se(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=b,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new n.Buf32(ee),t.distcode=t.distdyn=new n.Buf32(te),t.sane=1,t.back=-1,c):f}function oe(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,se(e)):f}function ae(e,t){var r,n;return e&&e.state?(n=e.state,t<0?(r=0,t=-t):(r=1+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?f:(null!==n.window&&n.wbits!==t&&(n.window=null),n.wrap=r,n.wbits=t,oe(e))):f}function ge(e,t){var r,n;return e?(n=new ie,e.state=n,n.window=null,(r=ae(e,t))!==c&&(e.state=null),r):f}var Ae,ue,Ie=!0;function Ce(e){if(Ie){var t;for(Ae=new n.Buf32(512),ue=new n.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(a(A,e.lens,0,288,Ae,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;a(u,e.lens,0,32,ue,0,e.work,{bits:5}),Ie=!1}e.lencode=Ae,e.lenbits=9,e.distcode=ue,e.distbits=5}function le(e,t,r,i){var s,o=e.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new n.Buf8(o.wsize)),i>=o.wsize?(n.arraySet(o.window,t,r-o.wsize,o.wsize,0),o.wnext=0,o.whave=o.wsize):((s=o.wsize-o.wnext)>i&&(s=i),n.arraySet(o.window,t,r-i,s,o.wnext),(i-=s)?(n.arraySet(o.window,t,r-i,i,0),o.wnext=i,o.whave=o.wsize):(o.wnext+=s,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=s))),0}t.inflateReset=oe,t.inflateReset2=ae,t.inflateResetKeep=se,t.inflateInit=function(e){return ge(e,re)},t.inflateInit2=ge,t.inflate=function(e,t){var r,ee,te,re,ie,se,oe,ae,ge,Ae,ue,Ie,ce,de,he,fe,pe,me,_e,ye,be,ve,we,ke,Me=0,Oe=new n.Buf8(4),Se=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return f;(r=e.state).mode===P&&(r.mode=x),ie=e.next_out,te=e.output,oe=e.avail_out,re=e.next_in,ee=e.input,se=e.avail_in,ae=r.hold,ge=r.bits,Ae=se,ue=oe,ve=c;e:for(;;)switch(r.mode){case b:if(0===r.wrap){r.mode=x;break}for(;ge<16;){if(0===se)break e;se--,ae+=ee[re++]<<ge,ge+=8}if(2&r.wrap&&35615===ae){r.check=0,Oe[0]=255&ae,Oe[1]=ae>>>8&255,r.check=s(r.check,Oe,2,0),ae=0,ge=0,r.mode=v;break}if(r.flags=0,r.head&&(r.head.done=!1),!(1&r.wrap)||(((255&ae)<<8)+(ae>>8))%31){e.msg="incorrect header check",r.mode=$;break}if((15&ae)!==y){e.msg="unknown compression method",r.mode=$;break}if(ge-=4,be=8+(15&(ae>>>=4)),0===r.wbits)r.wbits=be;else if(be>r.wbits){e.msg="invalid window size",r.mode=$;break}r.dmax=1<<be,e.adler=r.check=1,r.mode=512&ae?L:P,ae=0,ge=0;break;case v:for(;ge<16;){if(0===se)break e;se--,ae+=ee[re++]<<ge,ge+=8}if(r.flags=ae,(255&r.flags)!==y){e.msg="unknown compression method",r.mode=$;break}if(57344&r.flags){e.msg="unknown header flags set",r.mode=$;break}r.head&&(r.head.text=ae>>8&1),512&r.flags&&(Oe[0]=255&ae,Oe[1]=ae>>>8&255,r.check=s(r.check,Oe,2,0)),ae=0,ge=0,r.mode=w;case w:for(;ge<32;){if(0===se)break e;se--,ae+=ee[re++]<<ge,ge+=8}r.head&&(r.head.time=ae),512&r.flags&&(Oe[0]=255&ae,Oe[1]=ae>>>8&255,Oe[2]=ae>>>16&255,Oe[3]=ae>>>24&255,r.check=s(r.check,Oe,4,0)),ae=0,ge=0,r.mode=k;case k:for(;ge<16;){if(0===se)break e;se--,ae+=ee[re++]<<ge,ge+=8}r.head&&(r.head.xflags=255&ae,r.head.os=ae>>8),512&r.flags&&(Oe[0]=255&ae,Oe[1]=ae>>>8&255,r.check=s(r.check,Oe,2,0)),ae=0,ge=0,r.mode=M;case M:if(1024&r.flags){for(;ge<16;){if(0===se)break e;se--,ae+=ee[re++]<<ge,ge+=8}r.length=ae,r.head&&(r.head.extra_len=ae),512&r.flags&&(Oe[0]=255&ae,Oe[1]=ae>>>8&255,r.check=s(r.check,Oe,2,0)),ae=0,ge=0}else r.head&&(r.head.extra=null);r.mode=O;case O:if(1024&r.flags&&((Ie=r.length)>se&&(Ie=se),Ie&&(r.head&&(be=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Array(r.head.extra_len)),n.arraySet(r.head.extra,ee,re,Ie,be)),512&r.flags&&(r.check=s(r.check,ee,Ie,re)),se-=Ie,re+=Ie,r.length-=Ie),r.length))break e;r.length=0,r.mode=S;case S:if(2048&r.flags){if(0===se)break e;Ie=0;do{be=ee[re+Ie++],r.head&&be&&r.length<65536&&(r.head.name+=String.fromCharCode(be))}while(be&&Ie<se);if(512&r.flags&&(r.check=s(r.check,ee,Ie,re)),se-=Ie,re+=Ie,be)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=D;case D:if(4096&r.flags){if(0===se)break e;Ie=0;do{be=ee[re+Ie++],r.head&&be&&r.length<65536&&(r.head.comment+=String.fromCharCode(be))}while(be&&Ie<se);if(512&r.flags&&(r.check=s(r.check,ee,Ie,re)),se-=Ie,re+=Ie,be)break e}else r.head&&(r.head.comment=null);r.mode=T;case T:if(512&r.flags){for(;ge<16;){if(0===se)break e;se--,ae+=ee[re++]<<ge,ge+=8}if(ae!==(65535&r.check)){e.msg="header crc mismatch",r.mode=$;break}ae=0,ge=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=P;break;case L:for(;ge<32;){if(0===se)break e;se--,ae+=ee[re++]<<ge,ge+=8}e.adler=r.check=ne(ae),ae=0,ge=0,r.mode=E;case E:if(0===r.havedict)return e.next_out=ie,e.avail_out=oe,e.next_in=re,e.avail_in=se,r.hold=ae,r.bits=ge,h;e.adler=r.check=1,r.mode=P;case P:if(t===C||t===l)break e;case x:if(r.last){ae>>>=7&ge,ge-=7&ge,r.mode=K;break}for(;ge<3;){if(0===se)break e;se--,ae+=ee[re++]<<ge,ge+=8}switch(r.last=1&ae,ge-=1,3&(ae>>>=1)){case 0:r.mode=j;break;case 1:if(Ce(r),r.mode=F,t===l){ae>>>=2,ge-=2;break e}break;case 2:r.mode=N;break;case 3:e.msg="invalid block type",r.mode=$}ae>>>=2,ge-=2;break;case j:for(ae>>>=7&ge,ge-=7&ge;ge<32;){if(0===se)break e;se--,ae+=ee[re++]<<ge,ge+=8}if((65535&ae)!=(ae>>>16^65535)){e.msg="invalid stored block lengths",r.mode=$;break}if(r.length=65535&ae,ae=0,ge=0,r.mode=R,t===l)break e;case R:r.mode=Y;case Y:if(Ie=r.length){if(Ie>se&&(Ie=se),Ie>oe&&(Ie=oe),0===Ie)break e;n.arraySet(te,ee,re,Ie,ie),se-=Ie,re+=Ie,oe-=Ie,ie+=Ie,r.length-=Ie;break}r.mode=P;break;case N:for(;ge<14;){if(0===se)break e;se--,ae+=ee[re++]<<ge,ge+=8}if(r.nlen=257+(31&ae),ae>>>=5,ge-=5,r.ndist=1+(31&ae),ae>>>=5,ge-=5,r.ncode=4+(15&ae),ae>>>=4,ge-=4,r.nlen>286||r.ndist>30){e.msg="too many length or distance symbols",r.mode=$;break}r.have=0,r.mode=U;case U:for(;r.have<r.ncode;){for(;ge<3;){if(0===se)break e;se--,ae+=ee[re++]<<ge,ge+=8}r.lens[Se[r.have++]]=7&ae,ae>>>=3,ge-=3}for(;r.have<19;)r.lens[Se[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,we={bits:r.lenbits},ve=a(g,r.lens,0,19,r.lencode,0,r.work,we),r.lenbits=we.bits,ve){e.msg="invalid code lengths set",r.mode=$;break}r.have=0,r.mode=H;case H:for(;r.have<r.nlen+r.ndist;){for(;fe=(Me=r.lencode[ae&(1<<r.lenbits)-1])>>>16&255,pe=65535&Me,!((he=Me>>>24)<=ge);){if(0===se)break e;se--,ae+=ee[re++]<<ge,ge+=8}if(pe<16)ae>>>=he,ge-=he,r.lens[r.have++]=pe;else{if(16===pe){for(ke=he+2;ge<ke;){if(0===se)break e;se--,ae+=ee[re++]<<ge,ge+=8}if(ae>>>=he,ge-=he,0===r.have){e.msg="invalid bit length repeat",r.mode=$;break}be=r.lens[r.have-1],Ie=3+(3&ae),ae>>>=2,ge-=2}else if(17===pe){for(ke=he+3;ge<ke;){if(0===se)break e;se--,ae+=ee[re++]<<ge,ge+=8}ge-=he,be=0,Ie=3+(7&(ae>>>=he)),ae>>>=3,ge-=3}else{for(ke=he+7;ge<ke;){if(0===se)break e;se--,ae+=ee[re++]<<ge,ge+=8}ge-=he,be=0,Ie=11+(127&(ae>>>=he)),ae>>>=7,ge-=7}if(r.have+Ie>r.nlen+r.ndist){e.msg="invalid bit length repeat",r.mode=$;break}for(;Ie--;)r.lens[r.have++]=be}}if(r.mode===$)break;if(0===r.lens[256]){e.msg="invalid code -- missing end-of-block",r.mode=$;break}if(r.lenbits=9,we={bits:r.lenbits},ve=a(A,r.lens,0,r.nlen,r.lencode,0,r.work,we),r.lenbits=we.bits,ve){e.msg="invalid literal/lengths set",r.mode=$;break}if(r.distbits=6,r.distcode=r.distdyn,we={bits:r.distbits},ve=a(u,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,we),r.distbits=we.bits,ve){e.msg="invalid distances set",r.mode=$;break}if(r.mode=F,t===l)break e;case F:r.mode=B;case B:if(se>=6&&oe>=258){e.next_out=ie,e.avail_out=oe,e.next_in=re,e.avail_in=se,r.hold=ae,r.bits=ge,o(e,ue),ie=e.next_out,te=e.output,oe=e.avail_out,re=e.next_in,ee=e.input,se=e.avail_in,ae=r.hold,ge=r.bits,r.mode===P&&(r.back=-1);break}for(r.back=0;fe=(Me=r.lencode[ae&(1<<r.lenbits)-1])>>>16&255,pe=65535&Me,!((he=Me>>>24)<=ge);){if(0===se)break e;se--,ae+=ee[re++]<<ge,ge+=8}if(fe&&0==(240&fe)){for(me=he,_e=fe,ye=pe;fe=(Me=r.lencode[ye+((ae&(1<<me+_e)-1)>>me)])>>>16&255,pe=65535&Me,!(me+(he=Me>>>24)<=ge);){if(0===se)break e;se--,ae+=ee[re++]<<ge,ge+=8}ae>>>=me,ge-=me,r.back+=me}if(ae>>>=he,ge-=he,r.back+=he,r.length=pe,0===fe){r.mode=V;break}if(32&fe){r.back=-1,r.mode=P;break}if(64&fe){e.msg="invalid literal/length code",r.mode=$;break}r.extra=15&fe,r.mode=z;case z:if(r.extra){for(ke=r.extra;ge<ke;){if(0===se)break e;se--,ae+=ee[re++]<<ge,ge+=8}r.length+=ae&(1<<r.extra)-1,ae>>>=r.extra,ge-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=W;case W:for(;fe=(Me=r.distcode[ae&(1<<r.distbits)-1])>>>16&255,pe=65535&Me,!((he=Me>>>24)<=ge);){if(0===se)break e;se--,ae+=ee[re++]<<ge,ge+=8}if(0==(240&fe)){for(me=he,_e=fe,ye=pe;fe=(Me=r.distcode[ye+((ae&(1<<me+_e)-1)>>me)])>>>16&255,pe=65535&Me,!(me+(he=Me>>>24)<=ge);){if(0===se)break e;se--,ae+=ee[re++]<<ge,ge+=8}ae>>>=me,ge-=me,r.back+=me}if(ae>>>=he,ge-=he,r.back+=he,64&fe){e.msg="invalid distance code",r.mode=$;break}r.offset=pe,r.extra=15&fe,r.mode=G;case G:if(r.extra){for(ke=r.extra;ge<ke;){if(0===se)break e;se--,ae+=ee[re++]<<ge,ge+=8}r.offset+=ae&(1<<r.extra)-1,ae>>>=r.extra,ge-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back",r.mode=$;break}r.mode=q;case q:if(0===oe)break e;if(Ie=ue-oe,r.offset>Ie){if((Ie=r.offset-Ie)>r.whave&&r.sane){e.msg="invalid distance too far back",r.mode=$;break}Ie>r.wnext?(Ie-=r.wnext,ce=r.wsize-Ie):ce=r.wnext-Ie,Ie>r.length&&(Ie=r.length),de=r.window}else de=te,ce=ie-r.offset,Ie=r.length;Ie>oe&&(Ie=oe),oe-=Ie,r.length-=Ie;do{te[ie++]=de[ce++]}while(--Ie);0===r.length&&(r.mode=B);break;case V:if(0===oe)break e;te[ie++]=r.length,oe--,r.mode=B;break;case K:if(r.wrap){for(;ge<32;){if(0===se)break e;se--,ae|=ee[re++]<<ge,ge+=8}if(ue-=oe,e.total_out+=ue,r.total+=ue,ue&&(e.adler=r.check=r.flags?s(r.check,te,ue,ie-ue):i(r.check,te,ue,ie-ue)),ue=oe,(r.flags?ae:ne(ae))!==r.check){e.msg="incorrect data check",r.mode=$;break}ae=0,ge=0}r.mode=Z;case Z:if(r.wrap&&r.flags){for(;ge<32;){if(0===se)break e;se--,ae+=ee[re++]<<ge,ge+=8}if(ae!==(4294967295&r.total)){e.msg="incorrect length check",r.mode=$;break}ae=0,ge=0}r.mode=J;case J:ve=d;break e;case $:ve=p;break e;case Q:return m;case X:default:return f}return e.next_out=ie,e.avail_out=oe,e.next_in=re,e.avail_in=se,r.hold=ae,r.bits=ge,(r.wsize||ue!==e.avail_out&&r.mode<$&&(r.mode<K||t!==I))&&le(e,e.output,e.next_out,ue-e.avail_out)?(r.mode=Q,m):(Ae-=e.avail_in,ue-=e.avail_out,e.total_in+=Ae,e.total_out+=ue,r.total+=ue,r.wrap&&ue&&(e.adler=r.check=r.flags?s(r.check,te,ue,e.next_out-ue):i(r.check,te,ue,e.next_out-ue)),e.data_type=r.bits+(r.last?64:0)+(r.mode===P?128:0)+(r.mode===F||r.mode===R?256:0),(0===Ae&&0===ue||t===I)&&ve===c&&(ve=_),ve)},t.inflateEnd=function(e){if(!e||!e.state)return f;var t=e.state;return t.window&&(t.window=null),e.state=null,c},t.inflateGetHeader=function(e,t){var r;return e&&e.state?0==(2&(r=e.state).wrap)?f:(r.head=t,t.done=!1,c):f},t.inflateSetDictionary=function(e,t){var r,n=t.length;return e&&e.state?0!==(r=e.state).wrap&&r.mode!==E?f:r.mode===E&&i(1,t,n,0)!==r.check?p:le(e,t,n,n)?(r.mode=Q,m):(r.havedict=1,c):f},t.inflateInfo="pako inflate (from Nodeca project)"},function(e,t,r){"use strict";e.exports=function(e,t){var r,n,i,s,o,a,g,A,u,I,C,l,c,d,h,f,p,m,_,y,b,v,w,k,M;r=e.state,n=e.next_in,k=e.input,i=n+(e.avail_in-5),s=e.next_out,M=e.output,o=s-(t-e.avail_out),a=s+(e.avail_out-257),g=r.dmax,A=r.wsize,u=r.whave,I=r.wnext,C=r.window,l=r.hold,c=r.bits,d=r.lencode,h=r.distcode,f=(1<<r.lenbits)-1,p=(1<<r.distbits)-1;e:do{c<15&&(l+=k[n++]<<c,c+=8,l+=k[n++]<<c,c+=8),m=d[l&f];t:for(;;){if(l>>>=_=m>>>24,c-=_,0===(_=m>>>16&255))M[s++]=65535&m;else{if(!(16&_)){if(0==(64&_)){m=d[(65535&m)+(l&(1<<_)-1)];continue t}if(32&_){r.mode=12;break e}e.msg="invalid literal/length code",r.mode=30;break e}y=65535&m,(_&=15)&&(c<_&&(l+=k[n++]<<c,c+=8),y+=l&(1<<_)-1,l>>>=_,c-=_),c<15&&(l+=k[n++]<<c,c+=8,l+=k[n++]<<c,c+=8),m=h[l&p];r:for(;;){if(l>>>=_=m>>>24,c-=_,!(16&(_=m>>>16&255))){if(0==(64&_)){m=h[(65535&m)+(l&(1<<_)-1)];continue r}e.msg="invalid distance code",r.mode=30;break e}if(b=65535&m,c<(_&=15)&&(l+=k[n++]<<c,(c+=8)<_&&(l+=k[n++]<<c,c+=8)),(b+=l&(1<<_)-1)>g){e.msg="invalid distance too far back",r.mode=30;break e}if(l>>>=_,c-=_,b>(_=s-o)){if((_=b-_)>u&&r.sane){e.msg="invalid distance too far back",r.mode=30;break e}if(v=0,w=C,0===I){if(v+=A-_,_<y){y-=_;do{M[s++]=C[v++]}while(--_);v=s-b,w=M}}else if(I<_){if(v+=A+I-_,(_-=I)<y){y-=_;do{M[s++]=C[v++]}while(--_);if(v=0,I<y){y-=_=I;do{M[s++]=C[v++]}while(--_);v=s-b,w=M}}}else if(v+=I-_,_<y){y-=_;do{M[s++]=C[v++]}while(--_);v=s-b,w=M}for(;y>2;)M[s++]=w[v++],M[s++]=w[v++],M[s++]=w[v++],y-=3;y&&(M[s++]=w[v++],y>1&&(M[s++]=w[v++]))}else{v=s-b;do{M[s++]=M[v++],M[s++]=M[v++],M[s++]=M[v++],y-=3}while(y>2);y&&(M[s++]=M[v++],y>1&&(M[s++]=M[v++]))}break}}break}}while(n<i&&s<a);n-=y=c>>3,l&=(1<<(c-=y<<3))-1,e.next_in=n,e.next_out=s,e.avail_in=n<i?i-n+5:5-(n-i),e.avail_out=s<a?a-s+257:257-(s-a),r.hold=l,r.bits=c}},function(e,t,r){"use strict";var n=r(146),i=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],s=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],o=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],a=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(e,t,r,g,A,u,I,C){var l,c,d,h,f,p,m,_,y,b=C.bits,v=0,w=0,k=0,M=0,O=0,S=0,D=0,T=0,L=0,E=0,P=null,x=0,j=new n.Buf16(16),R=new n.Buf16(16),Y=null,N=0;for(v=0;v<=15;v++)j[v]=0;for(w=0;w<g;w++)j[t[r+w]]++;for(O=b,M=15;M>=1&&0===j[M];M--);if(O>M&&(O=M),0===M)return A[u++]=20971520,A[u++]=20971520,C.bits=1,0;for(k=1;k<M&&0===j[k];k++);for(O<k&&(O=k),T=1,v=1;v<=15;v++)if(T<<=1,(T-=j[v])<0)return-1;if(T>0&&(0===e||1!==M))return-1;for(R[1]=0,v=1;v<15;v++)R[v+1]=R[v]+j[v];for(w=0;w<g;w++)0!==t[r+w]&&(I[R[t[r+w]]++]=w);if(0===e?(P=Y=I,p=19):1===e?(P=i,x-=257,Y=s,N-=257,p=256):(P=o,Y=a,p=-1),E=0,w=0,v=k,f=u,S=O,D=0,d=-1,h=(L=1<<O)-1,1===e&&L>852||2===e&&L>592)return 1;for(;;){m=v-D,I[w]<p?(_=0,y=I[w]):I[w]>p?(_=Y[N+I[w]],y=P[x+I[w]]):(_=96,y=0),l=1<<v-D,k=c=1<<S;do{A[f+(E>>D)+(c-=l)]=m<<24|_<<16|y|0}while(0!==c);for(l=1<<v-1;E&l;)l>>=1;if(0!==l?(E&=l-1,E+=l):E=0,w++,0==--j[v]){if(v===M)break;v=t[r+I[w]]}if(v>O&&(E&h)!==d){for(0===D&&(D=O),f+=k,T=1<<(S=v-D);S+D<M&&!((T-=j[S+D])<=0);)S++,T<<=1;if(L+=1<<S,1===e&&L>852||2===e&&L>592)return 1;A[d=E&h]=O<<24|S<<16|f-u|0}}return 0!==E&&(A[f+E]=v-D<<24|64<<16|0),C.bits=O,0}},function(e,t,r){"use strict";e.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.XMLHttpRequestFactory=function(){return XMLHttpRequest},t.setPrivateFlags=
/*!
 * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */
function(){},t.setBackgroundRequest=function(){}},function(e,t,r){(function(n){var i,s;void 0===(s="function"==typeof(i=function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function r(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}function i(e){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function o(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function a(e,t,r){return(a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=i(e)););return e}(e,t);if(n){var s=Object.getOwnPropertyDescriptor(n,t);return s.get?s.get.call(r):s.value}})(e,t,r||e)}var g=function(){function t(){e(this,t),Object.defineProperty(this,"listeners",{value:{},writable:!0,configurable:!0})}return r(t,[{key:"addEventListener",value:function(e,t){e in this.listeners||(this.listeners[e]=[]),this.listeners[e].push(t)}},{key:"removeEventListener",value:function(e,t){if(e in this.listeners)for(var r=this.listeners[e],n=0,i=r.length;n<i;n++)if(r[n]===t)return void r.splice(n,1)}},{key:"dispatchEvent",value:function(e){var t=this;if(e.type in this.listeners){for(var r=function(r){setTimeout((function(){return r.call(t,e)}))},n=this.listeners[e.type],i=0,s=n.length;i<s;i++)r(n[i]);return!e.defaultPrevented}}}]),t}(),A=function(t){function n(){var t;return e(this,n),(t=function(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?o(e):t}(this,i(n).call(this))).listeners||g.call(o(t)),Object.defineProperty(o(t),"aborted",{value:!1,writable:!0,configurable:!0}),Object.defineProperty(o(t),"onabort",{value:null,writable:!0,configurable:!0}),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(n,t),r(n,[{key:"toString",value:function(){return"[object AbortSignal]"}},{key:"dispatchEvent",value:function(e){"abort"===e.type&&(this.aborted=!0,"function"==typeof this.onabort&&this.onabort.call(this,e)),a(i(n.prototype),"dispatchEvent",this).call(this,e)}}]),n}(g),u=function(){function t(){e(this,t),Object.defineProperty(this,"signal",{value:new A,writable:!0,configurable:!0})}return r(t,[{key:"abort",value:function(){var e;try{e=new Event("abort")}catch(t){"undefined"!=typeof document?document.createEvent?(e=document.createEvent("Event")).initEvent("abort",!1,!1):(e=document.createEventObject()).type="abort":e={type:"abort",bubbles:!1,cancelable:!1}}this.signal.dispatchEvent(e)}},{key:"toString",value:function(){return"[object AbortController]"}}]),t}();"undefined"!=typeof Symbol&&Symbol.toStringTag&&(u.prototype[Symbol.toStringTag]="AbortController",A.prototype[Symbol.toStringTag]="AbortSignal"),function(e){(function(e){return e.__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL?(console.log("__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL=true is set, will force install polyfill"),!0):"function"==typeof e.Request&&!e.Request.prototype.hasOwnProperty("signal")||!e.AbortController})(e)&&(e.AbortController=u,e.AbortSignal=A)}("undefined"!=typeof self?self:n)})?i.call(t,r,t,e):i)||(e.exports=s)}).call(this,r(27))},function(e,t,r){"use strict";r.r(t),r.d(t,"Headers",(function(){return A})),r.d(t,"Request",(function(){return h})),r.d(t,"Response",(function(){return p})),r.d(t,"DOMException",(function(){return _})),r.d(t,"fetch",(function(){return y}));var n={searchParams:"URLSearchParams"in self,iterable:"Symbol"in self&&"iterator"in Symbol,blob:"FileReader"in self&&"Blob"in self&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in self,arrayBuffer:"ArrayBuffer"in self};if(n.arrayBuffer)var i=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],s=ArrayBuffer.isView||function(e){return e&&i.indexOf(Object.prototype.toString.call(e))>-1};function o(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function a(e){return"string"!=typeof e&&(e=String(e)),e}function g(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return n.iterable&&(t[Symbol.iterator]=function(){return t}),t}function A(e){this.map={},e instanceof A?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function u(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function I(e){return new Promise((function(t,r){e.onload=function(){t(e.result)},e.onerror=function(){r(e.error)}}))}function C(e){var t=new FileReader,r=I(t);return t.readAsArrayBuffer(e),r}function l(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function c(){return this.bodyUsed=!1,this._initBody=function(e){var t;this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:n.blob&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:n.formData&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:n.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():n.arrayBuffer&&n.blob&&((t=e)&&DataView.prototype.isPrototypeOf(t))?(this._bodyArrayBuffer=l(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):n.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(e)||s(e))?this._bodyArrayBuffer=l(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):n.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},n.blob&&(this.blob=function(){var e=u(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?u(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(C)}),this.text=function(){var e,t,r,n=u(this);if(n)return n;if(this._bodyBlob)return e=this._bodyBlob,t=new FileReader,r=I(t),t.readAsText(e),r;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),r=new Array(t.length),n=0;n<t.length;n++)r[n]=String.fromCharCode(t[n]);return r.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},n.formData&&(this.formData=function(){return this.text().then(f)}),this.json=function(){return this.text().then(JSON.parse)},this}A.prototype.append=function(e,t){e=o(e),t=a(t);var r=this.map[e];this.map[e]=r?r+", "+t:t},A.prototype.delete=function(e){delete this.map[o(e)]},A.prototype.get=function(e){return e=o(e),this.has(e)?this.map[e]:null},A.prototype.has=function(e){return this.map.hasOwnProperty(o(e))},A.prototype.set=function(e,t){this.map[o(e)]=a(t)},A.prototype.forEach=function(e,t){for(var r in this.map)this.map.hasOwnProperty(r)&&e.call(t,this.map[r],r,this)},A.prototype.keys=function(){var e=[];return this.forEach((function(t,r){e.push(r)})),g(e)},A.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),g(e)},A.prototype.entries=function(){var e=[];return this.forEach((function(t,r){e.push([r,t])})),g(e)},n.iterable&&(A.prototype[Symbol.iterator]=A.prototype.entries);var d=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function h(e,t){var r,n,i=(t=t||{}).body;if(e instanceof h){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new A(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,i||null==e._bodyInit||(i=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new A(t.headers)),this.method=(r=t.method||this.method||"GET",n=r.toUpperCase(),d.indexOf(n)>-1?n:r),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(i)}function f(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var r=e.split("="),n=r.shift().replace(/\+/g," "),i=r.join("=").replace(/\+/g," ");t.append(decodeURIComponent(n),decodeURIComponent(i))}})),t}function p(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new A(t.headers),this.url=t.url||"",this._initBody(e)}h.prototype.clone=function(){return new h(this,{body:this._bodyInit})},c.call(h.prototype),c.call(p.prototype),p.prototype.clone=function(){return new p(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new A(this.headers),url:this.url})},p.error=function(){var e=new p(null,{status:0,statusText:""});return e.type="error",e};var m=[301,302,303,307,308];p.redirect=function(e,t){if(-1===m.indexOf(t))throw new RangeError("Invalid status code");return new p(null,{status:t,headers:{location:e}})};var _=self.DOMException;try{new _}catch(e){(_=function(e,t){this.message=e,this.name=t;var r=Error(e);this.stack=r.stack}).prototype=Object.create(Error.prototype),_.prototype.constructor=_}function y(e,t){return new Promise((function(r,i){var s=new h(e,t);if(s.signal&&s.signal.aborted)return i(new _("Aborted","AbortError"));var o=new XMLHttpRequest;function a(){o.abort()}o.onload=function(){var e,t,n={status:o.status,statusText:o.statusText,headers:(e=o.getAllResponseHeaders()||"",t=new A,e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(e){var r=e.split(":"),n=r.shift().trim();if(n){var i=r.join(":").trim();t.append(n,i)}})),t)};n.url="responseURL"in o?o.responseURL:n.headers.get("X-Request-URL");var i="response"in o?o.response:o.responseText;r(new p(i,n))},o.onerror=function(){i(new TypeError("Network request failed"))},o.ontimeout=function(){i(new TypeError("Network request failed"))},o.onabort=function(){i(new _("Aborted","AbortError"))},o.open(s.method,s.url,!0),"include"===s.credentials?o.withCredentials=!0:"omit"===s.credentials&&(o.withCredentials=!1),"responseType"in o&&n.blob&&(o.responseType="blob"),s.headers.forEach((function(e,t){o.setRequestHeader(t,e)})),s.signal&&(s.signal.addEventListener("abort",a),o.onreadystatechange=function(){4===o.readyState&&s.signal.removeEventListener("abort",a)}),o.send(void 0===s._bodyInit?null:s._bodyInit)}))}y.polyfill=!0,self.fetch||(self.fetch=y,self.Headers=A,self.Request=h,self.Response=p)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.chromeUrlHandler=void 0;t.chromeUrlHandler=!1},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i=(n=r(327))&&n.__esModule?n:{default:n};t.default=
/*!
 * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */
class{constructor(e){this.key=["resource-loader",...e].join(":")}load(){return i.default.get(this.key)}save(e){return i.default.set(this.key,e)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;
/*!
 * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */
var n="undefined"!=typeof TextEncoder?TextEncoder:void 0;t.default=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;
/*!
 * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */
var n="undefined"!=typeof TextDecoder?TextDecoder:void 0;t.default=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.deflate=t.inflate=void 0;var n,i=(n=r(321))&&n.__esModule?n:{default:n};
/*!
 * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */
const s=i.default.inflate.bind(i.default);t.inflate=s;const o=i.default.deflate.bind(i.default);t.deflate=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.service=function(){return C.apply(this,arguments)},t.default=void 0;var n=A(r(433)),i=A(r(28)),s=A(r(74)),o=A(r(33)),a=r(111),g=r(73);function A(e){return e&&e.__esModule?e:{default:e}}function u(e,t,r,n,i,s,o){try{var a=e[s](o),g=a.value}catch(e){return void r(e)}a.done?t(g):Promise.resolve(g).then(n,i)}const I=s.default.get("core",{level:"log",prefix:"[logos]"});function C(){var e;return e=function*(){let e,t=1521469421408;return e=yield(0,n.default)(t,{updateVersion:e=>{t=e},updateDatabase:t=>{e=t}}),{getLogoDetails:r=>{const n=a.URLInfo.get(r);if(!n)return I.warn("getLogoDetails: not valid url ",r),null;const s=(0,g.getGeneralDomainMinusTLD)(n)||n.hostname||n.pathname,o=s.replace(/[-]/g,""),A=(e,t)=>{const r=e.lastIndexOf(s);return-1!==`${e.substr(0,r)}$${e.substr(r+s.length)}`.indexOf(t)};let u={};const C=e.domains;if(0===s.length)return u;if("IP"===s)u={text:"IP",backgroundColor:"9077e3"};else if(C[s])for(let e=0,r=C[s].length;e<r;e+=1){const r=C[s][e];if(A(n.hostname,r.r)){u={backgroundColor:r.b?r.b:null,backgroundImage:r.l?`url(${i.default.settings.BACKGROUND_IMAGE_URL}${t}/logos/${s}/${r.r}.svg)`:"",text:r.t,color:r.c?"":"#fff",brandTxtColor:r.b?r.b:"2d2d2d"};break}}u.text=u.text||`${o[0]||""}${o[1]||""}`.toLowerCase(),u.backgroundColor=u.backgroundColor||e.palette[s.split("").reduce((e,t)=>e+t.charCodeAt(0),0)%e.palette.length],u.brandTxtColor=u.brandTxtColor||"2d2d2d";const l=e.palette.indexOf(u.backgroundColor),c=e.buttons&&-1!==l&&e.buttons[l]?e.buttons[l]:10;return u.buttonsClass=`cliqz-brands-button-${c}`,u.style=`background-color: #${u.backgroundColor};color:${u.color||"#fff"};`,u.backgroundImage&&(u.style+=`background-image:${u.backgroundImage}; text-indent: -10em;`),u}}},(C=function(){var t=this,r=arguments;return new Promise((function(n,i){var s=e.apply(t,r);function o(e){u(s,n,i,o,a,"next",e)}function a(e){u(s,n,i,o,a,"throw",e)}o(void 0)}))}).apply(this,arguments)}var l=o.default.service("logos",["getLogoDetails"]);t.default=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){let r=t.updateVersion,a=t.updateDatabase;const g=n.default.get("config_logoVersion"),A=n.default.get("brands-database-version");let u=e;A?u=A:g&&(u=g);r(u);const I=new o.default(["core","logo-database.json"]);return(0,s.subscribe)("cliqz-config:update",()=>{const e=n.default.get("config_logoVersion",u);if(e===u)return;const t=
/*!
 * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */
function(e){return`${i.default.settings.BACKGROUND_IMAGE_URL}${e}/data/database.json`}(e);I.resource.remoteURL=t,I.updateFromRemote({force:!0}).then(t=>{t&&(u=e,r(e),I.resource.remoteURL=null,a(t))})}),I.load()};var n=a(r(19)),i=a(r(28)),s=r(39),o=a(r(124));function a(e){return e&&e.__esModule?e:{default:e}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(152);Object.keys(n).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return n[e]}})}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.service=function(){if(!i.default.has("session")){const e=(0,s.isSynchronizedDateAvailable)()?(0,o.dateToDaysSinceEpoch)((0,s.default)()):Math.floor((new Date).getTime()/864e5),t=[(0,n.default)(18),(0,n.default)(6,"0123456789"),"|",e,"|",(0,a.getChannel)()||"NONE"].join("");I(t),i.default.has("freshtab.state")||i.default.set("freshtab.state",!0)}return{saveSession:I,getSession:C}},t.default=void 0;var n=u(r(436)),i=u(r(19)),s=function(e){if(e&&e.__esModule)return e;var t=A();if(t&&t.has(e))return t.get(e);var r={};if(null!=e){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var s=n?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(r,i,s):r[i]=e[i]}}r.default=e,t&&t.set(e,r);return r}(r(230)),o=r(329),a=r(275),g=u(r(33));function A(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return A=function(){return e},e}function u(e){return e&&e.__esModule?e:{default:e}}
/*!
 * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */const I=e=>{i.default.set("session",e),i.default.set("session",e,"host.")},C=()=>i.default.get("session");var l=g.default.service("sessions",["getSession"]);t.default=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=
/*!
 * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */
function(e,t){let r,n="";const s=t||"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",o=s.length;for(r=0;r<e;r+=1)n+=s.charAt(Math.floor((0,i.default)()*o));return n};var n,i=(n=r(148))&&n.__esModule?n:{default:n}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i.default}});var n,i=(n=r(34))&&n.__esModule?n:{default:n}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.service=function e(){let t=null;(0,u.nextTick)(()=>{t=A.default.everyHour(d)});e.unload=()=>{null!==t&&(t.stop(),t=null)};return d()},t.default=void 0;var n=r(68),i=C(r(28)),s=C(r(39)),o=C(r(174)),a=C(r(19)),g=C(r(43)),A=C(r(44)),u=r(91),I=C(r(33));function C(e){return e&&e.__esModule?e:{default:e}}function l(e,t,r,n,i,s,o){try{var a=e[s](o),g=a.value}catch(e){return void r(e)}a.done?t(g):Promise.resolve(g).then(n,i)}const c=new Set(["backends","language_whitelist","locale_whitelist","location","location.city","location.granular","logoVersion","png_logoVersion","ts"]);function d(){return h.apply(this,arguments)}function h(){var e;return e=function*(){return(0,n.fetch)(i.default.settings.CONFIG_PROVIDER).then(e=>e.json()).then(e=>{Object.keys(e).forEach(t=>{if(!c.has(t))return;let r=e[t];"object"==typeof r&&(r=JSON.stringify(e[t])),a.default.set(`config_${t}`,r)}),!a.default.has("install_date")&&e.ts&&a.default.set("install_date",e.ts),function(){const e=a.default.get("backend_country",""),t=JSON.parse(a.default.get("config_backends",'["de"]')),r=-1===t.indexOf(e);if(""===e||r){const e=a.default.get("config_location","de");-1!==t.indexOf(e)?a.default.set("backend_country",e):"de"===o.default.currLocale?a.default.set("backend_country","de"):a.default.set("backend_country","us")}}(),s.default.pub("cliqz-config:update"),g.default.log("cliqz-config update succeeded")}).catch(e=>g.default.log("cliqz-config update failed",e))},(h=function(){var t=this,r=arguments;return new Promise((function(n,i){var s=e.apply(t,r);function o(e){l(s,n,i,o,a,"next",e)}function a(e){l(s,n,i,o,a,"throw",e)}o(void 0)}))}).apply(this,arguments)}var f=I.default.service("cliqz-config",[]);t.default=f},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(a)return void n.browser.cliqzHistory.unifiedSearch(e).then(t);const r=e.length<=3,o=r?"":e,u=r?i:s;function C(e){const t=[];return A.has(e)&&t.push("bookmark"),I.has(e)&&t.push("switchtab"),t.join(" ")}(n.browser.history?n.browser.history.search({text:o,startTime:0,maxResults:u}):Promise.resolve([])).then(n=>{const i=[],s=n.length,o=e.toLowerCase();for(let t=0;t<s&&i.length<u;t+=1){const s=n[t].url||"",a=n[t].title||"";let A=t+1;g(s)||(r&&(A=a.toLowerCase().indexOf(o)+1||s.indexOf(o)+1),A&&i.push({index:A,style:C(s),comment:a,value:s,query:e}))}i.length||e||i.push({index:1,style:"",comment:"Amazon.com: Online Shopping for Electronics, Apparel, Computers, Books, DVDs & more",value:"https://amazon.com",query:e},{index:2,style:"",comment:"YouTube",value:"https://youtube.com",query:e},{index:3,style:"",comment:"Facebook",value:"https://facebook.com",query:e}),t({query:e,results:r?i.sort((e,t)=>e.index-t.index):i,ready:!0})})},t.openedURLs=void 0;var n=r(51);
/*!
 * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */const i=100,s=15,o=["moz-extension://","chrome-extension://"],a=n.browser.cliqzHistory&&n.browser.cliqzHistory.unifiedSearch;function g(e){return o.find(t=>0===e.indexOf(t))}let A=new Set;function u(){n.chrome.bookmarks.search({query:""},e=>{A=e.reduce((e,t)=>(t.url&&e.add(t.url),e),new Set)})}n.chrome.bookmarks&&!a&&(n.chrome.bookmarks.onCreated.addListener(u),n.chrome.bookmarks.onRemoved.addListener(u),n.chrome.bookmarks.onChanged.addListener(u),n.chrome.bookmarks.onImportEnded&&n.chrome.bookmarks.onImportEnded.addListener(u),u());const I=new Set;function C(e,t){n.chrome.windows&&n.chrome.windows.getAll({populate:!0,windowTypes:["normal"]},r=>{I.clear(),r.forEach(r=>r.tabs.forEach(r=>{"onremoved"===e&&r.id===t||I.add(r.url)}))})}t.openedURLs=I,n.chrome.tabs&&(n.chrome.tabs.onCreated.addListener(C),n.chrome.tabs.onRemoved.addListener(C.bind(null,"onremoved")),n.chrome.tabs.onUpdated.addListener(C),n.chrome.tabs.onReplaced.addListener(C),C())},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.enableRequestSanitizer=function(){return l.apply(this,arguments)},t.disableRequestSanitizer=function(){if(!C)return;n.default.onBeforeSendHeaders.removeListener(I)};var n=A(r(277)),i=r(442),s=r(272),o=A(r(43)),a=r(102),g=A(r(443));function A(e){return e&&e.__esModule?e:{default:e}}function u(e,t,r,n,i,s,o){try{var a=e[s](o),g=a.value}catch(e){return void r(e)}a.done?t(g):Promise.resolve(g).then(n,i)}function I(e){const t=e.requestHeaders,r=e.type,n=e.url;if(-1!==e.tabId)return;const g=(0,a.extractHostname)(n);if(!g)return void o.default.warn("Could not extract hostname",n);const A=[];return(0,i.isSafeToRemoveHeaders)(g)?(A.push("origin","cookie"),"xmlhttprequest"===r&&A.push("accept-language","user-agent")):(0,s.isTrackableOriginHeaderFromOurExtension)(function(e,t){const r=e.find(e=>{return e.name.toLowerCase()===t});return r?r.value:""}(t,"origin"))&&A.push("origin"),A.length>0?{requestHeaders:t.filter(e=>!A.includes(e.name.toLowerCase()))}:void 0}let C=!1;function l(){var e;return e=function*(){(C=yield g.default.contains([g.default.PERMISSIONS.WEB_REQUEST,g.default.PERMISSIONS.WEB_REQUEST_BLOCKING]))&&n.default.onBeforeSendHeaders.addListener(I,{urls:["<all_urls>"],tabId:-1},["blocking","requestHeaders"])},(l=function(){var t=this,r=arguments;return new Promise((function(n,i){var s=e.apply(t,r);function o(e){u(s,n,i,o,a,"next",e)}function a(e){u(s,n,i,o,a,"throw",e)}o(void 0)}))}).apply(this,arguments)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.VALID_RESPONSE_PROPERTIES=void 0;var n=r(51);
/*!
 * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */t.VALID_RESPONSE_PROPERTIES={onBeforeRequest:["cancel","redirectUrl"],onBeforeSendHeaders:["cancel","requestHeaders"],onSendHeaders:[],onHeadersReceived:["cancel","redirectUrl","responseHeaders"],onAuthRequired:["cancel"],onResponseStarted:[],onBeforeRedirect:[],onCompleted:[],onErrorOccurred:[]};var i=n.chrome.webRequest||{};t.default=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isSafeToRemoveHeaders=function(e){return n.test(e)&&!i.has(e)};
/*!
 * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */
const n=/(?:[.]ghostery[.](?:net|com)|[.]cliqz[.]com|[.]foxyproxy[.]com)$/,i=new Set(["human-eval.cliqz.com","accountapi.ghostery.com","consumerapi.ghostery.com","accountapi.ghostery.net","consumerapi.ghostery.net","telemetry.privacy.cliqz.com"])},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(51);
/*!
 * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */const i={GRANTED:"granted",REJECTED:"rejectd"};var s={PERMISSIONS:{ACCESS_FINE_LOCATION:"geolocation",WEB_REQUEST:"webRequest",WEB_REQUEST_BLOCKING:"webRequestBlocking"},RESULTS:i,check:e=>Promise.resolve(e in navigator?i.GRANTED:i.REJECTED),request:()=>Promise.resolve(i.REJECTED),contains:e=>new Promise(t=>{n.chrome.permissions.contains({permissions:e},t)})};t.default=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=g(r(85)),i=r(84),s=g(r(445)),o=g(r(155)),a=g(r(452));function g(e){return e&&e.__esModule?e:{default:e}}
/*!
 * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */var A=(0,n.default)({requiresServices:["cliqz-config"],init(){this.messageCenter=new s.default,"GHOSTERY"!==i.product&&(new a.default).init()},unload(){},events:{"msg_center:show_message":function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this.messageCenter.showMessage.call(this.messageCenter,...t)},"msg_center:hide_message":function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this.messageCenter.hideMessage.call(this.messageCenter,...t)},"msg_center:pause_message":function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this.messageCenter.pauseMessage.call(this.messageCenter,...t)},"offers-send-ch":function(e){const t={ghostery:"ghostery"};e.dest.map(e=>t[e]).filter(e=>e).forEach(t=>this.messageCenter.showMessage(e,t))}},actions:{registerMessageHandler(e,t){class r extends o.default{_renderMessage(e){t(e)}_hideMessage(){}}this.messageCenter.registerMessageHandler(e,new r)},getHandlers(){return this.messageCenter.getHandlers()},showMessage(e,t){this.messageCenter.showMessage(t,e)},hideMessage(e,t){this.messageCenter.hideMessage(t,e)},pauseMessage(e,t,r){this.messageCenter.pauseMessage(t,e,r)}}});t.default=A},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=u(r(43)),i=u(r(446)),s=u(r(447)),o=u(r(448)),a=u(r(449)),g=u(r(450)),A=u(r(451));function u(e){return e&&e.__esModule?e:{default:e}}
/*!
 * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */function I(e){n.default.log(e,"CliqzMsgCenter")}class C{constructor(){this._messageHandlers={},this.showMessage=this.showMessage.bind(this),this.hideMessage=this.hideMessage.bind(this),this.registerMessageHandler("MESSAGE_HANDLER_DROPDOWN",new s.default),this.registerMessageHandler("MESSAGE_HANDLER_ALERT",new i.default),this.registerMessageHandler("MESSAGE_HANDLER_FRESHTAB_TOP",new o.default),this.registerMessageHandler("MESSAGE_HANDLER_FRESHTAB_MIDDLE",new a.default),this.registerMessageHandler("MESSAGE_HANDLER_FRESHTAB_OFFERS",new g.default),this.registerMessageHandler("MESSAGE_HANDLER_FRESHTAB_CLIQZPOST",new A.default)}registerMessageHandler(e,t){this._messageHandlers[e]=t}getHandlers(){return Object.keys(this._messageHandlers)}showMessage(e,t,r){const n=this._messageHandlers[t];n?n.enqueueMessage(e,r):I(`message handler not found: ${t}`)}hideMessage(e,t){const r=this._messageHandlers[t];r?r.dequeueMessage(e):I(`message handler not found: ${t}`)}pauseMessage(e,t){const r=this._messageHandlers[t];r?r.dequeueMessage(e):I(`message handler not found: ${t}`)}static getInstance(){return C.getInstance.instance=C.getInstance.instance||new C,C.getInstance.instance}}t.default=C},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i=r(227),s=(n=r(155))&&n.__esModule?n:{default:n};
/*!
 * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */
class o extends s.default{_renderMessage(e){(0,i.getWindow)().alert(e.text),this._callbacks[e.id]&&this._callbacks[e.id](e.id,e.options&&e.options.length>0&&e.options[0].action),this.showNextMessage()}_hideMessage(){}}t.default=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(r(39)),i=s(r(155));function s(e){return e&&e.__esModule?e:{default:e}}
/*!
 * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */class o extends i.default{constructor(){super(),n.default.sub("ui:dropdown_message_click",this._onClick.bind(this))}_renderMessage(e){n.default.pub("msg_handler_dropdown:message_ready",this._convertMessage(e))}_hideMessage(e){n.default.pub("msg_handler_dropdown:message_revoked",this._convertMessage(e))}_convertMessage(e){return{"footer-message":{simple_message:e.text,type:"cqz-message-survey",location:e.location,options:(e.options||[]).map(e=>({text:e.label,state:e.style,action:e.action}))}}}_onClick(e){const t=this._messageQueue[0];t&&this._callbacks[t.id]&&this._callbacks[t.id](t.id,e)}}t.default=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=o(r(39)),i=o(r(155)),s=o(r(33));function o(e){return e&&e.__esModule?e:{default:e}}
/*!
 * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */class a extends i.default{_renderMessage(e){s.default.module("freshtab").isReady().then(()=>{n.default.pub("message-center:handlers-freshtab:new-message",e)}).catch()}_hideMessage(e){n.default.pub("message-center:handlers-freshtab:clear-message",e)}}t.default=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=o(r(39)),i=o(r(155)),s=o(r(33));function o(e){return e&&e.__esModule?e:{default:e}}
/*!
 * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */class a extends i.default{_renderMessage(e){s.default.module("freshtab").isReady().then(()=>{n.default.pub("message-center:handlers-freshtab:new-message",e)}).catch()}_hideMessage(e){n.default.pub("message-center:handlers-freshtab:clear-message",e)}}t.default=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=o(r(39)),i=o(r(155)),s=o(r(33));function o(e){return e&&e.__esModule?e:{default:e}}
/*!
 * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */class a extends i.default{_renderMessage(e){s.default.module("freshtab").isReady().then(()=>{n.default.pub("message-center:handlers-freshtab:new-message",e)}).catch()}_hideMessage(e){n.default.pub("message-center:handlers-freshtab:clear-message",e)}}t.default=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=o(r(39)),i=o(r(155)),s=o(r(33));function o(e){return e&&e.__esModule?e:{default:e}}
/*!
 * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */class a extends i.default{_renderMessage(e){s.default.module("freshtab").isReady().then(()=>{n.default.pub("message-center:handlers-freshtab:new-message",e)}).catch()}_hideMessage(e){n.default.pub("message-center:handlers-freshtab:clear-message",e)}}t.default=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=I(r(28)),i=I(r(174)),s=I(r(33)),o=I(r(19)),a=r(275),g=r(84),A=I(r(453)),u=I(r(454));function I(e){return e&&e.__esModule?e:{default:e}}function C(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var r=[],n=!0,i=!1,s=void 0;try{for(var o,a=e[Symbol.iterator]();!(n=(o=a.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){i=!0,s=e}finally{try{n||null==a.return||a.return()}finally{if(i)throw s}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function l(e,t,r,n,i,s,o){try{var a=e[s](o),g=a.value}catch(e){return void r(e)}a.done?t(g):Promise.resolve(g).then(n,i)}function c(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var s=e.apply(t,r);function o(e){l(s,n,i,o,a,"next",e)}function a(e){l(s,n,i,o,a,"throw",e)}o(void 0)}))}}const d="dismissedAlerts",h=2,f={locale:e=>e===i.default.PLATFORM_LOCALE||e===i.default.PLATFORM_LANGUAGE,currentNewsLanguageIsNot(e,t){const r=JSON.parse(o.default.get("freshtabConfig","{}"));if(r.news&&r.news.preferedCountry&&r.news.preferedCountry===e){const e=JSON.parse(o.default.get(d,"{}"));return e[t.id]={count:1},o.default.set(d,JSON.stringify(e)),!1}return!0},isCurrentDate(e){const t=o.default.get("config_ts",null);return-1!==e.indexOf(t)},installDaysLesserThan:e=>c((function*(){return(yield(0,a.getDaysSinceInstall)())<=e}))(),installDaysGreaterThan:e=>c((function*(){return(yield(0,a.getDaysSinceInstall)())>=e}))(),installDaysSinceEpochLessThan:e=>c((function*(){return(yield(0,a.getInstallDateAsDaysSinceEpoch)())<e}))(),isAMO:()=>g.isAMO,isDesktopBrowser:()=>g.isDesktopBrowser,onboardingVersion:e=>o.default.get("onboardingVersion",n.default.settings.onboardingVersion)===e,prefHasNotChanged:e=>!o.default.has(e)};function p(e){return m.apply(this,arguments)}function m(){return(m=c((function*(e){const t=e.rules||[];for(let r=0;r<t.length;r+=1){const n=t[r],i=n.fn,s=n.value;if(!Object.prototype.hasOwnProperty.call(f,i))return!1;if(!(yield f[i](s,e)))return!1}return!0}))).apply(this,arguments)}t.default=class{constructor(){this.messageCenter=s.default.module("message-center")}get messages(){return Promise.all([(0,u.default)(),(0,A.default)()]).then(e=>e.reduce((e,t)=>e.concat(t),[]))}get handlers(){return this.messageCenter.action("getHandlers")}init(){var e=this;return c((function*(){const t=JSON.parse(o.default.get(d,"{}")),r=C(yield Promise.all([e.handlers,e.messages]),2),n=r[0],i=r[1];for(let r=0;r<i.length;r+=1){const s=i[r];if(s.active&&s.version<=h&&0===(t[s.id]||{count:0}).count&&(t[s.id]||{pausedOn:0}).pausedOn!==o.default.get("config_ts",null)&&(yield p(s))){const t=s.handler;-1!==n.indexOf(t)&&e.messageCenter.action("showMessage",t,s)}}}))()}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=
/*!
 * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */
function(){const e=[{id:"import",active:!0,version:2,type:"notification",title:(0,n.getMessage)("freshtab_app_top_box_import_bookmarks_hdr"),icon:"./images/import-bookmarks.svg",cta_text:(0,n.getMessage)("freshtab_app_top_box_import_bookmarks_cta"),cta_url:"home-action:openImportDialog",later_text:(0,n.getMessage)("freshtab_app_top_box_import_bookmarks_later"),handler:"MESSAGE_HANDLER_FRESHTAB_TOP",position:"top",rules:[{fn:"installDaysLesserThan",value:14},{fn:"isDesktopBrowser"},{fn:"onboardingVersion",value:3}]},{id:"adblocker",active:!0,version:1,type:"notification",title:(0,n.getMessage)("freshtab_cliqz_post_adblock_title"),description:(0,n.getMessage)("freshtab_cliqz_post_adblock_description"),icon:"./images/adblocker-on.png",supplementary_link_text:(0,n.getMessage)("freshtab_cliqz_post_adblock_learn_more_text"),supplementary_link_url:(0,n.getMessage)("freshtab_cliqz_post_adblock_learn_more_url"),cta_text:"",cta_url:"",cta_tooltip:"",handler:"MESSAGE_HANDLER_FRESHTAB_CLIQZPOST",position:"post",show_later:!1,rules:[{fn:"prefHasNotChanged",value:"cliqz-adb"},{fn:"installDaysSinceEpochLessThan",value:18052}]}];return Promise.resolve(e)};var n=r(174)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=
/*!
 * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */
function(){return new i.default(["freshtab","remoteMessages.json"],{remoteURL:`${n.default.settings.CDN_BASEURL}/notifications/messages.json`,cron:432e5,updateInterval:3e5,remoteOnly:!0}).load()};var n=s(r(28)),i=s(r(124));function s(e){return e&&e.__esModule?e:{default:e}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(r(133)),i=l(r(19)),s=l(r(85)),o=l(r(456)),a=l(r(470)),g=l(r(33)),A=l(r(277)),u=l(r(156)),I=r(73),C=r(91);function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t,r,n,i,s,o){try{var a=e[s](o),g=a.value}catch(e){return void r(e)}a.done?t(g):Promise.resolve(g).then(n,i)}function d(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var s=e.apply(t,r);function o(e){c(s,n,i,o,a,"next",e)}function a(e){c(s,n,i,o,a,"throw",e)}o(void 0)}))}}var h=(0,s.default)({requiresServices:["cliqz-config","telemetry","pacemaker"],hpn:g.default.module("hpnv2"),searchSession:g.default.service("search-session",["encodeSessionParams"]),telemetry:g.default.service("telemetry",["isEnabled"]),enabled:()=>i.default.get("humanWeb",!0)&&!i.default.get("humanWebOptOut",!1),init(e){this.collecting=!1,this.settings=e,this.humanWeb=o.default,o.default.hpn=this.hpn;const t=(this._pendingInits||Promise.resolve()).then(()=>this.enabled()?o.default.init().then(()=>{this.onHeadersReceivedListener=function(){return o.default.httpObserver.observeActivity(...arguments)},A.default.onHeadersReceived.addListener(this.onHeadersReceivedListener,{urls:["*://*/*"]},["responseHeaders"]),a.default&&a.default.onVisitRemoved&&(this.onVisitRemovedListener=function(){return o.default.onVisitRemoved(...arguments)},a.default.onVisitRemoved.addListener(this.onVisitRemovedListener)),this.active=!0,this.collecting=!0}):(this.active=!0,void(this.collecting=!1)));return this._pendingInits=t.catch(()=>{}),t},unload(){this.collecting=!1,this.active&&(this.active=!1,this.onVisitRemovedListener&&(a.default.onVisitRemoved.removeListener(this.onVisitRemovedListener),this.onVisitRemovedListener=void 0),this.onHeadersReceivedListener&&(A.default.onHeadersReceived.removeListener(this.onHeadersReceivedListener),this.onHeadersReceivedListener=void 0),o.default.unload())},reload(){var e=this;return d((function*(){yield e._pendingInits,e.unload(),yield e.init(e.settings)}))()},status(){if(this.active)return{visible:!0,state:!i.default.get("humanWebOptOut",!1)}},events:{prefchange(e){var t=this;return d((function*(){if("humanWebOptOut"===e)try{yield t.reload(),yield n.default.push({type:"humanWebStatus",state:t.actions.getStatus()})}catch(e){u.default.error(e)}}))()},"ui:click-on-url":function(e){if(e.isPrivateMode||!this.collecting)return;o.default.queryCache[e.url]={d:1,q:e.query,t:e.isPrivateResult?"othr":"cl",pt:e.positionType||""};const t={type:"extension-result-telemetry",q:e.query,s:this.searchSession.encodeSessionParams(),msg:{i:e.rawResult.index,o:`&o=${encodeURIComponent(JSON.stringify(e.resultOrder))}`,u:e.url,a:e.isFromAutocompletedURL},endpoint:this.settings.RESULTS_PROVIDER_LOG,method:"GET"};this.telemetry.isEnabled()&&o.default.sanitizeResultTelemetry(t).then(e=>{let t=e.query,r=e.url,n=e.data;return o.default.sendResultTelemetry(t,r,n)}).catch(u.default.error)},"control-center:toggleHumanWeb":()=>{i.default.set("humanWebOptOut",!i.default.get("humanWebOptOut",!1))},"core:mouse-down":function(){this.collecting&&o.default.captureMouseClickPage(...arguments)},"content:location-change":function(){this.collecting&&o.default.listener.onLocationChange(...arguments)}},actions:{getURLCheckStatus:e=>d((function*(){const t=(0,I.getDetailsFromUrl)(e).cleanHost;return{host:yield o.default.doublefetchHandler.anonymousHttpGet(`https://${t}`).then(()=>o.default.network.dns.resolveHost(t)),isHostPrivate:yield(0,C.tryPromise)(o.default.network.isHostNamePrivate((0,I.fixURL)(e))),isPagePrivate:yield(0,C.tryPromise)(o.default.isAlreadyMarkedPrivate(e,()=>{})),quorumConsent:yield(0,C.tryPromise)(o.default.sha1(e).then(e=>o.default.getQuorumConsent(e)))}}))(),getState(e){let t=e.msg;return d((function*(){const e=yield(0,C.tryPromise)(o.default.getAllOpenPages()),r=yield(0,C.tryPromise)(o.default.quorumCheckOtherUrls(t)),n=o.default.safebrowsingEndpoint.history;return{allOpenPages:e,counter:o.default.counter,countryCode:o.default.getCountryCode(),oc:o.default.oc,quorumOtherUrl:r,rulesets:Object.values(o.default.contentExtractor.patterns.normal.extractRules),state:o.default.state,strictQueries:o.default.strictQueries,sendQueue:o.default.safebrowsingEndpoint.getSendQueue(),dlq:o.default.safebrowsingEndpoint.dlq,sent:n.sent,history:n.values().slice(0,6),historySummary:n.values().map(e=>({action:e.msg.action,sentAt:e.sentAt}))}}))()},getStatus:()=>i.default.get("humanWebOptOut",!1),setStatus(e){i.default.set("humanWebOptOut",e)},isProcessingUrl:e=>void 0!==o.default.state.v[e],addDataToUrl:(e,t,r)=>o.default.state.v[e]?(o.default.state.v[e][t]=Object.keys(r).reduce((e,t)=>(e[t]=r[t],e),o.default.state.v[e][t]||{}),Promise.resolve()):Promise.reject(),telemetry(e,t){o.default.telemetry(e,t)},"hw:keypress":function(){this.collecting&&o.default.captureKeyPressPage(...arguments)},"hw:mousemove":function(){this.collecting&&o.default.captureMouseMovePage(...arguments)},"hw:scroll":function(){this.collecting&&o.default.captureScrollPage(...arguments)},"hw:copy":function(){this.collecting&&o.default.captureCopyPage(...arguments)},contentScriptTopAds(){},contentScriptHTML(){},jsRedirect(e){o.default.httpCache[e.message.url]={status:301,time:o.default.counter,location:e.message.location}},adClick(e){const t=e.ads;Object.keys(t).forEach(e=>{o.default.adDetails[e]=t[e]})}}});t.default=h},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=S(r(39)),i=S(r(457)),s=S(r(81)),o=r(332),a=S(r(148)),g=r(68),A=r(73),u=S(r(199)),I=S(r(459)),C=S(r(28)),l=r(460),c=r(278),d=r(227),h=S(r(461)),f=S(r(464)),p=r(465),m=S(r(156)),_=r(466),y=r(279),b=S(r(19)),v=r(84),w=S(r(334)),k=r(112),M=S(r(44)),O=S(r(469));function S(e){return e&&e.__esModule?e:{default:e}}function D(e,t,r,n,i,s,o){try{var a=e[s](o),g=a.value}catch(e){return void r(e)}a.done?t(g):Promise.resolve(g).then(n,i)}function T(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var s=e.apply(t,r);function o(e){D(s,n,i,o,a,"next",e)}function a(e){D(s,n,i,o,a,"throw",e)}o(void 0)}))}}function L(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var r=[],n=!0,i=!1,s=void 0;try{for(var o,a=e[Symbol.iterator]();!(n=(o=a.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){i=!0,s=e}finally{try{n||null==a.return||a.return()}finally{if(i)throw s}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}const E=C.default.settings.ALLOWED_COUNTRY_CODES;function P(){if(j.debug){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];console.log(j.LOG_KEY,...t)}}function x(e,t){const r=Math.ceil(e),n=Math.floor(t);return Math.floor((0,a.default)()*(n-r+1))+e}const j={adDetails:{},CHANNEL:C.default.settings.HW_CHANNEL,VERSION:"2.7",WAIT_TIME:2e3,PAGE_WAIT_TIME:5e3,LOG_KEY:"humanweb",debug:!1,httpCache:{},httpCache401:{},domParser:null,queryCache:{},privateCache:{},UrlsCache:!1,docCache:{},strictMode:!1,qs_len:30,rel_part_len:18,rel_segment_len:15,doubleFetchTimeInSec:3600,MAX_NUMBER_DOUBLEFETCH_ATTEMPS:3,can_urls:{},deadFiveMts:5,deadTwentyMts:20,msgType:"humanweb",probHashLogM:[[-1.839225984234144,-1.8009413231413045,-2.5864601561900273,-2.779077348461893,-2.41154163187108,-2.8701669802592216,-3.010853183897427,-2.9831997811803244,-3.0258844950086354,-3.028549665472028,-4.922879838696041,-4.503195676571833,-4.598154161855354,-5.027344698225922,-5.217723368153992,-5.366375752342653,-5.195909278900248,-3.2940850310881387,-5.181468249477294,-6.110371416838184,-5.766202229535159,-5.393352786265537,-4.920024681004049,-6.049294408676102,-6.399015490326156,-4.690163484884073,-7.459851804835359,-5.825337077308845,-4.675000760327133,-5.3635239851672845,-6.331713706782754,-6.169284763337202,-5.951151191317628,-5.768078242705815,-7.332129653597336,-6.766704624275413,-6.01222435569866,-5.268617743244878,-6.279416117827666,-5.861972559492891,-5.838071468059843,-6.267250173459698,-6.283981033030117,-6.454759516784266,-6.5195694451700765,-6.83526729571271,-6.458157413359671,-6.359696067797872,-6.250241538141395,-6.647172527007435,-6.973987597161365,-6.4598607011160425,-7.685547265665763,-6.5912026847359835,-5.794718807999361,-6.474629988987015,-7.135098972554303,-6.880960523371609,-6.747429130747086,-7.733118660641065,-8.398636456057481,-7.6323973914922005],[-2.11332750230783,-2.3060786022344897,-2.3740965556720726,-2.5398307619465608,-2.463417892707307,-2.130953109899374,-2.8009573227909073,-2.9401508827086436,-2.748847204575824,-2.8414237914951976,-5.010884149435608,-4.7716590964777925,-4.868359687249472,-5.322380370933768,-5.037006822424893,-5.279762905036231,-5.635270908532894,-2.9219817650555973,-5.50179037155463,-6.5406369920023,-6.311742070591071,-5.516975693542294,-5.7251712834206305,-6.083331008626942,-6.409455776722731,-4.856277028595425,-7.356357334609669,-6.255977591877104,-5.042089425488359,-5.723688703460408,-6.9306288690141455,-5.879866127104103,-6.269949621534028,-6.969512838475713,-7.475373123729266,-6.802062729887527,-6.566109586768108,-6.661695002244713,-6.634070998648396,-6.128265317507457,-6.0654489711795785,-6.79728322915323,-6.99559673771516,-6.996654379273295,-7.671972036661277,-7.840255377779173,-7.132455920432357,-7.233113706563278,-6.737551430374816,-7.2706736012479585,-7.430290364348156,-6.991903776514698,-8.559572276072503,-7.231105001502197,-6.117005677632925,-6.669675284003577,-7.87022016648111,-7.635233211015519,-7.18343028641663,-8.53463332772525,-8.567176875457722,-7.573077285525099],[-1.6313545940843748,-2.457209014039589,-2.565380346827546,-2.767788786784649,-2.6386222432933284,-2.595661570703591,-2.6893427324813977,-2.7198733792574403,-2.720533202987637,-2.8467380805237736,-5.029918409868431,-4.178710463028381,-5.07588590483658,-5.057436988529895,-4.899938336310833,-5.271744381251988,-5.715419865537325,-3.1739071041721116,-5.367102243680773,-6.224018730172038,-5.866973141306898,-5.730015933050199,-5.360958031920617,-6.20201967617667,-6.328452890969734,-4.837569916970598,-7.520833339090353,-5.8325529174204185,-4.950768880962046,-5.339171801246006,-6.500538943869661,-6.141626179853517,-5.826929659866057,-6.371549418153106,-7.095602530626063,-6.863928261303842,-6.26532998038965,-6.486382994639529,-6.568804701240378,-5.928030195562504,-6.138501621140467,-6.375855129864318,-6.672567424416514,-6.87690014131182,-7.500698430681298,-7.486404619424152,-7.110483757622713,-6.948864783187929,-6.7689909475117735,-7.44680608044408,-7.305175362028806,-6.490004000406482,-8.278142463867583,-7.100043692626031,-6.262757631704339,-6.785644569035485,-7.917859578552653,-6.966883288690608,-6.7663306639529575,-7.827911341889713,-7.709275282211631,-7.650980633730635],[-2.2483023852308777,-2.2601431921520803,-2.543211818297523,-2.6290975996017654,-2.597012293697696,-2.425038774903284,-2.6464962853598264,-2.7268820909874645,-2.7170988469992086,-2.6384412943652213,-4.8059842634060495,-4.801920790322523,-4.881995682865955,-4.399130557719554,-4.977525552072196,-5.254333597613871,-5.4861286120783905,-3.172333855510997,-5.311009967578493,-6.3787775808955045,-6.060833750357407,-5.179488625881995,-5.284849141539821,-6.185226477248653,-6.342526765978808,-5.0477193482508715,-7.229508117457252,-5.92913163950562,-4.781563610047119,-5.175693021409531,-6.686598785853124,-5.953265540842049,-5.765108625614716,-6.249636653394711,-7.053405713688212,-6.871084156894258,-4.746700678954438,-4.435206614193364,-6.2492260600816145,-5.437566316202071,-5.90294982336378,-6.5708663077474965,-6.4774110336687505,-6.642451113295277,-7.490560332753359,-7.638809897851904,-7.037026821604173,-6.792453878834064,-6.557926605402683,-7.183535297458448,-7.556615154408894,-6.675849393697125,-7.929241490870054,-6.920447880012594,-5.937211886970303,-6.536908132533395,-7.266281062975223,-7.138583909596181,-6.9407325511841,-7.611188320541975,-8.063402408224212,-7.7539194100649205],[-2.0350349956205984,-2.348602646771946,-2.41594411405956,-2.651370395735765,-2.563410442434685,-2.706962611141542,-2.7917112923152776,-2.7483543933766477,-2.6785026736567357,-2.8111298756441037,-4.759837736546805,-4.20618015484438,-4.787453629928326,-4.659538126267765,-5.015532806050122,-5.056335259588051,-5.339468177159593,-3.040667184111712,-5.203144447478613,-6.2264472230490675,-5.7097357671058155,-5.585194192596145,-5.035187712987706,-5.542988699592872,-6.206189420830567,-4.864552817623237,-7.387161020524848,-5.130725109803191,-4.710070938057912,-5.015532806050122,-5.563665939332496,-5.8412571088023135,-5.744609136156329,-6.206575148897066,-6.842735398083401,-6.794361813799185,-5.850672107736916,-6.088449236501511,-6.348519254409916,-5.725588459198469,-6.064735388153122,-6.479956671206651,-6.2209527037314265,-6.70094736915976,-7.3405268040104845,-7.140183173146506,-6.467358872953416,-6.7233339772218645,-6.184068000080206,-6.381516598393398,-7.406185056529545,-6.368731036096427,-7.402351186018824,-6.6091509166536255,-5.9623588984476195,-6.352529061520146,-7.133337180638517,-7.24783614109371,-6.901266731308386,-7.234806640803376,-7.432126848507545,-7.494477663675224],[-2.0215812860615885,-2.455637406643175,-2.4330253990141046,-2.6113902739466517,-2.6033787533338284,-2.6337646574813993,-2.7111759743895725,-2.7471499108067454,-2.721672070749707,-2.7644985821403028,-4.771735346669196,-4.967298931497775,-4.806933772233218,-4.796223062219612,-4.702049659123834,-4.615986584200591,-5.422222957790021,-3.024083897225106,-5.341473161524181,-5.691932137893965,-5.870247680316981,-5.6516120254419615,-4.85258639108815,-5.9684706438872475,-6.205102036008844,-4.762283950640148,-7.106211026775939,-5.754565801069223,-4.28552037163959,-5.083154204506742,-6.514533306380853,-5.91282033178054,-5.801594696670316,-6.211408552601299,-6.884100000075919,-6.5060032575028,-6.051550266183317,-6.1528452495165125,-6.237040028392324,-5.845664774991169,-5.83750622157883,-6.376088248894053,-6.3936457603588925,-6.58430154569624,-7.071724850704769,-7.213982427018076,-6.56730052905341,-6.608473779316545,-6.403307671270629,-6.973970456584425,-7.485700648480843,-6.5060032575028,-7.126013654072119,-6.592294210440276,-5.525669597265563,-6.0726189713973024,-6.168884085714272,-7.057863242618145,-6.702467385782517,-7.84259108644045,-7.932742183434748,-6.889071012797939],[-2.3515175517946965,-2.4895377785815813,-2.455794452354539,-2.6177065611128625,-2.3916765698655924,-2.55893036105207,-2.621684157393488,-2.6988517931658524,-2.630805311213068,-2.6634082117951667,-4.639123440452939,-4.108116635400416,-4.850674635561831,-4.879642999369406,-5.020506071184806,-5.079702479761731,-5.3856932140647995,-2.922465393995544,-5.272571266829349,-6.095451326503016,-5.703507123198923,-5.5861660464475555,-5.144197286007818,-5.722031888813277,-6.28586346876822,-4.872555039237073,-6.886991750607913,-5.521389523166842,-4.712785087276782,-4.712557943607434,-6.258849400356963,-5.781080159458192,-5.683518571573409,-6.497978247391754,-6.801813554699944,-6.640350228026399,-6.23670827447975,-6.480528140170159,-6.503409353749256,-6.035279500709713,-6.187868456644626,-6.634900623258835,-6.227883924459252,-6.665648019797556,-7.5457712876636505,-7.422426740346121,-6.235666064901307,-6.769319721223498,-6.343344078699495,-6.975730165249003,-7.353206363454935,-6.635677322327007,-7.937813375439674,-6.762240045635436,-6.147006740966892,-6.741296871790193,-7.715813334827543,-7.183705495090042,-6.938232467377743,-7.593211012735211,-8.021194984378726,-7.326496213127361],[-2.404503840183417,-2.43761707422273,-2.4108252303609095,-2.2999425986283435,-2.542843475674806,-2.6029429346724786,-2.584141922741018,-2.5855127818195496,-2.5510561981552526,-2.647681869737238,-4.782820501953572,-4.808208666935694,-4.979563332219715,-5.008211525808261,-5.046432738628459,-5.142457459370653,-5.485491564024772,-3.1144173778919617,-5.417825855041213,-6.245547233803318,-5.938268453446564,-5.963941744764968,-5.450843208258146,-6.059373833665894,-6.223182084343739,-4.942745700375246,-7.208409268623897,-6.038143491827719,-4.6277437642171355,-4.892513996642899,-6.694766741586792,-6.117821568685912,-5.949820065666706,-6.502648045547855,-6.835922059321975,-6.694766741586792,-6.361312919572388,-6.403294392961231,-6.118769885494771,-5.676056523505988,-6.406451957946552,-6.5244722133881785,-6.6333977952105005,-6.6574953467895615,-7.573786078663716,-7.446115322000925,-6.883692335590661,-6.903250344490318,-6.3498910941692,-6.905331510694142,-7.588115904218541,-6.879623153983935,-8.035692497676832,-6.939233062369824,-5.959077527634608,-6.324513515108117,-7.549688527084656,-7.120692921566297,-6.988939594552065,-7.891731808755324,-7.727259481120012,-7.430143376434873],[-2.2924692182301323,-2.450539739657926,-2.3769703926915984,-2.532604294663703,-2.55393918066343,-2.609718771364289,-2.6246425013179655,-2.661744915258029,-2.6011009513028984,-2.6236780353341946,-4.669477044233787,-4.1521285006409165,-4.955491059584871,-4.818890308190988,-5.030853379357302,-5.002039294312803,-5.278250342600015,-3.076829272811893,-5.307731406455737,-5.826171280206974,-6.022604681193609,-5.8364861502494865,-5.222160875948972,-5.86734719439116,-6.263453577434854,-5.1217643044016885,-7.32073988901422,-5.758783848671988,-4.666476541899311,-5.259001445170042,-6.374002568031498,-6.083417735921755,-5.695962812152638,-6.490715185357981,-6.417147740477192,-6.55681384079998,-5.431378631989581,-5.843302320137157,-6.369727752361356,-5.638321273173884,-6.50456582229188,-6.275027142828877,-6.210627212225794,-6.774279201200845,-7.54625217416398,-7.377527245335997,-6.968174323388823,-6.961544464850153,-6.5738576027632725,-6.808653231033201,-7.247759185607984,-6.667823395181603,-8.06567857870257,-6.862038055489511,-5.923075085846576,-6.772454383176216,-7.732534132174032,-6.980444415980637,-6.935456028765855,-7.926350068393722,-7.409760739910981,-7.357691884279851],[-2.395140177772492,-2.3972905877762423,-2.4380054501613637,-2.59514809923619,-2.5304957080424493,-2.553494441315067,-2.592658670737186,-2.6234135177213647,-2.5068257242437872,-2.493912396989218,-4.415128005729072,-4.8162395242315545,-4.805681457561184,-4.959588437581088,-5.013259465745109,-5.070148436368585,-5.778302005668334,-3.0289910877331776,-5.527143864017425,-6.11105402601701,-6.123887370951674,-5.975929983744964,-5.442482986164537,-6.151079378646925,-6.120416006196215,-5.065655600056955,-7.071974876907828,-5.957253719340739,-4.781773843113505,-5.354948164056644,-6.520450343119245,-6.293473674919533,-5.817016517849025,-6.85914069525248,-6.81356318675616,-6.777584585720929,-5.97764525003172,-6.226877237430227,-6.02961643394924,-5.9729353291005545,-6.418715298488868,-5.532354351604477,-6.803710890313149,-6.889653320113874,-7.354541848692839,-7.502757793000282,-6.938924369120657,-6.214291571987144,-6.749334119435077,-7.237514956739779,-7.394443065445024,-6.457482478746571,-7.947443614261728,-6.86121538479334,-5.698583920623846,-6.845759126556648,-7.683896617545187,-7.180188461548061,-6.757725777071325,-7.8704825731256,-7.881944016644606,-7.107203568791572],[-6.7847523397462,-4.956382101946025,-5.55168468117927,-6.54694976738503,-6.679027997805541,-6.920449307304025,-6.651631877885628,-7.028532297007316,-6.819873006155468,-6.9668156836069475,-5.07824502580267,-3.6978375281608122,-3.2158001218369128,-3.221520357616586,-3.5888259593254497,-4.18118917224718,-3.0226572253435795,-3.971027081545084,-3.562365839815367,-6.241860395850777,-3.738063429007306,-2.286143322088719,-2.8154088123469325,-1.9366972011829824,-6.402763696295053,-4.09673956284193,-6.7632686126933175,-2.217315348390325,-2.7898081670861736,-2.2970370063901697,-2.7943042308650328,-4.45525252224197,-5.6170558845712195,-5.634999368405547,-4.204524838877218,-5.247540598697068,-7.679731693977602,-7.496500850432476,-7.694782629326121,-7.660949127015419,-8.444625153562612,-8.02242837580043,-7.9107342568656245,-7.844229700045118,-8.496568431723452,-8.90528981102539,-7.744710798608082,-7.796294560812227,-7.4084137546993,-8.54315037261458,-8.96995880381818,-7.702981796781846,-9.818649422090688,-7.982756374523151,-7.087136791691802,-7.726484291615801,-9.302472289566692,-8.264363329731667,-8.520253749464962,-9.573314897467998,-10.041792973404897,-9.03352354731742],[-5.530908158078372,-5.12660572425173,-5.285205739999349,-5.724471900365845,-5.873312125055024,-6.16534879225732,-6.148934708170209,-6.3610443530793574,-6.311033932504697,-6.085846837289822,-1.9318371570117603,-3.9897678769234868,-4.264721024425275,-4.508665668126993,-1.397989588361542,-5.165043688633805,-5.1354703161064155,-4.710076673495516,-2.2812710196631696,-5.744808587095395,-6.153180999051661,-2.7741841902487896,-4.878049696777151,-5.0409257316634655,-2.3898944653854226,-5.13595610674021,-7.841822106027579,-2.8471437524600627,-3.4340095911141377,-4.619316513108799,-2.3549200090866647,-5.921518406898233,-5.302848234969303,-6.786138406296854,-4.207750888408638,-6.039012800612939,-7.841822106027579,-7.704962923310382,-7.065002449743519,-7.589296290560376,-8.260096172428325,-8.035112694192108,-7.871344545293901,-7.140827013169332,-8.545938317958099,-8.836893715754849,-7.993349965830133,-7.27788665694764,-7.741565502287929,-7.888977243944857,-8.111485672976682,-7.875096894912451,-10.091297373707675,-7.392485113590403,-6.863268166852988,-7.610229500226842,-8.901213681542407,-8.92241588919301,-8.313038591698524,-9.803615301255896,-9.310181420201774,-9.00812940746704],[-5.262771475279199,-4.784242541566078,-5.27970172852834,-5.684918512820975,-5.945292208575153,-6.218979090786592,-6.228233983716081,-6.354509212158639,-6.204315840281487,-6.442281485719593,-2.526983467749325,-5.114296740462473,-4.530006859098648,-5.422625873895182,-2.9651924820539826,-5.615416770210166,-5.759915004501759,-.738654569892248,-3.9951800832331146,-7.496424744983864,-2.271649654828947,-3.6688863968618732,-4.479075949205008,-6.406971077861438,-2.7704548687771466,-5.064362048924221,-7.65209604855975,-4.10990241837356,-4.3379100438872245,-3.144791234860585,-4.257400003418622,-6.678114421469913,-6.866487433947222,-7.697728752690109,-5.8045538215356425,-6.443871311173693,-8.079096309219214,-8.153204281372934,-8.17767713789166,-8.353264662504271,-8.864090286270262,-8.820319623214933,-8.693771874337664,-8.686253041923635,-8.948055666387596,-9.842684901480572,-8.909864867655205,-8.569719225667685,-8.285794202093616,-9.08611589448313,-9.094531091408415,-7.571541334321345,-10.622843459030147,-8.818180584966184,-7.823031278179709,-8.265917771336019,-8.826764328657575,-9.481851947393176,-9.0917181500318,-8.558120089824332,-9.233307603986084,-10.138335143581529],[-6.352576341887475,-4.375482811098582,-5.097247890129581,-5.253867383491415,-5.300921501088017,-5.719261065235271,-5.695077377144448,-4.664604980788103,-6.0509261540753565,-6.1211148128546835,-2.6955840583648807,-4.0885439717448415,-4.601612684872268,-4.3272866151564005,-.8335121453767717,-4.368698782518719,-4.841722524158204,-3.6648788033138118,-2.5172646408008483,-5.8838060715240985,-5.03345350892465,-4.275021730152804,-4.6405776530763765,-5.25643229403688,-3.133213396702524,-3.881602832644344,-7.333792367288475,-3.6375800962202542,-3.280343679384232,-4.168603006615407,-3.0158762344692915,-4.957870530657444,-4.673357005846336,-7.071279326505898,-4.732292586433726,-6.102987428262127,-6.308187629826426,-6.692855118141101,-6.912844895031934,-6.811275201992611,-7.387021770702892,-6.866694309094154,-6.971677700053924,-7.120054614261141,-7.672123196561181,-8.47105299909571,-7.06564216575394,-7.303313817631059,-6.877175818825198,-7.588372692026248,-7.710844848156796,-7.012073355807918,-9.487490679574803,-7.203069557208429,-6.086293297912648,-6.450936411500557,-8.098699438256325,-7.677018501414594,-7.313496820953744,-9.611543328244782,-8.931691690166081,-8.112931574673333],[-6.278777370845214,-4.701340011999448,-5.078865738235898,-5.8830885176004895,-6.165050673343658,-6.274964098411205,-6.212416394644692,-6.400778791567437,-6.741692863598321,-6.816576094912807,-3.3928904712107735,-3.566247086795751,-3.646180662937257,-3.523693462975528,-4.243767227003855,-4.080529251966207,-3.795135190780714,-3.596123418433819,-2.7581828008765474,-6.336206897605354,-4.412794119233608,-2.7790238541384125,-3.7937492847610685,-1.8714655708089012,-4.039189587014222,-3.917817104421266,-7.57147815542886,-1.7211826197805813,-2.454732555101985,-3.258178620019967,-3.831607640543702,-4.745787338078659,-3.8173867609921763,-3.6132042458306612,-5.788388393117924,-5.078865738235898,-6.509442541403006,-6.358094961721853,-6.982655840165303,-5.955633264954192,-7.203135532877834,-6.519814112808369,-6.508748303549079,-6.5805671825510945,-7.521390752829464,-8.307422019239775,-6.987204748691672,-6.90870144071007,-6.578332663638785,-7.263487211998134,-7.281252691733005,-6.635300404511988,-9.747550691415777,-6.939413018359865,-5.8716986926591,-6.717215468733563,-8.061948046761787,-7.4055504084105825,-7.052394044113555,-9.471951436870118,-9.440772718621666,-8.392393495069179],[-6.019277337678054,-4.809610930457335,-5.353723551448762,-5.676382755872694,-5.70371603264992,-5.986064759126338,-5.8139317591377235,-5.978144349530662,-6.042881895447475,-6.198360420377549,-2.2921047448703056,-4.34095023979577,-4.345648109454055,-4.367598309292761,-2.0155741702111323,-3.0132780221373907,-4.923111941566577,-4.563679111444075,-2.223531060167143,-6.691102686207805,-5.506010794027101,-3.0594865563826104,-4.849221407410736,-4.504665385487454,-1.9294270482862954,-4.87704758753489,-7.8125932274537675,-2.476262613634102,-3.9821539473427885,-2.8193399945915623,-2.274864811699418,-5.85738068573614,-5.424700477670406,-7.189965927648669,-6.389275800912233,-5.638934468614081,-7.03745392086323,-7.341255375194895,-6.260863632640313,-7.279063354938447,-7.679061834829245,-7.811259004440631,-7.236144890792278,-7.5275849533863886,-7.494018129747305,-9.1181262319292,-7.907769904821474,-7.576977708715964,-7.061731490444577,-8.083943001314976,-8.105182737815888,-7.709906510180343,-8.65367988774833,-7.560240916360441,-6.676421938949557,-6.335428678009885,-9.006382193489584,-8.143473650809202,-7.5376758563683515,-10.154666091954931,-9.349927845986523,-8.656780665426579],[-6.45948206141902,-4.541389017548509,-5.0469147172405115,-5.714893702071352,-5.93765911006474,-6.159588168280474,-6.484829040506417,-6.54643138634695,-6.777423978144398,-6.472536180151478,-2.0992585177991696,-4.351360197286945,-4.810779680772453,-4.478347221038041,-1.057979923268165,-4.503803429976553,-4.369600328148692,-3.1761274441594316,-2.5925706700973334,-6.132316774171815,-5.0527495258256305,-3.548319221739584,-4.665298532220545,-4.239092161682817,-2.8823289365699227,-3.9799558061803935,-7.613527691788449,-2.9149052754992715,-3.0856952412535055,-3.988705873974733,-3.519423658731669,-5.380012776918168,-5.236242140888087,-7.294418265937878,-5.378236234528395,-5.653900468202214,-6.843339306558724,-6.1506932535462235,-7.23734725322546,-6.366553451469326,-7.364460455464448,-6.868708500684183,-6.652923233094938,-6.285920796794185,-7.434940854111734,-8.332992180665768,-7.045904469629325,-7.3935637933916185,-6.8666551118723405,-7.771896007559911,-7.6868589648739984,-6.982133113853507,-9.79784886428876,-7.098382406877942,-6.05045863483477,-6.643853499354418,-7.8988076492249855,-7.62952803313489,-7.2191872449632415,-9.030593711575094,-9.78510983851133,-8.512650620040239],[-7.312010848930209,-5.9704021836204655,-6.3878250976208735,-6.964626238636961,-6.946983784483292,-7.4124339237241115,-7.3181741966378775,-7.680384414313297,-7.712878247789743,-7.554150900935073,-2.446039713635401,-5.2426041270797,-5.947299500896444,-4.663409565765878,-1.9484553212571183,-5.736061416021277,-5.712018325729332,-4.9933347157551395,-3.124667578606162,-6.881965531986077,-5.837272445819192,-3.4071965596735665,-4.466780007835062,-3.7439634287862087,-2.4245394005655605,-2.7481043832730636,-7.96925132102691,-3.001717011027925,-4.3613498567188325,-1.0557054893757776,-3.70597885137566,-6.306264213716016,-4.571775536818785,-8.174476930790583,-5.896948417633875,-6.225037976827956,-7.408704473732679,-7.482057817244962,-7.278478028822127,-7.6772808871048746,-8.27951403118039,-7.874318428531343,-7.723948471543991,-7.700568997316141,-8.91379761462879,-8.048158534515101,-7.944081716081054,-7.980577820654186,-7.290733450482923,-8.159308709317411,-8.547715834521,-7.821812931153412,-10.179602578494553,-7.600205085285631,-6.935111692528849,-7.541317747952087,-8.80008790436004,-8.364689804291782,-8.08874001915325,-10.681459532277783,-10.11675467483489,-9.167510387022356],[-7.888212115175222,-6.644858293408979,-6.899926832152373,-7.644887076927795,-7.6845832447435445,-7.532598742461448,-8.35541557609491,-8.047237610771814,-8.039272966898704,-8.151069111852731,-3.668932909455333,-4.782855975285661,-2.6659061839419613,-2.8967154778709228,-2.0223904901109755,-4.446771913881909,-3.000219123980515,-4.8870757508472185,-5.930891109758962,-6.823383785692898,-3.2455278628878323,-2.6715253337166462,-3.4540042231373063,-1.613293110190054,-3.32378892967727,-4.249589417392827,-7.22956773062339,-3.479217249500404,-2.6394006861426296,-2.505331420610824,-5.608431497999796,-3.9128781321838506,-6.817651617834854,-5.899129031817539,-6.838124773860243,-4.798082958969038,-6.707198867504101,-6.862144714309829,-6.946702102337892,-6.119321735858142,-7.3106242225785305,-7.047703884629593,-7.1735103563413185,-7.1142937780684905,-7.8727953781736435,-7.684274173500164,-7.105593531784784,-7.043298950514618,-6.705339482889372,-7.153500510194026,-7.545964351744817,-6.429130146514012,-9.208169648866278,-7.146978747947639,-6.381569697965211,-6.863775814304458,-8.274721978073412,-7.87653370028425,-7.678419897035876,-9.611509357662127,-9.195484489338961,-8.64028017837942],[-5.479179331884548,-5.058052917950845,-5.462604366790335,-6.042749073104725,-5.955329948912708,-5.958323963125313,-6.182592584875092,-6.134964535885837,-5.987223312688662,-6.092926822690444,-1.4103668710151773,-5.3350267357418115,-4.970584606980225,-5.289457186272422,-1.770010358993832,-4.901554513033236,-5.37688758694302,-5.089624713826659,-3.3520314691389803,-5.392942008652894,-4.734460344193294,-5.4364649785873,-5.373540303482963,-5.098468738623112,-1.787587681664556,-3.2734283276295595,-6.018573842572738,-5.287155689284143,-2.4508369623232906,-5.268931950327691,-2.1042922431924556,-5.627005270227098,-5.60465202444635,-5.974953220096848,-5.917202163476144,-5.89303609762896,-7.4048682036926285,-7.92851451588768,-7.027392005486696,-7.609083745121319,-7.38594019380711,-7.373517673808553,-7.797674914928869,-7.69894007424318,-6.9721762828842495,-7.92851451588768,-7.9072371174403955,-7.498269378781029,-7.24617825143195,-7.836141195756666,-7.972477639308797,-8.030297210197622,-7.424161406627308,-8.130380668754604,-5.985681292336846,-7.548459123304884,-7.876146530370365,-7.886403030537553,-8.383576565135217,-8.509870290459508,-8.104405182351345,-7.3612475812167375],[-4.615704248273826,-5.059874046144977,-5.605352624766998,-6.125932548297868,-6.262849675716521,-6.79239877505316,-6.990929985784472,-6.841047905444769,-7.1584533214794765,-6.9886390340379165,-2.1061188583709898,-4.694960766195293,-5.294767434713961,-4.877455498156362,-1.7372915500183557,-4.54913156517679,-5.204152324138941,-4.129384627657894,-2.037945671503165,-6.073264053143508,-4.589028985169175,-2.990753289694604,-4.778969963958759,-4.689721987339014,-2.425686266522293,-4.746481928875957,-7.836127606736178,-3.351158263461062,-3.2418172438356554,-2.1018059989954563,-2.7036646563447677,-4.616611132654885,-4.89196974360223,-7.672674534246606,-4.594182160042578,-5.702759391924034,-6.928687676907251,-6.888038111045066,-6.879281938695605,-7.0247524516915965,-7.464610089759517,-7.314413547152238,-7.29014621148154,-7.293244587314209,-7.623992355607218,-8.372647679876952,-7.108856380340105,-7.38925322665568,-6.931385277679899,-7.915280634635728,-8.074744053353632,-6.836124212582984,-10.164407149105006,-7.372318020898097,-6.283267109907934,-7.0071153102054895,-7.702596214111655,-7.848216404055182,-7.332806708624255,-9.549591811814969,-9.295811291038868,-8.128717117098297],[-6.86596902684244,-5.052082122851932,-5.150933488599681,-5.292208274141252,-6.214682697483703,-6.745331904339627,-6.68552490120206,-6.760045968476806,-7.227305715576431,-6.950863382929711,-2.1215717821722215,-3.9228106947364623,-4.840908762978201,-3.0664686008437925,-1.6983460154315366,-4.061987675375524,-4.329017422576037,-4.468146834761754,-2.0559567932823986,-6.284656471404593,-4.495653917304999,-2.239702601986903,-4.059167724800704,-4.675038779649125,-2.554078005507218,-4.208324039380938,-7.846798279854166,-4.952711862629422,-3.1510988852700317,-2.942373372199169,-3.3895078376634635,-4.604176621456193,-5.1138376420493366,-7.9144140567925305,-4.640693910453494,-5.102920313867999,-6.555881088992486,-6.826369644359554,-6.799686147757116,-6.863359893400418,-7.558312671802701,-7.067443904093005,-7.193279183729173,-7.1899393531824245,-7.705592764618944,-8.457679157012771,-7.256276285899237,-7.186610639983997,-7.0503828029559665,-7.591798854832744,-8.06246715675167,-7.178062400973902,-9.768878866076495,-6.917516203514602,-5.665418470446385,-7.260143611855673,-6.937390775844807,-7.687607497719584,-7.3485921408206325,-9.2384661090352,-9.464847655623185,-7.897922355187247],[-6.774920173861653,-5.204290861824316,-5.43566671911157,-6.296930641076284,-6.565626027570306,-6.7373590105822805,-6.991252066666452,-7.063233360250443,-7.2676834795551315,-7.1966044322333405,-2.083909994196951,-4.067585265323549,-5.182321460673428,-4.835732283228186,-1.980079058156674,-5.0283663440075825,-5.072641431371989,-4.6392056435133515,-2.7086094993416667,-6.770304135451181,-5.008181972697398,-1.1019554288598505,-3.2594369265598493,-5.6765883311043766,-2.736784393019736,-3.364824539297133,-7.918041582638827,-5.789527217909832,-3.4282422713486094,-4.498435097687583,-3.6322465613937016,-5.355734234640129,-5.0804532195051415,-7.17597860187687,-4.9759313787901425,-6.718299350460867,-6.452973839496266,-6.266241964550636,-6.756169624516277,-6.43275589071587,-7.149632742116933,-6.722481373881418,-6.632646871978412,-6.5830057991087605,-7.441299494170494,-7.5325638154552745,-7.295254585596671,-7.196283868037615,-6.683920964952739,-7.4835386813502325,-7.587428922371031,-6.992558402580507,-9.54477866233574,-7.0691430439756715,-6.0008086042221205,-6.0079129112663265,-8.273962947039259,-7.457398913104675,-7.183861348039058,-9.235518989239411,-9.247910721534573,-8.527701618931673],[-6.725963719695806,-4.710012269685353,-4.981543035572536,-5.7693914443296395,-5.741238652017211,-6.34104225410854,-6.461701921452123,-6.616580803658851,-7.050213688876461,-6.932988782385651,-2.7442254377569215,-3.902092293780571,-4.081087684032349,-1.8459531867558991,-2.260196124051401,-3.8113055093318327,-2.1904142607255017,-3.5077174805325915,-3.070625904070985,-5.688404814159279,-3.676818033328958,-3.705969932950152,-4.175966474127823,-3.555777846153588,-3.6599169276373167,-4.233380646142029,-7.565625193952616,-4.758247211588438,-2.668505149650637,-2.593317887541856,-3.982238613532973,-4.922572014698711,-4.457568202222798,-6.922768742308341,-4.874097132395777,-3.7366670217502587,-6.099051002533345,-5.950541812233132,-6.754321355464054,-6.000835251677606,-6.818602573551164,-6.538250446625281,-6.5136752899401404,-5.7389354920585625,-6.837502673710269,-7.922940958163197,-6.4879709082904045,-6.559235554477551,-6.415308634074,-6.963830229106114,-7.464928001069955,-6.466545899251641,-9.489635645899149,-6.3635319575989815,-5.527598474760337,-6.407003965795449,-7.463914829757348,-7.418626873140783,-6.4607730713017455,-8.850715648219035,-9.544876513609825,-7.984492491801492],[-7.251231594323855,-5.21374696908488,-5.698223064924641,-6.1375976604763816,-6.322511629217009,-6.768362468268195,-6.494106816635844,-6.457670861321346,-6.860741199932812,-6.755693520691695,-4.0580333694338515,-3.9411669781297105,-3.7467312772977017,-3.0227837077197126,-3.61529958808048,-3.574469853485688,-3.2007714947116837,-4.080705573827712,-4.670471138732819,-5.7966968651863855,-4.155602316322404,-2.9527040483599185,-2.862751521261682,-2.037725742388079,-3.7818488691194445,-3.113228390392548,-8.164264994327704,-1.8458475827404217,-2.5467378386179824,-2.7020967605017185,-3.188124830525815,-3.6799312814828857,-3.4909044267832696,-5.197365837878935,-5.202188998354364,-5.870321468395694,-7.4721345906728445,-7.508740887837122,-7.308294052687071,-7.524695844262695,-8.528908107915612,-7.92499206108361,-7.684820971302881,-8.246116020758024,-8.52404191826444,-9.16793672064164,-7.835273241415741,-7.178620119286367,-7.559608480967977,-8.499112535221915,-8.875184344633446,-7.775193695995215,-10.198665810583236,-8.01769231637253,-6.730988787795164,-7.673144441641045,-9.323628945401888,-8.330457169191774,-8.013022138590646,-9.77099654516406,-9.908396414566504,-9.416350685452109],[-6.383306695601549,-4.903894061372386,-5.294037540593016,-5.450500954330478,-5.333223053427145,-6.308171725769449,-6.710407117707228,-6.887542628987831,-6.847572675445971,-7.035457528925254,-2.2105034037003235,-5.0202198363584465,-4.228806005807516,-4.2610399361561155,-2.630714925229401,-3.899363165669206,-4.911168632565807,-1.9598915311908123,-2.357698156549484,-6.874278408705108,-5.4856719078268386,-2.9453898821076563,-4.76865138002776,-5.849682782165729,-2.1582691520417923,-3.13711767038794,-7.932068702852963,-2.1341546758789423,-3.3759594869296796,-3.525124340216131,-3.4812218611704324,-5.083766155674364,-5.7936328268294535,-4.353576622920111,-5.907706290260866,-6.135534326871947,-6.846532994187875,-4.609063889576182,-7.503287789431182,-7.483445868632177,-7.2287173521187755,-7.853210127940644,-7.155334806184752,-7.407188463381393,-8.090673733029602,-9.081164896953064,-7.857960730699241,-7.896800564015505,-7.262268886290009,-8.128645226782451,-8.177248142566354,-7.485412437604219,-9.720755973044048,-7.9739596445621235,-6.796539470357211,-6.907958941482774,-8.646989682962468,-8.283628546124925,-7.797896489956591,-6.6686665609139695,-9.771081056931564,-8.750720965163202],[-4.685181991517679,-3.1394221383869034,-4.505733999919456,-4.7128201143378075,-4.721709061755053,-4.800636320344724,-4.867216645426291,-4.85864761270119,-4.820149134568306,-4.881081685563463,-3.6610088191091923,-4.523883318425133,-4.405422178721609,-4.511747247142908,-4.4973757423052545,-4.410859930021738,-4.692381446660533,-3.970040309575452,-4.061847858828575,-4.724689689893191,-4.678033998252392,-4.350556098635668,-4.167208374486401,-4.450909776342023,-4.644417387453407,-3.724277324458299,-4.630737283549326,-4.509337607422754,-3.787718752781497,-4.309323510802315,-.6823718671879156,-4.449775346271411,-4.306372205167735,-4.410859930021738,-4.920232593125288,-4.3914208729895154,-6.478377211171838,-6.487035273914953,-6.801150603434889,-6.531487036485786,-6.875258575588611,-6.039010551387992,-6.9553012832621475,-5.362670489144429,-7.042312660251777,-7.027274782887236,-6.983472160228843,-6.58757650313683,-6.732157731947938,-5.820321350423163,-6.504579583565862,-6.710178825229162,-6.395685495326725,-6.710178825229162,-6.559138567816296,-5.802621773323762,-6.789316145787886,-6.8131267944816045,-6.29749346914751,-7.1889161344436525,-7.012459697102096,-6.888161980424519],[-6.973841065843466,-5.090695336189662,-5.341561221116127,-6.0115634498929555,-6.202945132409144,-6.628849553394376,-6.911669409716161,-7.0009992844957765,-6.886081347969349,-6.711294966663227,-2.260331825727248,-3.839334077735597,-3.9667628422059718,-3.420241689905642,-1.8735787833427253,-4.188499103605226,-3.691171678101274,-3.8593630820739957,-2.3524981891706576,-6.231341006564324,-3.7662373591100775,-3.6465568924129386,-3.4963200738799767,-3.4321214183238204,-2.593050419274572,-4.346868167488547,-7.8364379197408365,-3.990422275679548,-2.904818352752614,-2.3714612152432646,-3.1378637759089556,-4.357037863124861,-4.651314292504279,-6.760867254793699,-4.107313187039242,-4.3976920060255535,-6.440759053046417,-6.465477098310146,-6.582182413654962,-6.610599862587676,-6.978263755093254,-6.719449335464573,-6.730879435939417,-6.514035039942995,-7.843934206718764,-7.66305587798569,-6.780807453646412,-6.810345466083276,-6.347157031161333,-7.321885120582923,-7.779113558339937,-6.602957069625781,-9.658525717989464,-6.893034874465941,-5.640541915214837,-6.61808064554899,-7.825297811959789,-7.623352248005446,-6.729273803531229,-8.625119353004427,-9.394209194493895,-8.033505455437194],[-5.604855175474509,-4.462285490693087,-4.571350651692403,-5.056493889833258,-5.072440143885144,-5.681064638387167,-6.280536665394942,-5.74786868753166,-6.300402104581103,-6.443541857970619,-3.08781816164275,-3.6971443171127936,-2.396573090959646,-4.216785762291264,-2.055069601332964,-4.2400357108180975,-4.510301966657801,-2.8725223515174108,-2.985980079879496,-6.151031964062443,-4.17853136290412,-3.739735408911567,-4.177743865892257,-4.758224336321508,-3.406169247786832,-2.7407038589797272,-6.9336687884910315,-4.884332887441078,-2.4403221799860293,-1.8263508274951405,-3.4054696763623764,-4.562592776233452,-4.420217843796468,-6.782722037918705,-4.9372619598181355,-5.457485531187882,-6.256287610141627,-6.611108985431037,-6.565907361549403,-6.49534726380481,-7.061567128112425,-6.599672447239019,-6.7013251912547664,-6.80746927442344,-7.516987128232732,-8.06324629910308,-6.809992050813993,-6.860502751231873,-6.646463246903641,-7.480934599971211,-7.54322475844959,-6.575185095427639,-8.985698479921282,-6.994899040702809,-5.767168821265772,-6.530694737719788,-7.839611467995152,-7.435063610819411,-7.091053743823944,-8.707954377459634,-9.10781723001913,-8.370947238445352],[-6.890344120648169,-5.02940421086846,-5.408867487897182,-5.967857793669728,-6.047653312106489,-6.46237897058548,-6.749954722267399,-6.888388607925276,-6.98955227182629,-7.21719797180092,-2.4868466816371,-4.771074471877903,-3.6481121610473157,-4.664656454469179,-1.6817234068168874,-4.586866350603287,-4.845552155508254,-3.154508356873059,-2.57905575846229,-6.254276196451527,-4.921506816489567,-4.4705470709445265,-1.6402347840968394,-5.1280286653720175,-2.882844123251368,-4.595878517780293,-8.231899529453244,-3.131328577959143,-2.841674626039629,-3.3059284308174086,-3.1776616460738145,-4.478455963747706,-4.881954395151054,-7.651052083171771,-4.569886902888001,-4.27044926534142,-6.859624364774909,-6.620591583748609,-7.035724951332805,-7.0226528697654516,-7.663432064808081,-6.880725735179707,-7.096836038369936,-7.001238775261635,-7.94609099384926,-8.742881147291776,-7.2506609077408095,-7.3153280695559095,-7.053568548019118,-7.728589206441718,-8.033869830584925,-6.95515998225557,-10.250083546611185,-7.317576103473792,-6.34314386192865,-6.83930777142871,-8.443181097280567,-7.8493114938202,-7.476614929901965,-9.60010853791645,-8.54213954241637,-8.677952686589895],[-7.97530600380511,-6.415691397743754,-6.861539964259856,-7.354178676035024,-7.5544322703441,-7.956843940965374,-8.00285595557334,-7.941715059369074,-7.997284910523884,-7.042078762400056,-4.593656623473984,-3.4358427231129607,-2.813804032113097,-3.8443096208464707,-2.253236786554918,-3.523372060796657,-3.771274119941123,-4.213005093082092,-4.26676474950711,-6.604661414352346,-4.071781743539046,-3.0636392294004997,-2.748766550188664,-1.5979085155684218,-6.096125476162904,-3.8319741165296572,-8.437883856353995,-2.362166563210972,-2.079080404566457,-2.423752746988421,-6.1373971409737065,-6.112261605870961,-6.033619491127531,-6.187046440930159,-5.880551407088361,-5.508879098944167,-8.771401153617497,-8.582218506443597,-8.081702252336468,-7.820268405959624,-9.01805471242806,-8.991966276343762,-8.037776271878622,-8.339328192194554,-9.20125771484982,-9.932145223392613,-8.711282886564021,-8.633361864553784,-8.75433589306331,-8.724333642759511,-9.49070501282617,-8.37573721938598,-10.194509487860104,-8.552742688310644,-7.968342726152964,-7.956843940965374,-9.863152351905661,-9.598817643450872,-9.08877973142313,-9.278218755985948,-10.729432663205156,-9.20125771484982],[-5.1527222081970026,-5.012025127950751,-5.39388426501389,-6.217687012129963,-6.355002880531065,-5.6351154829069525,-6.363993950090922,-6.903492332891861,-6.853964796193012,-7.129436704737862,-2.71361594954537,-4.917813116205636,-4.909342477322127,-4.834757647401019,-1.3606202815267094,-5.049186428683174,-4.831934627067998,-4.02878090419557,-.9857025802248848,-6.9583248115172545,-5.928056254423655,-5.1548164498001166,-5.532591229650075,-5.575217341325883,-2.1159432194090155,-4.2897086796604516,-7.362881241689201,-5.200780422733714,-4.007732553855012,-4.899317914996637,-5.732412626945404,-5.409409253401815,-4.570479874572386,-6.004563148213606,-4.806034206660294,-6.602559371961363,-8.008146936015933,-8.264296783798311,-8.114951495245993,-7.067733915701082,-8.653122572902513,-8.40456220860418,-8.35558820400772,-8.362968311305343,-9.101577865942044,-9.242891399008622,-8.693532111240389,-8.468328826963168,-8.348262163915647,-8.71436619814323,-8.123659823137777,-7.872345394856871,-9.1093600063841,-8.693532111240389,-7.279281672853908,-7.536521246398329,-8.924437667890087,-8.99854564004381,-8.061492916721225,-8.91796515338447,-7.579574252897618,-8.90514446495541],[-6.625065979493934,-4.788580474517243,-5.256407824340383,-5.37832984858721,-5.2038978790684185,-6.079823689638168,-6.317086566978479,-6.646320764762257,-6.72855886299923,-6.886116701148103,-1.505097000684665,-4.82588581184553,-5.253602398681012,-4.989577089424305,-1.5758741362397704,-5.185784176269271,-4.916501452893276,-3.8159863951228723,-1.6041923545980379,-5.633841418592661,-5.7199839934992545,-5.2161585690547705,-5.369003667873634,-3.3721189713516244,-2.661522576130661,-4.670108701549678,-7.227790153984301,-5.183916064386551,-2.494756625753895,-3.869077211017653,-4.27104038948766,-6.0954898063825675,-4.71167529774246,-7.136943681210728,-5.987593808088792,-6.590446143960144,-7.403791666759668,-6.814987319540992,-7.030531087602099,-7.451894781778061,-8.262224216961,-7.8389014914528286,-7.199379152151521,-7.871278420177289,-7.002535480112671,-8.630549778119708,-8.06204504276704,-7.169938203345767,-7.199379152151521,-8.169374062997537,-8.264930578558742,-7.090662928646722,-9.550754409315,-8.033689817011913,-7.078178371984477,-7.674437552058881,-7.921898411023797,-8.116604027017473,-8.273093889197904,-9.39660372948774,-7.831846788472939,-9.063739434242727],[-5.33959692367457,-3.901875433911095,-3.3263523840890916,-4.682859878096868,-5.0569946532038434,-4.833678156338227,-5.439237690659609,-5.4278954140556746,-5.662170026427569,-5.462315637942154,-3.751806551579704,-4.660118258928943,-3.8333548860836233,-3.8811153084238335,-3.4958051088141735,-4.553750303632283,-4.534932311997922,-1.8458046740483725,-3.0281790617647277,-4.436160927561686,-4.943995470762378,-4.549402848736927,-3.9218705969950047,-5.328568099202016,-4.452091297246621,-1.4302390343932077,-6.080922600826194,-5.1148485422425125,-3.3219189169449392,-2.621905648275213,-4.3789508674983555,-4.262632175345694,-5.088920047216344,-3.3849839728869298,-3.307281062205608,-5.974439120423745,-4.379829216259262,-6.791884017661267,-6.8166991867809905,-6.068955964208674,-7.1565271312491765,-6.683586642330131,-6.801736314104279,-6.532793078538745,-7.518256845849533,-8.152370494825284,-7.391505140210389,-6.7194113688482755,-6.416271872702784,-7.279027156783699,-6.4871905993829495,-6.66039719741122,-8.204669994228134,-6.878895394650897,-6.094660190607558,-6.427558674237414,-8.084652320770335,-7.339319387039819,-7.347830076707727,-6.950948712290955,-8.303341521735163,-7.468823387994359],[-5.431835629645527,-3.900968951139421,-4.151004765492447,-4.646528675532386,-4.521804796114552,-5.283128043243618,-5.29007437093391,-5.66335521876192,-5.740643416211578,-5.366660147370001,-2.670098748915231,-3.286242237340954,-3.3585141055181613,-3.755602707715123,-2.5586532961090027,-3.6926656242369105,-3.8330192649391925,-3.254475467118251,-3.8290307266838655,-5.019290301102854,-4.363753678748955,-2.9684754808494547,-3.151618081678543,-3.50657051212598,-2.895083629045828,-2.91665360144011,-6.285849431998168,-3.6228229122699127,-2.152751777383897,-3.3162167836347605,-4.2488413058475105,-4.652746019284857,-3.9288228848114928,-5.349158624766704,-5.572231075081914,-5.261791793324819,-5.624778734167247,-5.278347157643276,-5.3043854022704995,-5.210237912616575,-6.346428699255328,-5.93048158286466,-5.615084400228674,-5.89255288484716,-5.916841563358977,-6.777270925569916,-6.237681480853062,-5.483828321441287,-5.599254877723378,-5.735607736245962,-6.332645938959907,-5.443956990177872,-7.787390135984574,-5.974679054270741,-4.487700164671342,-5.484479363130949,-7.787390135984574,-6.624646575217306,-5.915838554247808,-7.256570295689133,-7.872330812633658,-7.3300889926342885],[-5.8962959205599565,-5.022482812723318,-5.262967235210922,-5.638331471894197,-5.778457744433211,-6.3109845765456285,-6.29163873510587,-6.56832765910669,-6.49255510063436,-6.3650100589758205,-2.863492599093995,-4.089024629780227,-5.154949557468251,-4.484159695248834,-.9343644420039627,-4.498161263246394,-4.6279862283262885,-3.982370058053253,-2.2035282537140866,-6.199482179547703,-4.571665803362194,-4.084960905072187,-4.755413554835734,-4.800997636581884,-3.6971982708382995,-4.566795129611478,-6.871351961660363,-5.099526707333125,-4.135788994836005,-3.1706024468180507,-2.212641008744242,-5.078715683958774,-3.5811841558979225,-6.741940888008861,-4.856098125468122,-3.980907107020626,-6.712325967469931,-6.644006723492454,-7.153784678226001,-6.945055157447498,-6.898020208742524,-7.021563043483541,-7.173168545047049,-6.854391346353318,-7.669859657878135,-8.284314569862415,-6.895321151773359,-7.513205847832758,-6.795366054682441,-7.556635405760094,-7.827916592672458,-7.241272132349116,-8.35137880044296,-7.187505708193456,-6.1188193168155305,-7.139919638088829,-8.075324765986299,-7.379987004046535,-7.364785842714484,-8.480789874094464,-8.527936652520165,-7.717773013574032],[-5.1596391409467905,-4.446625879300866,-4.792661465824471,-5.092676376197713,-3.486026851337387,-5.293817992318437,-5.4207097441730605,-5.031624556083574,-5.433394903700377,-5.123410202650332,-4.715036303793935,-3.7021536789683007,-3.7870302329121537,-4.088809455118969,-4.812132309601868,-4.898021981482298,-4.704305701448848,-5.045386241156256,-4.694501701352228,-7.439823297251669,-3.3979941838940024,-2.7387677229303073,-3.4751598040428164,-2.0375451283648167,-7.179408351140228,-3.811103778633784,-5.971540702552751,-2.9729698958508197,-3.825149191015764,-4.478865937874288,-2.6641628726801234,-5.3193066285353545,-5.996634270150407,-6.375549146164451,-6.785390628872414,-6.572829186888741,-4.124487206195906,-4.535138151336436,-3.7135200209337587,-3.96463850525401,-4.554386339641352,-4.765674647825141,-4.429638997109137,-5.277664924510665,-5.02086262836912,-5.937153360243275,-4.7565501004863675,-3.693750268171921,-3.749678820831146,-3.176252392796863,-5.722496422806384,-4.546642548744449,-5.417354036326088,-3.1803577086920454,-3.749362815140414,-4.066652137558128,-4.660532401294013,-5.1570534898617675,-5.430844966067104,-5.284241491875228,-5.5748604240003194,-5.63236491848051],[-2.1543734650260515,-4.349659150265929,-4.518901599180162,-4.334150339570116,-5.146931928181808,-4.726677895862385,-3.8738862022041083,-5.547738126032732,-4.965611539500847,-5.329386916158828,-2.0510193107742145,-7.017067715762613,-6.5514024881154755,-6.782731624016124,-2.1387030138865364,-6.887331394106641,-7.26098839501858,-5.915573580719614,-2.792353319034718,-6.475549145597215,-8.196805549243091,-2.7290425937620233,-6.57338139483425,-7.482751683863832,-2.7069370493135643,-6.6217549791184664,-7.959675755954141,-2.6929063910157374,-6.402701413055781,-7.378081061299943,-3.038722067403394,-7.146279447242619,-7.442205589469482,-7.777354199160186,-5.436617340201765,-7.9268859331311505,-4.21410095816366,-3.7159537926574395,-3.274052690014408,-3.8709022387814955,-3.903841048493916,-4.907248138723605,-5.564815386850924,-5.634025390029099,-4.794669640998671,-6.37044055083756,-5.773624479216047,-4.984713243886536,-4.705003878814023,-5.884409585684786,-4.869643914101749,-5.8105008762596295,-6.426399204485604,-4.552569937605819,-4.688840192155229,-5.1496039404596194,-5.387063525747035,-5.940338138344011,-5.40158748887255,-6.8282736444630405,-6.302506440698851,-6.49077786629904],[-5.042027972011844,-4.299718672656642,-4.243324982365076,-1.9825142998026875,-4.725280240738409,-4.751810055033314,-5.528415080508104,-5.372269658882421,-5.58057814379269,-5.634199235231788,-2.092585085927561,-5.359310514239916,-4.924244936355461,-6.182928172882705,-4.358300013368391,-5.644135441890917,-5.3193472574280785,-2.4216711986248063,-3.5454438576615357,-6.6553797837670805,-6.406683158028254,-3.42063060974259,-6.230496589801815,-5.313180742512414,-2.1141313157147192,-6.38251279710044,-7.199431055161392,-3.210947634389801,-4.823896962521179,-5.599497627038855,-3.7500872171087103,-6.903338504201014,-6.960201366095558,-7.542682978767983,-5.613234106766742,-6.36476085164199,-3.6714819678600925,-4.875454772186028,-4.20471280907303,-3.884017303250544,-3.4828969984685907,-4.20471280907303,-5.449056802096191,-3.411103801364231,-4.476181634325785,-6.299489461288767,-4.386290645201218,-5.042027972011844,-4.789932598747867,-5.333885415874105,-4.1803254304220925,-4.950988261330972,-6.251222720318932,-4.73156059252596,-4.355150404465494,-4.750641830601388,-5.174666905853347,-5.78646844695934,-5.852762894799176,-6.180486169227153,-6.353098911894147,-6.096324376905443],[-3.621153540136533,-3.927545190670303,-4.761298021301781,-5.2327070159671,-5.390836480884121,-5.489330016767771,-5.419938023343771,-5.638503085521277,-4.333907884333748,-4.5925613698517225,-2.3774699118392917,-7.240027999198052,-5.856199730573355,-5.309006462636489,-2.1188535037876086,-6.988713570917146,-7.259929153515347,-5.733217613565709,-2.1988937611323722,-6.914879308906094,-7.285375819176511,-7.471829613255376,-6.297483936486472,-6.369085087302357,-3.0144535413397078,-6.131611710433321,-8.510182710405289,-3.290870578196505,-5.79050447130796,-7.191941812530414,-3.661034886200146,-5.933160771709483,-6.992552347224311,-6.430741168725453,-6.006448567479316,-7.6405790925037875,-3.820123280601132,-4.60874181430768,-4.552214016916188,-4.152125265844404,-1.8440074384079603,-4.33229280995845,-4.748982594711727,-5.590043992369601,-4.083551769494654,-5.885005729822436,-5.570371226770897,-4.35431953325285,-5.037889407059404,-5.600505333614971,-5.2234842891983275,-5.239347146606377,-6.012203979049936,-3.2506791222758458,-3.493367719618491,-4.386449689183688,-4.5929103490909995,-3.6635121789617022,-5.259536257638402,-6.071656848963408,-5.913358144413303,-6.637031915632404],[-2.697794466436189,-3.604662393389068,-4.011263957500705,-4.728080882146555,-4.781372179196779,-5.33155887684335,-5.439355447299057,-5.586922158039964,-5.370633615250003,-5.513150772897161,-4.398260316869362,-5.11207163673225,-4.190082883743458,-3.4501177344839546,-6.597640067453566,-5.490434815062624,-5.150911470048515,-4.837107457567751,-2.85030853825846,-7.320346050255055,-5.997701716211621,-3.4753179136511876,-4.2866759373606715,-3.397053452568678,-6.703360230660674,-4.113003141200578,-6.444877312901155,-3.074043686998346,-3.452623303723489,-5.193702907090925,-3.9327969395172757,-4.131242383720524,-5.418238523858134,-3.7478131640115406,-6.184652086682414,-7.063123185287982,-3.7394230709797665,-3.4179694218787144,-4.267288710081795,-3.0709940324857143,-4.263518677341253,-4.701005637323521,-4.417094629495229,-4.569236359692398,-4.473887479448818,-5.8432973258667005,-4.728080882146555,-3.754953367214181,-4.1263095154005,-3.415012032977706,-4.81618158386264,-4.691820172692138,-5.666572324000903,-2.795735372125381,-3.2437129699651224,-3.9019638438387987,-3.582993942690341,-5.112804505947904,-4.894364079117085,-4.722110715160052,-6.056219323109372,-5.5022692727096265],[-4.619141531251806,-4.242478414047348,-4.655112011634125,-5.260049492712331,-5.018630839221239,-5.434973330528597,-5.291682300504695,-5.652426966065128,-4.133100006910822,-4.834429582625707,-1.998550183209591,-5.7433143168994505,-6.845817661060527,-6.562531200081784,-2.4549848852751466,-6.626189051853761,-6.290387731057782,-5.567486289416045,-2.141146196531367,-7.242549089199937,-7.104679294976816,-2.8517566389677937,-5.192894636686687,-7.082206439124757,-2.3092018462234853,-6.71448165899944,-8.017189304011065,-2.1705324264442973,-5.663122255181876,-6.392769837961348,-2.584044215625091,-7.28700085177077,-6.816997222525035,-7.454881724409931,-7.498844847831047,-6.3210545294507545,-3.9234738704665255,-5.210974225191004,-4.156261002958894,-4.841496749848799,-4.597299789336757,-4.421170202790724,-4.975365923256807,-5.672123216040852,-4.474317672329112,-6.090327349926446,-5.367408011032831,-4.491383872387231,-5.280618880960439,-5.815780620152271,-4.640826054386648,-5.541761398177608,-6.307308608546119,-4.360911011272527,-3.968855752517438,-5.060904184340462,-5.092811178129705,-5.9935197902566175,-5.119506808592894,-5.086750553518014,-6.052587021943599,-5.38489332537385],[-5.261046281621696,-4.9148297535258045,-5.093521542269181,-5.160962823064713,-5.492794680129424,-5.583178741597693,-5.608843109973599,-5.828958322395465,-5.818217080564052,-5.6351835265880075,-1.9431063436877503,-5.762127613913009,-6.364566555601998,-6.310693565661846,-1.465488331318766,-6.653479397439911,-6.983078754773362,-4.701955198551832,-2.920630198813372,-7.381717897811127,-7.114655112562081,-3.628618850962897,-4.741931970713727,-6.050483313874263,-2.961525855445553,-6.683481647743711,-7.823550650090166,-2.1208799042866553,-6.236585593508124,-6.735576759627112,-3.3232120191551315,-6.891511561247872,-6.08336298799342,-7.9413336857465495,-5.554867108771802,-7.122498290023107,-4.193090909121505,-3.901105949199606,-4.152689701478908,-4.935827900365578,-3.224590180736388,-5.347946392964479,-5.205112607677643,-4.550306897288771,-4.485129674572183,-6.303724896345753,-5.654950567328784,-4.928779413034516,-5.0770940681272325,-5.30867433061095,-4.570963767879653,-4.7737511552658995,-6.146602446129337,-3.6472116840395126,-4.583317229489316,-4.247999881283233,-5.050961927850385,-5.554867108771802,-5.239253651630843,-5.752077278059507,-6.0889495947020595,-6.114482896707225],[-4.8357984388643835,-4.657872493543467,-5.438431611883497,-5.481947249319659,-5.480513557317811,-5.739017089171186,-5.670890393572083,-5.859121927588727,-6.047318448825703,-5.930658377913943,-1.7234534048021994,-6.808376835001858,-7.018097365983928,-6.515303913915201,-2.0800327647225068,-6.985307543160936,-6.434021280478344,-5.690138581877,-3.0546210789668655,-7.433612809945593,-7.609892052283585,-6.846949109788098,-7.145930737493813,-6.771237288052402,-1.3242305561151027,-6.88123818326673,-7.934388097858083,-6.599387031125742,-6.8029859863669815,-6.569147145936024,-2.3927324727103167,-7.200418922777882,-7.33738477785104,-7.62201341281593,-4.893045313052039,-5.366877919534872,-4.1899951004809015,-5.453656819480563,-4.694403309779647,-3.431804500645092,-4.0124147615767685,-5.525942614164559,-5.309719505694924,-5.568828205702649,-4.124028746206436,-6.415604553692113,-5.4275025413513065,-4.984699762805498,-5.237511197353998,-5.157641365469638,-4.101047614464405,-5.085610237260755,-5.550223017871613,-4.869440755282619,-4.489173830779152,-4.234321454353582,-5.041242413079193,-5.780689785571754,-5.231908941805328,-5.964947451392574,-5.752089170738539,-6.139854701747302],[-5.508465007700513,-4.839258034686576,-5.109472414097966,-5.519275923804729,-5.707703038161169,-5.439902336263216,-5.7235763873174585,-5.821556795677663,-5.734300350680434,-5.610247702010455,-5.910709501108635,-5.7235763873174585,-4.435262434557772,-3.8610478472011964,-5.758858201462099,-6.0632537548876195,-6.044700346991872,-4.117878794499082,-6.575328598054043,-7.243783166023616,-6.403478341127383,-5.083829983484629,-3.317712944869911,-1.7163886672099804,-5.622223893057171,-5.543479525545615,-7.373836294271814,-4.235327303674574,-3.4757995308184078,-3.8216678856997803,-6.863010670505823,-5.619817153026606,-5.966922645949188,-7.096625521687328,-7.1845942946332855,-6.5629060780554855,-3.9611313057581787,-4.164449795424729,-3.6745940531223313,-2.809054169189011,-3.303860323066671,-4.356804692686432,-4.075943929085389,-4.993775889109478,-3.5055329961999946,-5.4956443192714515,-3.896020865817486,-3.604273312212492,-3.5622476861654384,-2.789152302491872,-3.9102728885246876,-3.0660244750660355,-5.631909198791635,-4.404134333185408,-2.9033092297609358,-3.155554830818952,-5.387104150696246,-4.341290047595106,-5.258585299895267,-5.109472414097966,-5.821556795677663,-5.14024407276472],[-4.364789554126129,-4.918384854279969,-4.918384854279969,-5.1613310328903585,-4.587530609962979,-4.784853461655446,-5.006160465162354,-5.0403784224726955,-4.994002260682545,-5.402493089707247,-1.4796200682550344,-6.181000119218348,-6.701776073837507,-6.252825853789604,-2.1508860947624866,-6.086590434747274,-5.772240115213331,-5.482914657017821,-3.9652464014134288,-6.426672783592586,-6.401671481387169,-6.285261129542758,-5.890845857621178,-6.3772800282630095,-1.9660163181458141,-6.770768945324459,-7.107241181945672,-5.362398632505369,-5.920923312858457,-6.7530693682250575,-2.0597919147266994,-6.701776073837507,-6.505661194911217,-6.5476253940102485,-6.637237552699936,-6.7530693682250575,-3.9354569646113213,-4.092932522818745,-4.814706424805127,-4.961309898997003,-4.355174095426687,-4.949681861001884,-4.869194610089197,-5.046727650151355,-4.8507000274530325,-5.115948027042541,-4.814706424805127,-4.689097748317353,-4.863875448611597,-5.043547997233975,-3.6732539774605253,-3.9481153614832447,-5.340799520701906,-4.835115296436334,-4.068688911208753,-5.024679512929592,-4.753487802377227,-4.994002260682545,-5.247044551164388,-4.698046353893368,-5.307182909902921,-5.227776132298511],[-5.115394338583977,-4.7561420736309445,-5.007842676853897,-5.66123448019507,-5.033665707964376,-5.645764558422938,-5.535809351386801,-5.907471144471458,-5.828086115216893,-6.105296887801378,-1.6832402388074508,-7.437524027650993,-5.590313253886724,-6.862982589498895,-3.0491034044747836,-5.586172461220692,-6.632458930887062,-5.218606625703514,-2.4710973040085813,-7.398809515470303,-7.268447697607059,-2.7116510959031834,-6.686853002952861,-3.7188303108266303,-1.9217106058640063,-6.098376444956805,-7.548749662761217,-2.711068175455316,-6.088084758920257,-7.1630871819492326,-2.4953178542046213,-6.5371487510827375,-6.531815405107375,-6.592107635363495,-5.218606625703514,-7.464192274733154,-4.025855346121542,-5.098759278079445,-4.812664759541027,-5.369662433402117,-3.845996309584077,-5.031290409935469,-4.627804324836165,-5.549657248245595,-3.554062953084761,-6.151486270270753,-4.8426621708268565,-4.640563668589926,-5.069989313821911,-5.128381534110789,-4.6191257693799175,-5.164313543336852,-5.9721996171719525,-5.146851716173189,-4.482065653234942,-4.222339216728002,-5.190396010216277,-5.978297197040071,-4.681519433426748,-6.057830350562455,-5.619789072019677,-5.749664153441089],[-4.867406343870729,-4.4533740975545415,-4.953434176237852,-5.384635998990067,-5.328952912513263,-5.6593669190947695,-5.597013688377717,-5.757806991908022,-5.710273291442284,-6.117674508577314,-2.0752354231922467,-5.330274789771179,-7.239817294655618,-4.653127950557675,-1.9861891376978962,-6.498730651806554,-6.748830013109291,-5.799220777458779,-1.8880861157511444,-7.060476365999801,-6.592340150928861,-6.615981913985901,-5.98705432616025,-6.055682832549346,-2.2283490142554703,-6.244583360441343,-7.060476365999801,-6.9543698600052535,-6.005072831662928,-6.675112437212724,-3.324941220245065,-6.737960340872387,-6.846328377594169,-7.276184938826493,-5.466076330930241,-7.601607339261121,-3.2284338811241238,-4.7571452826690335,-4.2772171644143535,-3.794375211195705,-2.9321390456478555,-4.655146114713912,-4.556474587206883,-4.658518799192551,-3.9133691163329902,-6.159223511490186,-4.874928318325417,-3.9851607325065794,-4.593769151695071,-4.865742449976033,-4.192747084853396,-4.158562847663465,-5.583291346122616,-4.6687056444995445,-4.403457644910037,-4.135470875670939,-4.338591952168042,-5.484425469598437,-5.10713123845697,-4.666659956776251,-5.507845743806536,-5.56639905255811],[-5.367738120634485,-4.778432275797196,-5.153988612512787,-4.9880684755260525,-5.022992659762126,-5.315533041364984,-5.937669186281741,-6.10637419308453,-5.985149724514735,-6.0666028696576335,-1.4917500304139726,-5.449683054485573,-5.538947192058466,-5.596026010244295,-2.1356770840200325,-7.153812526227932,-7.094389105757131,-6.013018623523528,-2.2775252846627545,-6.010847070010019,-7.246405313055757,-6.755173383190167,-6.697507741340358,-5.530860894627108,-1.9981251565724831,-5.698525293621089,-8.083802102460249,-4.860110306811463,-5.882753428685626,-6.945748081740843,-2.8863534391722627,-7.100819996087421,-6.962461562714583,-7.231590227270615,-4.4224533361891325,-6.0688990819179836,-3.292438554454217,-4.782234561746934,-4.459461169483883,-4.359771877270199,-3.9163352754091854,-5.15214868559078,-5.0863471755948115,-5.622152314836516,-4.041658687615878,-6.321199217523649,-5.22160122153078,-5.082053480720112,-4.742403534262838,-4.896452531238822,-4.577416633798337,-4.325814840936012,-5.22258692885554,-5.570564946046022,-3.7753199382595333,-4.751597592285044,-5.351900685535859,-5.538947192058466,-3.6838339356894148,-5.717756655548977,-5.9396873504379775,-6.193602560418941],[-4.999514188504179,-4.700587505853424,-4.67022803135639,-4.81576740495976,-4.92872993147181,-5.418517964945142,-5.4525477135314535,-5.471965799388554,-5.601583292691941,-5.294558257397029,-2.0675057720915833,-6.606510097282728,-6.66295140818768,-6.268297216183731,-1.8472066532219233,-6.801101746668497,-6.464629510047284,-5.518112402024337,-2.6153829107633095,-5.40926720517299,-7.042937430994859,-6.122880216325227,-4.984950824316282,-6.978988706394586,-2.5341534752438712,-6.335738496979263,-7.22903971062872,-5.047082605423289,-6.606510097282728,-7.195517018590076,-3.3881221963080814,-6.764734102497622,-6.935691900641261,-6.06802185577318,-5.518112402024337,-6.21743879895024,-3.306166689176508,-4.5835098665078435,-4.096018906794089,-2.7778687007936327,-3.149770331333854,-4.522505810044474,-3.6065186143693406,-4.579485716208118,-3.9009018998360694,-5.695109350702764,-4.592420415540891,-4.39850374434322,-4.858371250530563,-4.687974726037726,-4.284600731462279,-4.828050056815601,-5.7714823294873385,-4.760362534007699,-3.6910492160852075,-3.1337486268025883,-5.114702793098268,-5.044521784561615,-4.990993138772245,-5.21262268525524,-5.1495981689488834,-4.939033399841534],[-5.573013579156251,-4.7557456323553735,-4.835888625843566,-5.4310032481645445,-5.375816832597254,-5.748275644237248,-5.617589203744957,-5.426286258286405,-5.527732874623095,-6.027336973645122,-5.771265162461947,-3.4363190171520683,-4.863649827007062,-5.342810536129083,-3.9603112459777443,-3.1741279621323484,-6.522548369609561,-4.089429329592385,-5.667234434234122,-6.573100648772392,-5.74180312973163,-3.6814950844272993,-4.555731535734934,-2.60141208694855,-6.057840427938536,-2.6538446056843625,-7.3352407008192895,-2.4633202784204524,-3.0508881488790776,-5.069846636151324,-3.6495408996227328,-4.548858656447172,-5.7613477258046,-6.031638055544512,-6.61856302284915,-5.764642621701453,-4.906092884516815,-3.945751808422034,-4.075923906392578,-4.145352412824341,-4.3284585910787134,-4.1375398730875474,-4.386633312115669,-4.864991208831262,-5.2459274106602996,-5.389330551763976,-4.366047982499911,-3.5236520927129136,-3.6216686341149815,-3.0467401241562313,-4.4457511661828155,-3.28056139498962,-5.728982441302569,-3.2282776746379773,-3.3483163872180257,-3.6120365041642786,-4.280940073114231,-4.240597235287379,-4.439591885822281,-4.571620648562269,-5.13801612348307,-5.583972592945972],[-5.648871675811755,-4.741030782968909,-5.070478143556586,-5.038332518583169,-4.984450311189462,-5.652113169735926,-5.878916005474925,-6.018576120040821,-5.698633185370818,-5.924757364823166,-1.8468585970227798,-6.844251516414859,-7.126600242891277,-6.081398705962876,-2.934905888757429,-3.6595354362414967,-6.817864761241664,-3.5921374614243615,-2.9623018840998165,-7.15537920744132,-5.837035508229937,-2.956367800752568,-5.44072677540776,-6.135188880549014,-2.35874447462609,-6.817864761241664,-7.744626792983114,-1.829808862763535,-4.656579250518651,-7.012765100242478,-3.346772137573546,-6.156466278996299,-6.772055225210369,-5.459294948136628,-6.2464145156592386,-6.772055225210369,-3.9054574859103,-5.259720143195114,-3.484916480113615,-4.59888775210554,-4.26703708287839,-5.280773552392946,-4.568219053541838,-5.236954932422101,-4.227597595795837,-6.429913235626207,-5.14878310004672,-4.299244656170703,-5.066854951187166,-5.722730736949879,-4.343868104023761,-4.895290258966649,-5.924757364823166,-4.2366225736701635,-3.439140235431567,-5.290903070631802,-4.913738130330258,-5.32777360644013,-5.700335313441349,-4.118883335232663,-6.285399962372192,-5.825384891009962],[-4.134798672989471,-4.089847285127205,-4.1376763728170864,-4.175860159787245,-3.5867437074551245,-4.073498147125676,-4.247208240584712,-4.485742942219219,-4.161001045383496,-4.76664532768562,-4.782994465687151,-5.224827217966189,-5.79734641073752,-5.371880635922686,-5.362028339479674,-4.805217602471861,-5.696541711615555,-5.1428140663053545,-4.243997964954463,-5.696541711615555,-6.074978147335799,-4.388579193765571,-4.887134724939747,-5.433124261163405,-5.127188748402274,-5.465212575714905,-5.5681605449673475,-3.871109027280912,-4.3522115495946965,-4.887134724939747,-1.4812734394569864,-4.9697213159490214,-5.42265296129611,-5.5681605449673475,-5.696541711615555,-5.592551998091507,-3.9025017396887742,-4.303421385425264,-4.377529357578986,-3.2036759521599856,-4.414847120586181,-4.370230055097374,-4.283218678107745,-4.293269013961246,-4.570900750559526,-4.639893622046477,-4.473572406598963,-3.944368319081564,-3.9659778034144195,-4.663991173625537,-3.393956618621509,-4.489832927470744,-3.9232159440763374,-4.221810049979101,-3.677082874537429,-4.095356940938174,-3.0285527594662907,-4.570900750559526,-4.348646483430199,-4.449666885745409,-4.481669616831582,-4.21556002963393],[-5.468543074118657,-4.3409301123745765,-4.939132602788878,-5.030955774234888,-5.486636817561356,-5.444018684255573,-5.476853371252285,-5.808607963491769,-5.908385471304435,-5.666153323427702,-2.5849374499856705,-5.739356727450997,-6.452595908093631,-6.391754248837386,-1.3630653142736813,-7.218432822021854,-6.741508749931544,-4.321907198551311,-2.3295168721177877,-7.554905058643067,-7.600367432719824,-7.660265574300893,-6.068262723688894,-7.064282142194595,-2.4089621725210324,-6.261701120589188,-7.218432822021854,-7.400754378815808,-6.405740490812126,-6.66108718262097,-3.202908170420881,-7.345184527660997,-7.318516280578836,-7.17951740577218,-6.2346317986209705,-7.685266876506311,-3.523815890500982,-5.001129001779655,-4.254551658580372,-3.1791480369827805,-3.272238460048792,-4.979751531007288,-4.696520976240299,-4.996816791561475,-3.7821441205484283,-6.068262723688894,-4.767838317222632,-4.961310103104565,-3.3169412686460493,-4.254142074302682,-3.686717843919221,-4.781622132973809,-6.395232513213711,-4.882290151848487,-4.035101934573064,-4.142657840794326,-4.886134831709296,-5.154991621688459,-5.261248596393322,-5.763145589415012,-5.307128202144016,-5.4187681732866855],[-3.7153348719791315,-4.23835637018879,-5.401341822408315,-5.655381048015406,-5.3230099791384085,-5.723838105173554,-5.787159933132683,-6.191069830974041,-6.118044695959151,-6.512733837722823,-2.85919837658876,-7.902248813542757,-2.4061387894065027,-6.693770047296114,-2.250325724429897,-7.350962550860164,-6.005451461342365,-3.2057646919026945,-3.1269276063809657,-8.282234836349936,-4.929356031958588,-4.893377430923357,-4.350779231381914,-5.039126698093967,-3.0950598675329433,-2.702149075140166,-7.065140944061303,-6.4656293685353505,-6.6671525062961585,-1.5532677412410396,-3.407685858090993,-6.917395410231305,-4.818860209735889,-8.330553413620743,-4.697144805661785,-7.44034239452964,-4.201345166462018,-5.036551747250591,-4.447052124631202,-4.271306064673767,-4.3875307527168115,-5.68024420720805,-5.463555006909888,-4.6680077696105,-4.729585831829687,-6.877248342217893,-5.7894972929813875,-4.744562286019245,-4.863271676535759,-5.996776708148691,-5.115645847928164,-4.782587554878788,-6.69569868820252,-5.6198664278662305,-4.372289459396023,-3.8304137647360905,-5.143464614214886,-5.692911512408815,-5.442384299786921,-6.144390895990383,-6.553756817069401,-6.771887826560066],[-5.439192275092616,-4.781176186054329,-4.766861598657258,-5.578787193555129,-5.543563426336324,-5.577507602849504,-5.742587353208953,-6.240425781448133,-6.11031213333427,-6.461710020172159,-2.6665339561656087,-5.7471225083743445,-6.597455272456702,-6.655866034613116,-2.1677366785812078,-7.063212610820987,-6.615344837207477,-1.8542823223629723,-2.8203019407701473,-7.921874229858505,-5.964600322152877,-7.4190807777897785,-7.115398363991557,-7.50316389500032,-2.434370037607787,-6.75042461723813,-8.501692725111447,-2.436966652419961,-5.508344242912733,-7.262628600974241,-3.3318853658660776,-6.320468489121669,-4.662752576421778,-7.96269622437876,-4.3951216252530045,-7.773454224740232,-3.4248833433841024,-4.6171877485771935,-4.856615893655904,-5.148452521314832,-3.262215858586344,-5.067705520626301,-4.995134827791466,-4.808655260848847,-4.056803079326151,-6.372894286461519,-5.283769734998518,-4.869131701587735,-4.356292992089062,-5.580068423711178,-4.205055407055328,-5.300108397353307,-6.413362236014366,-4.081705328198343,-3.5651654031689133,-4.4607321960690065,-4.914213385439241,-3.3562768189902368,-5.301077859377855,-5.2191716350828905,-5.66568217643417,-5.148452521314832],[-4.692472771166889,-4.3008934499719516,-4.549181741142988,-4.955265087292482,-5.083773336506403,-5.36724487642184,-5.286555965171697,-5.606625988867734,-5.3561026998685985,-5.6766361544403825,-6.310506725070788,-5.345083304618988,-6.354631529979725,-5.436838168221035,-2.778870257014558,-5.888394383529467,-5.518132910614282,-3.971194340356585,-5.541198183545278,-7.353160360090853,-5.418980550821029,-3.590537431731367,-3.3241709789128793,-1.8944436557320132,-5.91226186493611,-3.390599447549114,-7.2559966116372046,-3.6807421830309885,-3.742794171598555,-5.40143624117012,-6.914247317915148,-6.268246915780905,-5.966865998970962,-6.802329401711162,-7.18453764765506,-6.063197107909394,-4.040088147996806,-3.4233375319614976,-2.7095546985241823,-4.374927246403353,-3.562959147374605,-4.404434128912793,-4.579296940419071,-4.391681565015401,-4.438151297809303,-5.606625988867734,-4.3282656378478706,-4.1449534915722195,-4.0950638220693705,-3.3913758451036427,-5.0164696546102965,-4.409796072054178,-6.030044900592494,-3.187603169643488,-2.500811269450856,-3.4121731416766146,-5.192891489277063,-4.804034117568558,-4.273312053475689,-5.056716535118889,-5.514880875227905,-5.219114684376165],[-5.262101982971463,-4.751704716461968,-4.4750082149096455,-5.006514043913175,-5.07515161250067,-5.251452255054804,-5.285938431125974,-5.392274080942006,-5.414469813333791,-5.840086736879263,-2.606359904105076,-6.823463761969788,-6.89757173412351,-5.234645136738424,-1.8016665052081617,-5.931967688708849,-5.7146991018376605,-5.437169400849897,-1.672652532530341,-6.72630001351614,-6.773702252410724,-5.308112288620296,-6.00575385876808,-6.6810434219280195,-2.3521748840468923,-5.96169386897405,-7.419447194076086,-6.095225261598572,-5.008173795331539,-6.397795946544104,-5.514028406375509,-5.907173030095633,-6.070893160939042,-4.572171963363293,-6.91979487090822,-6.823463761969788,-3.666029218824578,-4.169934399745995,-4.315857524665681,-2.6071122929751187,-3.822642418908326,-5.326212330263914,-4.3600448319184775,-4.917707706137853,-3.8075287810982776,-5.953110125282659,-5.187841070540621,-4.792366055507543,-4.8403533292283845,-5.164264339976624,-4.320022461964966,-3.8952676954062846,-5.745470760504414,-4.036941945426083,-4.228361366337563,-4.708930900478682,-5.247223918945283,-5.006514043913175,-3.8952676954062846,-4.574322501826521,-5.886970322778113,-5.748949024880739],[-5.49714261021104,-4.668772759709356,-4.7793028170607235,-5.269011517385791,-5.403728165571614,-5.600190986110487,-5.607143505425369,-5.736034518493389,-5.749350294469161,-5.980569259788917,-1.8463761496649909,-6.7957313909118255,-6.842614976810675,-6.277301167760615,-1.6016725181239624,-6.834646807161499,-6.483542908272222,-3.3781298559126016,-1.9147238137262874,-7.264209466848723,-6.97044834832056,-6.2503937148406905,-6.323821183395508,-6.466922027036182,-2.304012035094697,-6.232849405189781,-7.182292344380837,-4.500040235600472,-6.194465162181466,-7.045955900828706,-3.7335540179496816,-6.633976111699347,-6.224191342446667,-7.560054849939665,-6.541029999189903,-7.7391030813886506,-3.9953827115751284,-5.225208894727398,-4.2623981472183505,-4.983820106246462,-3.5900722944719905,-4.880831478599072,-4.625152137233465,-5.350160419862394,-4.464551422640724,-6.03257404477923,-5.25911044640308,-4.290672925686517,-4.802954305142684,-5.287422079228971,-4.798800612773991,-4.757191363453292,-5.977196575310277,-4.844383490556383,-2.946883968159507,-4.887603513509017,-5.795997983260946,-5.6188395451885595,-4.719156549714065,-5.921535728204724,-6.1778672707724285,-5.694577804815043],[-4.469097220436953,-3.6430767584970343,-3.7844067498952314,-3.931680914923784,-4.272838155799217,-4.129621978555971,-4.297357772973536,-4.384369149963165,-4.338992745625113,-4.178787025578902,-4.976420213651742,-4.292052720743842,-5.461928029433443,-5.887479896108345,-4.57562801124297,-5.526466550571014,-6.262964172004573,-4.4462034005711,-5.238784478119233,-6.017291507630335,-6.355745905455539,-5.968972930359527,-5.520424236115051,-6.328346931267425,-5.70515833931439,-4.218953067304238,-6.6434279779073195,-5.648805402763258,-5.5635078222513625,-4.870360641691417,-6.412904319295488,-1.949196049230905,-5.968972930359527,-4.4990139814749455,-6.027241838483503,-6.442757282445169,-4.057336183871974,-4.448263133534111,-4.000410247075965,-3.7940068236242506,-4.150834895195163,-4.166267300233975,-4.566303934367847,-4.3901887590164295,-4.028468199871122,-4.376661982718227,-4.915384323065373,-3.014652447863089,-3.369082406994758,-4.61381880997536,-4.55706599338291,-3.5814225774035497,-4.577972678202224,-4.001728638829222,-3.270401473211861,-3.264703452097223,-3.9718368746319084,-3.132988733879366,-4.361423592613295,-2.595191993338583,-4.516519898988561,-4.912100247864183],[-3.9699474093476774,-4.189042372135887,-4.058989243887689,-4.102030995146257,-4.171520021443684,-4.318254103615893,-4.424253392850214,-4.758810531535327,-4.504029895277935,-4.414714369803455,-3.0879080140350674,-5.469976217597951,-3.790334046490602,-5.366435538657111,-3.235086137375257,-5.727805326900051,-5.408282648592611,-4.971959552124542,-5.070590155566169,-5.076706382583605,-6.181472536826093,-5.921961341341008,-4.9999725883522155,-5.5070174892783,-1.5568628976878147,-5.5070174892783,-6.110013572843948,-4.0678979887767985,-5.089052218405905,-5.200643283814367,-3.6661684098537215,-4.557328477002297,-5.479108701161223,-5.159821289294111,-5.479108701161223,-5.616579691789827,-3.7152580200502454,-4.23556238777078,-4.212031890360586,-3.866007780968386,-4.0678979887767985,-4.4633463186414915,-4.142178063159669,-4.318254103615893,-4.276053749125516,-4.772293881872614,-4.332726136224427,-4.11133338780857,-3.9089648990693253,-4.309670359924501,-3.9127889955077286,-4.338574106106851,-4.528549512452254,-4.149433234040841,-3.5292744136497762,-3.6009751629760713,-4.350373653038005,-4.828122331425556,-4.047963773875981,-4.665125047458004,-4.673288358097166,-4.633122316371831],[-4.806719860900339,-3.6507473420444714,-4.429814962058902,-4.347330952102998,-4.3949170222076255,-4.698366552912107,-4.809448375553543,-4.35423944244681,-4.534137594904308,-4.3611959922401695,-2.871768725634745,-4.598399529122678,-5.564587232141456,-5.519124858064699,-2.4250566837898457,-5.688201188108633,-5.967149580591659,-5.01834957015221,-2.505498094634157,-5.3939617151106924,-6.3813483686685775,-5.360223575478843,-5.821732580733155,-5.742268409378909,-2.5427453130265225,-6.0299504818306895,-5.949907774157153,-6.048642614842842,-6.106911522966818,-6.522426966928483,-1.9368412502165815,-5.384205540165328,-3.2469989725553616,-5.166904264475346,-4.662348253722951,-5.93295821584338,-4.052787789271272,-3.8964417188805776,-4.725629703670472,-3.994277013931218,-3.570836586604418,-4.883136091344702,-4.20182336843176,-4.894970548991704,-4.1342203512338624,-5.159122124033291,-4.442985425248647,-4.740819869164446,-4.583031498894364,-4.589588899440523,-4.4058064220068935,-4.87144005158151,-4.8541485544714496,-4.806719860900339,-4.241282205172307,-4.937530163410501,-4.382360803432213,-5.0116381355642226,-4.368201274828579,-4.782492565565015,-4.544565218066568,-4.4563316672015425]],probHashThreshold:.015,probHashChars:{1:1,0:0,3:3,2:2,5:5,4:4,7:7,6:6,9:9,8:8,A:36,C:38,B:37,E:40,D:39,G:42,F:41,I:44,H:43,K:46,J:45,M:48,L:47,O:50,N:49,Q:52,P:51,S:54,R:53,U:56,T:55,W:58,V:57,Y:60,X:59,Z:61,a:10,c:12,b:11,e:14,d:13,g:16,f:15,i:18,h:17,k:20,j:19,m:22,l:21,o:24,n:23,q:26,p:25,s:28,r:27,u:30,t:29,w:32,v:31,y:34,x:33,z:35},userTransitions:{search:{}},patternsLoader:new f.default((e,t)=>{j.contentExtractor.updatePatterns(e,t)}),ts:"",mRefresh:{},can_url_match:{},ismRefresh:!1,userTransitionsSearchSession:300,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},activeUsage:null,activeUsageThreshold:2,pageStatusCountSent:null,actionStats:null,actionStatsLastSent:null,bloomFilter:null,bf:null,strictQueries:[],oc:null,SAFE_QUORUM_ENDPOINT:C.default.settings.ENDPOINT_SAFE_QUORUM_ENDPOINT,SAFE_QUORUM_PROVIDER:C.default.settings.ENDPOINT_SAFE_QUORUM_PROVIDER,safebrowsingEndpoint:new O.default,quorumBloomFilters:{},safeQuorumProvider:null,getAllOpenPages:l.getAllOpenPages,prefs:{humanWebOptOut:!1,config_ts:null,config_location:null},_md5:function(e){return(0,s.default)(e)},urlLeaksExtensionId:e=>e.startsWith("moz-extension://")||e.startsWith("chrome-extension://"),maskURL(e){if(j.urlLeaksExtensionId(e))return P("Dropping URL with extension id:",e),"";var t=null,r=null;if(!(t=(0,y.parseURL)(e)))return"";if(j.dropLongURL(e)){if(t.hostname.indexOf("google")>0&&t.query_string){var n=(0,p.parseQueryString)(t.query_string);if(n.url)return r=n.url[0],r=j.maskURL(decodeURIComponent(""+r))}return r=t.protocol+"://"+t.hostname+"/ (PROTECTED)"}return e},maskURLStrict(e){if(j.urlLeaksExtensionId(e))return P("Dropping URL with extension id:",e),"";var t;return(t=(0,y.parseURL)(e))?t.protocol+"://"+t.hostname+"/ (PROTECTED)":""},isShortenerURL:function(e){try{var t=(0,y.parseURL)(e);if(!t)return!0;if(t.hostname.length<8&&t.path.length>4)for(var r=t.path.split("/"),n=0;n<r.length;n++)if(j.isHash(r[n]))return!0;return!1}catch(e){return!0}},getTime(){const e=new Date,t=e.getUTCHours(),r=b.default.get("config_ts",null);if(r){return r+""+((t<10?"0":"")+t)}{const r=e.getDate(),n=e.getMonth(),i=(r<10?"0":"")+r,s=(n<9?"0":"")+(n+1),o=(t<10?"0":"")+t;return e.getFullYear()+""+s+i+o}},isSuspiciousDomainName:function(e){return e.split(".").length>6||(!!j.checkForLongNumber(e,5)||e.split("-").length>4)},isSuspiciousURL:function(e){try{var t={};if(!(t=(0,y.parseURL)(e)))return!0;if(P(JSON.stringify(t)),0==e.indexOf("about:"))return!0;if((0,A.isIpAddress)(t.hostname))return!0;if(""!=t.username||""!=t.password)return!0;if(""!=t.port&("80"!=t.port&&"443"!=t.port))return!0;if("http"!=t.protocol&"https"!=t.protocol&""!=t.protocol)return!0;var r=e.indexOf("#");return r>-1&&!j.contentExtractor.isSearchEngineUrl(e)&&e.length-r>=10?(P("Dropped because of # in url: "+decodeURIComponent(e)),!0):t.hostname.indexOf("localhost")>-1||(!!j.isSuspiciousDomainName(t.hostname)||(P("Sanitize: URL is ok: "+e),!1))}catch(e){return P("Exception in isSuspiciousURL: "+e),!0}},calculateStrictness:function(e,t){var r=!0;if(t&&t.x&&t.x.canonical_url){var n=(0,y.parseURL)(t.x.canonical_url),i=(0,y.parseURL)(e);if(!i||!n)return!0;null!=i.hostname&&""!=i.hostname&&i.hostname==n.hostname&&t.x.canonical_url!=e&&t.x.canonical_url.length<e.length&&(r=!1)}return r},dropLongURL:function(e,t){try{if(null==t&&(t={strict:!1}),j.checkForEmail(e))return!0;var r=(0,y.parseURL)(e);if(!r)return!0;if(1==t.strict){if(r.query_string&&r.query_string.length>.75*j.qs_len)return!0;if(r.query_string){if((a=r.query_string.split(/[&;]/)).length>1)return!0;for(var n=0;n<a.length;n++)if(a[n].length>3&&j.isHash(a[n]))return!0;if(null!=j.checkForLongNumber(r.query_string,8))return!0}if(null!=j.checkForLongNumber(r.path,8))return!0}else{if(r.query_string&&r.query_string.length>j.qs_len)return!0;if(r.query_string){if((a=r.query_string.split(/[&;]/)).length>4)return!0;if(null!=j.checkForLongNumber(r.query_string,12))return!0}if(null!=j.checkForLongNumber(r.path,12))return!0}var i=r.path.split(/[\/\._ \-:\+;]/);for(n=0;n<i.length;n++){if(i[n].length>j.rel_part_len)return!0;if(1==t.strict){if(i[n].length>5&&j.isHash(i[n]))return!0}else if(i[n].length>12&&j.isHash(i[n]))return!0}for(i=r.path.split("/"),n=0;n<i.length;n++){var s=i[n].replace(/[^A-Za-z0-9]/g,""),o=1;if(1==t.strict&&(o=.5),s.length>j.rel_segment_len*o&&j.isHash(s))return!0}var a=[/\/admin([\/\?#=]|$)/i,/\/wp-admin([\/\?#=]|$)/i,/\/edit([\/\?#=]|$)/i,/[&\?#\/]share([\/\?#=]|$)/i,/[&\?#\/;]sharing([\/\?#=]|$)/i,/[&\?#\/;]logout([\/\?#=]|$)/i,/WebLogic/i,/[&\?#\/;]token([\/\?#=_;]|$)/i,/[&\?#\/;]trk([\/\?#=_]|$)/i,/[&\?#\/=;](http|https)(:\/|\%3A\%2F)/],g=(r.path||"/")+"?"+(r.query_string||"");for(n=0;n<a.length;n++)if(a[n].test(g))return!0;var A=null,u=r.path.indexOf("#");if(-1!=u&&(A=r.path.slice(u,r.path.length)),r.query_string&&r.query_string.length>0||A&&A.length>0){a=[/[&\?#_\-;]user/i,/[&\?#_\-;]token/i,/[&\?#_\-;]auth/i,/[&\?#_\-;]uid/i,/[&\?#_\-;]email/i,/[&\?#_\-;]usr/i,/[&\?#_\-;]pin/i,/[&\?#_\-;]pwd/i,/[&\?#_\-;]password/i,/[&\?#;]u[=#]/i,/[&\?#;]url[=#]/i,/[&\?#_\-;]http/i,/[&\?#_\-;]ref[=#]/i,/[&\?#_\-;]red[=#]/i,/[&\?#_\-;]trk/i,/[&\?#_\-;]track/i,/[&\?#_\-;]shar/i,/[&\?#_\-;]login/i,/[&\?#_\-;]logout/i,/[&\?#_\-;]session/i];if(r.query_string&&r.query_string.length>0)for(n=0;n<a.length;n++)if(a[n].test("?"+r.query_string))return!0;if(A&&A.length>0)for(n=0;n<a.length;n++)if(a[n].test(A))return!0}return!1}catch(e){return P("Exception in dropLongURL: "+e),!0}},cleanDocCache:function(){for(var e in j.docCache)j.counter-j.docCache[e].time>3600*j.tmult&&delete j.docCache[e]},cleanHttpCache:function(){for(var e in j.httpCache)j.counter-j.httpCache[e].time>60*j.tmult&&delete j.httpCache[e];for(var e in j.httpCache401)j.counter-j.httpCache401[e].time>60*j.tmult&&delete j.httpCache401[e]},getHeaders:function(e){var t={};let r=e.split(" ")[1];r=parseInt(r)?parseInt(r):null,t.status=r;for(var n=e.split("\n"),i=0;i<n.length;i++)if(0==n[i].indexOf("Location: ")&&(t.loc=decodeURIComponent(n[i].split(" ")[1].trim())),0==n[i].indexOf("WWW-Authenticate: ")){var s=(s=n[i].split(" ")).slice(1,s.length).join(" ");t.auth=s}return t},httpObserver:{observeActivity:function(e){let t=e.url,r=e.type,n=e.responseStatus,i=e.statusCode,s=e.responseHeaders,o=e.isPrivate;e.tabId;if(!o&&(6===r||"main_frame"===r))try{j.detectAdClick(t);const e=decodeURIComponent(t),r=n||i,o=s;if(301===r||302===r){let t;o.forEach(e=>{e.name&&"location"===e.name.toLowerCase()&&(t=e.value)}),j.httpCache[e]={status:r,time:j.counter,location:t}}else 401===r?j.httpCache401[e]={time:j.counter}:r&&(j.httpCache[e]={status:r,time:j.counter})}catch(e){P(e)}}},onVisitRemoved(e){let t=e.urls;if(e.allHistory)j.db.clearHistory();else{var r=!0,n=!1,i=void 0;try{for(var s,o=t[Symbol.iterator]();!(r=(s=o.next()).done);r=!0){const e=s.value;j.db.deleteVisit(e)}}catch(e){n=!0,i=e}finally{try{r||null==o.return||o.return()}finally{if(n)throw i}}}},linkCache:{},cleanLinkCache:function(){for(var e in j.linkCache)j.counter-j.linkCache[e].time>60*j.tmult&&delete j.linkCache[e]},getRedirects(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:6;const n=t||[];if(r<=0)return n;const i=(t,r)=>(301===t||302===t)&&(r===e||decodeURIComponent(r)===e||r+"/"===e);try{for(var s=0,o=Object.entries(j.httpCache);s<o.length;s++){const t=L(o[s],2),a=t[0],g=t[1],A=g.status,u=g.location;if(a!==e&&i(A,u)&&n.indexOf(a)<0)return n.unshift(a),j.getRedirects(a,n,r-1)}}catch(e){P(">>>> REDIRECT ERROR >>> "+e)}return n},userSearchTransition:function(e){if(null!=e){var t=e.qurl,r=e.q.replace(/\s+/g," ").trim().toLowerCase();t&&r&&r.length>0&&(null==j.userTransitions.search[r]&&(j.userTransitions.search[r]={time:j.counter,data:[]}),j.userTransitions.search[r].data.push([t,j.counter-j.userTransitions.search[r].time]))}},getParametersQS:function(e){for(var t={},r=e.split(/[\?&]+/),n=0;n<r.length;n++){var i=r[n].split("=");2==i.length&&(t[i[0]]=i[1])}return t},getEmbeddedURL:function(e){var t=e.lastIndexOf("https://"),r=e.lastIndexOf("http://");if(!(t>0||r>0))return null;try{const t=new u.default(e).searchParams.params.find(e=>"url"===e[0]);if(t)return decodeURIComponent(t[1])}catch(e){}},auxIsAlive:function(){return!0},auxGetPageData:function(e,t,r,n,i){j.doublefetchHandler.anonymousHttpGet(e).then(_.parseHtml).then(i=>{const s=j.getPageData(e,i);j.docCache[e]={time:j.counter,doc:i},n(e,t,r,s)}).catch(n=>{P(`Error on doublefetch: ${n}`),i(e,t,r,n)})},auxIntersection:function(e,t){for(var r=0,n=0,i=new Array;r<e.length&&n<t.length;)e[r]<t[n]?r++:e[r]>t[n]?n++:(i.push(e[r]),r++,n++);return i},auxUnion:function(e,t){for(var r={},n=e.length-1;n>=0;--n)r[e[n]]=e[n];for(n=t.length-1;n>=0;--n)r[t[n]]=t[n];var i=[];for(var s in r)r.hasOwnProperty(s)&&i.push(r[s]);return i},validDoubleFetch:function(e,t,r){if(P("xbef: "+JSON.stringify(e)),P("xaft: "+JSON.stringify(t)),!e||!t)return P("fovalidDoubleFetch: found an empty structure"),!1;if(!e.t||!t.t)return P("fovalidDoubleFetch: found an empty title"),!1;if(!e.iall||!t.iall)return P("fovalidDoubleFetch: found a noindex"),!1;if(e.canonical_url!=t.canonical_url&&!(null!=t.canonical_url&&t.canonical_url.length>0&&null==e.canonical_url))return!1;if(1==r.structure_strict){var n=!0,i=!0,s=(e.lh||0)/((e.lh||0)+(t.lh||0));if((e.lh||0)>10240)((s=(e.lh||0)/((e.lh||0)+(t.lh||0)))<.1||s>.9)&&(P("fovalidDoubleFetch: lh is not balanced"),n=!1);var o=(e.nl||0)/((e.nl||0)+(t.nl||0));if((e.lh||0)>30)((o=(e.nl||0)/((e.nl||0)+(t.nl||0)))<.1||o>.9)&&(P("fovalidDoubleFetch: nl is not balanced"),i=!1);if(!i&&!n)return!1}if(null==t.canonical_url||""==t.canonical_url){if(null==e.nip||null==t.nip||0==e.nip&&t.nip>0)return P("validDoubleFetch: fail nip"),!1;if(null==e.nf||null==t.nf||0==e.nf&&t.nf>0)return P("validDoubleFetch: fail text nf"),!1}var a=e.t||"",g=t.t||"",A=1;if(a!=g){var u=a.split(" ").filter((function(e){return e.length>1})),I=g.split(" ").filter((function(e){return e.length>1}));if(A=j.auxIntersection(u,I).length/j.auxUnion(u,I).length,Math.max(u.length,I.length)<=4)return A>=.5||(P("short title fail title overlap"),!1);if(A<=.5){var C=a.replace(/[^A-Za-z 0-9 \.,\?""!@#\$%\^&\*\(\)-_=\+;:<>\/\\\|\}\{\[\]`~]*/g,""),l=g.replace(/[^A-Za-z 0-9 \.,\?""!@#\$%\^&\*\(\)-_=\+;:<>\/\\\|\}\{\[\]`~]*/g,"");if(!(C.length>.5*a.length&&l.length>.5*g.length))return P("validDoubleFetch: fail title overlap"),!1;var c=C.split(" ").filter((function(e){return e.length>1})),d=l.split(" ").filter((function(e){return e.length>1}));if((A=j.auxIntersection(c,d).length/j.auxUnion(c,d).length)<=.8)return P("validDoubleFetch: fail title overlap after ascii"),!1}return null==e.nip||null==t.nip||0==e.nip&&t.nip>0?(P("validDoubleFetch: fail nip"),!1):!(null==e.nf||null==t.nf||0==e.nf&&t.nf>0)||(P("validDoubleFetch: fail text nf"),!1)}return!0},getCleanerURL:function(e){var t=e,r=(0,y.parseURL)(e);if(!r)return null;if(r&&r.query_string&&""!=r.query_string)t=r.protocol+"://"+r.hostname+r.path;else if(r&&r.path&&""!=r.path){var n=r.path.split("/"),i=[];for(let e=0;e<n.length;e++)""!=n[e]&&i.push(n[e]);if(i.length>=3){var s=i.slice(0,i.length-1).join("/");t=r.protocol+"://"+r.hostname+"/"+s+"/"}}return t!=e?j.isSuspiciousURL(t)||j.dropLongURL(t)?e:t:e},fetchReferral:function(e,t){P("PPP in fetchReferral: "+e),e&&""!=e?null==j.docCache[e]?j.auxGetPageData(e,null,null,(function(e){P("PPP in fetchReferral success auxGetPageData: "+e),t()}),(function(e){P("PPP in fetchReferral failure auxGetPageData: "+e),t()})):(P("PPP in fetchReferral already in docCache: "+e),t()):t()},allowDoublefetch(e,t){function r(e){return{accepted:!1,rejectDetails:e}}if(null==t||null==t.x)return P("page_doc.x missing for url:",e),r("page_doc.x missing");if(t&&t.x&&0==t.x.iall)return r("the page is marked as noindex");if(1==j.isSuspiciousURL(e))return r("URL failed the isSuspiciousURL check");if(j.dropLongURL(e)){const n=t.x.canonical_url;if(!n)return t.isMU?{accepted:!0}:r("URL is too long (and there is no canonical URL)");if(j.dropLongURL(n))return P(`both URL=${e} and canonical_url=${n} are too long`),r("both URL and canonical_url are too long")}return{accepted:!0}},doubleFetch:(e,t)=>T((function*(){try{const r=yield j._doubleFetch(e,t);r.isPrivate?j.setAsPrivate(r.url):(j.setAsPublic(r.url),yield j.telemetry(r.msgCandidate))}catch(e){P("Unexpected error during doublefetch",e)}}))(),_doubleFetch:(e,t)=>new Promise((r,n)=>{function i(e,t){P("The URL",e,"failed one of the doublefetch heuristics. Details:",t),r({url:e,isPrivate:!0,explanation:t})}function s(e,t){P("The URL",e,"passed all doublefetch heuristics"),r({url:e,isPrivate:!1,page_doc:t,msgCandidate:{type:j.msgType,action:"page",payload:t}})}const o=j.allowDoublefetch(e,t),a=o.accepted,g=o.rejectDetails;a?(P("going to double-fetch:",e),j.auxGetPageData(e,t,e,(function(e,t,r,n){if(P("success on doubleFetch, need further validation",e),j.validDoubleFetch(t.x,n,{structure_strict:!1})){let o=j.validFrameCount(t.x,n),a=j.validFrameSetCount(t.x,n);n.nifshmatch=o,n.nfshmatch=a,n.nifshbf=t.x.nifsh,n.nfshbf=t.x.nifsh,j.fetchReferral(t.ref,(function(){var o=j.calculateStrictness(e,t);if(t.ref&&""!=t.ref){P("PPP: page has a referral, "+e+" < "+t.ref);var a=j.hasURL(t.ref,e);P("PPP: page has a referral, "+e+" < "+t.ref+">>>> "+a),a&&(o=!1)}else P("PPP: page has NO referral,",e);if(P("strict URL:",e,">",o),j.validDoubleFetch(t.x,n,{structure_strict:o})){if(j.dropLongURL(e,{strict:o})){if(!(t&&t.x&&t.x.canonical_url))return void i(e,"rejected by dropLongURL (strict=true) heuristic");if(j.dropLongURL(t.x.canonical_url,{strict:o}))return void i(e,"rejected by dropLongURL (strict=true) heuristic")}P("success on doubleFetch, need further validation");var g=e;if(null!=n.canonical_url&&""!=n.canonical_url&&0==j.dropLongURL(n.canonical_url))t.url=n.canonical_url,t.x=n;else if(null!=t.x.canonical_url&&""!=t.x.canonical_url&&0==j.dropLongURL(t.x.canonical_url))t.url=t.x.canonical_url,t.x=n,t.x.canonical_url=t.url;else{if(0!=j.dropLongURL(e))return void i(e,`rejected by fail-safe branch (dropLongURL(${e} should have been passed)`);t.url=e,t.x=n,null!=t.x.canonical_url&&""!=t.x.canonical_url&&(t.x.canonical_url=e)}var A=j.getCleanerURL(t.url);A!=t.url?(P("going to clean_url double-fetch:",A),j.auxGetPageData(A,t,g,(function(e,t,r,n){P("success on clean_url doubleFetch, need further validation"),j.validDoubleFetch(t.x,n,{structure_strict:!1})?(t.url=e,t.x=n,s(r,t)):(j.debug&&(P("checking clean_url, page_doc:",t),P("checking clean_url, data: ",n)),t.x.nip<n.nip?i(r,"rejected by extra password / form fields (after doublefetch)"):s(r,t))}),(function(e,t,r,n){P("failure on clean_url doubleFetch! structure did not match"),s(r,t)}))):s(r,t)}else i(e,`rejected by validDoubleFetch(structure_strict=${o})`)}))}else i(e,"rejected as the structure of the document changed significantly (after doublefetch)")}),(function(e,t,r,n){P("failure on doubleFetch!",n),i(e,`rejected as doublefetch failed with an error ${n}`)}))):i(e,`URL rejected by heuristics before doublefetch: ${g}`)}),hasURL:function(e,t){try{var r=j.docCache[e];if(!r)return!1;var n=r.doc;if(!n)return P("hasURL no CD!!! "),!1;var i=t.replace(/^http(s?)\:\/\//,""),s=null;try{var o=(0,y.parseURL)(e).hostname,a=(0,y.parseURL)(t).hostname}catch(e){return!1}if(o==a){s="/";var g=i.split("/");g.length>1&&(s="/"+g.slice(1,g.length).join("/"))}for(var A=!1,u=n.documentElement.getElementsByTagName("a"),I=0;I<u.length;I++)try{var C=u[I].href;if((C=C.replace(/^http(s?)\:\/\//,""))==i){A=!0;break}if(s&&C==s){A=!0;break}}catch(e){}return A}catch(e){return P("Error on hasURL: "+e),!1}},getPageData:function(e,t){var r=null,n=null,i=null,s=null,o=null,a=null,g=null,u=null,I=null,C=null,l=null,c=null,d=null,h=!0,f=null,p=null,m=null;let _=(0,y.parseURL)(e);try{p=(0,y.parseURL)(e).hostname}catch(e){p=null}try{r=t.documentElement.innerHTML.length}catch(e){}try{n=t.documentElement.textContent.length}catch(e){}try{i=t.getElementsByTagName("title")[0].textContent}catch(e){}try{s=t.getElementsByTagName("a").length}catch(e){}try{o=t.getElementsByTagName("input")||[],a=0,g=0;for(var b=0;b<o.length;b++)o[b].type&&"hidden"!=o[b].type&&(a+=1),o[b].type&&"password"==o[b].type&&(g+=1)}catch(e){}try{C=t.getElementsByTagName("frame")||[],u=0;for(b=0;b<C.length;b++)if(C[b].src){var v=C[b].src;C[b].src.startsWith("//")&&(v="http:"+C[b].src);try{(m=(0,y.parseURL)(v).hostname)!==p&&"browser"!=m||u++}catch(e){u++}}}catch(e){}try{C=t.getElementsByTagName("iframe")||[],I=0;for(b=0;b<C.length;b++)if(C[b].src){v=C[b].src;C[b].src.startsWith("//")&&(v="http:"+C[b].src);try{(m=(0,y.parseURL)(v).hostname)!==p&&"browser"!=m||I++}catch(e){I++}}}catch(e){}try{l=t.getElementsByTagName("form")}catch(e){}d=t.getElementsByTagName("meta");try{for(let e=0;e<d.length;e++)"content-language"!=d[e].getAttribute("http-equiv")&&"language"!=d[e].getAttribute("name")||(c=d[e].getAttribute("content"));null==c&&(c=t.getElementsByTagName("html")[0].getAttribute("lang")),c&&c.length>10&&(c=null)}catch(e){}let w="";try{if(w=t.querySelector("head")){let e=w.innerHTML.toLowerCase();e&&e.indexOf("noindex")>-1&&(h=!1)}}catch(e){P("no-index check failed "+e)}for(var k=t.getElementsByTagName("link"),M=0;M<k.length;M++)"canonical"==k[M].getAttribute("rel")&&(f=k[M].href,j.can_url_match[f]&&j.can_url_match[f]!=e&&(f=null));if(null!=f&&f.length>0){f.startsWith("//")&&(f=f.replace("//",""));let e=(0,A.getDetailsFromUrl)(f);(e.scheme.startsWith("chrome")||""===e.scheme||e.name&&!e.tld)&&(f=`${_.protocol}://${_.hostname}${e.path}`)}try{var O=j.getCountryCode()}catch(e){}return{lh:r,lt:n,t:i,nl:s,ni:(o||[]).length,ninh:a,nip:g,nf:(l||[]).length,pagel:c,ctry:O,iall:h,canonical_url:f,nfsh:u,nifsh:I}},listener:{tmpURL:void 0,onLocationChange:function(e){let t=e.isPrivate,r=(e.isLoadingDocument,e.url);e.referrer,e.frameId;if(t)return;if(r===this.tmpURL)return;this.tmpURL=r,j.lastActive=j.counter,j.lastActiveAll=j.counter;const i=r,s=j.cleanCurrentUrl(r);if(!j.isSuspiciousURL(s)&&1!=s.indexOf("about:"))if(null==j.state.v[s]){j.contentExtractor.isSearchEngineUrl(s)&&M.default.setTimeout((function(e,t){j&&(0,_.getContentDocument)(t).then(t=>{j.checkURL(t,e,"normal")}).catch(r=>{m.default.info(`Failed to get content for originalURL=${t} (internalURL=${e}, details=${r})`)})}),j.WAIT_TIME,s,i);var o=null;null!=j.httpCache[s]&&(o=j.httpCache[s].status);var a=null;null!=j.linkCache[s]&&(a=j.linkCache[s].s);var g=[];if(0==(g=j.getRedirects(s,g)).length&&(g=null),g&&null==a){var A=g[0],u=j.linkCache[A];u&&(a=u.s),j.queryCache[A]&&(j.queryCache[s]=j.queryCache[A])}if(j.state.v[s]={url:s,a:0,x:null,tin:(new Date).getTime(),e:{cp:0,mm:0,kp:0,sc:0,md:0},st:o,c:[],ref:a,red:g},a&&j.state.v[a]&&j.state.v[a].qr)if(j.state.v[s].qr={},j.state.v[s].qr.q=j.state.v[a].qr.q,j.state.v[s].qr.t=j.state.v[a].qr.t,j.state.v[s].qr.d=j.state.v[a].qr.d+1,j.state.v[s].qr.d>2)delete j.state.v[s].qr;else if(2==j.state.v[s].qr.d)try{(0,y.parseURL)(s).hostname!==(0,y.parseURL)(a).hostname&&delete j.state.v[s].qr}catch(e){delete j.state.v[s].qr}M.default.setTimeout((function(e){(0,_.getContentDocument)(i).then((function(t){if(!j.contentExtractor.isSearchEngineUrl(e)){try{j.checkURL(t,e,"normal")}catch(e){}j.incrActiveUsage()}var r=j.getPageData(e,t);r.canonical_url&&(j.can_urls[e]=r.canonical_url,j.can_url_match[r.canonical_url]=e),null!=j.state.v[e]&&(j.state.v[e].x=r),j.queryCache[e]&&(j.state.v[e].qr=j.queryCache[e],delete j.queryCache[e]),null!=j.state.v[e]&&(j.addURLtoDB(e,j.state.v[e].ref,j.state.v[e]),j.queryCache[e])}),(function(){j.debug&&P("CANNOT GET THE CONTENT OF : "+e)})).catch(t=>{P("Error fetching title and length of page: "+t+" : "+e)})}),j.PAGE_WAIT_TIME,s,i)}else j.state.v[s].tend=null,n.default.pub("HW-activeURL:",{activeURL:s})}},startPacemaker:function(){const e=[];return e.push(M.default.register((function(){j.currentURL().then(e=>{if(e&&0!==e.indexOf("about:")&&j.counter-j.lastActive<5*j.tmult)try{j.state.v[e].a+=1}catch(e){}}).catch(e=>{P("Error fetching fetching the currentURL: "+e)}),j.counter+=4}),{timeout:1e3})),e.push(M.default.register((function(){j.getAllOpenPages().then(e=>{var t=(new Date).getTime();for(var r in j.state.v)j.state.v.hasOwnProperty(r)&&(-1==e.indexOf(r)?(null==j.state.v[r].tend&&(j.state.v[r].tend=t),t-j.state.v[r].tend>60*j.deadFiveMts*1e3&&(j.state.m.push(j.state.v[r]),j.addURLtoDB(r,j.state.v[r].ref,j.state.v[r]),delete j.state.v[r],delete j.queryCache[r])):t-j.state.v[r].tin>60*j.deadTwentyMts*1e3&&(j.state.v[r].tend=null,j.state.v[r].too_long=!0,j.state.m.push(j.state.v[r]),j.addURLtoDB(r,j.state.v[r].ref,j.state.v[r]),delete j.state.v[r],delete j.queryCache[r]))}).catch(e=>{P(e)})}),{timeout:5e3})),e.push(M.default.register((function(){var e=j.state.m.length;if(e>0){j.state.m.slice(0,e);j.state.m=j.state.m.slice(e,j.state.m.length)}j.bloomFilter||j.loadBloomFilter()}),{timeout:1e4})),e.push(M.default.register((function(){j.cleanHttpCache()}),{timeout:15e3})),e.push(M.default.register((function(){j.cleanLinkCache()}),{timeout:15e3})),e.push(M.default.register((function(){j.purgeAdLookUp()}),{timeout:15e3})),e.push(M.default.register((function(){j.cleanDocCache()}),{timeout:6e4})),e.push(M.default.register((function(){j.listOfUnchecked(1,j.doubleFetchTimeInSec,null,j.processUnchecks),j.auxGetQuery()}),{timeout:6e4})),e.push(M.default.register((function(){m.default.debug("human-web: flush network cache"),j.network.flushExpiredCacheEntries()}),{timeout:3e5})),e.push(M.default.register((function(){j.debug&&P("Load ts config"),j.expireQuorumBloomFilter()}),{timeout:12e5})),e.push(M.default.register((function(){j.debug&&P("Check if alive"),j.checkActiveUsage()}),{timeout:12e5})),e.push(M.default.register((function(){j.debug&&P("Save actions stats"),j.saveActionStats(),j.sendActionStatsIfNeeded()}),{timeout:12e5})),e.push(M.default.register((function(){j.fetchSafeQuorumConfig()}),{timeout:144e5})),e},cleanUserTransitions:function(e){for(var t in j.userTransitions.search)if(e||j.counter-j.userTransitions.search[t].time>j.userTransitionsSearchSession*j.tmult){if(j.userTransitions.search[t].data.length>1){try{var r=j.getCountryCode()}catch(e){}var n={q:t,sources:j.userTransitions.search[t].data,ctry:r};j.debug&&P(JSON.stringify(n,void 0,2)),j.telemetry({type:j.msgType,action:"userTransition.search",payload:n})}delete j.userTransitions.search[t]}},unload:function(){j.rushaWorker&&(delete j.rushaCallbacks,delete j.rushaWorker.onmessage,j.rushaWorker.terminate(),delete j.rushaWorker),j.checkActiveUsage(),j.safebrowsingEndpoint.flushSendQueue(),j.pacemakerTasks&&(j.pacemakerTasks.forEach(e=>{e.stop()}),j.pacemakerTasks=null),j.safebrowsingEndpoint.unload(),j.patternsLoader.unload(),j.doublefetchHandler.unload()},currentURL:function(){return(0,d.getActiveTab)().then(e=>{let t=e.url;return j.cleanCurrentUrl(t)})},cleanCurrentUrl:function(e){try{e=decodeURIComponent(e.trim())}catch(e){}return null!=e||null!=e?e:null},pacemakerTasks:null,captureKeyPressPage:function(e){if(j.counter-(0|j.lastEv.keypresspage)>1*j.tmult){j.debug,j.lastEv.keypresspage=j.counter,j.lastActive=j.counter;var t=j.cleanCurrentUrl(e.target.baseURI);null!=j.state.v[t]&&j.state.v[t].a>1*j.tmult&&(j.state.v[t].e.kp+=1)}},captureMouseMovePage:function(e){if(j.counter-(0|j.lastEv.mousemovepage)>1*j.tmult){j.debug&&P("captureMouseMovePage"),j.lastEv.mousemovepage=j.counter,j.lastActive=j.counter;var t=j.cleanCurrentUrl(e.target.baseURI);null!=j.state.v[t]&&j.state.v[t].a>1*j.tmult&&(j.state.v[t].e.mm+=1)}},getURLFromEvent:function(e){P(">>>> Get url from event >>> "+e.target.href);try{if(null!=e.target.href||null!=e.target.href)return decodeURIComponent(""+e.target.href);if(null!=e.target.parentNode.href||null!=e.target.parentNode.href)return decodeURIComponent(""+e.target.parentNode.href)}catch(e){j.debug&&P("Error in getURLFromEvent: "+e)}return null},contextFromEvent:null,captureMouseClickPage(e,t,r){var n=j.getURLFromEvent(e)||r;if(P("captureMouseClickPage>> "+n),j.contextFromEvent=t?{html:t,ts:Date.now()}:null,null!=n){var i=j.getEmbeddedURL(n);null!=i&&(n=i);var s=j.cleanCurrentUrl(e.target.baseURI);if(j.debug&&P("captureMouseClickPage>> "+j.counter+" "+n+" :  active: "+s+" "+(null!=j.state.v[s])+" "+e.target+" :: "+e.target.value+" >>"+JSON.stringify(j.lastEv)),null!=j.state.v[s]){j.linkCache[n]={s:""+s,time:j.counter};var o=n;j.httpCache[n]&&301===j.httpCache[n].status&&(o=j.httpCache[n].location),j.isSuspiciousURL(o)||j.dropLongURL(o)||j.isAlreadyMarkedPrivate(o,(function(e){e&&0==e.private?j.state.v[s].c.push({l:""+j.maskURL(o),t:j.counter}):e||j.state.v[s].c.push({l:""+j.maskURL(o),t:j.counter})}))}}if(j.counter-(0|j.lastEv.mouseclickpage)>1*j.tmult){j.debug&&P("captureMouseClickPage"),j.lastEv.mouseclickpage=j.counter,j.lastActive=j.counter;s=j.cleanCurrentUrl(e.target.baseURI);null!=j.state.v[s]&&j.state.v[s].a>1*j.tmult&&(j.state.v[s].e.md+=1)}},captureScrollPage:function(e){if(j.counter-(0|j.lastEv.scrollpage)>1*j.tmult){j.debug&&P("captureScrollPage "),j.lastEv.scrollpage=j.counter,j.lastActive=j.counter;var t=j.cleanCurrentUrl(e.target.baseURI);null!=j.state.v[t]&&j.state.v[t].a>1*j.tmult&&(j.state.v[t].e.sc+=1)}},captureCopyPage:function(e){if(j.counter-(0|j.lastEv.copypage)>1*j.tmult){j.debug&&P("captureCopyPage"),j.lastEv.copypage=j.counter,j.lastActive=j.counter;var t=j.cleanCurrentUrl(e.target.baseURI);null!=j.state.v[t]&&j.state.v[t].a>1*j.tmult&&(j.state.v[t].e.cp+=1)}},counter:0,tmult:4,tpace:250,lastEv:{},lastActive:null,lastActiveAll:null,network:new y.Network,doublefetchHandler:new h.default({onHostnameResolved:(e,t)=>{j.network.cacheDnsResolution(e,t)}}),init:function(){return Promise.resolve().then(()=>{if(!b.default.get("humanWebOptOut",!1))return P("Init function called:"),j.log=P,Promise.resolve().then(()=>j.db?(P("Closing database connections..."),j.db.asyncClose().then(()=>{j.db=void 0,P("Closing database connections...done")}).catch(e=>P(e))):Promise.resolve()).then(()=>{const e=new I.default(j);return e.init().then(()=>{j.db=e,P("Successfully connected to database")})}).then(()=>{null==j.state&&(j.state={}),null==j.actionStats&&j.loadActionStats(),null==j.actionStatsLastSent&&j.loadActionStatsLastSent(),j.bloomFilter||j.loadBloomFilter(),j.loadStrictQueries();const e=[];return e.push(j.patternsLoader.init()),e.push(j.doublefetchHandler.init()),e.push(j.fetchSafeQuorumConfig()),j.loadQuorumBloomFilter(),null===j.activeUsage&&j.db.loadRecordTelemetry("activeUsage",e=>{j.activeUsage=null===e?{}:JSON.parse(e)}),j.db.loadRecordTelemetry("activeUsageLastSent",e=>{null===e?j.saveActiveUsageTime():(P(`Active usage last sent  from db as ${e}`),j.activeUsageLastSent=parseInt(e))}),Promise.all(e).then(()=>{j.safebrowsingEndpoint.init(),null===j.pacemakerTasks&&(j.pacemakerTasks=j.startPacemaker())})})})},state:{v:{},m:[],_id:Math.floor(1e3*(0,a.default)())},hashCode:function(e){return e.split("").reduce((function(e,t){return(e=(e<<5)-e+t.charCodeAt(0))&e}),0)},msgSanitize:function(e){if(e.channel=j.CHANNEL,e.ts=j.getTS(),!e.ts||""==e.ts)return null;if(e["anti-duplicates"]=Math.floor(1e7*(0,a.default)()),"page"==e.action){if(e.payload.tend&&e.payload.tin){var t=e.payload.tend-e.payload.tin;P("Duration spent: "+e.payload.tend+" : "+e.payload.tin+" : "+t)}else{t=null;P("Duration spent: "+e.payload.tend+" : "+e.payload.tin+" : "+t)}if(e.payload.dur=t,delete e.payload.tend,delete e.payload.tin,e.payload.ref&&(j.isSuspiciousURL(e.payload.ref)?e.payload.ref=null:e.payload.ref=j.maskURL(e.payload.ref),j.isAlreadyMarkedPrivate(e.payload.ref,(function(t){t&&1==t.private&&(e.payload.ref=null)}))),!e.payload.x.t)return P("Missing Title: "+e.payload.x.t),null;if(j.isSuspiciousTitle(e.payload.x.t))return P("Suspicious Title: "+e.payload.x.t),null;if(e.payload.c&&(e.payload.c=null),1==j.dropLongURL(e.payload.url)){if(null==(r=e.payload.x.canonical_url)||""==r||0!=j.dropLongURL(r))return P("Suspicious url with no/bad canonical: "+e.payload.url),null;e.payload.url=r}else{var r;null!=(r=e.payload.x.canonical_url)&&""!=r&&1==j.dropLongURL(r)&&(e.payload.x.canonical_url=null)}var n=j.isShortenerURL(e.payload.url),i=!1;if(null!=e.payload.x.canonical_url&&""!=e.payload.x.canonical_url&&(i=j.isShortenerURL(e.payload.x.canonical_url)),n||i)return null;if(j.isSuspiciousURL(e.payload.url))return null;if(null!=e.payload.x.canonical_url&&""!=e.payload.x.canonical_url&&j.isSuspiciousURL(e.payload.x.canonical_url))return null;if(e.payload.red){var s=[];e.payload.red.forEach((function(e){j.isSuspiciousURL(e)||s.push(j.maskURL(e))})),e.payload.red=s}e.payload.x.canonical_url&&(e.payload.url==e.payload.x.canonical_url&&(P("Canoncial is same: "),e.payload.csb&&e.payload.ft&&(P("Canoncial seen before: "),delete e.payload.csb,delete e.payload.ft)),e.payload.csb&&delete e.payload.csb)}if(e.payload.qr&&e.payload.qr.d>2&&delete e.payload.qr,e.payload.qr&&j.isSuspiciousQuery(e.payload.qr.q)&&delete e.payload.qr,"query"==e.action||"anon-query"==e.action){if(null==e.payload.q||""==e.payload.q)return null;if(j.isSuspiciousQuery(e.payload.q))return null;if(e.payload.r){let t=[],r={};if(Object.keys(e.payload.r).forEach(r=>{j.isSuspiciousURL(e.payload.r[r].u)||t.push(e.payload.r[r])}),t.length<4)return P(`Dropping message for query ${e.payload.q}, as there are too few search results.`),null;t.slice(0,8).forEach((e,t)=>{r[t]=e}),P("Original: "+JSON.stringify(e.payload.r)),P("New: "+JSON.stringify(r)),e.payload.r=r}}return e},notification:function(e){try{var t=j.getCountryCode()}catch(e){}e&&"object"==typeof e?(e.ctry=t,j.telemetry({type:j.msgType,action:"telemetry",payload:e})):P("Not a valid object, not sent to notification")},telemetry:(e,t)=>T((function*(){const r=yield j.runAllMessageSanitizers(e),n=r.accepted,i=r.rejectDetails;if(n){P("all checks passed: telemetry message added to the send queue:",e),j.incrActionStats(e.action);const r=Date.now();j.safebrowsingEndpoint.send(e,{instantPush:t}).then(()=>{m.default.debug("Successfully sent message after",(Date.now()-r)/1e3,"sec",e)}).catch(t=>{m.default.info(`Finally giving up on sending message (reason: ${t}, elapsed: ${(Date.now()-r)/1e3} sec)`,e)})}else P("telemetry message has been discarded:",i,e)}))(),runAllMessageSanitizers(e){let t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).updateStats,r=void 0===t||t;return T((function*(){let t,n=!1;function i(e){return{accepted:!1,rejectDetails:e,okTillQuorum:n}}function s(e){r&&j.incrActionStats(e)}if(!j||b.default.get("humanWebOptOut",!1))return i("human web disabled");if((0,d.isPrivateMode)((0,d.getWindow)()))return i("private mode");if(e.ver=j.VERSION,!(e=j.msgSanitize(e)))return i("rejected by sanitize checks");if(!(e=yield j.network.sanitizeUrlsWithPrivateDomains(e)))return i("failed local domain check");n=!0;try{t=yield j.safeQuorumCheck(e)}catch(e){return P("Exception during safe quorum check",e),s(`dropped-${e}`),i(`failed safe quorum check: ${e}`)}if(P("Quorum consent?",t),!t)return s("droppedQC"),i("failed safe quorum check");try{e=yield j.quorumCheckOtherUrls(e)}catch(e){return P("Error while checking other urls for quorum",e),i("failed safe quorum check for other urls")}return{accepted:!0}}))()},pushTelemetry(){j.safebrowsingEndpoint.flushSendQueue()},auxSameDomain:function(e,t){try{return(0,y.parseURL)(e).hostname.replace("www.","")==(0,y.parseURL)(t).hostname.replace("www.","")}catch(e){return!1}},isAlreadyMarkedPrivate:function(e,t){var r=(0,s.default)(e).substring(0,16),n=null;j.bloomFilter&&(n=j.bloomFilter.testSingle(r)?{hash:r,private:1}:{hash:r,private:0});return t(n),n},forceDoubleFetch:function(e){j.listOfUnchecked(1e12,0,e,j.processUnchecks)},_simulateDoublefetch(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.filterByDomain,r=void 0===t?null:t,n=e.filterByUrl,i=void 0===n?null:n,s=e.filterByExactDomain,o=void 0===s?null:s,a=e.filterByExactUrl,g=void 0===a?null:a,A=e.source,I=void 0===A?null:A;return T((function*(){function e(e){return!(i&&!e.includes(i))&&((!g||e===g)&&(!(r&&!new u.default(e).host.includes(r))&&(!o||new u.default(e).host===o)))}let t;if(I&&"openTabs"!==I){if("unprocessed"!==I)throw new Error(`unexpected source: ${I}`);t=yield new Promise((t,r)=>{j.listOfUnchecked(1e12,0,null,(n,i)=>{try{t(n.map(e=>({url:e[0],page_doc:e[1]})).filter(t=>e(t.url)))}catch(e){r(e)}})})}else{t=(yield j.getAllOpenPages()).map(e=>({url:e,page_doc:j.state.v[e]})).filter(t=>{let r=t.url;return t.page_doc&&e(r)})}return(yield Promise.all(t.map(function(){var e=T((function*(e){let t=e.url,r=e.page_doc;try{const e=yield j._doubleFetch(t,r),n=e.isPrivate,i=e.explanation,s=e.msgCandidate;let o,a;if(n)j.contentExtractor.isSearchEngineUrl(t)?(o="search",a='search pages never generate "page" messages'):(o="private",a=i);else{const e=yield j.runAllMessageSanitizers(s,{updateStats:!1}),t=e.accepted,r=e.rejectDetails,n=e.okTillQuorum;t?o="public":n?(o="candidate",a=r):(o="private",a=r)}return{url:t,state:o,comment:a||""}}catch(e){return m.default.error(e),{url:t,state:"error",explanation:`error: ${e}`}}}));return function(t){return e.apply(this,arguments)}}()))).sort((e,t)=>e.url<t.url)}))()},checkForEmail:e=>/[a-z0-9\-_@]+(@|%40|%(25)+40)[a-z0-9\-_]+\.[a-z0-9\-_]/i.test(e),checkForLongNumber:function(e,t){var r=e.replace(/[^A-Za-z0-9]/g,""),n=0,i=0,s=null;for(let e=0;e<r.length;e++)r[e]>="0"&&r[e]<="9"?n+=1:n>i?(i=n,s=e,n=0):n=0;return n>i?(i=n,s=r.length,n=0):n=0,null!=s&&i>t?r.slice(s-i,s):null},checkURL:(e,t,r)=>j.contentExtractor.checkURL(e,t,r),isSearchEngineUrl:e=>j.contentExtractor.isSearchEngineUrl(e),aggregateMetrics:function(e,t){var r={cp:0,mm:0,kp:0,sc:0,md:0};j.debug&&P("aggregates: "+JSON.stringify(e)+JSON.stringify(t));for(var n=Object.keys(r),i=0;i<n.length;i++)r[n[i]]=e[n[i]]+t[n[i]];return j.debug&&P("aggregates: "+JSON.stringify(r)),r},isSuspiciousTitle:function(e){if(e.length>500)return!0;for(var t=e.split(" "),r=0;r<t.length;r++){if(t[r].length>j.rel_segment_len)if((n=t[r].replace(/[^A-Za-z0-9]/g,"")).length>j.rel_segment_len){if(j.isHash(n))return!0;if(j.isHashProb(n.toLowerCase())<1.5*j.probHashThreshold)return!0}var n=t[r].replace(/[^A-Za-z0-9]/g,"");if(null!=j.checkForLongNumber(n,8))return!0;if(j.checkForEmail(n))return!0;if(/<[^<]+>/.test(n))return!0}return null!=j.checkForLongNumber(e,8)||(!!j.checkForEmail(e)||!!/<[^<]+>/.test(e))},auxProbString:function(e,t,r,n){if(e[1]==r)return 1;var i=0;for(let g=e.length-1;g>1;g--)if(0!=e[g]){var s=(e[g-1]+1)*t,o=e.slice();o[g]-=1,o[g-1]+=1;var a=o.join("-");n[a]||(n[a]=j.auxProbString(o,t,r,n)),i+=1*s*n[a]}return i},probString:function(e){var t={};for(let r=0;r<e.length;r++)t[e[r]]=(t[e[r]]||0)+1;var r=Object.keys(t),n=1/r.length,i=(e.length,r.length,[]);for(let t=0;t<e.length+1;t++)i[t]=0;var s=0,o=0;for(let e=0;e<r.length+1;e++){var a=t[r[e]];a>0&&(i[t[r[e]]]+=1,s+=1,a>o&&(o=a))}i=i.slice(0,o+1);return j.auxProbString(i,n,s,{})},isHashProb:function(e){var t=0,r=0;e=e.replace(/[^A-Za-z0-9]/g,"");for(var n=0;n<e.length-1;n++){var i=j.probHashChars[e[n]],s=j.probHashChars[e[n+1]];i&&s&&(t+=j.probHashLogM[i][s],r+=1)}return r>0?Math.exp(t/r):Math.exp(t)},isHash:function(e){return j.isHashProb(e)<j.probHashThreshold},incrActiveUsage:function(){let e=j.getTime();j.activeUsage.hasOwnProperty(e)||(j.activeUsage[e]=0),j.activeUsage[e]+=1,j.db.saveRecordTelemetry("activeUsage",JSON.stringify(j.activeUsage),e=>{P("Active usage stats saved:",e)})},checkActiveUsage:function(){if(parseInt(((new Date).getTime()-j.activeUsageLastSent)/1e3)>3600){Object.keys(j.activeUsage).forEach(e=>{j.activeUsage[e]>j.activeUsageThreshold&&e!=j.getTime()&&(j.sendAliveMessage(e),delete j.activeUsage[e],j.db.saveRecordTelemetry("activeUsage",JSON.stringify(j.activeUsage),e=>{P("Active usage stats saved:",e)}),j.saveActiveUsageTime())})}},sendAliveMessage:function(e){const t={status:!0,t:e,ctry:j.getCountryCode()};P(`Sending alive message for the hour: ${e} , ${JSON.stringify(t)}`),j.telemetry({type:j.msgType,action:"alive",payload:t})},loadActionStats:function(){j.db.loadRecordTelemetry("actionStats",(function(e){if(null==e)P("There was no data on action stats"),j.actionStats={};else try{j.actionStats=JSON.parse(e)}catch(e){j.actionStats={}}}))},loadActionStatsLastSent:function(){j.db.loadRecordTelemetry("actionStats_last_send",(function(e){null==e?(P("There was no data on CliqzHumanWeb.actionstats"),j.actionStatsLastSent=j.getTime().slice(0,8),j.saveActionStatsLastSent()):j.actionStatsLastSent=e}))},incrActionStats:function(e){j.actionStats&&(null==j.actionStats[e]&&(j.actionStats[e]=0),null==j.actionStats.total&&(j.actionStats.total=0),j.actionStats[e]++,j.actionStats.total++)},saveActionStats:function(){j.actionStats&&Object.keys(j.actionStats).length>0&&j.db.saveRecordTelemetry("actionStats",JSON.stringify(j.actionStats),e=>{P("actionStats saved")})},saveActiveUsageTime:function(){let e=(new Date).getTime();j.db.saveRecordTelemetry("activeUsageLastSent",e,t=>{j.activeUsageLastSent=e,P(`Active usage last sent as ${e}`)})},sendActionStats:function(){var e;j.actionStats&&Object.keys(j.actionStats).length>0&&(e={data:j.actionStats},j.telemetry({type:j.msgType,action:"hw.telemetry.actionstats",payload:e}),j.actionStats={},j.saveActionStats())},saveActionStatsLastSent:function(){j.db.saveRecordTelemetry("actionStats_last_send",j.actionStatsLastSent,e=>{P("actionStats_last_send saved:",e)})},saveStrictQueries:function(){P("Saving local table"),j.db.saveRecordTelemetry("localStrictQueries",JSON.stringify(j.strictQueries),e=>{P("localStrictQueries saved:",e)})},sendActionStatsIfNeeded:function(){var e=j.getTime().slice(0,8);e!=j.actionStatsLastSent&&(j.actionStatsLastSent=e,j.saveActionStatsLastSent(),j.sendActionStats())},dumpBloomFilter:function(){var e=[].slice.call(j.bloomFilter.buckets);e&&j.db.saveRecordTelemetry("bf",e.join("|"),e=>{P("bloom filter saved:",e)})},loadBloomFilter:function(){j.db.loadRecordTelemetry("bf",(function(e){if(null==e)P("There was no data on CliqzHumanWeb.bf"),j.bloomFilter=new i.default(Array(500001).join("0"),7);else{var t=e.split("|").map(Number);j.bloomFilter=new i.default(t,7)}}))},loadStrictQueries:function(){j.db.loadRecordTelemetry("localStrictQueries",(function(e){null==e||0==e.length?(P("There was no data on CliqzHumanWeb.bf"),j.strictQueries=[]):j.strictQueries=JSON.parse(e)}))},auxGetQuery:function(){j.strictQueries.forEach((function(e,t){Date.now()-e.ts>60*e.tDiff*1e3&&(j.auxGetPageData(e.qurl,null,e.qurl,(function(e,t,r,n){let i=j.docCache[e].doc;j.checkURL(i,e,"strict")}),(function(e,t,r,n){P("Error aux>>>> "+n)})),j.strictQueries.splice(t,1),j.saveStrictQueries())}))},isSuspiciousQuery:function(e){if(e.length>50)return!0;if(e.split(" ").length>7)return!0;if(null!=j.checkForLongNumber(e,7))return!0;if(j.checkForEmail(e))return!0;if(/[^:]+:[^@]+@/.test(e))return!0;var t=e.split(" ");for(let e=0;e<t.length;e++){if(t[e].length>20)return!0;if(/[^:]+:[^@]+@/.test(t[e]))return!0}if(e.length>12){var r=e.replace(/[^A-Za-z0-9]/g,"");if(r.length>12)if(j.isHashProb(r)<1.5*j.probHashThreshold)return!0}return!1},sanitizeResultTelemetry:function(e){if(j&&0===j.counter)return Promise.reject("HumanWeb not initialized");const t=e.msg;e.type;let r=e.q,n=null,i=t.u;const o=(0,A.getDetailsFromUrl)(i).host;if(!r||0==r.length)return P("No Query"),Promise.reject("No Query");j.isSuspiciousQuery(r)&&(P("Query is suspicious"),n="(PROTECTED)");let a=(0,y.parseURL)(r),g=!1;if(!a||"http"!==a.protocol&&"https"!==a.protocol&&"www"!==a.protocol||(g=!0),g&&(j.isSuspiciousURL(r)||j.dropLongURL(r))&&(P("Query is dangerous"),n="(PROTECTED)"),o.length>0&&i&&i.length>0){if(!j.bloomFilter)return Promise.reject("Bloom filter not initialized");return j.bloomFilter.testSingle((0,s.default)(i))?(P("Url is already marked private"),Promise.reject("Url is already marked private")):(j.isSuspiciousURL(i)&&(P("Url is suspicious"),i="(PROTECTED)"),j.dropLongURL(i,{strict:!0})&&(i=j.contentExtractor.isSearchEngineUrl(i)?j.maskURL(i):"(PROTECTED)"),Promise.resolve().then(()=>{let t,s=(0,y.parseURL)(i);return t=s&&s.hostname?j.maskURL(i):"(PROTECTED)",i===r&&(t=n="(PROTECTED)"),n&&(r=n,t=n),{query:r,url:t,data:e}}))}return-1===r.indexOf(" ")&&r.indexOf(".")>-1?j.network.isHostNamePrivate(r).then(t=>(t&&(P("Private Domain"),n="(PROTECTED)"),n&&(r=n),{query:r,url:null,data:e})):(n&&(r=n),Promise.resolve({query:r,url:null,data:e}))},sendResultTelemetry:function(e,t,r){const n=encodeURIComponent(e)+(r.msg.a?"&a="+encodeURIComponent(r.msg.a):"")+"&i="+r.msg.i+(t?"&u="+encodeURIComponent(t):"")+r.s+r.msg.o+(r.msg.e?"&e="+r.msg.e:""),i=r.endpoint+n;(0,g.httpGet)(i)},validFrameCount:function(e,t){return null!=e.nifsh&&null!=t.nifsh&&e.nifsh==t.nifsh||(P("fovalidDoubleFetch: number of internal iframes does not match"),!1)},validFrameSetCount:function(e,t){return null!=e.nfsh&&null!=t.nfsh&&e.nfsh==t.nfsh||(P("fovalidDoubleFetch: number of internal frameset does not match"),!1)},performQC:function(e){if("page"===e.action){let t=(0,y.parseURL)(e.payload.url);if(!e.payload.qr||"cl"!==e.payload.qr.t&&"othr"!==e.payload.qr.t){if(!e.payload.qr&&(t&&t.path.length>1||t.query_string&&1==t.path.length&&t.query_string.length>1))return!0}else if(t&&t.path.length>1||t.query_string&&1==t.path.length&&t.query_string.length>1)return!0}return!1},safeQuorumCheck:e=>T((function*(){if(!j.performQC(e))return P("Perform QC: quorum check not needed"),!0;P("Perform QC: quorum confirmation required");const t=yield j.sha1(e.payload.url);return yield j.sendQuorumIncrement(t),yield j.getQuorumConsent(t)}))(),initWorker:function(){j.rushaWorker||(j.rushaWorker=new w.default(`${C.default.baseURL}human-web/rusha.bundle.js`),j.rushaCallbacks=new Map,j.rushaWorker.onmessage=e=>{let t=e.data;const r=t.id,n=t.error,i=t.hash,s=j.rushaCallbacks.get(r),o=s.resolve,a=s.reject;j.rushaCallbacks.delete(r),n?a(n):o(i)})},sha1:function(e){return v.isEdge?(j.initWorker(),new Promise((t,r)=>{const n=Math.random()*Math.pow(2,53);j.rushaCallbacks.set(n,{resolve:t,reject:r}),j.rushaWorker.postMessage({id:n,data:(0,k.toUTF8)(e)})})):(0,o.sha1)(e)},sendQuorumIncrement:function(e){return new Promise((t,r)=>{j.isPageVisitedQuorumBloomFilter(e).then(r=>{if(P("Page already visited: "+r),!r){let t=`?hu=${e}&oc=${j.oc}`,r=`${j.SAFE_QUORUM_ENDPOINT}incrquorum`;return j.hpn.action("sendInstantMessage",r,t)}t(e)}).then(j.setPageVisitQuorumBloomFilter(e)).then(()=>t(e)).catch(e=>{P("Error while sending send quorum increment"+e),r("quorumincr")})})},getQuorumConsent:e=>T((function*(){const t="?hu="+e,r=j.SAFE_QUORUM_ENDPOINT+"checkquorum",n=yield j.hpn.action("sendInstantMessage",r,t);if(!0!==n&&!1!==n)throw new Error(`Got unexpected result from quorum server: ${n}`);return n}))(),registerQuorumBloomFilters:function(){return new Promise((e,t)=>{let r=j.getTime().slice(0,8);if(-1===Object.keys(j.quorumBloomFilters).indexOf(r)){P("Need to create quorum bloom filter for: "+r);let e=1e4,t=new i.default(Array(e).join("0"),7);j.quorumBloomFilters[r]=t}e(j.quorumBloomFilters[r])})},setPageVisitQuorumBloomFilter:function(e){j.registerQuorumBloomFilters().then(t=>{t&&(t.addSingle(e),j.dumpQuorumBloomFilter(),Promise.resolve(!0))})},isPageVisitedQuorumBloomFilter:function(e){return new Promise((t,r)=>{Object.keys(j.quorumBloomFilters).forEach(r=>{j.quorumBloomFilters[r].testSingle(e)&&t(!0)}),t(!1)})},dumpQuorumBloomFilter:function(){let e={};Object.keys(j.quorumBloomFilters).forEach(t=>{let r=[].slice.call(j.quorumBloomFilters[t].buckets);e[t]=r.join("|")}),j.db.saveRecordTelemetry("quorumbf",JSON.stringify(e),e=>{P("quorum bloom filter saved:",e)})},loadQuorumBloomFilter:function(){j.db.loadRecordTelemetry("quorumbf",(function(e){if(e){let t=JSON.parse(e);P("Loading quorum bloom filter"),Object.keys(t).forEach(e=>{let r=t[e].split("|").map(Number),n=new i.default(r,7);j.quorumBloomFilters[e]=n})}}))},expireQuorumBloomFilter:function(){let e=j.getTime().slice(0,8),t=new Date(e.slice(0,4),e.slice(4,6)-1,e.slice(6,8));Object.keys(j.quorumBloomFilters).forEach(e=>{let r=new Date(e.slice(0,4),e.slice(4,6)-1,e.slice(6,8));t-r>j.keyExpire&&delete j.quorumBloomFilters[e]}),j.dumpQuorumBloomFilter()},fetchSafeQuorumConfig:()=>T((function*(){try{const e=yield(0,g.fetch)(j.SAFE_QUORUM_PROVIDER);if(!e.ok)throw new Error(e.statusText);const t=yield e.json();j&&(j.keyExpire=864e5*t.expiry,j.oc=t.oc,j.quorumThreshold=t.threshold,j.loadedQuorumConfig=!0)}catch(e){P("Error loading config.",e)}}))(),getCountryCode:function(){let e=b.default.get("config_location",null);return j.sanitizeCounrtyCode(e)},getTS:function(){try{return b.default.get("config_ts","--")}catch(e){return null}},sanitizeCounrtyCode:function(e){let t=e;return-1===E.indexOf(t)&&(t="--"),t},getQuorumCheckOtherUrls:function(e){let t=[],r={};if(e.payload.x.canonical_url&&!e.payload.qr||e.payload.x.canonical_url&&e.payload.qr&&("cl"===e.payload.qr.t||"othr"===e.payload.qr.t)){let n=e.payload.x.canonical_url,i=(0,y.parseURL)(n);(i&&i.path.length>1||i.query_string&&1==i.path.length&&i.query_string.length>1)&&(r[t.length]={t:"canonical",url:n},t.push(n))}if(e.payload.ref){let n=e.payload.ref,i=(0,y.parseURL)(n);(i&&i.path.length>1||i.query_string&&1==i.path.length&&i.query_string.length>1)&&(r[t.length]={t:"ref",url:n},t.push(n))}return e.payload.red&&e.payload.red.forEach((e,n)=>{if(e){let i=e,s=(0,y.parseURL)(i);(s&&s.path.length>1||s.query_string&&1==s.path.length&&s.query_string.length>1)&&(r[t.length]={t:"red:"+n,url:i},t.push(i))}}),{u:t,up:r}},quorumCheckOtherUrls:function(e){return new Promise((t,r)=>{if("page"===e.action){var n,i,s=j.getQuorumCheckOtherUrls(e);n=s.u,i=s.up,P("All urls in the message:"+JSON.stringify(n)),P("All urls in the message:"+JSON.stringify(i)),Promise.all(n.map(j.sha1)).then(n=>{P(JSON.stringify(n)),Promise.all(n.map(j.getQuorumConsent)).then(r=>{P(JSON.stringify(r)),r.forEach((t,r)=>{let n=i[r];if("canonical"===n.t&&(t||(e.payload.x.canonical_url=j.maskURLStrict(n.url))),"ref"===n.t&&(t||(e.payload.ref=j.maskURLStrict(n.url))),n.t.startsWith("red")){let r=n.t.split(":")[1];t||(e.payload.red[r]=j.maskURLStrict(n.url))}}),P("All urls in the message:"+JSON.stringify(e)),t(e)}).catch(e=>{r("Error in getQuorumConsent")})}).catch(e=>r("Error in sha1"))}else t(e)})},addURLtoDB(e,t,r){var n=(new Date).getTime();if(!j.contentExtractor.isSearchEngineUrl(e)){var i=1,s=!1;j.isAlreadyMarkedPrivate(e,(function(e){e?1==e.private?s=!0:i=0:r.ft=!0})),j.db.getURL(e,(function(o){if(P(">>>>> Add url to dbobj"+o.length+s),s||0!==o.length){if(1===o.length){P(">>>>> Add url to dbobj found record"+JSON.stringify(o));let t,i=o[0];P(i),t="string"==typeof i.payload?JSON.parse(i.payload).e:i.payload.e;var a=r.e;r.e=j.aggregateMetrics(t,a);var g=i;g.last_visit=n,g.payload=r||{},j.db.updateURL(e,g,(function(){P("Record updated")})),r.e={cp:0,mm:0,kp:0,sc:0,md:0}}}else{var A=!1,u={};if(u.url=e,u.ref=t,u.last_visit=n,u.first_visit=n,u.ft=i,u.payload=r||{},null==r.x){A=!0,P("Setting private because empty page data")}else if(j.isSuspiciousURL(e)){A=!0,P("Setting private because suspiciousURL")}else if(j.httpCache401[e]){A=!0,P("Setting private because of 401")}else{A=!1}P(">>>>> lets save >>> "+JSON.stringify(u)),j.db.saveURL(e,u,(function(){j.debug&&P("Insertion success add urltoDB"),A&&j.setAsPrivate(e)}))}}))}},setAsPrivate:function(e){j.bloomFilter&&j.bloomFilter.addSingle((0,s.default)(e).substring(0,16)),j.db.removeUnsafe(e,t=>{P(`Deleting ${e} : ${t}`)}),j.state.v[e]&&delete j.state.v[e],j.dumpBloomFilter(),j.incrActionStats("mp")},setAsPublic:function(e){j.db.removeUnsafe(e,t=>{P(`Deleting ${e} : ${t}`)}),j.state.v[e]&&delete j.state.v[e]},listOfUnchecked:function(e,t,r,n){j.db.getListOfUnchecked(e,t,r,(e,t)=>{n(e)})},processUnchecks:function(e){P(">>> URLS UNPROCESSED >>> "+JSON.stringify(e));for(var t={},r=0;r<e.length;r++){var n=e[r][0],i=e[r][1],s=i.x;t[n]=i,j.log("Going for double fetch (url:",n,", page_doc:",i,", page_struct_before:",s,")"),j.db.loadRecordTelemetry("last-double-fetch",(function(e){var r=null;if(null==e)r={url:n,count:1};else if((r=JSON.parse(e)).url!=n)r={url:n,count:1};else try{r.count+=1}catch(e){r.count=1}P(">>>>> DOUBLE FETCH COUNT >>> "+JSON.stringify(r)),j.db.saveRecordTelemetry("last-double-fetch",JSON.stringify(r),e=>{P("last-double-fetch saved:",e)}),r.count>j.MAX_NUMBER_DOUBLEFETCH_ATTEMPS?j.setAsPrivate(n):j.doubleFetch(n,t[n])}))}},detectAdClick(e){if(e.includes("google")&&e.includes("aclk?")){const t=(0,c.normalizeAclkUrl)(e);if(P("ad-ctr: targetURL:",e,"normalized to",t),j.adDetails[t]){let e=j.adDetails[t].query;j.isSuspiciousQuery(e)&&(e=" (PROTECTED) ");const r=function(e,t){let r=t,n=(0,y.parseURL)(t);return n&&n.hostname&&-1===n.hostname.indexOf("google")&&-1===n.path.indexOf("aclk?")?r=n.hostname:e&&(r=e.indexOf(",")>-1?e.split(",")[0]:e),r}(j.adDetails[t].furl[0],j.adDetails[t].furl[1]),n={action:"ad-ctr","anti-duplicates":Math.floor(1e7*(0,a.default)()),type:"humanweb",channel:j.CHANNEL,payload:{query:e,domain:r,ctry:j.getCountryCode()}};P("ad-ctr payload:",n),j.telemetry(n)}}},purgeAdLookUp:function(){let e=Date.now();Object.keys(j.adDetails).forEach(t=>{let r=j.adDetails[t].ts;(e-r)/6e4>15&&delete j.adDetails[t]})},addStrictQueries(e,t){if(!t)return void P(">> Got an undefined query >>> "+e);if(j.isSuspiciousQuery(t))return void P("Dropping suspicious query before double-fetch:",t);const r=j.contentExtractor.checkAnonSearchURL(e,t),n=r.isSearchEngineUrl,i=r.queryUrl;if(n)try{const e={qurl:i,ts:Date.now(),tDiff:x(1,20)};j.strictQueries.push(e),j.saveStrictQueries()}catch(e){m.default.error("Failed to add query:",e)}}};j.contentExtractor=new p.ContentExtractor(j);var R=j;t.default=R},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=s;var n,i=(n=r(81))&&n.__esModule?n:{default:n};
/*!
 * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */
function s(e,t){let r=32*e.length;const n=e.length;let i=-1;r=32*n,this.m=r,this.k=t;const s=1<<Math.ceil(Math.log(Math.ceil(Math.log(r)/Math.LN2/8))/Math.LN2);let o;o=1===s?Uint8Array:2===s?Uint16Array:Uint32Array;const a=new ArrayBuffer(s*t);this.buckets=new Int32Array(n);const g=this.buckets;for(;i<n-1;)g[i+=1]=e[i];this._locations=new o(a)}s.prototype.locations=function(e,t){const r=this.k,n=this.m,i=this._locations;e=parseInt(e,16),t=parseInt(t,16);let s=e%n;for(let e=0;e<r;e+=1)i[e]=s<0?s+n:s,s=(s+t)%n;return i},s.prototype.test=function(e,t){const r=this.locations(e,t),n=this.k,i=this.buckets;for(let e=0;e<n;e+=1){const t=r[e];if(0==(i[Math.floor(t/32)]&1<<t%32))return!1}return!0},s.prototype.testSingle=function(e){const t=(0,i.default)(e),r=t.substring(0,8),n=t.substring(8,16);return this.test(r,n)},s.prototype.add=function(e,t){const r=this.locations(e,t),n=this.k,i=this.buckets;for(let e=0;e<n;e+=1)i[Math.floor(r[e]/32)]|=1<<r[e]%32},s.prototype.addSingle=function(e){const t=(0,i.default)(e),r=t.substring(0,8),n=t.substring(8,16);return this.add(r,n)},s.prototype.update=function(e){let t=32*e.length;const r=e.length;let n=-1;if(t=32*r,this.m!==t)throw new Error("Bloom filter can only be updated with same length");for(;n<r-1;)n+=1,this.buckets[n]|=e[n]}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(112);
/*!
 * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */t.default=class{constructor(e){this.buffer=new Uint8Array(e),this.pos=0}seek(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.pos=e}crop(){return this.buffer.subarray(0,this.pos)}set(e){this.buffer=new Uint8Array(e),this.seek(0)}pushBytes(e){this.checkShouldResize(e.byteLength),this.buffer.set(e,this.pos),this.pos+=e.byteLength}pushByte(e){this.pushUint8(e)}pushUint8(e){this.checkShouldResize(1),this.buffer[this.pos]=e,this.pos+=1}pushUint16(e){this.checkShouldResize(2),this.buffer[this.pos]=e>>>8,this.buffer[this.pos+1]=e,this.pos+=2}pushUint32(e){this.checkShouldResize(4),this.buffer[this.pos]=e>>>24,this.buffer[this.pos+1]=e>>>16,this.buffer[this.pos+2]=e>>>8,this.buffer[this.pos+3]=e,this.pos+=4}pushUTF8(e){const t=(0,n.toUTF8)(e);this.pushUint16(t.byteLength),this.pushBytes(t)}pushStr(e){const t=this.pos;let r=!1;this.checkShouldResize(2+e.length),this.pushUint16(e.length);const n=this.pos,i=this.buffer;for(let t=0;t<e.length&&!r;t+=1){const s=e.charCodeAt(t);i[n+t]=s,r=r||s>127}r?(this.pos=t,this.pushUTF8(e)):this.pos+=e.length}getBytes(e){const t=this.buffer.subarray(this.pos,this.pos+e);return this.pos+=e,t}getByte(){return this.getUint8()}getUint8(){const e=this.buffer[this.pos];return this.pos+=1,e}getUint16(){const e=(this.buffer[this.pos]<<8|this.buffer[this.pos+1])>>>0;return this.pos+=2,e}getUint32(){const e=(this.buffer[this.pos]<<24>>>0)+(this.buffer[this.pos+1]<<16|this.buffer[this.pos+2]<<8|this.buffer[this.pos+3])>>>0;return this.pos+=4,e}getUTF8(){return(0,n.fromUTF8)(this.getBytes(this.getUint16()))}getStr(){const e=this.pos,t=this.getUint16();let r=0;for(;r<t&&this.buffer[this.pos+r]<=127;r+=1);return r<t?(this.pos=e,this.getUTF8()):String.fromCharCode.apply(null,this.getBytes(t))}checkShouldResize(e){this.pos+e>=this.buffer.byteLength&&this.resize(e)}resize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;const t=new Uint8Array(Math.floor(1.5*(this.pos+e)));t.set(this.buffer),this.buffer=t}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;
/*!
 * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */
const n={VERSION:"0.1",set:(e,t,r,n)=>{const i={};i[`${e}:${t}`]=r,chrome.storage.local.set(i,n)},get:(e,t,r)=>{if("function"==typeof t)chrome.storage.local.get(null,n=>{const i=[];Object.keys(n).forEach(r=>{r.startsWith(e)&&t(n[r])&&i.push(n[r])}),r(i)});else{const n=`${e}:${t}`;chrome.storage.local.get(n,e=>{r(e[n])})}},remove:(e,t,r)=>{if("function"==typeof t)chrome.storage.local.get(null,n=>{const i=[];Object.keys(n).forEach(r=>{if(r.startsWith(e)&&t(n[r])){const t=`${e}:${r}`;i.push(t)}}),chrome.storage.local.remove(i,r)});else{const n=`${e}:${t}`;chrome.storage.local.remove(n,r)}},size:e=>{chrome.storage.local.getBytesInUse(null,t=>{const r=[t,t/chrome.storage.local.QUOTA_BYTES];(void 0).CliqzHumanWeb.log("Current size: ",r[0],r[1]),e&&e(r)})},removeEverything:()=>{chrome.storage.local.clear(),(void 0).dbConn.size()}};t.default=class{constructor(e){this.CliqzHumanWeb=e,this.dbConn=n}init(){return Promise.resolve(this.dbConn)}asyncClose(){return Promise.resolve()}getDBConn(){return this.dbConn}saveRecordTelemetry(e,t,r){this.dbConn.set("telemetry",e,t,r)}loadRecordTelemetry(e,t){this.dbConn.get("telemetry",e,e=>{t(e||null)})}deleteVisit(){}clearHistory(){}getListOfUnchecked(e,t,r,n){const i=(new Date).getTime();null==r?this.dbConn.get("usafe",e=>{let r=null;if((r="string"==typeof e?JSON.parse(e):e).last_visit<i-1e3*t)return!0},t=>{t&&0!==t.length||n([],null),t=t.splice(0,e);const r=[];t.forEach(e=>{let t=null;t="string"==typeof e?JSON.parse(e):e,r.push([t.url,t.payload])}),n(r.splice(0,e),null)}):this.dbConn.get("usafe",r,r=>{let s=null;if(s="string"==typeof r?JSON.parse(r):r)if(s.last_visit<i-1e3*t){const t=[];t.push([s.url,s.payload]),n(t.splice(0,e),null)}else n([],null);else n([],null)})}saveURL(e,t,r){const n=JSON.stringify(t);this.dbConn.set("usafe",e,n,()=>{r()})}updateURL(e,t,r){const n=JSON.stringify(t);this.dbConn.set("usafe",e,n,()=>{r()})}getURL(e,t){this.dbConn.get("usafe",e,e=>{if(e&&"undefined"!==e){let r=null;r="string"==typeof e?JSON.parse(e):e,t([r])}else t([])})}removeUnsafe(e,t){this.dbConn.remove("usafe",e,()=>{t(!0)})}}},function(e,t,r){"use strict";
/*!
 * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */
function n(){return new Promise((e,t)=>{try{const t=[];chrome.windows.getAll({populate:!0},r=>{r.forEach(e=>{e.tabs.forEach(e=>{t.push(e.url)})}),e(t)})}catch(e){t(e)}})}Object.defineProperty(t,"__esModule",{value:!0}),t.getAllOpenPages=n,t.default=void 0;var i=n;t.default=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(462),i=r(73),s=function(e){if(e&&e.__esModule)return e;var t=u();if(t&&t.has(e))return t.get(e);var r={};if(null!=e){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var s=n?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(r,i,s):r[i]=e[i]}}r.default=e,t&&t.set(e,r);return r}
/*!
 * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */(r(33)),o=A(r(156)),a=r(279),g=A(r(44));function A(e){return e&&e.__esModule?e:{default:e}}function u(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return u=function(){return e},e}const I={DISABLED:"DISABLED",INITIALIZING:"INITIALIZING",READY:"READY"};t.default=class{constructor(){let e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).onHostnameResolved,t=void 0===e?()=>{}:e;this._onHostnameResolved=t,this.maxDoubleFetchSize=2097152,this.zombieRequestTimelimitMs=6e5,this._pendingRequests=[],this._pendingInit=Promise.resolve(),this._setState(I.DISABLED),this._webRequestPipeline=s.default.module("webrequest-pipeline"),this._stats={callsToAnonymousHttpGet:0,httpRequests:{started:0,finished:0},rejected:{doubleFetchDisabled:0,exceededSizeLimit:0},allowDoublefetch:0,redirectsFollowed:0,errors:{inconsistentStateDetected:0,danglingEntryFound:0},matchDetails:{noMatch:0,perfectMatch:0,relaxedMatch:0},strippedHeaders:0,populatedDnsMappings:0}}anonymousHttpGet(e){this._stats.callsToAnonymousHttpGet+=1;return this._pendingInit.catch(e=>{o.default.debug("Previous request failed (error: ",e||"<missing>","). Ignore and continue...")}).then(()=>{const t=new Date;if(this._purgeObsoleteRequests(t),this._state===I.DISABLED)return this._stats.rejected.doubleFetchDisabled+=1,Promise.reject(new Error(`doublefetch disabled: skipping request to fetch ${e}`));const r={ts:t,url:e,originalUrl:e};this._pendingRequests.push(r),o.default.debug("doublefetch: pending requests",this._pendingRequests.length),this._stats.httpRequests.started+=1;const n=this._makeRequestAndWaitForHandlers(e,r);return r.requestPromise=n,n.catch(o.default.debug).then(()=>{const e=new Date-t;o.default.debug(`doublefetch for ${r.url} completed after ${e/1e3} seconds.`),this._stats.httpRequests.finished+=1;const n=this._pendingRequests.indexOf(r);-1!==n?this._pendingRequests.splice(n,1):e<this.zombieRequestTimelimitMs&&(o.default.error(`_pendingRequests is in an inconsistent state (url=${r.url}).`),this._stats.errors.inconsistentStateDetected+=1)}),n})}_correlatePendingDoublefetchRequest(e){const t=this._findPendingDoublefetchRequest(e);return t&&!t.requestId&&(t.requestId=e.requestId),t}_findPendingDoublefetchRequest(e){const t=[];var r=!0,n=!1,s=void 0;try{for(var o,a=this._pendingRequests[Symbol.iterator]();!(r=(o=a.next()).done);r=!0){const r=o.value;if(r.requestId){if(r.requestId===e.requestId)return r}else t.push(r)}}catch(e){n=!0,s=e}finally{try{r||null==a.return||a.return()}finally{if(n)throw s}}if(!e.tabId||-1!==e.tabId)return null;const g=t.filter(t=>(0,i.equals)(e.url,t.url));if(g.length>0)return this._stats.matchDetails.perfectMatch+=1,g[0];const A=e=>e.replace(/^https:\/\//,"http://"),u=t.filter(t=>(0,i.equals)(A(e.url),A(t.url)));return u.length>0?(this._stats.matchDetails.relaxedMatch+=1,u[0]):(this._stats.matchDetails.noMatch+=1,null)}_purgeObsoleteRequests(e){for(;this._pendingRequests.length>0&&e-this._pendingRequests[0].ts>this.zombieRequestTimelimitMs;)o.default.error(`doublefetch for url ${this._pendingRequests[0].url} was not cleaned up after ${this.zombieRequestTimelimitMs} ms.`),this._stats.errors.danglingEntryFound+=1,this._pendingRequests.shift()}_createOnBeforeSendHeadersHandler(){const e=["cookie","origin"];return{name:"human-web.stripSensitiveHeadersInDoublefetch",spec:"blocking",fn:(t,r)=>{this._correlatePendingDoublefetchRequest(t)&&(r.requestHeaders=t.requestHeaders.filter(t=>!function(t){const r=t.name.toLowerCase();return!!e.includes(r.toLowerCase())||!!r.startsWith("x-")}(t)),r.requestHeaders.length!==t.requestHeaders.length&&(this._stats.strippedHeaders+=1))}}}_createOnHeadersReceivedHandler(){return{name:"human-web.preventExpensiveDoublefetchRequests",spec:"blocking",fn:(e,t)=>{const r=this._correlatePendingDoublefetchRequest(e);if(!r)return!0;const n=e.getResponseHeader("content-length");if(n&&n>this.maxDoubleFetchSize)return this._stats.rejected.exceededSizeLimit+=1,o.default.debug(`Response of ${e.url} exceeds limit of ${this.maxDoubleFetchSize} bytes. Aborting double fetch request.`),t.block(),!1;if(e.statusCode>=300&&e.statusCode<400){const t=e.getResponseHeader("location");if(t){this._stats.redirectsFollowed+=1;const e=t;r.url=e}}return this._stats.allowDoublefetch+=1,!0}}}_createOnCompletedHandler(){return{name:"human-web.cacheDnsResolution",spec:"blocking",fn:e=>{if(!e.ip)return;const t=this._correlatePendingDoublefetchRequest(e);if(!t)return;const r=(0,a.parseURL)(e.url);r?(this._onHostnameResolved(r.hostname,e.ip),this._stats.populatedDnsMappings+=1,o.default.debug("Learned new DNS resolution from doublefetch:",r.hostname," -> ",e.ip),t.onCompletedHandlerFinished()):o.default.error("Failed to parse url:",e)}}}init(){return this._pendingInit=this._pendingInit.catch(o.default.debug).then(()=>{if(this._state===I.INITIALIZING)throw new Error("Assertion failed: After all pending operation have finished, we must never end up in the INITIALIZING state");if(this._state===I.READY)return Promise.resolve();this._setState(I.INITIALIZING);const e=this._initPipeline().then(()=>{this._setState(I.READY)}).catch(e=>{o.default.error("Failed to initialize pipeline",e),this._setState(I.DISABLED)});return this._pendingInit=e,e}),this._pendingInit}unload(){this._state===I.INITIALIZING&&(this._pendingInit=this._pendingInit.then(()=>this.unload()).catch(o.default.error)),this._setState(I.DISABLED);const e=this._pendingInit.then(()=>Promise.all(this._pendingRequests.filter(e=>e.requestPromise).map(e=>e.requestPromise.catch(()=>{})))).then(()=>this._unloadPipeline()).then(()=>this._setState(I.DISABLED));return this._pendingInit=e.catch(o.default.error),e}_makeRequestAndWaitForHandlers(e,t){let r,i,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3e3,a=!0;const A=new Promise((n,A)=>{t.onCompletedHandlerFinished=()=>{a=!1,g.default.clearTimeout(i),i=void 0,n()},r=()=>{const t=`The request for url=${e} completed successfully, `+`but after waiting for ${s} ms, `+'the "onCompleted" handler still did not trigger.';o.default.warn(t),A(t)}});return(0,n.getRequest)(e).then(t=>(a&&(i=g.default.setTimeout(()=>{o.default.warn('Waiting for the "onCompleted" handler timed out for url',e),r()},s)),A.then(()=>t)))}_setState(e){e!==this._state&&(o.default.log(`changing state: ${this._state} => ${e}`),this._state=e)}_initPipeline(){if(this._onHeadersReceivedHandler)return Promise.resolve();const e=this._createOnBeforeSendHeadersHandler(),t=this._createOnHeadersReceivedHandler(),r=this._createOnCompletedHandler();return this._webRequestPipeline.isReady().then(()=>this._webRequestPipeline.action("addPipelineStep","onBeforeSendHeaders",e)).then(()=>{this._onBeforeSendHeadersHandler=e}).then(()=>this._webRequestPipeline.action("addPipelineStep","onHeadersReceived",t)).then(()=>{this._onHeadersReceivedHandler=t}).then(()=>this._webRequestPipeline.action("addPipelineStep","onCompleted",r)).then(()=>{this._onCompletedHandler=r})}_removePipelineStep(e,t){return e?(0,s.ifModuleEnabled)(this._webRequestPipeline.action("removePipelineStep",t,e.name)):Promise.resolve()}_unloadPipeline(){const e=(e,t)=>this[e]?this._removePipelineStep(this[e],t):Promise.resolve();return Promise.resolve().then(()=>e("_onBeforeSendHeadersHandler","onBeforeSendHeaders")).then(()=>e("_onHeadersReceivedHandler","onHeadersReceived")).then(()=>e("_onCompletedHandler","onCompleted")).then(()=>{this._onBeforeSendHeadersHandler=null,this._onHeadersReceivedHandler=null,this._onCompletedHandler=null})}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getRequest=s,t.default=void 0;var n=r(73),i=r(145);
/*!
 * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */
function s(e){return new Promise((t,r)=>{const s=fetch(e,{credentials:"omit",cache:"no-cache"}),o=new Promise((e,t)=>(0,i.setTimeout)(t,1e4,"timeout"));return Promise.race([o,s]).then(i=>{200!==i.status&&0!==i.status&&r(new Error(`status not valid: ${i.status}`)),(0,n.equals)(i.url,e)||(0,n.equals)(decodeURI(decodeURI(i.url)),decodeURI(decodeURI(e)))||r(new Error(`DANGER: ${e} != ${i.url}`)),i.text().then(e=>{t(e)})}).catch(e=>{r(e)})})}var o=s;t.default=o},function(e,t,r){"use strict";function n(e,t){return function(e){if(Array.isArray(e))return e}
/*!
 * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var r=[],n=!0,i=!1,s=void 0;try{for(var o,a=e[Symbol.iterator]();!(n=(o=a.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){i=!0,s=e}finally{try{n||null==a.return||a.return()}finally{if(i)throw s}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=class{constructor(){this._domain2IP=new Map,this.ttlInMs=3e5}resolveHost(e){const t=this._domain2IP.get(e);return t?Promise.resolve(t.ip):Promise.reject()}cacheDnsResolution(e,t){const r=new Date,n=new Date(+r+this.ttlInMs);this._domain2IP.set(e,{ip:t,ttl:n})}flushExpiredCacheEntries(){const e=new Date;var t=!0,r=!1,i=void 0;try{for(var s,o=this._domain2IP[Symbol.iterator]();!(t=(s=o.next()).done);t=!0){const t=n(s.value,2),r=t[0];t[1].ttl<=e&&this._domain2IP.delete(r)}}catch(e){r=!0,i=e}finally{try{t||null==o.return||o.return()}finally{if(r)throw i}}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(r(28)),i=a(r(156)),s=a(r(124)),o=a(r(44));function a(e){return e&&e.__esModule?e:{default:e}}
/*!
 * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */const g=36e5,A=6e4,u=3e3;t.default=class{constructor(e){this.updatePatternsDefaultIntervalInMs=g,this.updatePatternsRetryIntervalInMs=A,this.initTimeoutInMs=u,this.config={normal:{name:"patterns",chromeURL:`${n.default.baseURL}human-web/patterns.json`,remoteURL:n.default.settings.ENDPOINT_PATTERNSURL},strict:{name:"patterns-anon",chromeURL:`${n.default.baseURL}human-web/anonpatterns.json`,remoteURL:n.default.settings.ENDPOINT_ANONPATTERNSURL}},this.onUpdateCallback=e,this.resourceLoaders={},this._activeTimers=new Set}isLoaded(){return Object.keys(this.resourceLoaders).length>0}init(){if(this.isLoaded())return Promise.resolve();const e=Object.keys(this.config).map(e=>{const t=this.config[e],r=new s.default(["human-web",t.name],{chromeURL:t.chromeURL,remoteURL:t.remoteURL,cron:this.updatePatternsDefaultIntervalInMs,remoteOnly:!0});this.resourceLoaders[e]=r,r.onUpdate(t=>{i.default.debug(`Updating "${e}" content extraction patterns`),this.onUpdateCallback(t,e)});const n=r.load().then(t=>{this.onUpdateCallback(t,e)}).catch(t=>{i.default.error(`Failed to initialize "${e}" content extraction patterns: ${t}`);const n=o.default.setTimeout(()=>{i.default.debug(`Retry to update "${e}" content extraction patterns`),r.updateFromRemote({force:!0}).catch(()=>{}),this._activeTimers.delete(n)},this.updatePatternsRetryIntervalInMs);this._activeTimers.add(n)}),a=new Promise((e,t)=>{o.default.setTimeout(t,this.initTimeoutInMs)});return Promise.race([n,a]).catch(()=>{i.default.log(`WARNING: Timeout of ${this.initTimeoutInMs} ms exceeded `+`while initializing the "${e}" content extraction patterns`)})});return Promise.all(e)}unload(){return Object.keys(this.resourceLoaders).forEach(e=>this.resourceLoaders[e].stop()),this.resourceLoaders={},this._activeTimers.forEach(e=>{o.default.clearTimeout(e)}),this._activeTimers=new Set,Promise.resolve()}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseQueryString=g,t._jsonPath=I,t._mergeArr=C,t._allMandatoryFieldsSet=l,t.ContentExtractor=void 0;var n,i=(n=r(156))&&n.__esModule?n:{default:n},s=r(279),o=r(111);function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var r=[],n=!0,i=!1,s=void 0;try{for(var o,a=e[Symbol.iterator]();!(n=(o=a.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){i=!0,s=e}finally{try{n||null==a.return||a.return()}finally{if(i)throw s}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function g(e){if(0===e.length)return{};const t=e.replace(/;/g,"&").split("&"),r={};var n=!0,i=!1,s=void 0;try{for(var o,g=t[Symbol.iterator]();!(n=(o=g.next()).done);n=!0){const e=a(o.value.split("=",2),2),t=e[0],n=e[1],i=unescape(t);r[i]||(r[i]=[]),n?r[i].push(unescape(n)):r[i].push(!0)}}catch(e){i=!0,s=e}finally{try{n||null==g.return||g.return()}finally{if(i)throw s}}return r}function A(e,t,r){const n=e.split(t)[r];return n?decodeURIComponent(n):decodeURIComponent(e)}function u(e,t,r){const n=(0,s.parseURL)(e);if(n&&n.query_string){const i=g(n.query_string);return"qs"===t?i[r]?decodeURIComponent(i[r][0]):e:void 0}return e}function I(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];try{let g=JSON.parse(e);var n=!0,i=!1,s=void 0;try{for(var o,a=t.split(".")[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){g=g[o.value]}}catch(e){i=!0,s=e}finally{try{n||null==a.return||a.return()}finally{if(i)throw s}}return"string"==typeof g?g:"number"==typeof g||"boolean"==typeof g?g.toString():r&&g?JSON.stringify(g):""}catch(e){return""}}function C(e){const t=[],r=Object.keys(e),n=e[r[0]].length;for(let A=0;A<n;A+=1){const n={};var i=!0,s=!1,o=void 0;try{for(var a,g=r[Symbol.iterator]();!(i=(a=g.next()).done);i=!0){const t=a.value;n[t]=e[t][A]}}catch(e){s=!0,o=e}finally{try{i||null==g.return||g.return()}finally{if(s)throw o}}t.push(n)}return t}function l(e,t){function r(e){return null!=e&&""!==e}var n,i=!0,s=!1,o=void 0;try{for(var a,g=t[Symbol.iterator]();!(i=(a=g.next()).done);i=!0){const t=a.value,i=t.key,s=t.type,o=e[i];if(!r(o))return!1;if("array"===s&&(n=o,!Object.values(n).some(e=>Object.values(e).some(r))))return!1}}catch(e){s=!0,o=e}finally{try{i||null==g.return||g.return()}finally{if(s)throw o}}return!0}t.ContentExtractor=class{constructor(e){this._CliqzHumanWeb=e,this.msgType=e.msgType,this.patterns={normal:{searchEngines:[],rArray:[],extractRules:{},payloads:{},queryTemplate:{}},strict:{searchEngines:[],rArray:[],extractRules:{},payloads:{},queryTemplate:{}}},this.refineFuncMappings={splitF:A,parseU:u,maskU:e=>this._CliqzHumanWeb.maskURL(e),json:I},this._messageTemplate={}}updatePatterns(e,t){this.patterns[t]={searchEngines:e.searchEngines,extractRules:e.scrape,payloads:e.payloads,idMappings:e.idMapping,rArray:e.urlPatterns.map(e=>new RegExp(e)),queryTemplate:e.queryTemplate||{}},this._patternsLastUpdated=new Date,i.default.debug(`Successfully updated "${t}" patterns at ${this._patternsLastUpdated}`)}checkURL(e,t,r){const n=this.patterns[r],s=n.rArray,a=n.searchEngines;for(let n=0;n<s.length;n+=1)if(s[n].test(t)){const s=o.URLInfo.get(t).origin;if(this._extractContent(n,e,t,s,r),-1!==a.indexOf(String(n)))return;this._CliqzHumanWeb.debug&&i.default.debug("Continue further after search engines ")}}isSearchEngineUrl(e){return-1!==this._checkSearchURL(e,"normal")}_createAnonSearchQuery(e,t,r){let n=(this.patterns.strict.queryTemplate[String(r)]||{}).prefix;return void 0===n&&(n="search?q="),`https://${e}/${n}${t}`}checkAnonSearchURL(e,t){const r=this._checkSearchURL(e,"strict");if(-1===r)return{isSearchEngineUrl:!1};const n=(0,s.parseURL)(e).hostname,i=this._createAnonSearchQuery(n,t,r);if((0,s.parseURL)(i).hostname!==n)throw new Error("refusing to make a request to another host");return{isSearchEngineUrl:!0,queryUrl:i}}_checkSearchURL(e,t){const r=this.patterns[t],n=r.searchEngines,s=r.rArray;for(let r=0;r<s.length;r+=1)if(s[r].test(e))return-1!==n.indexOf(String(r))?r:(this._CliqzHumanWeb.debug&&i.default.debug(`Not search engine >>> url=${e}, i=${r}, searchEngines=${n}, ruleset=${t}`),-1);return-1}_extractContent(e,t,r,n,s){const o={},a=this.patterns[s],g=a.extractRules[e],A=a.payloads[e],u=a.idMappings[e];let I=[];for(var l=0,c=Object.keys(g);l<c.length;l++){const a=c[l],A={};for(var d=0,h=Object.keys(g[a]);d<h.length;d++){const e=h[d];if("standard"===g[a][e].type){if("url"===g[a][e].etype){let t=r;const n=g[a][e].functionsApplied||null;n&&(t=n.reduce((e,t)=>Object.prototype.hasOwnProperty.call(this.refineFuncMappings,t[0])?this.refineFuncMappings[t[0]](e,t[1],t[2]):e,t)),A[e]=[t]}"ctry"===g[a][e].etype&&(A[e]=[this._CliqzHumanWeb.getCountryCode()])}else"searchQuery"===g[a][e].type?(I=this._getAttribute(t,a,g[a][e].item,g[a][e].etype,g[a][e].keyName,g[a][e].functionsApplied||null,n),A[e]=I,"normal"===s&&(i.default.debug("Populating query Cache <<<< ",r," >>>> ",I[0]),this._CliqzHumanWeb.addStrictQueries(r,I[0]),this._CliqzHumanWeb.queryCache[r]={d:0,q:I[0],t:u})):(I=this._getAttribute(t,a,g[a][e].item,g[a][e].etype,g[a][e].keyName,g[a][e].functionsApplied||null,n),A[e]=I)}this._messageTemplate[e]?this._messageTemplate[e][a]=A:(this._messageTemplate[e]={},this._messageTemplate[e][a]=A);const f=C(this._messageTemplate[e][a]);f.length>0&&(o[a]=f)}for(var f=0,p=Object.keys(A||{});f<p.length;f++){const t=p[f];this._processExtractedData(o,e,t,s)}}_getAttribute(e,t,r,n,i,s,o){const a=[],g=Array.prototype.slice.call(e.querySelectorAll(t));for(let e=0;e<g.length;e+=1){const t=r?g[e].querySelector(r):g[e];if(t){let e;if("href"===n)try{const r=t.getAttribute(n);e=r?new URL(r,o).href:null}catch(t){e=null}else e=t[n]||t.getAttribute(n);s&&(e=s.reduce((e,t)=>Object.prototype.hasOwnProperty.call(this.refineFuncMappings,t[0])?this.refineFuncMappings[t[0]](e,t[1],t[2]):e,e)),a.push(e)}else a.push(t)}return a}_processExtractedData(e,t,r,n){let s;try{const o=this.patterns[n];if("single"===(s=o.payloads[t][r]).type&&"single"===s.results)e[r].forEach(e=>{e.ctry=this._CliqzHumanWeb.getCountryCode(),this._sendMessageIfAllFieldsAreSet(s,e)});else if("single"===s.type&&"custom"===s.results){const t={};s.fields.forEach(r=>{try{t[r[1]]=e[r[0]][0][r[1]]}catch(e){}this._sendMessageIfAllFieldsAreSet(s,t)})}else if("query"===s.type&&"clustered"===s.results){const t={};s.fields.forEach(r=>{const n=e[r[0]];if(void 0!==n)if(r.length>2)if("join"===r[2]){const e={};let i=0;for(let t=0;t<n.length;t+=1)Object.values(n[t]).some(e=>e)&&(e[String(i)]=n[t],i+=1);t[r[1]]=e}else i.default.warn("Ignoring rule with unexpected aggregator:",r);else t[r[1]]=n[0][r[1]]}),this._sendMessageIfAllFieldsAreSet(s,t)}else if("query"===s.type&&"scattered"===s.results){const t={};s.fields.forEach(r=>{if(r.length>2){const n={};let i=0;r[0].forEach(t=>{for(let r=0;r<e[t].length;r+=1)n[String(i)]=e[t][r],i+=1}),Object.keys(n).length>0&&(t[r[1]]=n)}else t[r[1]]=e[r[0]][0][r[1]]}),this._sendMessageIfAllFieldsAreSet(s,t)}}catch(t){this._CliqzHumanWeb.debug?i.default.warn("_processExtractedData failed (scrapeResults:",e,", key:",r,", ruleset:",n,", payloadRules:",s,", error:",t,")"):i.default.warn(`_processExtractedData failed: ${t}`)}}_sendMessageIfAllFieldsAreSet(e,t){l(t,e.fields.map(e=>{let t=a(e,3);return{key:t[1],type:"join"===t[2]?"array":"object"}}))&&this._CliqzHumanWeb.telemetry({type:this.msgType,action:e.action,payload:t}),this._messageTemplate={}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseHtml=a,t.getContentDocument=function(e){return function(e){return o.action("getHTML",e).then(t=>{if(t)return t;throw new Error(`Failed to get content for tab with url=${e}`)})}(e).then(a)};var n=s(r(33)),i=s(r(467));function s(e){return e&&e.__esModule?e:{default:e}}
/*!
 * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */const o=n.default.module("core");function a(e){return a.domParser||(a.domParser=(0,i.default)().then(e=>new e.DOMParser)),a.domParser.then(t=>t.parseFromString(e,"text/html"))}},function(e,t,r){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;
/*!
 * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */
var i=((n=r(468))&&n.__esModule?n:{default:n}).default;t.default=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=
/*!
 * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */
function(){return Promise.resolve(n.window)};var n=r(51)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(68),i=u(r(28)),s=u(r(33)),o=u(r(156)),a=u(r(19)),g=u(r(39)),A=u(r(44));function u(e){return e&&e.__esModule?e:{default:e}}function I(e,t,r,n,i,s,o){try{var a=e[s](o),g=a.value}catch(e){return void r(e)}a.done?t(g):Promise.resolve(g).then(n,i)}function C(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var s=e.apply(t,r);function o(e){I(s,n,i,o,a,"next",e)}function a(e){I(s,n,i,o,a,"throw",e)}o(void 0)}))}}function l(){let e;return a.default.has("human-web.history")?e=parseInt(a.default.get("human-web.history"),10):a.default.get("developer",!1)&&(e=32),e||0}class c{constructor(e){this.pushToDlq=e,this.hpnv2=s.default.module("hpnv2")}init(){}unload(){}send(e,t){return new Promise((r,n)=>{this.hpnv2.action("telemetry",e).then(r).catch(i=>{const s=t.attempts||0;!i.isPermanentHpnv2Error&&(i.isRecoverableHpnv2Error||0===s)?(o.default.debug("message failed, retry possible --\x3e pushing to DLQ",e),this.pushToDlq([{msg:e,resolve:r,reject:n,attempts:s,e:i}])):(o.default.debug("message failed, retry will likely fail --\x3e dropping message",e),n(i))})})}}class d{constructor(e){this.pushToDlq=e,this.batchSize=100,this.trk=[]}init(){this.installHttpSendCallback()}unload(){A.default.clearTimeout(this.trkTimer),this.trkTimer=null;const e=this.trk;this.trk=[],this.pushToDlq(e)}installHttpSendCallback(){A.default.clearTimeout(this.trkTimer),this.trk.length>0&&(this.trkTimer=A.default.setTimeout(()=>this.flushSendQueue(),6e4))}send(e,t,r){return new Promise((n,i)=>{this.trk.push({msg:e,resolve:n,reject:i,attempts:r.attempts,e:r.e}),t||this.trk.length>=this.batchSize?this.flushSendQueue():this.installHttpSendCallback()})}flushSendQueue(){const e=this.trk;this.trk=[];const t=JSON.stringify(e.map(e=>e.msg));(0,n.promiseHttpHandler)("POST",i.default.settings.SAFE_BROWSING,t,6e4,!0).then(()=>{var t=!0,r=!1,n=void 0;try{for(var i,s=e[Symbol.iterator]();!(t=(i=s.next()).done);t=!0){(0,i.value.resolve)()}}catch(e){r=!0,n=e}finally{try{t||null==s.return||s.return()}finally{if(r)throw n}}}).catch(t=>{e.forEach(e=>{e.e=t}),this.pushToDlq(e)})}}class h{constructor(e){let t=e.length;this.history=[],this.sent=0,this.resize(t)}resize(e){if(e!==this.history.length){const t=this.values();this.history=[...new Array(e)],this.sent=0,t.forEach(e=>{let t=e.msg,r=e.sentAt;return this.push(t,r)})}}clear(){this.sent=0,this.history.fill(void 0)}push(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Date;this.history.length>0&&(this.history[this.sent%this.history.length]={msg:e,sentAt:t}),this.sent+=1}values(){const e=this.history.length;if(0===e)return[];const t=this.sent%e;return this.history.slice(t,e).filter(e=>e).concat(this.history.slice(0,t))}}t.default=class{constructor(){var e=this;const t=function(){return e.pushToDlq(...arguments)};this.hpnv2Sender=new c(t),this.httpFallback=new d(t),this.dlq=[],this.dlqMaxSize=200,this.dlqMaxAttempts=10,this.loaded=!1,this.history=new h({length:0})}init(){this.history=new h({length:l()}),this.hpnv2=s.default.module("hpnv2"),this.hpnv2Sender.init(),this.httpFallback.init(),this.loaded=!0,this.pending=new Map}unload(){this.loaded&&(this.loaded=!1,this.hpnv2Sender.unload(),this.httpFallback.unload(),this.pending.clear(),this.history.clear())}send(e){var t=this;let r=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).instantPush,n=void 0!==r&&r;return C((function*(){yield t._send(e,{instantPush:n})}))()}getSendQueue(){return[...this.pending.values()].reverse().concat(this.dlq.map(e=>e.msg))}_send(e,t){var r=this;let n=t.instantPush,i=void 0!==n&&n,s=t.prevAttempts,a=void 0===s?{}:s;return C((function*(){const t={};r.pending.set(t,e);try{r.loaded?r.hpnv2.isEnabled()?yield r.hpnv2Sender.send(e,a):(r.hpnv2.isPresent()&&o.default.warn("HPN disabled. Fallback back to http."),yield r.httpFallback.send(e,i,a)):yield new Promise((t,n)=>{r.pushToDlq([{msg:e,resolve:t,reject:n,attempts:a.attempts||0,e:a.e}])}),r.pending.delete(t),r.history.push(e),g.default.pub("human-web:signal-sent",e),r.clearDlq()}catch(e){throw r.pending.delete(t),e}}))()}pushToDlq(e){var t=!0,r=!1,n=void 0;try{for(var i,s=e[Symbol.iterator]();!(t=(i=s.next()).done);t=!0){const e=i.value;e.attempts=(e.attempts||0)+1,e.attempts<=this.dlqMaxAttempts?this.dlq.push(e):(o.default.warn("Too many failures. Dropping message:",e.msg),e.reject(e.e))}}catch(e){r=!0,n=e}finally{try{t||null==s.return||s.return()}finally{if(r)throw n}}if(this.dlq.length>this.dlqMaxSize){var a=!0,g=!1,A=void 0;try{for(var u,I=this.dlq.splice(0,this.dlq.length-this.dlqMaxSize)[Symbol.iterator]();!(a=(u=I.next()).done);a=!0){const e=u.value,t=e.msg,r=e.reject,n=e.e;o.default.warn("DLQ overrun. Dropping message:",t),r(n)}}catch(e){g=!0,A=e}finally{try{a||null==I.return||I.return()}finally{if(g)throw A}}}}clearDlq(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2;if(this.loaded){var t=!0,r=!1,n=void 0;try{for(var i,s=this.dlq.splice(0,e)[Symbol.iterator]();!(t=(i=s.next()).done);t=!0){const t=i.value,r=t.msg,n=t.resolve,s=t.reject,a=t.attempts,g=t.e;o.default.debug("Trying to resend message from DLQ:",r);const A={attempts:a,e:g};this._send(r,{prevAttempts:A}).then(()=>{n(),this.clearDlq(e)}).catch(s)}}catch(e){r=!0,n=e}finally{try{t||null==s.return||s.return()}finally{if(r)throw n}}}}flushSendQueue(){this.clearDlq(this.dlq.length),this.httpFallback.flushSendQueue()}}},function(e,t,r){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;
/*!
 * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */
var i=((n=r(471))&&n.__esModule?n:{default:n}).default;t.default=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(51).browser.history;
/*!
 * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */t.default=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=A(r(85)),i=A(r(473)),s=A(r(28)),o=r(481),a=A(r(19)),g=A(r(157));function A(e){return e&&e.__esModule?e:{default:e}}function u(e,t,r,n,i,s,o){try{var a=e[s](o),g=a.value}catch(e){return void r(e)}a.done?t(g):Promise.resolve(g).then(n,i)}function I(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var s=e.apply(t,r);function o(e){u(s,n,i,o,a,"next",e)}function a(e){u(s,n,i,o,a,"throw",e)}o(void 0)}))}}var C=(0,n.default)({requiresServices:["cliqz-config","pacemaker"],init(){a.default.get("proxyNetwork",!0)&&(this.proxy=!0,(0,o.overRideCliqzResults)()),this.manager=new i.default,this.manager.init().catch(e=>{g.default.error("Unexpected error when trying to initialize hpnv2",e)})},unload(){this.proxy&&(delete this.proxy,(0,o.unload)()),this.manager&&(this.manager.unload(),this.manager=null)},status:()=>({visible:!0,state:a.default.get("hpn-query")}),actions:{send(){for(var e=this,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return I((function*(){return e.manager.send(...r)}))()},sendLegacy(e){var t=this;return I((function*(){const r=e.action,n=e.payload,i=e.body,o=e.rp;if("instant"===r){if(o===s.default.settings.BW_URL){const e=yield t.manager.send({action:"antiphishing",payload:`md5=${n}`,method:"GET"});return yield e.text()}if(o.startsWith(s.default.settings.ENDPOINT_SAFE_QUORUM_ENDPOINT)){const e=o.replace(s.default.settings.ENDPOINT_SAFE_QUORUM_ENDPOINT,""),r=yield t.manager.send({action:"safe-browsing-quorum",path:e,payload:n,method:"GET"}),i=(yield r.json()).result;if(void 0===i)throw new Error('Could not parse result from quorum server (expected "result" field)');return i}throw new Error(`hpnv2: instant not implemented ${o}`)}if("extension-result-telemetry"===r){const e=yield t.manager.send({action:r,payload:`q=${n}`,method:"GET"});return yield e.text()}if("offers-api"===r){const e=yield t.manager.send({action:r,path:n,payload:i,method:"POST"});return yield e.text()}throw new Error(`Unknown legacy msg action ${r}`)}))()},sendInstantMessage(e,t){var r=this;return I((function*(){const n={action:"instant",type:"cliqz",ts:"",ver:"1.5",payload:t,rp:e};return r.actions.sendLegacy(n)}))()},sendTelemetry(e){var t=this;return I((function*(){if(!a.default.get("humanWebOptOut",!1))return t.actions.send(e)}))()},telemetry(e){var t=this;return I((function*(){return t.actions.sendTelemetry(e)}))()},search(e){var t=this;let r=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).ttl,n=void 0===r?15e3:r;return I((function*(){const r=new URL(e),i=r.pathname,s=r.search,o=r.searchParams;return t.actions.send({action:"search",method:"GET",payload:s,path:i},{proxyBucket:o.get("s"),ttl:n})}))()},getTime(){const e=this.manager.trustedClock.checkTime(),t=e.inSync,r=e.minutesSinceEpoch;return{inSync:t,minutesSinceEpoch:r,utcTimestamp:new Date(60*r*1e3)}}}});t.default=C},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.InitState=void 0;var n=v(r(201)),i=r(332),s=r(333),o=r(112),a=v(r(474)),g=v(r(475)),A=v(r(476)),u=v(r(477)),I=v(r(478)),C=v(r(479)),l=v(r(81)),c=r(480),d=r(202),h=r(280),f=v(r(157)),p=v(r(281)),m=r(270),_=r(335),y=v(r(19)),b=v(r(44));function v(e){return e&&e.__esModule?e:{default:e}}function w(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var r=[],n=!0,i=!1,s=void 0;try{for(var o,a=e[Symbol.iterator]();!(n=(o=a.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){i=!0,s=e}finally{try{n||null==a.return||a.return()}finally{if(i)throw s}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function k(e,t,r,n,i,s,o){try{var a=e[s](o),g=a.value}catch(e){return void r(e)}a.done?t(g):Promise.resolve(g).then(n,i)}function M(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var s=e.apply(t,r);function o(e){k(s,n,i,o,a,"next",e)}function a(e){k(s,n,i,o,a,"throw",e)}o(void 0)}))}}const O=3,S=6e4,D=60*S,T={PENDING_JOINS:0,JOINED:1,WAITING_FOR_CLOCK_SYNC:2};function L(e){return["READY","UNINITIALIZED","INIT_PENDING","DESTROYED"][e]||"<??>"}class E{static get READY(){return 0}static get UNINITIALIZED(){return 1}static get INIT_PENDING(){return 2}static get DESTROYED(){return 3}constructor(){this.state=E.UNINITIALIZED,this._pendingInit=new Promise((e,t)=>{this._onReady=e,this._onDestroy=t})}isReady(){return this.state===E.READY}isUnloaded(){return this.state===E.UNINITIALIZED||this.state===E.DESTROYED}isUninitialized(){return this.state===E.UNINITIALIZED}updateState(e){if(e!==this.state){if(this.state_===E.DESTROYED)throw new Error(`Internal error: already dead (cannot change to ${L(e)})`);switch(e){case E.UNINITIALIZED:throw new Error(`Internal error: Cannot go back to uninitialized state (${L(this.state)})`);case E.INIT_PENDING:if(this.state!==E.UNINITIALIZED)throw new Error(`Internal error: expected INIT_PENDING, but came from state=${L(this.state)}`);this.state=e;break;case E.READY:if(this.state!==E.INIT_PENDING)throw new Error(`Internal error: expected INIT_PENDING (current=${L(this.state)})`);this.state=e,this._onReady();break;case E.DESTROYED:this.state=e,this._onDestroy();break;default:throw new Error(`Unexpected state: new=${e} (current=${L(this.state)})`)}f.default.info(`Changing state to ${L(this.state)}`)}}waitUntilReady(e){var t=this;return M((function*(){if(t.state!==E.READY){if(t.state===E.DESTROYED)throw f.default.warn("Trying to wait to initialization, but the object is already dead."),new d.NotReadyError;if(e&&e>0){let r;const n=new Promise((t,n)=>{r=b.default.setTimeout(()=>{n(new d.NotReadyError)},e)});try{yield Promise.race([t._pendingInit,n])}finally{b.default.clearTimeout(r)}}else yield t._pendingInit;if(t.state===E.DESTROYED)throw f.default.info("Give up. After waking up, the module was unloaded."),new d.NotReadyError;if(t.state!==E.READY)throw f.default.error("Still not ready after waking up. Unexpected state:",L(t.state)),new d.NotReadyError}}))()}}t.InitState=E;class P{constructor(e){let t=e.maxSize,r=e.ttlInMs;this.maxSize=t,this.ttlInMs=r,this.signatures=new Map}get(e){this._purgeExpired();const t=this.signatures.get(e);return t?t.signature:void 0}set(e,t){this.signatures.delete(e);const r=Date.now()+this.ttlInMs;this.signatures.set(e,{signature:t,expireAt:r}),this._purgeExpired(),this.signatures.maxSize>this.maxSize&&this._deleteOldestEntry()}delete(e){this.signatures.delete(e),this._purgeExpired()}_deleteOldestEntry(){var e=!0,t=!1,r=void 0;try{for(var n,i=this.signatures[Symbol.iterator]();!(e=(n=i.next()).done);e=!0){const e=w(n.value,1)[0];this.signatures.delete(e);break}}catch(e){t=!0,r=e}finally{try{e||null==i.return||i.return()}finally{if(t)throw r}}}_purgeExpired(){const e=Date.now();var t=!0,r=!1,n=void 0;try{for(var i,s=this.signatures[Symbol.iterator]();!(t=(i=s.next()).done);t=!0){const t=w(i.value,2),r=t[0];if(!(e>=t[1].expireAt))break;this.signatures.delete(r)}}catch(e){r=!0,n=e}finally{try{t||null==s.return||s.return()}finally{if(r)throw n}}}}class x{_initDefaults(){var e=this;this.initState&&this.initState.updateState(E.DESTROYED),this.initState=new E,this.signerInitialized=!1,this.throttler&&this.throttler.cancelPendingTimers(),this.throttler=new C.default,this.db=new a.default,this.endpoints=new A.default,this.loadedCredentialsDate=null,this.msgQueue=(0,p.default)("hpnv2",this._send.bind(this)),this.isOldVersion=!1,this.configLoader=null,this.signer=null,this.ecdhPubKey={},this.unsentSignedMessages=new P({maxSize:1e3,ttlInMs:4*D}),this._joinScheduler={state:T.PENDING_JOINS,nextJoinTimer:null,pending:0,cooldowns:new Map},this.logError=f.default.error,this.log=f.default.log,this.logDebug=f.default.debug,this.trustedClock=new u.default,this.configLoader=new I.default(this.endpoints),this.trustedClock.onClockOutOfSync=()=>{this.configLoader.synchronizeClocks(),this._joinScheduler.state===T.WAITING_FOR_CLOCK_SYNC&&(this._joinScheduler.state=T.PENDING_JOINS,this.scheduleJoinGroup())},this.configLoader.onServerTimestampRefresh=e=>{this.trustedClock.syncWithServerTimestamp(e)},this.configLoader.onConfigUpdate=function(){var t=M((function*(t){if(e.isOldVersion=_.VERSION<t.minVersion,!e.isOldVersion){try{yield e.updateConfig(t),e.initState.updateState(E.READY)}catch(e){return void f.default.error("Failed to update config",e)}f.default.log("Configuration successfully updated."),e.scheduleJoinGroup()}}));return function(e){return t.apply(this,arguments)}}()}constructor(){this._initDefaults()}init(){var e=this;return M((function*(){if(e.initState.isUninitialized()){e.initState.updateState(E.INIT_PENDING),e.trustedClock.init();try{yield e.initSigner()}catch(e){throw new d.InitSignerError(e.message)}try{yield e.db.init()}catch(t){e.logError("Could not init (indexed)DB, will switch to memory-only DB")}yield e.initUserPK(),e.configLoader.init(),yield e.configLoader.fetchConfig()}}))()}unload(){this.initState.updateState(E.DESTROYED),this.signer&&this.signer.unload(),b.default.clearTimeout(this._joinScheduler.nextJoinTimer),this.endpoints.unload(),this.configLoader.unload(),this.trustedClock.unload(),this._initDefaults()}punish(){var e=this;return M((function*(){return Promise.all(Object.keys(e.groupPubKeys).map(t=>(e.groupPubKeys[t].banned=!0,e.db.setGroupPubKey(t,e.groupPubKeys[t]))))}))()}updateConfig(e){var t=this;let r=e.groupPubKeys,n=e.pubKeys,i=e.sourceMap,s=e.minVersion,a=e.trafficHints;return M((function*(){if(_.VERSION<s)return t.logError(`We are running an old version of the protocol, which is no longer supported by the server. All communication will be stopped. Our version: ${_.VERSION} does not meet the minimum version required by the server: ${s}`),void(t.isOldVersion=!0);if(x.checkGroupPublicKeys(r,n,t.groupPubKeys)){let e=Object.keys(r);const i=Object.keys(t.groupPubKeys);if(i.length>0){const r=Object.keys(t.groupPubKeys).sort()[0];if(1===(e=e.filter(e=>e>r).filter(e=>!i.includes(e))).length){const r=e[0],n=30*S+2*Math.random()*D;t.log("Delay joining the latest group",r,"by",n/S,"minutes"),t._joinScheduler.cooldowns.set(r,Date.now()+n)}}yield Promise.all(e.map(e=>{const i=t.groupPubKeys[e]||{};return i.groupPubKey=(0,o.fromBase64)(r[e]),i.pubKey=n[e]&&(0,o.fromBase64)(n[e]),t.db.setGroupPubKey(e,i)}))}else yield t.punish();Object.keys(i.actions).forEach(e=>{t.db.setSourceMapAction(e,i.actions[e])}),t.throttler.updateConfig(a,i);const e=t.trustedClock.checkTime(),g=e.inSync,A=e.hoursSinceEpoch;if(g){const e=t.db.purgeTags(A).catch(e=>{f.default.error("Failed to purge old tags in the database",e)}),r=t.db.purgeOldPubKeys(A).catch(e=>{f.default.error("Failed to purge old keys in the database",e)});yield Promise.all([e,r])}}))()}getPublicKey(e){const t=Object.keys(this.groupPubKeys).sort().filter(t=>t<=e);if(this.getNextPublicKeys(e).length>0&&t.length>0){const e=this.groupPubKeys[t[t.length-1]];return e.banned?null:e}return null}getNextPublicKeys(e){return Object.keys(this.groupPubKeys).sort().filter(t=>t>e).map(e=>this.groupPubKeys[e])}scheduleJoinGroup(){var e=this;return M((function*(){b.default.clearTimeout(e._joinScheduler.nextJoinTimer);try{if(e._joinScheduler.pending+=1,e._joinScheduler.pending>1)return;yield e.joinGroups(),e._joinScheduler.state=T.JOINED}catch(t){t instanceof d.ClockOutOfSyncWhileJoining&&(e._joinScheduler.state=T.WAITING_FOR_CLOCK_SYNC);const r=S+10*Math.random()*S;f.default.warn("Failed to join group. Retrying again in",r/S,"min"),e._joinScheduler.nextJoinTimer=b.default.setTimeout(()=>{e.scheduleJoinGroup()},r)}finally{e._joinScheduler.pending-=1}}))()}joinGroups(){var e=this;return M((function*(){const t=e.trustedClock.checkTime(),r=t.inSync,n=t.hoursSinceEpoch;if(!r)throw f.default.info("Skipping join attempt, as the clock is currently off."),new d.ClockOutOfSyncWhileJoining;const i=(0,h.formatHoursAsYYYYMMDD)(n),s=Object.keys(e.groupPubKeys).sort(),o=s.filter(e=>e<=i);if(o.length<=0)throw new Error("No valid group public key is available");const a=o[o.length-1],g=s.filter(e=>e>=a).filter(t=>(t=>{const r=e._joinScheduler.cooldowns.get(t);return!r||(t===a||Date.now()>=r)&&(e.log("Group",t,"exceeded the join cooldown. Ready to join now."),e._joinScheduler.cooldowns.delete(t),!0)})(t)),A=(yield Promise.all(g.map(t=>(0,h.reflectPromise)(e.joinGroup(t))))).find(e=>{return e.isError});if(A){var u=!0,I=!1,C=void 0;try{for(var l,c=g[Symbol.iterator]();!(u=(l=c.next()).done);u=!0){const t=l.value;if(t!==a&&!e._joinScheduler.cooldowns.has(t)){const r=5*S+30*S*Math.random();e._joinScheduler.cooldowns.set(t,Date.now()+r)}}}catch(e){I=!0,C=e}finally{try{u||null==c.return||c.return()}finally{if(I)throw C}}throw A.error}}))()}loadKeys(e){var t=this;return M((function*(){if(t.initState.isUnloaded())throw new d.NotReadyError;const r=t.trustedClock.checkTime(),i=r.inSync,s=r.hoursSinceEpoch,o=(0,h.formatHoursAsYYYYMMDD)(s);i||f.default.info("Clock time is out of sync. Loading of today's key might fail:",o);const a=t.getPublicKey(o);if(!a)throw new d.NoCredentialsError;const g=a.groupPubKey,A=a.credentials,u=a.date,I=a.pubKey;if(I&&t.ecdhPubKey.date!==u)try{const e=yield n.default.subtle.importKey("raw",I,{name:"ECDH",namedCurve:"P-256"},!1,[]);t.ecdhPubKey={key:e,date:u}}catch(e){if(t.endpoints.ENDPOINT_HPNV2_ANONYMOUS!==t.endpoints.ENDPOINT_HPNV2_DIRECT||"https://collector-hpn.ghostery.net"!==t.endpoints.ENDPOINT_HPNV2_DIRECT&&"https://collector-hpn.cliqz.com"!==t.endpoints.ENDPOINT_HPNV2_DIRECT)throw f.default.error("ECDH is not supported by the browser. Cannot send unencrypted data through a 3rd proxy proxy.",e),e;f.default.debug("The browser does not support ECDH, but as we are not sending through a proxy, TLS encryption is sufficient.")}if(!e){if(!A)throw new d.NoCredentialsError;if(t.loadedCredentialsDate!==u){t.logDebug("Loading credentials",a.date);try{yield t.signer.setGroupPubKey(g),yield t.signer.setUserCredentials(A),t.loadedCredentialsDate=u}catch(e){throw t.logError("Error loading credentials",e),new d.BadCredentialsError}}}}))()}initSigner(){var e=this;return M((function*(){if(!e.signerInitialized)try{e.signer=new g.default,yield e.signer.seed(n.default.getRandomValues(new Uint8Array(128))),e.signerInitialized=!0}catch(t){throw e.signer&&(e.signer.unload(),e.signer=null),t}}))()}initUserPK(){var e=this;return M((function*(){if(!e.publicKeyB64){if(!e.userPK64){const t=w(yield(0,i.generateRSAKeypair)(),2)[1];e.userPK64=t}e.userPK=yield(0,i.importRSAKey)(e.userPK64,!1,"SHA-256","RSASSA-PKCS1-v1_5"),e.publicKeyB64=(0,s.exportPublicKey)(yield n.default.subtle.exportKey("jwk",e.userPK))}}))()}joinGroup(e){var t=this;return M((function*(){const r=t.groupPubKeys[e];if(!r)throw new Error(`No key found for date ${e}`);if(r.banned)throw new Error(`Group is banned ${e}`);if(r.credentials)return t.logDebug("Found credentials for",e),r;t.logDebug("Joining group",e);const n=r.groupPubKey,s=r.pubKey,a=JSON.stringify([t.publicKeyB64,(0,o.toBase64)(n)]),g=yield(0,i.sha256)(a,"bin"),A=r.gsk?r:yield t.signer.startJoin(g),u=A.gsk,I=A.joinmsg,C=yield(0,i.signRSA)(t.userPK,I);yield t.db.setGroupPubKey(e,{groupPubKey:n,gsk:u,joinmsg:I,pubKey:s});const l={ts:e,joinMsg:(0,o.toBase64)(I),pk:t.publicKeyB64,sig:(0,o.toBase64)((0,o.fromHex)(C))},c=(yield t.endpoints.join(l)).joinResponse,d=yield t.signer.finishJoin(n,u,(0,o.fromBase64)(c));return yield t.db.setGroupPubKey(e,{groupPubKey:n,credentials:d,pubKey:s}),t.groupPubKeys[e]}))()}send(e){var t=this;let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.proxyBucket,i=r.waitForInitTimeoutInMs,s=void 0===i?3*S:i,o=r.ttl;return M((function*(){if(t.isOldVersion)throw new d.OldVersionError;if(!e||"object"!=typeof e)throw new d.InvalidMsgError("msg must be an object");const r=o&&o>0?Date.now()+o:void 0,i=t.initState;if(!i.isReady()){if(i.isUnloaded())throw f.default.info("Module is not initialized. Instead of waiting until we hit the timeout, give up immediately."),new d.NotReadyError;f.default.debug("Initialization is still pending. Waiting for it to complete..."),yield i.waitUntilReady(s),f.default.debug("Initialization is still pending. Waiting for it to complete...DONE")}const a=e.action,g=e.payload,A=t.sourceMap[a];if(!A)throw new d.InvalidMsgError(`unknown action ${a}`);if(null==g)throw new d.InvalidMsgError("msg must not be null or undefined");const u=A.noverify;yield t.loadKeys(u);const I=x.clearText?void 0:t.ecdhPubKey,C=t.throttler;try{if(yield C.startRequest(e,t.trustedClock),i.isUnloaded()){const e="hpnv2 was stopped. The pending message could not be sent.";throw f.default.warn(e),new d.NotReadyError(e)}const s={msg:e,config:A,publicKey:I,proxyBucket:n,absoluteTimeout:r};return u?yield t._sendNoVerify(s):yield t.msgQueue.push(s)}finally{C.endRequest(e)}}))()}_signMessage(e,t,r,n,s,a,g){var A=this;return M((function*(){const u=(0,l.default)(JSON.stringify(r));let I;try{I=yield A.db.consumeFreshCounter(u,n+s,a)}catch(e){if(!g)throw new d.MsgQuotaError(`${e.message} (action: ${t}, tag: ${u}, limit: ${a} per ${s} hours)`);I=0}try{const t=yield(0,i.sha256)(e,"b64"),n=yield(0,i.sha256)(JSON.stringify([...r,I]),"b64");return{sig:yield A.signer.sign((0,o.fromBase64)(t),(0,o.fromBase64)(n)),cnt:I}}catch(e){throw f.default.error("Error signing message with action:",t,e),new d.SignMsgError}}))()}static get clearText(){return y.default.get("hpnv2.cleartext",!1)||y.default.get("hpnv2.plaintext",!1)}static compressAndPad(e){return x.clearText?e:(0,h.encodeWithPadding)(e)}static encodeMessage(e,t){const r=new Uint8Array(1+t.length);return r[0]=e,r.set(t,1),r}static encodeSignedMessage(e,t,r){const n=e.length,i=new Uint8Array(397+n),s=new DataView(i.buffer);return i.set(e),s.setFloat64(n,r),i.set(t,n+8),x.compressAndPad(x.encodeMessage(O,i))}_sendNoVerify(e){var t=this;let r=e.msg,n=e.config,i=e.publicKey,s=e.proxyBucket,a=e.absoluteTimeout;return M((function*(){const e=n.instant,g=void 0!==e&&e;return t.log("Sending noverify msg",r),t.endpoints.send(x.compressAndPad((0,o.toUTF8)(JSON.stringify(r))),{instant:g,publicKey:i,proxyBucket:s,absoluteTimeout:a})}))()}_send(e){var t=this;let r=e.msg,n=e.config,i=e.publicKey,s=e.proxyBucket,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return M((function*(){const e=r,g=e.action;e.compressed&&(delete e.compressed,e.payload=JSON.parse((0,m.decompress)((0,o.fromBase64)(e.payload))));const A=e.payload,u=n.limit,I=void 0===u?1:u,C=n.period,l=void 0===C?24:C,d=n.keys,p=void 0===d?[]:d,_=n.instant,y=void 0!==_&&_,b=(0,c.digest)(p,A),v=t.trustedClock.checkTime(),w=v.inSync,k=v.hoursSinceEpoch;w||f.default.info("Sending could fail, as the clock is out of sync with the server.");const M=l*Math.floor(k/l),O=(0,h.formatDate)(M).slice(0,l%24==0?8:10);e.ts!==O&&(t.logDebug("msg ts differ",e.ts,O),e.ts=O);const S=(0,o.toUTF8)(JSON.stringify(e));let D=t.unsentSignedMessages.get(e);if(!D){const r=[g,l,I,b,M];D=yield t._signMessage(S,g,r,M,l,I,a),t.unsentSignedMessages.set(e,D)}t.log("Sending signed msg",e);const T=yield t.endpoints.send(x.encodeSignedMessage(S,D.sig,D.cnt),{instant:y,publicKey:i,proxyBucket:s});return t.unsentSignedMessages.delete(e),T}))()}get groupPubKeys(){return this.db.groupPubKeys}get userPK64(){return this.db.userPK}set userPK64(e){this.db.setUserPK(e)}get sourceMap(){return this.db.sourceMap}static isValidDate(e){const t=e.match(/([0-9]{4})([0-9]{2})([0-9]{2})/);if(!t)return!1;const r=parseInt(t[1],10),n=parseInt(t[2],10)-1,i=parseInt(t[3],10),s=new Date(r,n,i);return s&&s.getMonth()===n}static isValidBase64(e){try{return"string"==typeof e&&e===(0,o.toBase64)((0,o.fromBase64)(e))}catch(e){}return!1}static checkGroupPublicKeys(e,t,r){if(!e||"object"!=typeof e)return!1;if(!t||"object"!=typeof t)return!1;const n=Object.keys(e);if(n.length>4||!n.every(x.isValidDate))return!1;if(!n.map(t=>e[t]).every(x.isValidBase64))return!1;if(!n.map(e=>t[e]).every(x.isValidBase64))return!1;if(r){const i=Object.keys(r);if(0===i.length)return!0;i.sort();const s=i[0],a=i[i.length-1],g=n=>n<s||n>a||r[n]&&(0,o.toBase64)(r[n].groupPubKey)===e[n]&&(!r[n].pubKey||(0,o.toBase64)(r[n].pubKey)===t[n]);if(!n.every(g))return!1}return!0}isHealthy(){if(this.isOldVersion)return f.default.warn("Client is too old. The protocol is no longer accepted by the server"),!1;if(!this.initState.isReady())return f.default.warn(`hpnv2 is not loaded (current state: ${L(this.initState.state)})`),!1;if(!this.configLoader.isHealthy())return f.default.warn("Config loader not healthy"),!1;if(!this.trustedClock.isHealthy())return f.default.warn("Clock out of sync"),!1;const e=(0,h.formatHoursAsYYYYMMDD)(this.trustedClock.checkTime().hoursSinceEpoch);return this.getPublicKey(e)?this._joinScheduler.state===T.JOINED||(f.default.warn("Unable to complete join operations."),!1):(f.default.warn("Not joined with current group"),!1)}}t.default=x},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=I(r(113)),i=I(r(201)),s=I(r(81)),o=I(r(157)),a=r(202),g=r(280),A=r(112),u=r(148);function I(e){return e&&e.__esModule?e:{default:e}}function C(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var r=[],n=!0,i=!1,s=void 0;try{for(var o,a=e[Symbol.iterator]();!(n=(o=a.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){i=!0,s=e}finally{try{n||null==a.return||a.return()}finally{if(i)throw s}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function l(e,t,r,n,i,s,o){try{var a=e[s](o),g=a.value}catch(e){return void r(e)}a.done?t(g):Promise.resolve(g).then(n,i)}function c(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var s=e.apply(t,r);function o(e){l(s,n,i,o,a,"next",e)}function a(e){l(s,n,i,o,a,"throw",e)}o(void 0)}))}}class d{constructor(){this.isInit=!1,this.groupPubKeys={},this.userPK=null,this.sourceMap={},this.tags=new Map}getUserPK(){return this.userPK}setUserPK(e){var t=this;return c((function*(){return o.default.info("DB: setUserPK"),t.userPK=e,t.db?t.db.meta.put({key:"userPK",value:e}):Promise.resolve()}))()}getGroupPubKey(e){return this.groupPubKeys[e]}setGroupPubKey(e,t){var r=this;let n=t.groupPubKey,i=t.pubKey,s=t.credentials,a=t.gsk,g=t.joinmsg,A=t.banned;return c((function*(){return o.default.info("DB: setGroupPubKey:",e),r.groupPubKeys[e]={groupPubKey:n,credentials:s,date:e,gsk:a,joinmsg:g,banned:A,pubKey:i},r.db?r.db.meta.put({key:"groupPubKeys",value:r.groupPubKeys}):Promise.resolve()}))()}setSourceMapAction(e,t){var r=this;return c((function*(){return r.sourceMap[e]=t,r.db?r.db.meta.put({key:"sourceMap",value:r.sourceMap}):Promise.resolve()}))()}init(){var e=this;return c((function*(){if(!e.isInit)try{const t=yield(0,n.default)();e.db=new t("hpnv2"),e.db.version(1).stores({meta:"key",tags:"tag,expireat"});const r=C(yield Promise.all([e.db.meta.get("groupPubKeys"),e.db.meta.get("userPK"),e.db.meta.get("sourceMap")]),3),i=r[0],s=r[1],o=r[2];e.groupPubKeys=i&&i.value||e.groupPubKeys,e.userPK=s&&s.value||e.userPK,e.sourceMap=o&&o.value||e.sourceMap,e.isInit=!0}catch(t){throw e.db=null,e.isInit=!0,t}}))()}consumeFreshCounter(e,t,r){var n=this;return c((function*(){if(r<=0)return Promise.resolve((0,u.randomInt)());const s=()=>n.getTag(e).then(s=>{let o=s;if(!o){const r=i.default.getRandomValues(new Uint8Array(12));o={tag:e,expireat:t,seed:r,n:0}}if(o.n>=r)throw new a.MsgQuotaError("Message limit exceeded");const g=d.getPermutationElem(o.seed,o.n,r);return o.n+=1,n.putTag(o).then(()=>g)});return n.db?n.db.transaction("rw",n.db.tags,s):s()}))()}getTag(e){var t=this;return c((function*(){return t.db?t.db.tags.get(e):Promise.resolve(t.tags.get(e))}))()}putTag(e){var t=this;return c((function*(){return t.db?t.db.tags.put(e):(t.tags.set(e.tag,e),Promise.resolve())}))()}static getPermutationElem(e,t,r){let n=(0,s.default)((0,A.toHex)(e));const i={};for(let e=r-1;e>r-t-2;e-=1){const t=new Uint32Array((0,A.fromHex)(n).buffer)[0]%(e+1);if(n=(0,s.default)(n),void 0===i[e]&&(i[e]=e),t!==e){void 0===i[t]&&(i[t]=t);const r=i[t];i[t]=i[e],i[e]=r}}return i[r-1-t]||0}clearTags(){var e=this;return c((function*(){return e.db?e.db.tags.clear():(e.tags.clear(),Promise.resolve())}))()}purgeOldPubKeys(e){var t=this;return c((function*(){const r=(0,g.formatHoursAsYYYYMMDD)(e-2);return o.default.debug("DB: purgeOldPubKeys: looking for keys older than",r),Object.keys(t.groupPubKeys).filter((function(e){return e<r})).forEach(e=>{o.default.info("DB: purgeOldPubKeys: remove old key",e),delete t.groupPubKeys[e]}),t.db?t.db.meta.put({key:"groupPubKeys",value:t.groupPubKeys}):Promise.resolve()}))()}purgeTags(e){var t=this;return c((function*(){return t.tags.forEach((r,n)=>{r.expireat<e&&t.tags.delete(n)}),t.db?t.db.tags.where("expireat").below(e).delete():Promise.resolve()}))()}}t.default=d},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=o(r(28)),i=o(r(43)),s=o(r(334));function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t,r,n,i,s,o){try{var a=e[s](o),g=a.value}catch(e){return void r(e)}a.done?t(g):Promise.resolve(g).then(n,i)}function g(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var s=e.apply(t,r);function o(e){a(s,n,i,o,g,"next",e)}function g(e){a(s,n,i,o,g,"throw",e)}o(void 0)}))}}t.default=class{_sendWorker(e){for(var t=this,r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return g((function*(){const r=Math.floor(Math.random()*Number.MAX_SAFE_INTEGER);return new Promise((i,s)=>{t.promises[r]={resolve:i,reject:s},t.worker.postMessage({id:r,fn:e,args:n})})}))()}seed(){for(var e=this,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return g((function*(){return e._sendWorker("seed",...r)}))()}setGroupPubKey(){for(var e=this,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return g((function*(){return e._sendWorker("setGroupPubKey",...r)}))()}setUserCredentials(){for(var e=this,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return g((function*(){return e._sendWorker("setUserCredentials",...r)}))()}getUserCredentials(){for(var e=this,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return g((function*(){return e._sendWorker("getUserCredentials",...r)}))()}startJoin(){for(var e=this,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return g((function*(){return e._sendWorker("startJoin",...r)}))()}finishJoin(){for(var e=this,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return g((function*(){return e._sendWorker("finishJoin",...r)}))()}sign(){for(var e=this,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return g((function*(){return e._sendWorker("sign",...r)}))()}constructor(){const e="undefined"!=typeof WebAssembly?"wasm":"asmjs";this.worker=new s.default(`${n.default.baseURL}hpnv2/worker.${e}.bundle.js`),this.promises={},this.worker.onmessage=e=>{if(e.data.logMessage){const t=e.data.logMessage;return void i.default[t.type](...t.args)}const t=e.data,r=t.id,n=t.data,s=t.error,o=this.promises[r];delete this.promises[r],s?o.reject(new Error(s)):o.resolve(n)}}unload(){this.worker&&(this.worker.terminate(),delete this.worker,this.promises={})}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=d(r(28)),i=r(68),s=function(e){if(e&&e.__esModule)return e;var t=c();if(t&&t.has(e))return t.get(e);var r={};if(null!=e){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var s=n?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(r,i,s):r[i]=e[i]}}r.default=e,t&&t.set(e,r);return r}(r(148)),o=d(r(157)),a=r(202),g=r(335),A=r(274),u=r(112),I=d(r(201)),C=d(r(176)),l=d(r(44));function c(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return c=function(){return e},e}function d(e){return e&&e.__esModule?e:{default:e}}function h(e,t,r,n,i,s,o){try{var a=e[s](o),g=a.value}catch(e){return void r(e)}a.done?t(g):Promise.resolve(g).then(n,i)}function f(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var s=e.apply(t,r);function o(e){h(s,n,i,o,a,"next",e)}function a(e){h(s,n,i,o,a,"throw",e)}o(void 0)}))}}const p=10,m=1e3,_=I.default.subtle;function y(){return(y=f((function*(){return _.generateKey({name:"ECDH",namedCurve:"P-256"},!0,["deriveKey"])}))).apply(this,arguments)}function b(){return(b=f((function*(e,t){return _.deriveKey({name:"ECDH",namedCurve:"P-256",public:e},t,{name:"AES-GCM",length:256},!0,["encrypt","decrypt"])}))).apply(this,arguments)}function v(e){return w.apply(this,arguments)}function w(){return(w=f((function*(e){return new Uint8Array(yield _.exportKey("raw",e))}))).apply(this,arguments)}function k(){return(k=f((function*(e){return new Uint8Array(yield _.digest({name:"SHA-256"},e))}))).apply(this,arguments)}function M(){return(M=f((function*(e){return _.importKey("raw",e,{name:"AES-GCM",length:128},!1,["encrypt","decrypt"])}))).apply(this,arguments)}function O(){return(O=f((function*(e,t,r){return new Uint8Array(yield _.encrypt({name:"AES-GCM",iv:e,tagLength:128},t,r))}))).apply(this,arguments)}function S(e,t,r){return D.apply(this,arguments)}function D(){return(D=f((function*(e,t,r){return new Uint8Array(yield _.decrypt({name:"AES-GCM",iv:e,tagLength:128},t,r))}))).apply(this,arguments)}function T(e,t){return L.apply(this,arguments)}function L(){return(L=f((function*(e,t){const r=yield function(){return y.apply(this,arguments)}(),n=r.publicKey,i=r.privateKey,s=yield function(e,t){return b.apply(this,arguments)}(t,i),o=yield v(s),a=(yield function(e){return k.apply(this,arguments)}(o)).subarray(0,16),g=I.default.getRandomValues(new Uint8Array(12)),A=yield function(e){return M.apply(this,arguments)}(a);return{iv:g,encrypted:yield function(e,t,r){return O.apply(this,arguments)}(g,A,e),clientPublicKey:yield v(n),aesKey:A}}))).apply(this,arguments)}function E(e){return P.apply(this,arguments)}function P(){return(P=f((function*(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.method,n=void 0===r?"GET":r,s=t.body,o=t.publicKey,A=void 0===o?{}:o,I=t.timeoutInMs;I=I||60*m;const C=new i.AbortController,c=new i.Headers({Version:g.VERSION.toString()}),d={method:n,headers:c,credentials:"omit",cache:"no-store",redirect:"manual",signal:C.signal};let h;s instanceof ArrayBuffer||ArrayBuffer.isView(s)?(d.headers.append("Content-Type","application/octet-stream"),d.body=(0,u.toByteArray)(s)):s&&"object"==typeof s&&(d.headers.append("Content-Type","application/json"),d.body=(0,u.toUTF8)(JSON.stringify(s)));const p=A.key,_=A.date;if(p&&d.body){const e=yield T(d.body,p),t=e.iv,r=e.encrypted,n=e.clientPublicKey;h=e.aesKey,d.headers.append("Key-Date",_),d.body=r;const i=new Uint8Array(78);i.set(n,1),i.set(t,66),i[0]=g.ECDH_P256_AES_128_GCM,d.headers.append("Encryption",(0,u.toBase64)(i))}return new Promise(function(){var t=f((function*(t,r){const n=l.default.setTimeout(()=>{r(new a.MsgTimeoutError(`Exceeded timeout of ${I/1e3} sec`)),C.abort()},I);try{let r;try{r=yield(0,i.fetch)(e,d)}catch(e){throw new a.ServerError(e)}const s=r,o=s.status,g=s.statusText;if(!s.ok)throw new a.ServerError(g);if(h&&r.headers.get("Encryption-IV")){const e=new Uint8Array(yield r.arrayBuffer()),t=(0,u.fromBase64)(r.headers.get("Encryption-IV")),n=yield S(t,h,e);r=new i.Response(n,{status:o,statusText:g})}t(r)}catch(e){r(e)}finally{l.default.clearTimeout(n)}}));return function(e,r){return t.apply(this,arguments)}}())}))).apply(this,arguments)}t.default=class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.maxRetries,r=void 0===t?3:t,i=e.urls,s=void 0===i?n.default.settings:i;this._reset(),this.maxRetries=r,this.urls=s,this.proxyBuckets=new C.default(p)}_reset(){const e=this.messages||[];this.messages=[],this.sendTimer=null,this.unloaded=!1,e.forEach(e=>e.reject(new a.NotReadyError("Request cancelled because of unload")))}get ENDPOINT_HPNV2_ANONYMOUS(){return this.urls.ENDPOINT_HPNV2_ANONYMOUS}get ENDPOINT_HPNV2_DIRECT(){return this.urls.ENDPOINT_HPNV2_DIRECT}get ENDPOINT_HPNV2_JOIN(){return`${this.ENDPOINT_HPNV2_DIRECT}/join`}get ENDPOINT_HPNV2_POST(){return this.ENDPOINT_HPNV2_ANONYMOUS}get ENDPOINT_HPNV2_CONFIG(){return`${this.ENDPOINT_HPNV2_DIRECT}/config`}_scheduleSend(){this.unloaded||null!==this.sendTimer||(this.sendTimer=l.default.setTimeout(()=>{const e=Math.floor((0,s.default)()*this.messages.length),t=this.messages.splice(e,1)[0],r=t.url,n=t.msg,i=t.cnt,a=t.publicKey,g=t.resolve,A=t.reject,u=t.absoluteTimeout;E(r,{method:"POST",body:n,publicKey:a}).then(g,e=>{i<this.maxRetries?(o.default.log("Will retry sending msg after error",e),this.messages.push({url:r,msg:n,cnt:i+1,publicKey:a,resolve:g,reject:A,absoluteTimeout:u})):(o.default.warn("_scheduleSend failed (gave up after",this.maxRetries,"retry attempts)",e),A(e))}).then(()=>{this.sendTimer=null,this.messages.length>0&&this._scheduleSend()})},500+Math.floor(1500*(0,s.default)())))}send(e){var t=this;let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.instant,o=r.proxyBucket,g=r.publicKey,I=r.absoluteTimeout;return f((function*(){const r=(0,s.randomInt)()%100+1,C=t.proxyBuckets.get(o)||r;o&&t.proxyBuckets.set(o,C);const l=t.ENDPOINT_HPNV2_POST.replace("*",C);if(n)try{const t=function(e){if(!e)return{timeoutInMs:void 0,isExpired:!1};const t=e-Date.now();return{timeoutInMs:t,isExpired:t<=0}}(I),r=t.timeoutInMs;if(t.isExpired)throw new a.MsgTimeoutError("dropping request because the absolute timeout expired");const n=yield E(l,{method:"POST",body:e,publicKey:g,timeoutInMs:r});let s=new Uint8Array(yield n.arrayBuffer());if(123!==s[0]){const e=new DataView(s.buffer).getUint32();s=(0,A.inflate)(s.subarray(4,4+e))}const o=JSON.parse((0,u.fromUTF8)(s)),C=o.status,c=o.body;return new i.Response(c,{status:C})}catch(e){if(e instanceof a.ServerError)throw e;throw new a.TransportError(e.message)}const c=new Promise((r,n)=>{t.messages.push({url:l,msg:e,cnt:0,publicKey:g,resolve:r,reject:n,absoluteTimeout:I})});return t._scheduleSend(),yield c,new i.Response}))()}join(e){var t=this;return f((function*(){return(yield E(t.ENDPOINT_HPNV2_JOIN,{method:"POST",body:e})).json()}))()}getConfig(){var e=this;return f((function*(){return(yield E(e.ENDPOINT_HPNV2_CONFIG)).json()}))()}unload(){l.default.clearTimeout(this.sendTimer),this._reset(),this.proxyBuckets.reset(),this.unloaded=!0}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(280),i=a(r(157)),s=a(r(19)),o=r(145);function a(e){return e&&e.__esModule?e:{default:e}}
/*!
 * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */const g=5;t.default=class{constructor(){let e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).maxDriftInMinutes,t=void 0===e?3:e;this.minutesLocal=0,this.timeDrift=0,this.lastSynced=null,this.maxDriftInMinutes=t,this._resetAntiSpikeStats(),this.onClockOutOfSync=()=>{}}init(){this.unload(),this.minutesLocal=0,this.timeDrift=0,this.lastSynced=null}unload(){this._stopClock(),this.lastSynced=null,this._resetAntiSpikeStats()}_stopClock(){(0,o.clearInterval)(this.steadyClock),this.steadyClock=null}_resetAntiSpikeStats(){this._estimatedUptime=0,this._midnightSpikeDanger=0}syncWithServerTimestamp(e){const t=e.getTime(),r=Date.now();this.timeDrift=t-r,this.minutesLocal=Math.round(t/6e4),this.lastSynced=e,this._stopClock(),this.steadyClock=(0,o.setInterval)(()=>{this.minutesLocal+=1,this._estimatedUptime+=1,this._midnightSpikeDanger=Math.max(0,this._midnightSpikeDanger-1),this.checkTime().inSync?i.default.debug("Local system clock in sync with the server. Last synched at:",t):i.default.warn("Local system clock out of sync with the server. Last synched at:",t)},6e4)}getHoursSinceEpoch(){const e=this.checkTime(),t=e.inSync,r=e.hoursSinceEpoch;if(!t)throw new Error("Clock out of sync");return r}checkTime(){const e=this.minutesLocal,t=Math.round((this.timeDrift+Date.now())/6e4),r=Math.floor(t/60),o=Math.abs(e-t)<=this.maxDriftInMinutes;if(o){const e=(0,n.formatHoursAsYYYYMMDD)(r),t=s.default.get("config_ts");e!==t&&(this._midnightSpikeDanger=g,i.default.log("Syncing config_ts (expected:",e,", actual:",t,")"),s.default.set("config_ts",e))}else i.default.log("Clock is out of sync. It needs a current timestamp from the server to get in sync again."),this.onClockOutOfSync();return{inSync:o,minutesSinceEpoch:t,hoursSinceEpoch:r}}estimateHpnUptime(){return this._estimatedUptime}midnightSpikeDanger(){return this._midnightSpikeDanger>0}isHealthy(){try{return this.checkTime().inSync}catch(e){return i.default.warn("Exception thrown while checking health",e),!1}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=o(r(157)),i=o(r(148)),s=o(r(44));function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function g(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function A(e,t,r,n,i,s,o){try{var a=e[s](o),g=a.value}catch(e){return void r(e)}a.done?t(g):Promise.resolve(g).then(n,i)}function u(e){if(e){const r=new Date(e);if((t=r)instanceof Date&&!isNaN(t))return r}var t;throw new Error("Corrupted date:",e)}t.default=class{constructor(e){this.endpoints=e,this.loadConfigSuccessMinInterval=36e5,this.loadConfigSuccessMaxInterval=144e5,this.loadConfigFailureInterval=1e4,this.onServerTimestampRefresh=()=>{},this.onConfigUpdate=()=>{}}init(){this.lastKnownConfig=null,this._lastKnownConfigWithoutTs=null,this.pendingUpdates=0,this.failedAttemptsInARow=0}unload(){s.default.clearTimeout(this.nextConfigUpdate),this.nextConfigUpdate=null}fetchConfig(){var e,t=this;return(e=function*(){s.default.clearTimeout(t.nextConfigUpdate),t.nextConfigUpdate=null;try{if(t.pendingUpdates+=1,t.pendingUpdates>1)return;const e=yield t.endpoints.getConfig();try{const r=u(e.ts);yield t.onServerTimestampRefresh(r);const i=JSON.stringify(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(r,!0).forEach((function(t){g(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e,{ts:""}));i!==t._lastKnownConfigWithoutTs&&(n.default.log("New configuration found"),yield t.onConfigUpdate(e),t.lastKnownConfig=e,t._lastKnownConfigWithoutTs=i)}catch(e){throw n.default.error("Internal error: Callbacks must never throw",e),e}t.failedAttemptsInARow=0}catch(e){t.failedAttemptsInARow+=1}finally{t.pendingUpdates-=1,0===t.pendingUpdates&&t.scheduleNextConfigUpdate()}},function(){var t=this,r=arguments;return new Promise((function(n,i){var s=e.apply(t,r);function o(e){A(s,n,i,o,a,"next",e)}function a(e){A(s,n,i,o,a,"throw",e)}o(void 0)}))})()}synchronizeClocks(){n.default.log("Fetching configuration to synchronize clocks"),this.fetchConfig()}scheduleNextConfigUpdate(){let e,t;0===this.failedAttemptsInARow?(e=this.loadConfigSuccessMinInterval,t=this.loadConfigSuccessMaxInterval-this.loadConfigSuccessMinInterval):t=e=this.failedAttemptsInARow*this.loadConfigFailureInterval;const r=Math.floor(e+(0,i.default)()*t);s.default.clearTimeout(this.nextConfigUpdate),this.nextConfigUpdate=s.default.setTimeout(()=>{this.fetchConfig().catch(n.default.error)},r)}isHealthy(){return this.lastKnownConfig&&0===this.failedAttemptsInARow}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(r(134)),i=a(r(157)),s=a(r(148)),o=a(r(44));function a(e){return e&&e.__esModule?e:{default:e}}function g(e,t,r,n,i,s,o){try{var a=e[s](o),g=a.value}catch(e){return void r(e)}a.done?t(g):Promise.resolve(g).then(n,i)}function A(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var s=e.apply(t,r);function o(e){g(s,n,i,o,a,"next",e)}function a(e){g(s,n,i,o,a,"throw",e)}o(void 0)}))}}const u=1e3,I=60*u;t.default=class{constructor(){this.totalPending=0,this.laggingTotalPending=0,this.pendingByAction=new n.default(()=>0),this.laggingPendingByAction=new n.default(()=>0),this.timers=new Map,this.initEmptyRuleSet()}initEmptyRuleSet(){this.updateConfig({},{actions:{}})}startRequest(e,t){var r=this;return A((function*(){const n=r.alias.get(e.action)||e.action;r.pendingByAction.update(n,e=>e+1),r.laggingPendingByAction.update(n,e=>e+1),r.totalPending+=1,r.laggingTotalPending+=1;const o=r.computeRecommendedDelay(n,t);if(o>0){const t=(0,s.default)()*o;i.default.log(`Too many messages (action=${e.action}). `+"According to the server, this could lead to traffic spikes on the backend. "+`To mitigate the situation, the server recommends to wait up to ${o/1e3} seconds if possible. `+`Choosing a random delay of ${t/1e3} seconds...`),yield r.delay(t),i.default.log("Waking up from random delay. Ready to send message of type:",e.action)}}))()}endRequest(e){const t=this.alias.get(e.action)||e.action;this.pendingByAction.update(t,e=>e-1),this.totalPending-=1,this.delay(1e4).then(()=>{this.laggingPendingByAction.update(t,e=>e-1),this.laggingTotalPending-=1})}updateConfig(e,t){try{const s=e||{},o=s.alias,a=void 0===o?{}:o,g=s.normal,A=void 0===g?{}:g,C=s.midnight,l=void 0===C?{}:C,c=s.settings,d=void 0===c?{}:c,h={normal:A,midnight:l},f=new Map;for(var r=0,n=Object.keys(a);r<n.length;r++){const e=n[r];a[e].forEach(t=>f.set(t,e))}const p=(e,t)=>{if(null==e)return t;if(!Number.isFinite(e))throw new Error("Expected number");return e},m={minUptimeForThrottle:p(d.minUptimeForThrottle,20*I),safeDelayAbsolute:p(d.safeDelayAbsolute,30*u),safeDelayFraction:p(d.safeDelayFraction,.01)};if(m.minUptimeForThrottle<0||m.safeDelayAbsolute<0||m.safeDelayFraction<0)throw new Error("Sanity check failed");this.rules=h,this.sourceMap=t,this.alias=f,this.settings=m,i.default.log("Successfully updated traffic hints:",h)}catch(e){i.default.warn("Failed to update throttling config. Keep using the old recommendations.",e)}}computeRecommendedDelay(e,t){if((this.sourceMap.actions[e]||{}).nothrottle)return 0;const r=t.estimateHpnUptime()*I;if(r<this.settings.minUptimeForThrottle)return 0;const n=t.midnightSpikeDanger();let i;if(n&&(i=i||this.rules.midnight[e]||this.rules.midnight.default),i=i||this.rules.normal[e],n&&(i=i||this.rules.midnight.default),!(i=i||this.rules.normal.default))return 0;const s=i.maxDelay||0;if(s<=0)return 0;const o=Math.min(i.minDelay||0,s),a=this.laggingPendingByAction.get(e);if(0===o&&a<=1&&!n)return 0;let g=1,A=0;a<=1?g+=1:a>2&&(A+=a),n&&(A+=1);const u=(g*o+A*s)/(g+A),C=10*I,l=this.settings.safeDelayAbsolute+r*this.settings.safeDelayFraction,c=Math.min(l,C);return Math.min(u,c)}delay(e){var t=this;return A((function*(){yield new Promise(r=>{const n=o.default.setTimeout(()=>{t.timers.delete(n),r()},e);t.timers.set(n,r)})}))()}cancelPendingTimers(){this.timers.forEach((e,t)=>{o.default.clearTimeout(t),e()}),this.timers.clear()}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.digest=function(e,t){return e.map(e=>{const r=i(e.split("->"),2),s=r[0],o=r[1],g=a.get(o)(function(e,t){return t.split(/[.[\]]+/).filter(e=>e).reduce((e,t)=>e&&e[t],e)}(t,s));if(void 0===g)throw new n.InvalidMsgError("Found undefined field when calculating digest");return g})},t.flatten=o;var n=r(202);function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var r=[],n=!0,i=!1,s=void 0;try{for(var o,a=e[Symbol.iterator]();!(n=(o=a.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){i=!0,s=e}finally{try{n||null==a.return||a.return()}finally{if(i)throw s}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}const s=new RegExp("[!\"'()*,-./:;?[\\]^_`{|}~%$=&+#]","g");function o(e){const t=[];return function e(r){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(Object(r)!==r)t.push([n,r]);else{let i=!0;Object.keys(r).sort().forEach(t=>{i=!1,e(r[t],n.concat(t))}),i&&n&&t.push([n,{}])}}(e),t}const a=new Map;a.set(null,e=>e),a.set(void 0,e=>e),a.set("url",e=>{if(null==e)return;let t=`${e}`;try{t=decodeURIComponent(e)}catch(e){}return t.replace(/\s+/g,"").toLowerCase().replace(/^http[s]?:\/\//,"").replace(/^www\./,"").replace(s,"")}),a.set("obj",e=>{if(!e)return;const t=o(e);return t.sort((e,t)=>{let r=i(e,1)[0],n=i(t,1)[0];return r<n?-1:r>n?1:0}),t})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.overRideCliqzResults=function(){const e=o.default.module("hpnv2");if(!1===n.default.get("proxyNetwork",!0))return;C||(C=i.defaultHttpHandler);function t(e,t,n){return r.apply(this,arguments)}function r(){var t;return t=function*(t,r,n){try{const n=yield e.action("sendLegacy",t);r&&r({response:n})}catch(e){a.default.log("sendMessageOverHpn error",e),n&&n(e)}},(r=function(){var e=this,r=arguments;return new Promise((function(n,i){var s=t.apply(e,r);function o(e){u(s,n,i,o,a,"next",e)}function a(e){u(s,n,i,o,a,"throw",e)}o(void 0)}))}).apply(this,arguments)}i.overrideHttpHandler((function(e,r,n,i,o,a){if(r.startsWith(s.default.settings.BW_URL)){return t({action:"instant",type:"cliqz",ts:"",ver:"1.5",payload:r.replace(s.default.settings.BW_URL,""),rp:s.default.settings.BW_URL},n,i),null}if(r.startsWith(s.default.settings.RESULTS_PROVIDER_LOG)){return t({action:"extension-result-telemetry",type:"cliqz",ts:"",ver:"1.5",payload:r.replace(s.default.settings.RESULTS_PROVIDER_LOG,"")},n,i),null}if(r.startsWith(I)){return t({action:"offers-api",type:"cliqz",ts:"",ver:"1.5",payload:r.replace(I,""),rp:I,body:a},n,i),null}for(var g=arguments.length,A=new Array(g>6?g-6:0),u=6;u<g;u++)A[u-6]=arguments[u];return C(e,r,n,i,o,a,...A)}))},t.unload=function(){};var n=A(r(19)),i=function(e){if(e&&e.__esModule)return e;var t=g();if(t&&t.has(e))return t.get(e);var r={};if(null!=e){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var s=n?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(r,i,s):r[i]=e[i]}}r.default=e,t&&t.set(e,r);return r}(r(68)),s=A(r(28)),o=A(r(33)),a=A(r(43));function g(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return g=function(){return e},e}function A(e){return e&&e.__esModule?e:{default:e}}function u(e,t,r,n,i,s,o){try{var a=e[s](o),g=a.value}catch(e){return void r(e)}a.done?t(g):Promise.resolve(g).then(n,i)}const I=s.default.settings.OFFERS_BE_BASE_URL;let C=null},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=f(r(85)),i=f(r(133)),s=f(r(483)),o=r(340),a=f(r(19)),g=f(r(39)),A=f(r(339)),u=function(e){if(e&&e.__esModule)return e;var t=h();if(t&&t.has(e))return t.get(e);var r={};if(null!=e){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var s=n?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(r,i,s):r[i]=e[i]}}r.default=e,t&&t.set(e,r);return r}(r(232)),I=r(104),C=r(508),l=f(r(33)),c=r(84),d=r(111);function h(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return h=function(){return e},e}function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t,r,n,i,s,o){try{var a=e[s](o),g=a.value}catch(e){return void r(e)}a.done?t(g):Promise.resolve(g).then(n,i)}var m=(0,n.default)({controlCenter:l.default.module("control-center"),requiresServices:["cliqz-config","domainInfo","pacemaker"],attrack:null,init(e){return this.settings=e,this.core=l.default.module("core"),c.isMobile&&a.default.set("attrackBloomFilter",!1),this.attrack=new s.default,this.enabled=!0,this.clickCache={},(0,C.bindObjectFunctions)(this.popupActions,this),e.DISABLE_ATTRACK_TELEMETRY||A.default.loadFromProvider(e.ATTRACK_TELEMETRY_PROVIDER||"human-web",e.HW_CHANNEL),this.config=new u.default({},()=>this.core.action("refreshAppState")),c.isEdge&&(this.config.databaseEnabled=!1),this.attrack.webRequestPipeline.action("getPageStore").then(e=>{this.pageStore=e}),this.config.init().then(()=>((a.default.get("humanWebOptOut",!1)||function(){const e=l.default.module("human-web");return e.isPresent()&&!e.isEnabled()}())&&(this.config.telemetryMode=u.TELEMETRY.DISABLED),this.attrack.init(this.config,e)))},unload(){null!==this.attrack&&(this.attrack.unload(),this.attrack=null),this.enabled=!1},getState(){return{cookieBlockingEnabled:this.config.cookieEnabled,compatibilityList:this.config.compatibilityList}},currentWindowStatus(e){var t=this;let r=e.id,n=e.url;return(i=function*(){return null===t.attrack?t.status():t.attrack.getTabBlockingInfo(r,n).then(e=>{const r=d.URLInfo.get(e.url),n=e.ps,i=r?r.hostname:"",s=null!==r&&t.attrack.urlWhitelist.isWhitelisted(r.href,r.hostname,r.generalDomain),o=a.default.get("modules.antitracking.enabled",!0)&&!s;let g;return g=o?"active":s?"inactive":"critical",{visible:!0,strict:a.default.get("attrackForceBlock",!1),hostname:i,cookiesCount:e.cookies.blocked,requestsCount:e.requests.unsafe,totalCount:e.cookies.blocked+e.requests.unsafe,badgeData:t.getBadgeData(e),enabled:o,isWhitelisted:s||o,reload:e.reload||!1,trackersList:e,ps:n,state:g}})},function(){var e=this,t=arguments;return new Promise((function(r,n){var s=i.apply(e,t);function o(e){p(s,r,n,o,a,"next",e)}function a(e){p(s,r,n,o,a,"throw",e)}o(void 0)}))})();var i},getBadgeData(e){return null===this.attrack||this.attrack.urlWhitelist.isWhitelisted(e.url)?0:e.cookies.blocked+e.requests.unsafe},actions:{getBadgeData(e){let t=e.tabId,r=e.url;return null===this.attrack?0:this.attrack.getTabBlockingInfo(t,r).then(e=>this.getBadgeData(e))},getCurrentTabBlockingInfo(){return this.attrack.getCurrentTabBlockingInfo()},addPipelineStep(e,t){return this.attrack.pipelines&&this.attrack.pipelines[e]?this.attrack.pipelines[e].addPipelineStep(t):Promise.reject(new Error(`Could not add pipeline step: ${e}, ${t.name}`))},removePipelineStep(e,t){this.attrack&&this.attrack.pipelines&&this.attrack.pipelines[e]&&this.attrack.pipelines[e].removePipelineStep(t)},telemetry(e){return this.attrack.telemetry(e)},getWhitelist(){return this.attrack.qs_whitelist},getTrackerListForTab(e){return this.attrack.getTrackerListForTab(e)},getGhosteryStats(e){const t=this.pageStore.tabs.get(e);return t&&t.annotations&&t.annotations.counter?t.annotations.counter.getSummary():{bugs:{},others:{}}},isEnabled(){return this.enabled},disable(){this.unload()},enable(){this.init(this.settings)},isWhitelisted(e){return this.attrack.urlWhitelist.isWhitelisted(e)},changeWhitelistState(e,t,r){return this.attrack.urlWhitelist.changeState(e,t,r)},getWhitelistState(e){return this.attrack.urlWhitelist.getState(e)},isSourceWhitelisted(e){return this.actions.isWhitelisted(e)},addSourceDomainToWhitelist(e){return this.actions.changeWhitelistState(e,"hostname","add")},removeSourceDomainFromWhitelist(e){return this.actions.changeWhitelistState(e,"hostname","remove")},setConfigOption(e,t){this.config.setPref(e,t)},pause(){this.config.paused=!0},resume(){this.config.paused=!1},setWhiteListCheck(e){this.attrack.isWhitelisted=e}},popupActions:{_isDuplicate(e){const t=Date.now(),r=e.tab+e.hostname+e.path;for(var n=0,i=Object.keys(this.clickCache);n<i.length;n++){const e=i[n];t-this.clickCache[e]>6e4&&delete this.clickCache[e]}return r in this.clickCache||(this.clickCache[r]=t,!1)},telemetry(e,t){if(e.includeUnsafeCount){delete e.includeUnsafeCount;const t=this.attrack.getCurrentTabBlockingInfo();if(t.error||this.popupActions._isDuplicate(t))return;e.unsafe_count=t.cookies.blocked+t.requests.unsafe,e.special=void 0!==t.error}e.type="antitracking",i.default.push(e,t)}},status(){const e=a.default.get("modules.antitracking.enabled",!0);return{visible:!0,strict:a.default.get("attrackForceBlock",!1),state:e?"active":"critical",totalCount:0}},events:{prefchange:function(e){e===o.DEFAULT_ACTION_PREF?(0,o.updateDefaultTrackerTxtRule)():"config_ts"===e?(0,I.updateTimestamp)(a.default.get("config_ts",null)):"humanWebOptOut"===e&&(a.default.get("humanWebOptOut",!1)?this.attrack.setHWTelemetryMode(!1):this.attrack.setHWTelemetryMode(!0)),this.config.onPrefChange(e)},"content:dom-ready":function(e){const t=this.attrack.pipelineSteps.domChecker;t&&(t.loadedTabs[e]=!0,t.recordLinksForURL(e),t.clearDomLinks())},"antitracking:whitelist:add":function(e,t){this.attrack.urlWhitelist.changeState(e,"hostname","add"),this.attrack.logWhitelist(e),t||this.popupActions.telemetry({action:"click",target:"whitelist_domain"},"metrics.legacy.antitracking")},"antitracking:whitelist:remove":function(e,t){this.attrack.urlWhitelist.changeState(e,"hostname","remove"),t||this.popupActions.telemetry({action:"click",target:"unwhitelist_domain"},"metrics.legacy.antitracking")},"control-center:antitracking-strict":()=>{a.default.set("attrackForceBlock",!a.default.get("attrackForceBlock",!1))},"core:mouse-down":function(){if(this.attrack.pipelineSteps.cookieContext){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this.attrack.pipelineSteps.cookieContext.setContextFromEvent.call(this.attrack.pipelineSteps.cookieContext,...t)}},"control-center:antitracking-clearcache":function(e){this.attrack.clearCache(),e||this.popupActions.telemetry({action:"click",target:"clearcache"},"metrics.legacy.antitracking")},"webrequest-pipeline:stage":function(e){let t={bugs:{},others:{}};e.annotations&&e.annotations.counter&&(t=e.annotations.counter.getSummary()),g.default.pub("antitracking:tracker-report",{tabId:e.id,ts:e.s,url:e.url,host:e.hostname,report:t}),this.attrack.onPageStaged(e)}}});t.default=m},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=B(r(203)),i=H(r(336)),s=H(r(43)),o=H(r(200)),a=B(r(33)),g=H(r(44)),A=r(102),u=H(r(19)),I=H(r(39)),C=B(r(173)),l=B(r(104)),c=H(r(337)),d=H(r(486)),h=H(r(338)),f=r(81),p=H(r(339)),m=r(490),_=r(340),y=r(73),b=r(111),v=r(232),w=r(492),k=r(493),M=r(282),O=H(r(494)),S=H(r(495)),D=H(r(496)),T=H(r(342)),L=H(r(497)),E=H(r(498)),P=H(r(499)),x=H(r(500)),j=H(r(501)),R=H(r(504)),Y=H(r(505)),N=H(r(506)),U=r(507);function H(e){return e&&e.__esModule?e:{default:e}}function F(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return F=function(){return e},e}function B(e){if(e&&e.__esModule)return e;var t=F();if(t&&t.has(e))return t.get(e);var r={};if(null!=e){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var s=n?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(r,i,s):r[i]=e[i]}}return r.default=e,t&&t.set(e,r),r}function z(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var r=[],n=!0,i=!1,s=void 0;try{for(var o,a=e[Symbol.iterator]();!(n=(o=a.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){i=!0,s=e}finally{try{n||null==a.return||a.return()}finally{if(i)throw s}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function W(e,t,r,n,i,s,o){try{var a=e[s](o),g=a.value}catch(e){return void r(e)}a.done?t(g):Promise.resolve(g).then(n,i)}t.default=class{constructor(){this.VERSION=v.VERSION,this.LOG_KEY="attrack",this.debug=!1,this.msgType="attrack",this.similarAddon=!1,this.recentlyModified=new h.default,this.whitelistedRequestCache=new Set,this.urlWhitelist=new i.default("attrack-url-whitelist"),this.hourChangedInterval=null,this.tpEventInterval=null,this.webRequestPipeline=a.default.module("webrequest-pipeline"),this.pipelineSteps={},this.pipelines={},this.ghosteryDomains={},this.db=new S.default}checkIsWhitelisted(e){return!!this.whitelistedRequestCache.has(e.requestId)||!!this.isWhitelisted(e)&&(this.whitelistedRequestCache.add(e.requestId),!0)}isWhitelisted(e){return null!==e.tabUrlParts&&this.urlWhitelist.isWhitelisted(e.tabUrl,e.tabUrlParts.hostname,e.tabUrlParts.generalDomain)}obfuscate(e,t){switch(t){case"empty":return"";case"replace":return(0,b.shuffle)(e);case"same":return e;case"placeholder":default:return this.config.placeHolder}}getPrivateValues(e){const t={},r=e.navigator;for(let e=0;e<r.plugins.length;e+=1){const n=r.plugins[e].name;n.length>=8&&(t[n]=!0)}this.privateValues=t}getDefaultRule(){return this.isForceBlockEnabled()?"block":(0,_.getDefaultTrackerTxtRule)()}isEnabled(){return this.config.enabled}isCookieEnabled(){return this.config.cookieEnabled}isQSEnabled(){return this.config.qsEnabled}isFingerprintingEnabled(){return this.config.fingerprintEnabled}isReferrerEnabled(){return this.config.referrerEnabled}isTrackerTxtEnabled(){return this.config.trackerTxtEnabled}isBloomFilterEnabled(){return this.config.bloomFilterEnabled}isForceBlockEnabled(){return this.config.forceBlockEnabled}initPacemaker(){this.hourChangedInterval=g.default.register(this.hourChanged.bind(this),{timeout:12e4})}telemetry(e){let t=e.message,r=e.raw,n=void 0!==r&&r,i=e.compress,s=void 0!==i&&i,o=e.ts,a=void 0===o?void 0:o;t.type||(t.type=p.default.msgType),!0!==n&&(t.payload=(0,M.generateAttrackPayload)(t.payload,a,this.qs_whitelist.getVersion())),!0===s&&(0,k.compressionAvailable)()&&(t.compressed=!0,t.payload=(0,k.compressJSONToBase64)(t.payload)),p.default.telemetry(t)}init(e,t){const r=[];return this.config=e,this.debug&&s.default.log("Init function called:",this.LOG_KEY),!this.hashProb&&e.databaseEnabled&&(this.hashProb=new m.HashProb,this.hashProb.init()),this.qs_whitelist=new d.default(this.config.whitelistUrl),this.qs_whitelist.init(),t&&"CH80"===t.channel||r.push(this.urlWhitelist.init()),e.databaseEnabled&&r.push(this.db.init()),this.onSafekeysUpdated=I.default.subscribe("attrack:safekeys_updated",(e,t)=>{t&&this.pipelineSteps.tokenExaminer&&this.pipelineSteps.tokenExaminer.clearCache()}),this.checkInstalledAddons(),this.initPacemaker(),r.push(this.initPipeline()),Promise.all(r)}setHWTelemetryMode(e){const t=e?v.TELEMETRY.TRACKERS_ONLY:v.TELEMETRY.DISABLED;return this.config.telemetryMode===t?Promise.resolve():(this.config.telemetryMode=t,this.initPipeline())}initPipeline(){var e=this;return this.unloadPipeline().then(()=>{const t={pageLogger:new P.default(this.config),blockRules:new L.default(this.config),cookieContext:new E.default(this.config,this.qs_whitelist),redirectTagger:new x.default,oauthDetector:new N.default};return this.config.databaseEnabled&&this.config.telemetryMode!==v.TELEMETRY.DISABLED&&(t.tokenTelemetry=new Y.default(this.telemetry.bind(this),this.qs_whitelist,this.config,this.db,this.shouldCheckToken.bind(this),this.config.tokenTelemetry)),this.config.databaseEnabled&&(t.tokenExaminer=new R.default(this.qs_whitelist,this.config,this.db,this.shouldCheckToken.bind(this)),t.tokenChecker=new j.default(this.qs_whitelist,{},this.shouldCheckToken.bind(this),this.config,this.telemetry,this.db)),this.pipelineSteps=t,Object.keys(t).forEach(e=>{const r=t[e];r.init&&r.init()}),this.pipelines.onBeforeRequest=new c.default("antitracking.onBeforeRequest",[{name:"checkState",spec:"break",fn:U.checkValidContext},{name:"oauthDetector.checkMainFrames",spec:"break",fn:e=>t.oauthDetector.checkMainFrames(e)},{name:"redirectTagger.checkRedirect",spec:"break",fn:e=>t.redirectTagger.checkRedirect(e)},{name:"checkSameGeneralDomain",spec:"break",fn:U.checkSameGeneralDomain},{name:"cancelRecentlyModified",spec:"blocking",fn:(e,t)=>this.cancelRecentlyModified(e,t)},{name:"pageLogger.onBeforeRequest",spec:"annotate",fn:e=>t.pageLogger.onBeforeRequest(e)},{name:"logIsTracker",spec:"collect",fn:e=>{if(this.qs_whitelist.isTrackerDomain((0,f.truncatedHash)(e.urlParts.generalDomain))){const t=e.getPageAnnotations();t.counter=t.counter||new T.default,t.counter.addTrackerSeen(e.ghosteryBug,e.urlParts.hostname)}e.ghosteryBug&&this.config.cookieMode===v.COOKIE_MODE.GHOSTERY&&(this.ghosteryDomains[e.urlParts.generalDomain]=e.ghosteryBug)}},{name:"checkExternalBlocking",spec:"blocking",fn:(e,t)=>!0!==t.cancel&&!t.redirectUrl||(e.incrementStat("blocked_external"),t.shouldIncrementCounter=!0,!1)},{name:"checkDatabaseEnabled",spec:"break",fn:()=>this.config.databaseEnabled},{name:"tokenExaminer.examineTokens",spec:"collect",fn:e=>t.tokenExaminer.examineTokens(e)},{name:"tokenTelemetry.extractKeyTokens",spec:"collect",fn:e=>!t.tokenTelemetry||t.tokenTelemetry.extractKeyTokens(e)},{name:"tokenChecker.findBadTokens",spec:"annotate",fn:e=>t.tokenChecker.findBadTokens(e)},{name:"checkSourceWhitelisted",spec:"break",fn:e=>!this.checkIsWhitelisted(e)||(e.incrementStat("source_whitelisted"),!1)},{name:"checkShouldBlock",spec:"break",fn:e=>e.badTokens.length>0&&this.qs_whitelist.isUpToDate()&&!this.config.paused},{name:"oauthDetector.checkIsOAuth",spec:"break",fn:e=>t.oauthDetector.checkIsOAuth(e,"token")},{name:"isQSEnabled",spec:"break",fn:()=>this.isQSEnabled()},{name:"blockRules.applyBlockRules",spec:"blocking",fn:(e,r)=>t.blockRules.applyBlockRules(e,r)},{name:"logBlockedToken",spec:"collect",fn:e=>{const t=e.getPageAnnotations();t.counter=t.counter||new T.default,t.counter.addTokenRemoved(e.ghosteryBug,e.urlParts.hostname)}},{name:"applyBlock",spec:"blocking",fn:(e,t)=>this.applyBlock(e,t)}]),this.pipelines.onBeforeSendHeaders=new c.default("antitracking.onBeforeSendHeaders",[{name:"checkState",spec:"break",fn:U.checkValidContext},{name:"cookieContext.assignCookieTrust",spec:"collect",fn:e=>t.cookieContext.assignCookieTrust(e)},{name:"redirectTagger.confirmRedirect",spec:"break",fn:e=>t.redirectTagger.confirmRedirect(e)},{name:"checkIsMainDocument",spec:"break",fn:e=>!e.isMainFrame},{name:"checkSameGeneralDomain",spec:"break",fn:U.checkSameGeneralDomain},{name:"pageLogger.onBeforeSendHeaders",spec:"annotate",fn:e=>t.pageLogger.onBeforeSendHeaders(e)},{name:"catchMissedOpenListener",spec:"blocking",fn:(e,r)=>{(e.reqLog&&0===e.reqLog.c||t.redirectTagger.isFromRedirect(e.url))&&this.pipelines.onBeforeRequest.execute(e,r)}},{name:"overrideUserAgent",spec:"blocking",fn:(e,t)=>{if(!0===this.config.overrideUserAgent){const r=(0,f.truncatedHash)(e.urlParts.generalDomain);this.qs_whitelist.isTrackerDomain(r)&&(t.modifyHeader("User-Agent","CLIQZ"),e.incrementStat("override_user_agent"))}}},{name:"checkHasCookie",spec:"break",fn:e=>!0===e.hasCookie},{name:"checkIsCookieWhitelisted",spec:"break",fn:e=>this.checkIsCookieWhitelisted(e)},{name:"checkCompatibilityList",spec:"break",fn:e=>this.checkCompatibilityList(e)},{name:"checkCookieBlockingMode",spec:"break",fn:e=>this.checkCookieBlockingMode(e)},{name:"cookieContext.checkCookieTrust",spec:"break",fn:e=>t.cookieContext.checkCookieTrust(e)},{name:"cookieContext.checkVisitCache",spec:"break",fn:e=>t.cookieContext.checkVisitCache(e)},{name:"cookieContext.checkContextFromEvent",spec:"break",fn:e=>t.cookieContext.checkContextFromEvent(e)},{name:"oauthDetector.checkIsOAuth",spec:"break",fn:e=>t.oauthDetector.checkIsOAuth(e,"cookie")},{name:"shouldBlockCookie",spec:"break",fn:e=>{const t=!this.checkIsWhitelisted(e)&&this.isCookieEnabled(e)&&!this.config.paused;return t||e.incrementStat("bad_cookie_sent"),t}},{name:"logBlockedCookie",spec:"collect",fn:e=>{const t=e.getPageAnnotations();t.counter=t.counter||new T.default,t.counter.addCookieBlocked(e.ghosteryBug,e.urlParts.hostname)}},{name:"blockCookie",spec:"blocking",fn:(e,t)=>{e.incrementStat("cookie_blocked"),e.incrementStat("cookie_block_tp1"),t.modifyHeader("Cookie",""),this.config.sendAntiTrackingHeader&&t.modifyHeader(this.config.cliqzHeader," "),e.page.counter+=1}}]),this.pipelines.onHeadersReceived=new c.default("antitracking.onHeadersReceived",[{name:"checkState",spec:"break",fn:U.checkValidContext},{name:"checkMainDocumentRedirects",spec:"break",fn:e=>{if(e.isMainFrame){const t=(0,D.default)(e);return t&&e.page.setTrackingStatus(t),!1}return!0}},{name:"checkSameGeneralDomain",spec:"break",fn:U.checkSameGeneralDomain},{name:"redirectTagger.checkRedirectStatus",spec:"break",fn:e=>t.redirectTagger.checkRedirectStatus(e)},{name:"pageLogger.onHeadersReceived",spec:"annotate",fn:e=>t.pageLogger.onHeadersReceived(e)},{name:"logResponseStats",spec:"collect",fn:e=>{if(e.incrementStat&&this.qs_whitelist.isTrackerDomain((0,f.truncatedHash)(e.urlParts.generalDomain))){const t=(0,D.default)(e);t&&(e.incrementStat(`tsv_${t.value}`),t.statusId&&e.incrementStat("tsv_status"))}}},{name:"checkSetCookie",spec:"break",fn:e=>!0===e.hasSetCookie},{name:"shouldBlockCookie",spec:"break",fn:e=>!this.checkIsWhitelisted(e)&&this.isCookieEnabled(e)},{name:"checkIsCookieWhitelisted",spec:"break",fn:e=>this.checkIsCookieWhitelisted(e)},{name:"checkCompatibilityList",spec:"break",fn:e=>this.checkCompatibilityList(e)},{name:"checkCookieBlockingMode",spec:"break",fn:e=>this.checkCookieBlockingMode(e)},{name:"cookieContext.checkCookieTrust",spec:"break",fn:e=>t.cookieContext.checkCookieTrust(e)},{name:"cookieContext.checkVisitCache",spec:"break",fn:e=>t.cookieContext.checkVisitCache(e)},{name:"cookieContext.checkContextFromEvent",spec:"break",fn:e=>t.cookieContext.checkContextFromEvent(e)},{name:"logSetBlockedCookie",spec:"collect",fn:e=>{const t=e.getPageAnnotations();t.counter=t.counter||new T.default,t.counter.addCookieBlocked(e.ghosteryBug,e.urlParts.hostname)}},{name:"blockSetCookie",spec:"blocking",fn:(e,t)=>{t.modifyResponseHeader("Set-Cookie",""),e.incrementStat("set_cookie_blocked"),e.page.counter+=1}}]),this.pipelines.onCompleted=new c.default("antitracking.onCompleted",[{name:"checkState",spec:"break",fn:U.checkValidContext},{name:"logPrivateDocument",spec:"break",fn:e=>!e.isMainFrame||!e.ip||((0,y.isPrivateIP)(e.ip)&&(e.page.isPrivateServer=!0),!1)},{name:"pageLogger.reattachStatCounter",spec:"annotate",fn:e=>t.pageLogger.reattachStatCounter(e)},{name:"logIsCached",spec:"collect",fn:e=>{this.whitelistedRequestCache.delete(e.requestId),e.incrementStat(e.fromCache?"cached":"not_cached")}}]),this.pipelines.onErrorOccurred=new c.default("antitracking.onError",[{name:"checkState",spec:"break",fn:U.checkValidContext},{name:"pageLogger.reattachStatCounter",spec:"annotate",fn:e=>t.pageLogger.reattachStatCounter(e)},{name:"logError",spec:"collect",fn:e=>{this.whitelistedRequestCache.delete(e.requestId),e.error&&e.error.indexOf("ABORT")&&e.incrementStat("error_abort")}}]),Promise.all(Object.keys(this.pipelines).map(t=>this.webRequestPipeline.action("addPipelineStep",t,{name:`antitracking.${t}`,spec:"blocking",fn:function(){return e.pipelines[t].execute(...arguments)}})))})}unloadPipeline(){return Object.keys(this.pipelineSteps||{}).forEach(e=>{const t=this.pipelineSteps[e];t.unload&&t.unload()}),Object.keys(this.pipelines).forEach(e=>{this.pipelines[e].unload()}),Promise.all(Object.keys(this.pipelines).map(e=>(0,a.ifModuleEnabled)(this.webRequestPipeline.action("removePipelineStep",e,`antitracking.${e}`)))).then(()=>{this.pipelines={}})}initWindow(e){this.getPrivateValues(e)}unload(){this.hashProb.unload(),this.qs_whitelist.destroy(),this.unloadPipeline(),this.db.unload(),this.onSafekeysUpdated.unsubscribe(),g.default.clearTimeout(this.hourChangedInterval),this.hourChangedInterval=null,g.default.clearTimeout(this.tpEventInterval),this.tpEventInterval=null}checkInstalledAddons(){(0,w.checkInstalledPrivacyAddons)().then(e=>{this.similarAddon=e}).catch(()=>{})}hourChanged(){const e=l.getTime().slice(0,10),t=n.getValue("hourChangedlastRun")||e;n.setValue("hourChangedlastRun",e),e!==t&&I.default.pub("attrack:hour_changed")}isInWhitelist(e){if(!this.config.cookieWhitelist)return!1;const t=this.config.cookieWhitelist;for(let r=0;r<t.length;r+=1){const n=e.indexOf(t[r]);if(n>=0&&n+t[r].length===e.length)return!0}return!1}cancelRecentlyModified(e,t){const r=e.tabId,n=e.url;return!this.recentlyModified.contains(r+n)||(this.recentlyModified.delete(r+n),t.block(),!1)}applyBlock(e,t){const r=t,n=e.badTokens,i=this.getDefaultRule();if(this.debug&&s.default.log("ATTRACK",i,"URL:",e.urlParts.hostname,e.urlParts.pathname,"TOKENS:",n),"block"===i)return e.incrementStat(`token_blocked_${i}`),r.block(),r.shouldIncrementCounter=!0,!1;let o=e.url;for(let e=0;e<n.length;e+=1)o=o.replace(n[e],this.obfuscate(n[e],i));return o.startsWith(e.urlParts.origin)?(e.incrementStat(`token_blocked_${i}`),this.recentlyModified.add(e.tabId+e.url,3e4),r.redirectTo(o),r.modifyHeader(this.config.cliqzHeader," "),e.page.counter+=1,!0):(r.block(),!1)}checkIsCookieWhitelisted(e){if(this.isInWhitelist(e.urlParts.hostname)){const t=void 0!==e.statusCode?"set_cookie":"cookie";return e.incrementStat(`${t}_allow_whitelisted`),!1}return!0}checkCompatibilityList(e){const t=e.urlParts.generalDomain,r=e.tabUrlParts.generalDomain;return!this.config.compabilityList||!this.config.compatibilityList[t]||-1===this.config.compatibilityList[t].indexOf(r)}checkCookieBlockingMode(e){const t=this.config.cookieMode;return t!==v.COOKIE_MODE.TRACKERS||this.qs_whitelist.isTrackerDomain((0,f.truncatedHash)(e.urlParts.generalDomain))?!(t===v.COOKIE_MODE.GHOSTERY&&!this.ghosteryDomains[e.urlParts.generalDomain]&&"google"!==!(0,y.getGeneralDomainMinusTLD)(e.urlParts))||(e.incrementStat("cookie_allow_ghostery"),!1):(e.incrementStat("cookie_allow_nottracker"),!1)}getTabBlockingInfo(e,t){var r,n=this;return(r=function*(){const r={url:t,tab:e,hostname:"",path:"",cookies:{allowed:0,blocked:0},requests:{safe:0,unsafe:0},trackers:{},companies:{},companyInfo:{},ps:null};if(t&&(t.startsWith("about")||t.startsWith("chrome")||t.startsWith("resource")))return r.error="Special tab",Promise.resolve(r);const i=yield n.webRequestPipeline.action("getPageForTab",e);if(!i)return C.checkIsWindowActive(e).then(e=>(e&&(r.reload=!0),r.error="No Data",r));const s=[...i.requestStats.entries()].filter(e=>{let t=z(e,2),r=t[0],i=t[1];return n.qs_whitelist.isTrackerDomain((0,f.truncatedHash)((0,A.getGeneralDomain)(r)))||i.blocked_blocklist>0}).map(e=>e[0]),a=b.URLInfo.get(i.url);return r.hostname=a.hostname,r.path=a.path,s.forEach(e=>{r.trackers[e]={},["c","cookie_set","cookie_blocked","bad_cookie_sent","bad_qs","set_cookie_blocked","blocked_blocklist"].forEach(t=>{r.trackers[e][t]=i.requestStats.get(e)[t]||0}),r.trackers[e].tokens_removed=["empty","replace","placeholder","block"].reduce((t,r)=>t+(i.requestStats.get(e)[`token_blocked_${r}`]||0),0),r.trackers[e].tokens_removed+=i.requestStats.get(e).blocked_blocklist||0,r.cookies.allowed+=r.trackers[e].cookie_set-r.trackers[e].cookie_blocked,r.cookies.blocked+=r.trackers[e].cookie_blocked+r.trackers[e].set_cookie_blocked,r.requests.safe+=r.trackers[e].c-r.trackers[e].tokens_removed,r.requests.unsafe+=r.trackers[e].tokens_removed,r.trackers[e].cookie_blocked+=r.trackers[e].set_cookie_blocked;const t=o.default.getDomainOwner(e);r.companyInfo[t.name]=t,t.name in r.companies||(r.companies[t.name]=[]),r.companies[t.name].push(e)}),Promise.resolve(r)},function(){var e=this,t=arguments;return new Promise((function(n,i){var s=r.apply(e,t);function o(e){W(s,n,i,o,a,"next",e)}function a(e){W(s,n,i,o,a,"throw",e)}o(void 0)}))})()}getCurrentTabBlockingInfo(e){return C.getActiveTab(e).then(e=>{let t=e.id,r=e.url;return this.getTabBlockingInfo(t,r)})}getTrackerListForTab(e){return this.getTabBlockingInfo(e).then(e=>{const t={};return Object.keys(e.companies).forEach(r=>{e.companies[r].forEach(e=>{t[e]=r})}),Object.keys(e.trackers).map(r=>{return{name:t[r]||(0,A.getGeneralDomain)(r),count:e.trackers[r].tokens_removed||0}}).reduce((e,t)=>(e[t.name]=(e[t.name]||0)+t.count,e),{})})}enableModule(){this.isEnabled()||this.config.setPref("enabled",!0)}disableModule(){u.default.set(this.config.PREFS.enabled,!1)}logWhitelist(e){this.telemetry({message:{type:p.default.msgType,action:"attrack.whitelistDomain",payload:e},raw:!0})}clearCache(){this.pipelineSteps.tokenExaminer&&this.pipelineSteps.tokenExaminer.clearCache(),this.pipelineSteps.tokenChecker&&this.pipelineSteps.tokenChecker.tokenDomain.clear()}shouldCheckToken(e){return(0,m.shouldCheckToken)(this.hashProb,this.config.shortTokenLength,e)}onPageStaged(e){if(this.config.telemetryMode!==v.TELEMETRY.DISABLED&&"complete"===e.state&&!e.isPrivate&&!e.isPrivateServer){const t=(0,O.default)(e);if(t.scheme.startsWith("http")&&Object.keys(t.tps).length>0){const e=(0,M.generateAttrackPayload)([t],void 0,{conf:{},addons:this.similarAddon});this.telemetry({message:{type:p.default.msgType,action:"attrack.tp_events",payload:e},raw:!0})}}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i=(n=r(327))&&n.__esModule?n:{default:n};
/*!
 * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */
var s={getItem:e=>i.default.get(e).catch(()=>null),setItem:(e,t)=>i.default.set(e,t),removeItem:e=>i.default.remove(e)};t.default=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(r(133)),i=s(r(44));function s(e){return e&&e.__esModule?e:{default:e}}function o(e,t,r,n,i,s,o){try{var a=e[s](o),g=a.value}catch(e){return void r(e)}a.done?t(g):Promise.resolve(g).then(n,i)}const a=["0","1","2","3","4","5-9","5-9","5-9","5-9","5-9","10-14","10-14","10-14","10-14","10-14","15-19","15-19","15-19","15-19","15-19","20-24","20-24","20-24","20-24","20-24","25-29","25-29","25-29","25-29","25-29","30-39","30-39","30-39","30-39","30-39","30-39","30-39","30-39","30-39","30-39","40-49","40-49","40-49","40-49","40-49","40-49","40-49","40-49","40-49","40-49","50-59","50-59","50-59","50-59","50-59","50-59","50-59","50-59","50-59","50-59","60-69","60-69","60-69","60-69","60-69","60-69","60-69","60-69","60-69","60-69"];t.default=class{constructor(e){this.name=e,this.flushInterval=null,this.total=0,this.histograms=null,this.resetTimings()}resetTimings(){this.total=0,this.histograms=Object.create(null)}init(){this.flushInterval=i.default.everyFewMinutes(this.flush.bind(this))}unload(){i.default.clearTimeout(this.flushInterval),this.flushInterval=null}addTiming(e,t){let r=this.histograms[e];void 0===r&&(r=Object.create(null),this.histograms[e]=r);const n=t<70?a[t]:"70+";r[n]=(r[n]||0)+1,this.total+=1,this.total>=5e3&&this.flush()}flush(){var e,t=this;return(e=function*(){if(0===t.total)return;const e=Object.keys(t.histograms).map(e=>({step:`${t.name}.${e}`,histogram:t.histograms[e]}));t.resetTimings(),yield n.default.push(e,"metrics.performance.webrequest-pipeline.timings")},function(){var t=this,r=arguments;return new Promise((function(n,i){var s=e.apply(t,r);function a(e){o(s,n,i,a,g,"next",e)}function g(e){o(s,n,i,a,g,"throw",e)}a(void 0)}))})()}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=A(r(487)),i=r(124),s=r(68),o=A(r(103)),a=A(r(44)),g=A(r(488));function A(e){return e&&e.__esModule?e:{default:e}}function u(e,t,r,n,i,s,o){try{var a=e[s](o),g=a.value}catch(e){return void r(e)}a.done?t(g):Promise.resolve(g).then(n,i)}function I(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var s=e.apply(t,r);function o(e){u(s,n,i,o,a,"next",e)}function a(e){u(s,n,i,o,a,"throw",e)}o(void 0)}))}}function C(e){return l.apply(this,arguments)}function l(){return(l=I((function*(e){const t=yield(0,s.fetchArrayBuffer)(e);if(!t.ok)throw new Error(t.error);return yield t.arrayBuffer()}))).apply(this,arguments)}t.default=class{constructor(e){this.bloomFilter=null,this.CDN_BASE_URL=e,this._bfLoader=new i.Resource(["antitracking","bloom_filter2.json"],{dataType:"json",remoteOnly:!0}),this._bfBinaryLoader=new i.Resource(["antitracking","bloom_filter2.bin"],{dataType:"binary",remoteOnly:!0}),this.localSafeKey={}}init(){var e=this;return I((function*(){try{const t=yield e._bfLoader.load(),r=t.version,i=t.localSafeKey,s=yield e._bfBinaryLoader.load();e.bloomFilter=new n.default(s),e.version=r,e.localSafeKey=i||{},g.default.debug(`[QSWhitelist2] Bloom filter loaded version ${r}`)}catch(e){g.default.info("[QSWhitelist2] Failed loading filter from local")}if(null===e.bloomFilter)try{const t=yield e._fetchUpdateURL();yield e._fullUpdate(t.version)}catch(t){g.default.error("[QSWhitelist2] Error fetching bloom filter from remote",t);const r=1e3,i=10,s=new ArrayBuffer(5+4*r),o=new DataView(s);o.setUint32(0,r,!1),o.setUint8(4,i,!1),e.bloomFilter=new n.default(s)}else try{yield e._checkForUpdates()}catch(e){g.default.error("[QSWhitelist2] Error fetching bloom filter updates from remote",e)}e._updateChecker=a.default.everyHour(e._checkForUpdates.bind(e))}))()}_fetchUpdateURL(){var e=this;return I((function*(){const t=yield(0,s.fetch)(`${e.CDN_BASE_URL}/update.json.gz`);if(!t.ok)throw new Error(t.error);return t.json()}))()}_fullUpdate(e){var t=this;return I((function*(){const r=yield C(`${t.CDN_BASE_URL}/${e}/bloom_filter.gz`);t.bloomFilter=new n.default(r),t.version=e,g.default.debug(`[QSWhitelist2] Bloom filter fetched version ${e}`),yield t._persistBloomFilter()}))()}_checkForUpdates(){var e=this;return I((function*(){const t=yield e._fetchUpdateURL(),r=t.version,n=t.useDiff;if(r!==e.version){if(e._cleanLocalSafekey(),!0===n&&-1===(0,o.default)(e.version).diff(r,"days")){g.default.debug(`[QSWhitelist2] Updating bloom filter to version ${r} from diff file`);const t=yield C(`${e.CDN_BASE_URL}/${r}/bf_diff_1.gz`);return e.bloomFilter.update(t),e.version=r,void(yield e._persistBloomFilter())}g.default.debug(`[QSWhitelist2] Updating bloom filter to version ${r}`),yield e._fullUpdate(r)}else g.default.debug("[QSWhitelist2] Bloom filter is up-to-date")}))()}_persistBloomFilter(){var e=this;return I((function*(){null!==e.bloomFilter&&(yield e._bfBinaryLoader.persist(e.bloomFilter.data.buffer),yield e._bfLoader.persist(JSON.stringify({version:e.version,localSafeKey:e.localSafeKey})))}))()}_cleanLocalSafekey(){const e=(0,o.default)().subtract(7,"days").valueOf();Object.keys(this.localSafeKey).forEach(t=>{Object.keys(this.localSafeKey[t]).forEach(r=>{this.localSafeKey[t][r]<e&&delete this.localSafeKey[t][r]}),0===Object.keys(this.localSafeKey[t]).length&&delete this.localSafeKey[t]})}destroy(){var e=this;return I((function*(){a.default.clearTimeout(e._updateChecker),yield e._persistBloomFilter()}))()}isUpToDate(){return this.isReady()}isReady(){return null!==this.bloomFilter}isTrackerDomain(e){return!!this.isReady()&&this.bloomFilter.testSingle(`d${e}`)}shouldCheckDomainTokens(e){return!!this.isReady()&&this.bloomFilter.testSingle(`c${e}`)}isSafeKey(e,t){return!this.isReady()||(!!this.bloomFilter.testSingle(`k${e}${t}`)||!(!this.localSafeKey[e]||!this.localSafeKey[e][t]))}isSafeToken(e,t){return!this.isReady()||this.bloomFilter.testSingle(`t${t}`)}isUnsafeKey(){return!1}addSafeKey(e,t){this.localSafeKey[e]||(this.localSafeKey[e]={}),this.localSafeKey[e][t]=(0,o.default)().valueOf()}addSafeToken(e,t){this.isTrackerDomain(e)||this.bloomFilter.addSingle(`d${e}`),this.shouldCheckDomainTokens(e)||this.bloomFilter.addSingle(`c${e}`),this.bloomFilter.addSingle(`t${t}`)}getVersion(){return{day:this.version}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i=(n=r(81))&&n.__esModule?n:{default:n};
/*!
 * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */
class s{constructor(e){this.data=new DataView(e),this.n=this.data.getUint32(0,!1),this.k=this.data.getUint8(4,!1),this.m=32*this.n;const t=1<<Math.ceil(Math.log(Math.ceil(Math.log(this.m)/Math.LN2/8))/Math.LN2);let r;r=1===t?Uint8Array:2===t?Uint16Array:Uint32Array,this._locations=new r(this.k)}getBucket(e){return this.data.getUint32(5+4*e,!1)}locations(e,t){const r=parseInt(e,16),n=parseInt(t,16);let i=r%this.m;for(let e=0;e<this.k;e+=1)this._locations[e]=i<0?i+this.m:i,i=(i+n)%this.m;return this._locations}test(e,t){const r=this.locations(e,t);for(let e=0;e<this.k;e+=1){const t=r[e];if(0==(this.getBucket(Math.floor(t/32))&1<<t%32))return!1}return!0}testSingle(e){const t=(0,i.default)(e),r=t.substring(0,8),n=t.substring(8,16);return this.test(r,n)}add(e,t){const r=this.locations(e,t);for(let e=0;e<this.k;e+=1){const t=5+4*Math.floor(r[e]/32),n=this.data.getUint32(t,!1)|1<<r[e]%32;this.data.setUint32(t,n,!1)}}addSingle(e){const t=(0,i.default)(e),r=t.substring(0,8),n=t.substring(8,16);return this.add(r,n)}update(e){const t=new s(e);if(t.n!==this.n&&t.k!==this.k)throw new Error("Bloom filter can only be updated with same length");for(let e=0;e<this.n;e+=1){const r=5+4*e;this.data.setUint32(r,this.data.getUint32(r)|t.getBucket(e),!1)}}}t.default=s},function(e,t,r){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;
/*!
 * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */
var i=((n=r(74))&&n.__esModule?n:{default:n}).default.get("antitracking",{level:"log"});t.default=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isMostlyNumeric=g,t.isTimestamp=I,t.shouldCheckToken=function(e,t,r){if(r.length<t)return!1;if((0,s.isIpv4Address)(r))return!1;if(r.length<13&&g(r))return!0;if(13===r.length&&I(r))return!1;return e.isHash(r)},t.HashProb=void 0;var n=o(r(124)),i=o(r(28)),s=r(73);function o(e){return e&&e.__esModule?e:{default:e}}
/*!
 * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */t.HashProb=class{constructor(){this.probHashLogM=null,this.probHashThreshold=null,this.probHashChars={},"abcdefghijklmnopqrstuvwxyz1234567890.- ".split("").forEach((e,t)=>{this.probHashChars[e]=t}),this.probLoader=new n.default(["antitracking","prob.json"],{remoteURL:`${i.default.settings.CDN_BASEURL}/anti-tracking/prob.json`,cron:6048e5})}_update(e){this.probHashLogM=e.logM,this.probHashThreshold=e.thresh}init(){return this.probLoader.onUpdate(this._update.bind(this)),this.probLoader.load().then(this._update.bind(this))}unload(){this.probLoader.stop()}isHashProb(e){if(!this.probHashLogM||!this.probHashThreshold)return 0;let t=0,r=0;e=e.toLowerCase().replace(/[^a-z0-9.\- ]/g,"");for(let n=0;n<e.length-1;n+=1){const i=this.probHashChars[e[n]],s=this.probHashChars[e[n+1]];t+=this.probHashLogM[i][s],r+=1}return r>0?Math.exp(t/r):Math.exp(t)}isHash(e){return this.isHashProb(e)<this.probHashThreshold}};const a=.8;function g(e){let t=0;const r=e.length;for(let r=0;r<e.length;r+=1){const n=e.charCodeAt(r);n>=48&&n<58&&(t+=1)}return t/r>a}const A=new Date(2010,1,1).getTime(),u=Date.now()+15768e7;function I(e){const t=parseInt(e,10);return!isNaN(t)&&t>A&&t<u}},function(e,t,r){"use strict";function n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var r=[],n=!0,i=!1,s=void 0;try{for(var o,a=e[Symbol.iterator]();!(n=(o=a.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){i=!0,s=e}finally{try{n||null==a.return||a.return()}finally{if(i)throw s}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t,r,n,i,s,o){try{var a=e[s](o),g=a.value}catch(e){return void r(e)}a.done?t(g):Promise.resolve(g).then(n,i)}function a(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var s=e.apply(t,r);function a(e){o(s,n,i,a,g,"next",e)}function g(e){o(s,n,i,a,g,"throw",e)}a(void 0)}))}}
/*!
 * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */function g(e){if("string"!=typeof e)throw new Error(`AsyncStorage expected a string, got: ${e}`)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var A=new class{constructor(){this.storage=new Map}getItem(e){var t=this;return a((function*(){return g(e),t.storage.get(e)}))()}setItem(e,t){var r=this;return a((function*(){g(e),g(t),r.storage.set(e,t)}))()}removeItem(e){var t=this;return a((function*(){g(e),t.storage.delete(e)}))()}mergeItem(e,t){var r=this;return a((function*(){return g(e),g(t),r.storage.has(e)?r.setItem(e,JSON.stringify(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(r,!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},JSON.parse(r.storage.get(e)),{},JSON.parse(t)))):r.setItem(e,t)}))()}clear(){var e=this;return a((function*(){e.storage=new Map}))()}getAllKeys(){var e=this;return a((function*(){return[...e.storage.keys()]}))()}flushGetRequests(){return a((function*(){}))()}multiGet(e){var t=this;return a((function*(){return e.forEach(g),e.map(e=>[e,t.storage.get(e)])}))()}multiSet(e){var t=this;return a((function*(){for(let r=0;r<e.length;r+=1){const i=n(e[r],2),s=i[0],o=i[1];g(s),g(o),t.storage.set(s,o)}}))()}multiRemove(e){var t=this;return a((function*(){e.forEach(g),e.forEach(e=>t.storage.delete(e))}))()}multiMerge(){return a((function*(){}))()}};t.default=A},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.checkInstalledPrivacyAddons=
/*!
 * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */
function(){return Promise.reject(new Error("not supported on this platform"))},t.auditInstalledAddons=function(){return Promise.reject(new Error("not supported on this platform"))}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.compressionAvailable=
/*!
 * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */
function(){return!1!==i.compress},t.compressJSONToBase64=function(e){const t=(0,i.compress)(JSON.stringify(e));return(0,n.toBase64)(t)};var n=r(112),i=r(270)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=i.URLInfo.get(e.url),r={};var a=!0,g=!1,A=void 0;try{for(var u,I=e.requestStats.entries()[Symbol.iterator]();!(a=(u=I.next()).done);a=!0){const e=s(u.value,2),t=e[0],n=e[1];r[t]=n}}catch(e){g=!0,A=e}finally{try{a||null==I.return||I.return()}finally{if(g)throw A}}return{hostname:(0,n.truncatedHash)(t.hostname),path:(0,n.truncatedHash)(o(t.path)),scheme:t.scheme,c:1,t:e.destroyed-e.created,active:e.activeTime,counter:e.counter,ra:0,tps:r,placeHolder:!1,redirects:[],redirectsPlaceHolder:[],triggeringTree:{},tsv:e.tsv,tsv_id:void 0!==e.tsvId,frames:{},cmp:e.annotations.cmp,hiddenElements:e.annotations.hiddenElements}};var n=r(81),i=r(111);function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var r=[],n=!0,i=!1,s=void 0;try{for(var o,a=e[Symbol.iterator]();!(n=(o=a.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){i=!0,s=e}finally{try{n||null==a.return||a.return()}finally{if(i)throw s}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function o(e){return`/${s(e.substring(1).split("/"),1)[0]}`}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i=(n=r(113))&&n.__esModule?n:{default:n};function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}t.default=class{constructor(){this.db=null,this._ready=null}init(){return null!==this.db?Promise.resolve():(this._ready=(0,i.default)().then(e=>{this.db=new e("antitracking");const t={tokenDomain:"[token+fp], token, mtime",tokenBlocked:"token, expires",requestKeyValue:"[tracker+key+value], [tracker+key], day"};return this.db.version(2).stores(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(r,!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},t,{tokens:"token, lastSent, created",keys:"hash, lastSent, created"})),this.db.version(1).stores(t),this.db.open()}),this._ready)}unload(){null!==this.db&&(this.db.close(),this.db=null)}get ready(){return null===this._ready?Promise.reject(new Error("init not called")):this._ready}get tokenDomain(){return this.db.tokenDomain}get tokenBlocked(){return this.db.tokenBlocked}get requestKeyValue(){return this.db.requestKeyValue}get tokens(){return this.db.tokens}get keys(){return this.db.keys}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=
/*!
 * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */
function(e){const t=e.getResponseHeader("tk");if(t){const e=t.split(";"),i=(n=2,function(e){if(Array.isArray(e))return e}(r=e)||function(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var r=[],n=!0,i=!1,s=void 0;try{for(var o,a=e[Symbol.iterator]();!(n=(o=a.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){i=!0,s=e}finally{try{n||null==a.return||a.return()}finally{if(i)throw s}}return r}}(r,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()),s=i[0],o=i[1];return{value:s,statusId:o}}var r,n;return null}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=
/*!
 * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */
class{constructor(e){this.config=e}get qsBlockRule(){return this.config.blockRules||[]}shouldBlock(e,t){for(let r=0;r<this.qsBlockRule.length;r+=1){const n=this.qsBlockRule[r][0],i=this.qsBlockRule[r][1];if(t.endsWith(n)&&e.endsWith(i))return!0}return!1}applyBlockRules(e,t){return!this.shouldBlock(e.urlParts.hostname,e.tabUrlParts.hostname)||(e.incrementStat("req_rule_aborted"),t.cancel=!0,!1)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i=r(81),s=(n=r(44))&&n.__esModule?n:{default:n},o=r(111),a=r(102),g=r(282);t.default=
/*!
 * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */
class{constructor(e,t){this.config=e,this.qsWhitelist=t,this.visitCache={},this.contextFromEvent=null,this.timeAfterLink=5e3,this.timeCleaningCache=18e4,this.timeActive=2e4,this.trustedThirdParties=new Map,this.UNUSED_TRUST_TIMEOUT=12e4,this.USED_TRUST_TIMEOUT=9e5}init(){this._pmclean=s.default.register(this.cleanCookieCache.bind(this),{timeout:12e4})}unload(){s.default.clearTimeout(this._pmclean),this._pmclean=null}cleanCookieCache(e){(0,g.cleanTimestampCache)(this.visitCache,this.timeCleaningCache,e);const t=Date.now();this.trustedThirdParties.forEach((e,r)=>{const n=e.ts+(e.c>0?this.USED_TRUST_TIMEOUT:this.UNUSED_TRUST_TIMEOUT);t>n&&this.trustedThirdParties.delete(r)})}_addTrustLink(e,t){if((0,a.sameGeneralDomain)(e,t))return;if(this.qsWhitelist.isTrackerDomain((0,i.truncatedHash)((0,a.getGeneralDomain)(t))))return;const r=`${e}:${t}`;this.trustedThirdParties.has(r)||this.trustedThirdParties.set(r,{c:0}),this.trustedThirdParties.get(r).ts=Date.now()}assignCookieTrust(e){if(e.isMainFrame&&e.getReferrer()){const t=o.URLInfo.get(e.getReferrer());if(!t)return!0;const r=e.urlParts.hostname,n=t.hostname;this._addTrustLink(n,r)}return!0}checkCookieTrust(e){const t=void 0!==e.statusCode?"set_cookie":"cookie",r=`${e.tabUrlParts.hostname}:${e.urlParts.hostname}`;if(this.config.cookieTrustReferers&&this.trustedThirdParties.has(r)){const n=this.trustedThirdParties.get(r);return n.c+=1,n.ts=Date.now(),e.incrementStat(`${t}_allow_trust`),!1}return!0}checkVisitCache(e){const t=void 0!==e.statusCode?"set_cookie":"cookie",r=e.tabId;return!(Date.now()-(this.visitCache[`${r}:${e.hostGD}`]||0)<this.timeActive&&this.visitCache[`${r}:${e.sourceGD}`])||(e.incrementStat(`${t}_allow_visitcache`),!1)}checkContextFromEvent(e){if(this.contextFromEvent){const t=void 0!==e.statusCode?"set_cookie":"cookie",r=Date.now(),n=e.url,i=e.tabId,s=e.urlParts,o=e.tabUrlParts.generalDomain,a=e.urlParts.generalDomain;if(r-(this.contextFromEvent.ts||0)<this.timeAfterLink){if(a===this.contextFromEvent.cGD&&o===this.contextFromEvent.pageGD)return this.visitCache[`${i}:${a}`]=r,e.incrementStat(`${t}_allow_userinit_same_context_gd`),!1;const g=n.split(/[?&;]/)[0];if(-1!==this.contextFromEvent.html.indexOf(g)&&s&&s.hostname&&""!==s.hostname)return this.visitCache[`${i}:${a}`]=r,e.incrementStat(`${t}_allow_userinit_same_gd_link`),!1;if(!this.contextFromEvent.cGD&&this.contextFromEvent.possibleCGD.has(a))return this.visitCache[`${i}:${a}`]=r,e.incrementStat(`${t}_allow_userinit_same_script_gd`),!1}}return!0}extractPossilbeContextGD(e){return new Set(e.map(e=>o.URLInfo.get(e).generalDomain))}setContextFromEvent(e,t,r,n){let i=null,s=null;const a=t||"";try{s=o.URLInfo.get(n.tab.url).generalDomain,i=o.URLInfo.get(e.target.baseURI).generalDomain}catch(e){}if(!s||i===s)return;const g=this.extractPossilbeContextGD(e.target.linksSrc);this.contextFromEvent={html:a,ts:Date.now(),cGD:i,pageGD:s,possibleCGD:g}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(282);
/*!
 * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */const i={other:1,script:2,image:3,stylesheet:4,object:5,main_frame:6,sub_frame:7,xbl:9,ping:10,xmlhttprequest:11,object_subrequest:12,xml_dtd:13,font:14,media:15,websocket:16,csp_report:17,xslt:18,beacon:19,imageset:21,web_manifest:22};t.default=class{constructor(e){this.config=e,this._requestCounters=new Map}attachCounters(e){const t=e.page.getStatsForDomain((0,n.truncateDomain)(e.urlParts.domainInfo,2));e.reqLog=t;const r=(e,r)=>{t[e]=(t[e]||0)+(r||1)},i=(e,r)=>{t[e]=r};e.incrementStat=r,e.setStat=i,e.getPageAnnotations=()=>e.page.annotations,e.requestId&&this._requestCounters.set(e.requestId,{incrementStat:r,setStat:i,getPageAnnotations:e.getPageAnnotations,ghosteryBug:e.ghosteryBug})}onBeforeRequest(e){this.attachCounters(e);const t=e.incrementStat,r=e.setStat,n=e.urlParts;t("c"),n.search.length>0&&t("has_qs"),n.hasParameterString()>0&&t("has_ps"),n.hash.length>0&&t("has_fragment"),"POST"===e.method&&t("has_post"),t(`type_${i[e.type]||"unknown"}`);t(`scheme_${(e=>"http:"===e||"https:"===e)(n.protocol)?n.scheme:"other"}`),t(`window_depth_${Math.min(e.frameAncestors.length,2)}`),e.url.indexOf(this.config.placeHolder)>-1&&t("hasPlaceHolder"),e.ghosteryBug&&r("ghostery_bid",e.ghosteryBug)}onBeforeSendHeaders(e){e.requestId&&this._requestCounters.has(e.requestId)?this.loadStatCounters(e):this.attachCounters(e);const t=e.getReferrer();t&&t.indexOf(e.tabUrl)>-1&&e.incrementStat("referer_leak_header"),(e.url.indexOf(e.tabUrlParts.hostname)>-1||e.url.indexOf(encodeURIComponent(e.tabUrlParts.hostname))>-1)&&(e.incrementStat("referer_leak_site"),(e.url.indexOf(e.tabUrlParts.pathname)>-1||e.url.indexOf(encodeURIComponent(e.tabUrlParts.pathname))>-1)&&e.incrementStat("referer_leak_path")),e.cookieData=e.getCookieData();const r=e.cookieData&&e.cookieData.length>5;return r&&e.incrementStat("cookie_set"),e.hasCookie=r,!0}onHeadersReceived(e){e.requestId&&this._requestCounters.has(e.requestId)?this.loadStatCounters(e):this.attachCounters(e),e.incrementStat("resp_ob"),e.incrementStat("content_length",parseInt(e.getResponseHeader("Content-Length"),10)||0),e.incrementStat(`status_${e.statusCode}`);const t=e.getResponseHeader("Set-Cookie"),r=t&&t.length>5;return r&&e.incrementStat("set_cookie_set"),e.hasSetCookie=r,!0}loadStatCounters(e){const t=this._requestCounters.get(e.requestId);Object.keys(t).forEach(r=>{e[r]=t[r]})}reattachStatCounter(e){const t=e.requestId;return!(!t||!this._requestCounters.has(t))&&(this.loadStatCounters(e),this._requestCounters.delete(t),!0)}logRequestMetadata(e){const t=e.urlParts,r=e.incrementStat;e.url.indexOf(this.tpEvents.config.placeHolder)>-1&&r("hasPlaceHolder"),r("c"),t.search.length>0&&r("has_qs"),t.hasParameterString()>0&&r("has_ps"),t.hash.length>0&&r("has_fragment"),"POST"===e.method&&r("has_post"),r(`type_${i[e.type]||"unknown"}`);return r(`scheme_${(e=>"http:"===e||"https:"===e)(t.protocol)?t.scheme:"other"}`),r(`window_depth_${Math.min(e.frameAncestors.length,2)}`),!0}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(r(338)),i=s(r(43));function s(e){return e&&e.__esModule?e:{default:e}}
/*!
 * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */t.default=class{constructor(){this.redirectCache=new n.default,this.cacheTimeout=1e4,this.redirectTaggerCache=new n.default}isFromRedirect(e){return this.redirectCache.has(e)}checkRedirectStatus(e){if(302===e.statusCode){const t=e.getResponseHeader("Location");if(!t)return i.default.log(e,'302 without "Location" in header?'),!0;if(t.startsWith("/")){const r=`${e.urlParts.protocol}://${e.urlParts.hostname}${t}`;this.redirectCache.add(r,this.cacheTimeout)}else(t.startsWith("http://")||t.startsWith("https://"))&&this.redirectCache.add(t,this.cacheTimeout)}return!0}checkRedirect(e){return!e.isRedirect||void 0===e.requestId||(this.redirectTaggerCache.add(e.requestId,this.cacheTimeout),!1)}confirmRedirect(e){return(void 0===e.requestId||!this.redirectTaggerCache.has(e.requestId))&&(!e.isMainFrame||!e.isRedirect)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t=A();if(t&&t.has(e))return t.get(e);var r={};if(null!=e){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var s=n?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(r,i,s):r[i]=e[i]}}r.default=e,t&&t.set(e,r);return r}
/*!
 * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */(r(81)),i=r(111),s=g(r(43)),o=g(r(502)),a=g(r(503));function g(e){return e&&e.__esModule?e:{default:e}}function A(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return A=function(){return e},e}t.default=class{constructor(e,t,r,n,i,s){this.qsWhitelist=e,this.config=n,this.debug=!1,this.privateValues=t,this.shouldCheckToken=r,this.tokenDomain=new o.default(n,s),this.blockLog=new a.default(i,n)}init(){return Promise.all([this.tokenDomain.init(),this.blockLog.init()])}unload(){this.tokenDomain.unload(),this.blockLog.unload()}findBadTokens(e){const t={};return e.isTracker=this.qsWhitelist.shouldCheckDomainTokens((0,n.truncatedHash)(e.urlParts.generalDomain)),e.badTokens=this.checkTokens(e.urlParts,e.tabUrl,t,e.tabUrlParts,e.isTracker,e.isPrivate),e.incrementStat&&(Object.keys(t).forEach(r=>{t[r]>0&&(e.incrementStat(`token.has_${r}`),e.incrementStat(`token.${r}`,t[r]))}),e.badTokens.length>0&&(e.incrementStat("bad_qs"),e.incrementStat("bad_tokens",e.badTokens.length))),!0}checkTokens(e,t,r,o,a,g){if(!a)return[];const A=e.extractKeyValues().params;if(0===A.length)return[];const u=(0,n.truncatedHash)(e.generalDomain),I=(0,n.truncatedHash)(o.generalDomain),C=[],l=A.map(r=>{const s=r[0],a=r[1];if(!this.shouldCheckToken(a))return"no_check";if(t.indexOf(a)>-1)return"sourceUrl";if(!this.shouldCheckToken(function(e){let t=(0,i.dURIC)(e),r=(0,i.dURIC)(t);for(;t!==r;)t=r,r=(0,i.dURIC)(t);return t}(a)))return"no_check_decoded";if(this.qsWhitelist.isSafeKey(u,(0,n.default)(s)))return"safekey";if(this.qsWhitelist.isSafeToken(u,(0,n.default)(a)))return"whitelisted";return g||this.tokenDomain.addTokenOnFirstParty((0,n.default)(a),I),this.tokenDomain.isTokenDomainThresholdReached((0,n.default)(a))?(this.blockLog.add(o.generalDomain,e.hostname,s,a,"qs"),C.push(a),"qs_countThreshold"):"qs_newToken"});if(this.debug){const t=A.map((e,t)=>Object.assign(e,{class:l[t]}));s.default.log("tokens",e.hostname,t)}return l.forEach(e=>{r[e]||(r[e]=0),r[e]+=1}),C}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i=r(307),s=r(306),o=(n=r(43))&&n.__esModule?n:{default:n},a=function(e){if(e&&e.__esModule)return e;var t=g();if(t&&t.has(e))return t.get(e);var r={};if(null!=e){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var s=n?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(r,i,s):r[i]=e[i]}}r.default=e,t&&t.set(e,r);return r}(r(104));function g(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return g=function(){return e},e}function A(e,t,r,n,i,s,o){try{var a=e[s](o),g=a.value}catch(e){return void r(e)}a.done?t(g):Promise.resolve(g).then(n,i)}function u(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var s=e.apply(t,r);function o(e){A(s,n,i,o,a,"next",e)}function a(e){A(s,n,i,o,a,"throw",e)}o(void 0)}))}}const I=7;t.default=class{constructor(e,t){this.config=e,this.db=t,this.blockedTokens=new Set,this.stagedTokenDomain=new Map,this._currentDay=null,this.subjectTokens=new i.Subject}init(){var e=this;const t=this.db.ready.then(u((function*(){yield e.loadBlockedTokens(),yield e.db.tokenDomain.clear()})));return this._tokenSubscription=this.subjectTokens.subscribe(e=>{this._addTokenOnFirstParty(e)}),this._cleanupSubscription=(0,i.merge)((0,i.from)(t).pipe((0,s.map)(()=>this.currentDay)),this.subjectTokens.pipe((0,s.observeOn)(i.asyncScheduler),(0,s.pluck)("day"))).pipe((0,s.distinctUntilChanged)(),(0,s.delay)(5e3)).subscribe(()=>{this.clean()}),t}unload(){[this._persistSubscription,this._cleanupSubscription,this._tokenSubscription].forEach(e=>{e&&e.unsubscribe()})}get currentDay(){if(!this._currentDay||Date.now()>this._nextDayCheck){const e=a.getTime().substr(0,8);e!==this._currentDay&&(this._nextDayCheck=Date.now()+36e5),this._currentDay=e}return this._currentDay}loadBlockedTokens(){return this.db.tokenBlocked.toCollection().uniqueKeys().then(e=>{this.blockedTokens.clear(),e.forEach(e=>this.blockedTokens.add(e))})}addTokenOnFirstParty(e,t,r){const n=r||this.currentDay;this.subjectTokens.next({token:e,firstParty:t,day:n})}_addTokenOnFirstParty(e){let t=e.token,r=e.firstParty,n=e.day;this.stagedTokenDomain.has(t)||this.stagedTokenDomain.set(t,new Map);const i=this.stagedTokenDomain.get(t);return i.set(r,n),this._checkThresholdReached(t,i)}_checkThresholdReached(e,t){return t.size>=this.config.tokenDomainCountThreshold&&this.addBlockedToken(e),this.blockedTokens.has(e)}addBlockedToken(e){var t=this;return u((function*(){t.config.debugMode&&o.default.log("tokenDomain","will be blocked:",e);const r=a.newUTCDate();r.setDate(r.getDate()+I);const n=a.dateString(r);return t.blockedTokens.add(e),yield t.db.ready,t.db.tokenBlocked.put({token:e,expires:n})}))()}isTokenDomainThresholdReached(e){return this.config.tokenDomainCountThreshold<2||this.blockedTokens.has(e)}clean(){const e=a.newUTCDate();e.setDate(e.getDate()-I);const t=a.dateString(e);this.stagedTokenDomain.forEach((e,r)=>{const n=[];e.forEach((e,r)=>{e<t&&n.push(r)}),n.forEach(t=>{e.delete(t)}),0===e.size&&this.stagedTokenDomain.delete(r)})}clear(){var e=this;return u((function*(){return yield e.db.ready,e.blockedTokens.clear(),e.stagedTokenDomain.clear(),Promise.all([e.db.tokenBlocked.clear(),e.db.tokenDomain.clear()])}))()}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=A(r(203)),i=a(r(81)),s=a(r(39)),o=A(r(104));function a(e){return e&&e.__esModule?e:{default:e}}function g(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return g=function(){return e},e}function A(e){if(e&&e.__esModule)return e;var t=g();if(t&&t.has(e))return t.get(e);var r={};if(null!=e){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var s=n?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(r,i,s):r[i]=e[i]}}return r.default=e,t&&t.set(e,r),r}
/*!
 * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */t.default=class{constructor(e,t){this.telemetry=e,this.config=t,this.blocked=new n.LazyPersistentObject("blocked"),this.localBlocked=new n.LazyPersistentObject("localBlocked")}get blockReportList(){return this.config.reportList||{}}init(){this.blocked.load(),this.localBlocked.load(),this.onHourChanged=()=>{const e=o.newUTCDate();e.setHours(e.getHours()-24);const t=o.hourString(e);this._cleanLocalBlocked(t),this.sendTelemetry()},this._hourChangedListener=s.default.subscribe("attrack:hour_changed",this.onHourChanged)}unload(){this._hourChangedListener&&(this._hourChangedListener.unsubscribe(),this._hourChangedListener=null)}add(e,t,r,n,i){const s=o.getTime();this.offerToReporter(e,t,r,n,i),this._addLocalBlocked(e,t,r,n,s)}clear(){this.blocked.clear(),this.localBlocked.clear()}_addBlocked(e,t,r,n){const i=this.blocked.value;e in i||(i[e]={}),t in i[e]||(i[e][t]={}),r in i[e][t]||(i[e][t][r]={}),n in i[e][t][r]||(i[e][t][r][n]=0),i[e][t][r][n]+=1,this.blocked.setDirty()}_addLocalBlocked(e,t,r,n,i){const s=this.localBlocked.value;e in s||(s[e]={}),t in s[e]||(s[e][t]={}),r in s[e][t]||(s[e][t][r]={}),n in s[e][t][r]||(s[e][t][r][n]={}),i in s[e][t][r][n]||(s[e][t][r][n][i]=0),s[e][t][r][n][i]+=1,this.localBlocked.setDirty()}_cleanLocalBlocked(e){for(const t in this.localBlocked.value){for(const r in this.localBlocked.value[t]){for(const n in this.localBlocked.value[t][r]){for(const i in this.localBlocked.value[t][r][n]){for(const s in this.localBlocked.value[t][r][n][i])s<e&&delete this.localBlocked.value[t][r][n][i][s];0===Object.keys(this.localBlocked.value[t][r][n][i]).length&&delete this.localBlocked.value[t][r][n][i]}0===Object.keys(this.localBlocked.value[t][r][n]).length&&delete this.localBlocked.value[t][r][n]}0===Object.keys(this.localBlocked.value[t][r]).length&&delete this.localBlocked.value[t][r]}0===Object.keys(this.localBlocked.value[t]).length&&delete this.localBlocked.value[t]}this.localBlocked.setDirty(!0),this.localBlocked.save()}offerToReporter(e,t,r,n,s){this.isInBlockReportList(t,r,n)&&this._addBlocked(t,r,(0,i.default)(n),s)}isInBlockReportList(e,t,r){if(e in this.blockReportList){const n=this.blockReportList[e];if("*"===n)return!0;if(t in n||(0,i.default)(t)in n){const e=n[t]||n[(0,i.default)(t)];if("*"===e)return!0;if(r in e||(0,i.default)(r)in e)return!0}}return!1}sendTelemetry(){Object.keys(this.blocked.value).length>0&&(this.telemetry({message:{action:"attrack.blocked",payload:this.blocked.value}}),this.blocked.clear())}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=A(r(104)),i=A(r(81)),s=a(r(43)),o=a(r(44));function a(e){return e&&e.__esModule?e:{default:e}}function g(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return g=function(){return e},e}function A(e){if(e&&e.__esModule)return e;var t=g();if(t&&t.has(e))return t.get(e);var r={};if(null!=e){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var s=n?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(r,i,s):r[i]=e[i]}}return r.default=e,t&&t.set(e,r),r}function u(e,t,r,n,i,s,o){try{var a=e[s](o),g=a.value}catch(e){return void r(e)}a.done?t(g):Promise.resolve(g).then(n,i)}function I(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var s=e.apply(t,r);function o(e){u(s,n,i,o,a,"next",e)}function a(e){u(s,n,i,o,a,"throw",e)}o(void 0)}))}}function C(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var r=[],n=!0,i=!1,s=void 0;try{for(var o,a=e[Symbol.iterator]();!(n=(o=a.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){i=!0,s=e}finally{try{n||null==a.return||a.return()}finally{if(i)throw s}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}class l{constructor(){this.items=new Map,this.dirty=!1}add(e,t){this.items.set(e,t),this.dirty=!0}size(){return this.items.size}toObject(){const e={};return this.items.forEach((t,r)=>{e[r]=t}),e}setDirty(e){this.dirty=e}}t.default=class{constructor(e,t,r,n){this.qsWhitelist=e,this.config=t,this.shouldCheckToken=n,this.hashTokens=!0,this.requestKeyValue=new Map,this._syncTimer=null,this._lastPrune=null,this._currentDay=null,this._cleanLegacyDb=r.requestKeyValue.clear()}init(){return this._cleanLegacyDb}unload(){o.default.clearTimeout(this._syncTimer),this._syncTimer=null}clearCache(){return this.requestKeyValue.clear(),Promise.resolve()}addRequestKeyValueEntry(e,t,r){this.requestKeyValue.has(e)||this.requestKeyValue.set(e,new Map);const n=this.requestKeyValue.get(e);n.has(t)||n.set(t,new l);const i=n.get(t);return Object.keys(r).forEach(e=>{i.add(e,r[e])}),i}removeRequestKeyValueEntry(e,t){const r=this.requestKeyValue.get(e);r&&r.delete(t),r&&0===r.size&&this.requestKeyValue.delete(e)}get currentDay(){if(!this._currentDay||Date.now()>this._nextDayCheck){const e=n.getTime().substr(0,8);e!==this._currentDay&&(this._nextDayCheck=Date.now()+36e5),this._currentDay=e}return this._currentDay}examineTokens(e){if(!e.isPrivate&&this.qsWhitelist.isTrackerDomain((0,i.truncatedHash)(e.urlParts.generalDomain))){const t=this.currentDay,r=(0,i.truncatedHash)(e.urlParts.generalDomain),n=this.requestKeyValue.get(r)||new Map,o=new Set,a=e.urlParts.extractKeyValues().params.reduce((n,a)=>{const g=C(a,2),A=g[0],u=g[1];if(!this.shouldCheckToken(u))return n;const I=this.hashTokens?(0,i.default)(A):A;if(this.qsWhitelist.isSafeKey(r,I))return n;const c=this.hashTokens?(0,i.default)(u):u;return n.has(I)||n.set(I,new l),n.get(I).add(c,t),!o.has(I)&&n.get(I).size()>this.config.safekeyValuesThreshold&&(o.add(I),this.config.debugMode&&s.default.log("Add safekey",e.urlParts.generalDomain,I,n.get(I)),this.qsWhitelist.addSafeKey(r,this.hashTokens?I:(0,i.default)(I),this.config.safekeyValuesThreshold)),n},n);return this.requestKeyValue.set(r,a),this._scheduleSync(t!==this._lastPrune),!0}return!0}getPruneCutoff(){const e=n.newUTCDate();return e.setDate(e.getDate()-this.config.safeKeyExpire),n.dateString(e)}_scheduleSync(){var e=this;this._syncTimer||(this._syncTimer=o.default.setTimeout(I((function*(){try{yield e._syncDb()}finally{e._syncTimer=null}})),2e4))}_syncDb(){var e=this;return I((function*(){const t=e.getPruneCutoff();var r=!0,n=!1,s=void 0;try{for(var o,a=e.requestKeyValue.entries()[Symbol.iterator]();!(r=(o=a.next()).done);r=!0){const r=C(o.value,2),n=r[0],s=r[1];var g=!0,A=!1,u=void 0;try{for(var I,l=s.entries()[Symbol.iterator]();!(g=(I=l.next()).done);g=!0){const r=C(I.value,2),s=r[0],o=r[1];o.items.forEach((e,r)=>{e<t&&o.items.delete(r)}),o.setDirty(!1),o.size()>e.config.safekeyValuesThreshold&&!e.qsWhitelist.isSafeKey(n,s)&&(e.qsWhitelist.addSafeKey(n,e.hashTokens?s:(0,i.default)(s),o.size()),e.removeRequestKeyValueEntry(n,s))}}catch(e){A=!0,u=e}finally{try{g||null==l.return||l.return()}finally{if(A)throw u}}}}catch(e){n=!0,s=e}finally{try{r||null==a.return||a.return()}finally{if(n)throw s}}}))()}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.KeyPipeline=t.TokenPipeline=void 0;var n=r(307),i=r(306),s=function(e){if(e&&e.__esModule)return e;var t=I();if(t&&t.has(e))return t.get(e);var r={};if(null!=e){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var s=n?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(r,i,s):r[i]=e[i]}}r.default=e,t&&t.set(e,r);return r}(r(81)),o=u(r(134)),a=r(232),g=r(104),A=u(r(33));function u(e){return e&&e.__esModule?e:{default:e}}function I(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return I=function(){return e},e}function C(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var r=[],n=!0,i=!1,s=void 0;try{for(var o,a=e[Symbol.iterator]();!(n=(o=a.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){i=!0,s=e}finally{try{n||null==a.return||a.return()}finally{if(i)throw s}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function d(e,t,r,n,i,s,o){try{var a=e[s](o),g=a.value}catch(e){return void r(e)}a.done?t(g):Promise.resolve(g).then(n,i)}function h(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var s=e.apply(t,r);function o(e){d(s,n,i,o,a,"next",e)}function a(e){d(s,n,i,o,a,"throw",e)}o(void 0)}))}}const f={TOKEN_BATCH_INTERVAL:5e4,TOKEN_BATCH_SIZE:2,TOKEN_MESSAGE_SIZE:10,KEY_BATCH_INTERVAL:8e4,KEY_BATCH_SIZE:10,CLEAN_INTERVAL:24e4,TOKEN_BUFFER_TIME:1e4,NEW_ENTRY_MIN_AGE:36e5,MIN_COUNT:1,LOW_COUNT_DISCARD_AGE:2592e5};function p(){return(0,g.getConfigTs)()}class m{constructor(e,t,r,n){this.db=e,this.cache=new o.default(()=>this.newEntry()),this.primaryKey=t,this.logger=r,this.options=n}get(e){const t=this.cache.get(e);return t.count+=1,t}loadBatchIntoCache(e){return this.db.where(this.primaryKey).anyOf(e).each(this.updateCache.bind(this))}saveBatchToDb(e){const t=e.map(e=>{const t=this.cache.get(e);return t.dirty=!1,this.serialiseEntry(e,t)});return this.db.bulkPut(t)}init(e,t,r,s){var o=this;const a=new n.Subject,g=new n.Subject;this.input=e,this.pipelineSubscription=(0,n.merge)(e,g.pipe((0,i.delay)(1))).pipe((0,i.distinct)(void 0,a),(0,i.buffer)((()=>(0,n.interval)(r))()),(0,i.filter)(e=>e.length>0)).subscribe(function(){var e=h((function*(e){yield o.loadBatchIntoCache(e);const r=e.map(e=>[e,o.cache.get(e)]).filter(e=>{return c(e,2)[1].lastSent!==p()}),n=o.createMessagePayloads(r,s),i=n.messages,A=n.overflow,u=new Set(A.map(e=>e[0]));r.filter(e=>!u.has(e[0])).forEach(e=>{c(e,2)[1].lastSent=p()}),yield o.saveBatchToDb(e),a.next(!0),i.forEach(e=>{t.next(e)}),u.forEach(e=>g.next(e)),o.logger.next({type:"tokens.batch",signal:{source:o.name,size:e.length,toBeSentSize:r.length,overflow:A.length,messages:i.length}})}));return function(t){return e.apply(this,arguments)}}())}unload(){this.pipelineSubscription&&this.pipelineSubscription.unsubscribe()}clean(){var e=this;return h((function*(){const t=Math.ceil(e.options.CLEAN_INTERVAL/e.options.TOKEN_BATCH_INTERVAL*(e.options.TOKEN_BATCH_SIZE*e.options.TOKEN_MESSAGE_SIZE)),r=(yield e.db.where("lastSent").notEqual(p()).limit(1e3).sortBy("created")).filter(t=>t.created<Date.now()-e.options.NEW_ENTRY_MIN_AGE),n=[],i=[],s=Date.now()-e.options.LOW_COUNT_DISCARD_AGE;r.forEach(t=>{const r=e.hasData(t),o=t.count>e.options.MIN_COUNT;r&&o?i.push(t[e.primaryKey]):(!r||t.createdAt<s)&&n.push(t[e.primaryKey])}),i.splice(t),i.forEach(t=>e.input.next(t));const o=yield e.db.where(e.primaryKey).anyOf(n).delete(),a=[];let g=0;e.cache.forEach((t,r)=>{t.dirty?a.push(r):t.lastSent&&(g+=1,e.cache.delete(r))}),yield e.saveBatchToDb(a,{source:e.name,dbSize:yield e.db.count(),dbDelete:o,cacheSize:e.cache.size,cacheDeleted:g,processed:i.length}),e.logger.next({type:"tokens.clean",signal:{source:e.name,dbSize:yield e.db.count(),dbDelete:n.length,cacheSize:e.cache.size,cacheDeleted:g,processed:i.length}})}))()}createMessagePayloads(e,t){const r=t?e.splice(t):[];return{messages:e.map(this.createMessagePayload.bind(this)),overflow:r}}}class _ extends m{constructor(e,t,r){super(e,"token",t,r),this.name="tokens"}newEntry(){return{created:Date.now(),sites:new Set,trackers:new Set,safe:!0,dirty:!0,count:0}}updateCache(e){let t=e.token,r=e.lastSent,n=e.safe,i=e.created,s=e.sites,o=e.trackers,a=e.count;const g=this.cache.get(t);(void 0===g.lastSent||r>g.lastSent)&&(g.lastSent=r),g.safe=n,g.created=Math.min(g.created,i),s.forEach(e=>{g.sites.add(e)}),o.forEach(e=>{g.trackers.add(e)}),g.count=Math.max(g.count,a)}serialiseEntry(e,t){return{token:e,created:t.created,safe:t.safe,lastSent:t.lastSent||"",sites:[...t.sites],trackers:[...t.trackers],count:t.count}}createMessagePayloads(e,t){const r=t?e.splice(t*this.options.TOKEN_MESSAGE_SIZE):[],n=Math.ceil(e.length/this.options.TOKEN_MESSAGE_SIZE);return{messages:[...new Array(n)].map((t,r)=>{const n=r*this.options.TOKEN_MESSAGE_SIZE;return e.slice(n,n+this.options.TOKEN_MESSAGE_SIZE)}).map(e=>e.map(this.createMessagePayload.bind(this))),overflow:r}}createMessagePayload(e){let t=c(e,2),r=t[0],n=t[1];const i={ts:p(),token:r,safe:n.safe,sites:n.sites.size,trackers:n.trackers.size};return n.sites.clear(),n.trackers.clear(),n.count=0,i}hasData(e){return e.sites.length>0&&e.trackers.length>0}}t.TokenPipeline=_;class y extends m{constructor(e,t,r){super(e,"hash",t,r),this.name="keys"}newEntry(){return{created:Date.now(),dirty:!0,sitesTokens:new o.default(()=>new Map),count:0}}updateCache(e){let t=e.hash,r=e.lastSent,n=e.key,i=e.tracker,s=e.created,o=e.sitesTokens,a=e.count;const g=this.cache.get(t);(void 0===g.lastSent||r>g.lastSent)&&(g.lastSent=r),g.key=n,g.tracker=i,g.created=Math.min(g.created,s),Object.keys(o).forEach(e=>{const t=o[e],r=g.sitesTokens.get(e);t.forEach((e,t)=>{r.set(t,e)})}),g.count=Math.max(g.count,a)}serialiseEntry(e,t){const r=t.created,n=t.lastSent,i=t.key,s=t.tracker,o=t.sitesTokens,a=t.count;return{hash:e,key:i,tracker:s,created:r,lastSent:n||"",sitesTokens:o.toObj(),count:a}}createMessagePayloads(e,t){const r=new o.default(()=>[]),n=[];return e.forEach(e=>{const i=c(e,2)[1];r.size>=t?n.push(e):(i.sitesTokens.forEach((e,t)=>{const n=[...e.values()].some(e=>!1===e)?`${i.tracker}:${i.key}`:"";r.get(`${t}${n}`).push({ts:p(),tracker:i.tracker,key:i.key,site:t,tokens:[...e]})}),i.sitesTokens.clear(),i.count=0)}),{messages:[...r.values()],overflow:n}}hasData(e){return Object.keys(e.sitesTokens).length>0}}t.KeyPipeline=y;t.default=class{constructor(e,t,r,i,s,o){const a=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?C(r,!0).forEach((function(t){l(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},f,{},o);Object.keys(f).forEach(e=>{this[e]=a[e]}),this.telemetry=e,this.qsWhitelist=t,this.config=r,this.shouldCheckToken=s,this.subjectTokens=new n.Subject,this.tokenSendQueue=new n.Subject,this.keySendQueue=new n.Subject,this.messageQueue=new n.Subject,this.telemetrySender={next:e=>{let t=e.type,r=e.signal;A.default.service("telemetry",["push"]).push(r,`metrics.antitracking.${t}`)}},this.tokens=new _(i.tokens,this.telemetrySender,a),this.keys=new y(i.keys,this.telemetrySender,a)}init(){var e=this;const t=()=>(0,n.interval)(this.TOKEN_BUFFER_TIME),r=this.subjectTokens.pipe((0,i.groupBy)(e=>e.token,void 0,()=>(0,n.timer)(6e4)),(0,i.flatMap)(e=>e.pipe((0,i.buffer)(t()))),(0,i.filter)(e=>e.length>0));this._tokenSubscription=r.subscribe(e=>{const t=e[0].token,r=this.tokens.get(t),n=Date.now()-this.NEW_ENTRY_MIN_AGE;r.dirty=!0,e.forEach(e=>{r.sites.add(e.fp),r.trackers.add(e.tp),r.safe=r.safe&&e.safe;const t=`${e.tp}:${e.key}`,i=this.keys.get(t);i.key=e.key,i.tracker=e.tp,i.dirty=!0,i.sitesTokens.get(e.fp).set(e.token,e.safe),i.lastSent!==p()&&(i.sitesTokens.size>1||i.count>this.MIN_COUNT&&i.created<n)&&this.keySendQueue.next(t)}),r.lastSent!==p()&&(r.sites.size>1||r.count>this.MIN_COUNT&&r.created<n)&&this.tokenSendQueue.next(t)});const s=new n.Subject,o=new n.Subject;this.messageQueue=(0,n.merge)(s.pipe((0,i.map)(e=>({action:"attrack.tokensv2",payload:e}))),o.pipe((0,i.map)(e=>({action:"attrack.keysv2",payload:e})))),this.tokens.init(this.tokenSendQueue,s,this.TOKEN_BATCH_INTERVAL,this.TOKEN_BATCH_SIZE),this.keys.init(this.keySendQueue,o,this.KEY_BATCH_INTERVAL,this.KEY_BATCH_SIZE),this._onIdleSubscription=(0,n.merge)((0,n.of)(""),r,this.tokenSendQueue,this.keySendQueue,this.messageQueue).pipe((0,i.auditTime)(this.CLEAN_INTERVAL)).subscribe(h((function*(){yield e.tokens.clean(),yield e.keys.clean()}))),this._messageSubsription=this.messageQueue.subscribe(e=>{this.telemetry({message:e})})}unload(){this._tokenSubscription.unsubscribe(),this._messageSubsription.unsubscribe(),this.tokens.unload(),this.keys.unload(),this._onIdleSubscription.unsubscribe()}extractKeyTokens(e){if(e.isPrivate)return!0;const t=e.urlParts.extractKeyValues().params;if(t.length>0){const r=(0,s.truncatedHash)(e.tabUrlParts.generalDomain),n=(0,s.truncatedHash)(e.urlParts.generalDomain);this._saveKeyTokens({kv:t,firstParty:r,thirdPartyGeneralDomain:n})}return!0}_saveKeyTokens(e){let t=e.kv,r=e.firstParty,n=e.thirdPartyGeneralDomain;const i=this.qsWhitelist.isTrackerDomain(n);this.config.telemetryMode===a.TELEMETRY.DISABLED||this.config.telemetryMode===a.TELEMETRY.TRACKERS_ONLY&&!i||t.forEach(e=>{let t=c(e,2),o=t[0],a=t[1];if(!this.shouldCheckToken(a))return;const g=(0,s.default)(a),A=(0,s.default)(o),u=!i||this.qsWhitelist.isSafeKey(n,A)||this.qsWhitelist.isSafeToken(n,g);this.subjectTokens.next({day:p(),key:A,token:g,tp:n,fp:r,safe:u,isTracker:i})})}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i=r(307),s=r(306),o=(n=r(39))&&n.__esModule?n:{default:n},a=r(111);function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function A(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(r,!0).forEach((function(t){u(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function I(e,t,r,n){return(0,i.merge)(function(e,t,r){return e.pipe((0,s.map)(e=>n=>A({},n,{[t(e)]:r(e)})))}(e,t,r),function(e,t){return e.pipe((0,s.map)(e=>r=>{const n=A({},r);return delete n[t(e)],n}))}(function(e,t,r){return e.pipe((0,s.groupBy)(t),(0,s.flatMap)(e=>e.pipe((0,s.debounceTime)(r))))}(e,t,n),t)).pipe((0,s.scan)((e,t)=>t(e),{}))}const C={CLICK_TIMEOUT:3e5,VISIT_TIMEOUT:24e4};t.default=class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C;this.clickActivity={},this.siteActivitiy={},this.subjectMainFrames=new i.Subject,Object.assign(this,C,e)}init(){const e=(0,i.fromEventPattern)(e=>o.default.sub("core:mouse-down",e),e=>o.default.un_sub("core:mouse-down",e),(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];const n=t[0],i=t[1],s=t[2],o=t[3];return{ev:n,contextHTML:i,href:s,sender:o}})).pipe((0,s.map)(e=>{return e.sender.tab}));this.tabActivitySubscription=I(e,e=>e.id,e=>e.url,this.CLICK_TIMEOUT).subscribe(e=>{this.clickActivity=e});const t=this.subjectMainFrames.pipe((0,s.observeOn)(i.asyncScheduler),(0,s.map)(e=>({tabId:e.tabId,hostname:e.urlParts.hostname})));this.pageOpenedSubscription=I(t,e=>e.hostname,e=>e.tabId,this.VISIT_TIMEOUT).subscribe(e=>{this.siteActivitiy=e})}unload(){this.tabActivitySubscription&&this.tabActivitySubscription.unsubscribe(),this.pageOpenedSubscription&&this.pageOpenedSubscription.unsubscribe()}checkMainFrames(e){e.isMainFrame&&this.subjectMainFrames.next(e)}checkIsOAuth(e,t){if(["/oauth","/authorize"].map(t=>e.urlParts.pathname.indexOf(t)>-1).reduce((e,t)=>e||t)&&this.clickActivity[e.tabId]&&this.siteActivitiy[e.urlParts.hostname]){const r=a.URLInfo.get(this.clickActivity[e.tabId]);if(null!==r&&r.hostname===e.tabUrlParts.hostname)return e.incrementStat(`${t}_allow_oauth`),!1}return!0}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.checkValidContext=
/*!
 * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */
function(e){if(!e.page||!e.tabUrlParts||!e.urlParts)return!1;if(!e.tabUrlParts.protocol.startsWith("http")||!e.urlParts.protocol.startsWith("http"))return!1;return!0},t.checkSameGeneralDomain=function(e){const t=e.urlParts.generalDomain,r=e.tabUrlParts.generalDomain;return null!=t&&null!=r&&t!==r&&t.split(".")[0]!==r.split(".")[0]}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bindObjectFunctions=
/*!
 * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */
function(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)){const n=e[r];"function"==typeof n&&(e[r]=n.bind(t))}},t.bindAll=function(e,t){return Object.entries(e).reduce((e,r)=>{let n=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var r=[],n=!0,i=!1,s=void 0;try{for(var o,a=e[Symbol.iterator]();!(n=(o=a.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){i=!0,s=e}finally{try{n||null==a.return||a.return()}finally{if(i)throw s}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}(r,2),i=n[0];const s=n[1].bind(t);return e[i]=function(){return s(...arguments)},e},{})}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=I(r(85)),i=function(e){if(e&&e.__esModule)return e;var t=u();if(t&&t.has(e))return t.get(e);var r={};if(null!=e){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var s=n?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(r,i,s):r[i]=e[i]}}r.default=e,t&&t.set(e,r);return r}(r(277)),s=r(84),o=I(r(337)),a=I(r(510)),g=I(r(511)),A=I(r(231));function u(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return u=function(){return e},e}function I(e){return e&&e.__esModule?e:{default:e}}
/*!
 * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */function C(e,t,r){const n=t.toLowerCase(),i=e.filter(e=>e.name.toLowerCase()!==n);return s.isWebExtension&&!r||i.push({name:t,value:r}),i}class l{constructor(e){this.details=e,this.redirectUrl=void 0,this.cancel=void 0,this.responseHeaders=void 0,this.requestHeaders=void 0,this.shouldIncrementCounter=void 0}redirectTo(e){this.redirectUrl=e}block(){this.cancel=!0}modifyHeader(e,t){this.requestHeaders=C(this.requestHeaders||this.details.requestHeaders||[],e,t)}modifyResponseHeader(e,t){this.responseHeaders=C(this.responseHeaders||this.details.responseHeaders||[],e,t)}toWebRequestResponse(e){const t=i.VALID_RESPONSE_PROPERTIES[e],r={};for(let e=0;e<t.length;e+=1){const n=t[e],i=this[n];void 0!==i&&(r[n]=i)}return r}}var c=(0,n.default)({initialized:!1,requiresServices:["telemetry","pacemaker"],enabled:()=>!0,init(){this.initialized||(this.pipelines=new Map,this.pageStore=new g.default,this.pageStore.init(),this.initialized=!0)},unload(){this.initialized&&(this.pipelines.forEach((e,t)=>{this.unloadPipeline(t)}),this.pageStore.unload(),this.initialized=!1)},unloadPipeline(e){if(this.pipelines.has(e)){const t=this.pipelines.get(e);this[e]=void 0,i.default[e].removeListener(t.listener),t.pipeline.unload(),this.pipelines.delete(e)}},getPipeline(e){if(this.pipelines.has(e))return this.pipelines.get(e).pipeline;if(void 0===i.default[e])return null;const t=i.EXTRA_INFO_SPEC[e],r=new o.default(`webRequestPipeline.${e}`,[],!1),n=t=>{const n=a.default.fromDetails(t,this.pageStore,e);if(null===n)return{};const i=new l(t);try{r.execute(n,i,!0)}catch(t){A.default.error("While running pipeline",e,n,t)}return i.toWebRequestResponse(e)};this.pipelines.set(e,{pipeline:r,listener:n}),this[e]=n;const s=["http://*/*","https://*/*"];return void 0===t?i.default[e].addListener(n,{urls:s}):i.default[e].addListener(n,{urls:s},t),r},events:{},actions:{addPipelineStep(e,t){if(this.initialized){const r=this.getPipeline(e);null===r?A.default.error("WebRequest pipeline (add) does not have stage",e):r.addPipelineStep(t)}},removePipelineStep(e,t){if(this.initialized){const r=this.getPipeline(e);null===r?A.default.error("WebRequest pipeline (remove) does not have stage",e):(r.removePipelineStep(t),0===r.length&&this.unloadPipeline(e))}},getPageStore(){return this.pageStore},getPageForTab(e){return this.pageStore.tabs.get(e)}}});t.default=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i=r(111),s=(n=r(231))&&n.__esModule?n:{default:n};
/*!
 * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */
function o(e){const t=new Map;for(let r=0;r<e.length;r+=1){const n=e[r],i=n.name,s=n.value;t.set(i.toLowerCase(),s)}return t}class a{static fromDetails(e,t,r){const n=e;if(!n.url)return s.default.log("Ignoring request with empty url",n),null;"main_frame"===n.type&&t.onMainFrame(n,r),"sub_frame"===n.type&&t.onSubFrame(n);const i=t.getPageForRequest(n);return void 0===n.frameAncestors&&(n.frameAncestors=i?i.getFrameAncestors(n):[]),n.page=i,n.tabUrl=n.tabUrl||i&&i.getTabUrl(),n.frameUrl=n.frameUrl||i&&i.getFrameUrl(n),n.isPrivate=i?i.isPrivate:null,n.isMainFrame="main_frame"===n.type,n.isRedirect=i&&n.isMainFrame&&i.isRedirect,n.originUrl=n.originUrl||n.initiator||n.frameUrl||n.tabUrl,new a(n)}constructor(e){Object.assign(this,e),this._frameUrlParts=null,this._requestHeadersMap=null,this._responseHeadersMap=null,this.urlParts=i.URLInfo.get(this.url),this.frameUrlParts=i.URLInfo.get(this.frameUrl),this.tabUrlParts=i.URLInfo.get(this.tabUrl),this.originUrlParts=i.URLInfo.get(this.originUrl)}getRequestHeader(e){return null===this._requestHeadersMap&&(this._requestHeadersMap=o(this.requestHeaders||[])),this._requestHeadersMap.get(e.toLowerCase())}getResponseHeader(e){return null===this._responseHeadersMap&&(this._responseHeadersMap=o(this.responseHeaders||[])),this._responseHeadersMap.get(e.toLowerCase())}getCookieData(){return this.getRequestHeader("Cookie")}getReferrer(){return this.getRequestHeader("Referer")}isBackgroundRequest(){return-1===this.tabId}}t.default=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=u(r(267)),i=u(r(318)),s=u(r(512)),o=u(r(39)),a=u(r(231)),g=function(e){if(e&&e.__esModule)return e;var t=A();if(t&&t.has(e))return t.get(e);var r={};if(null!=e){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var s=n?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(r,i,s):r[i]=e[i]}}r.default=e,t&&t.set(e,r);return r}(r(513));function A(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return A=function(){return e},e}function u(e){return e&&e.__esModule?e:{default:e}}function I(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function C(e){return new g.default(e)}t.default=class{constructor(){I(this,"onTabCreated",e=>{this.tabs.set(e.id,C(e))}),I(this,"onTabUpdated",(e,t,r)=>{let n=this.tabs.get(e);void 0===n&&(n=C(r),this.tabs.set(e,n)),n.isPrivate=r.incognito,n.setActive(r.active),void 0!==t.url&&(n.url=t.url)}),I(this,"onTabRemoved",e=>{const t=this.tabs.get(e);t&&t.state===g.PAGE_LOADING_STATE.COMPLETE&&this.stagePage(t),this.tabs.delete(e)}),I(this,"onTabActivated",e=>{let t=e.previousTabId,r=e.tabId;if(t)this.tabs.has(t)&&this.tabs.get(t).setActive(!1);else{var n=!0,i=!1,s=void 0;try{for(var o,a=this.tabs.values()[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){o.value.setActive(!1)}}catch(e){i=!0,s=e}finally{try{n||null==a.return||a.return()}finally{if(i)throw s}}}this.tabs.has(r)&&this.tabs.get(r).setActive(!0)}),I(this,"onWindowFocusChanged",e=>{n.default.query({active:!0},t=>{t.forEach(t=>{let r=t.id,n=t.windowId;const i=this.tabs.get(r);i&&(n===e?i.setActive(!0):i.setActive(!1))})})}),I(this,"onBeforeNavigate",e=>{const t=e.frameId,r=e.tabId,n=e.url,i=this.tabs.get(r);if(0===t){i&&i.state===g.PAGE_LOADING_STATE.COMPLETE&&this.stagePage(i),this.tabs.delete(r);const e=C({id:r,active:!1,url:n,incognito:!!i&&i.isPrivate});e.previous=i,this.tabs.set(r,e),e.updateState(g.PAGE_LOADING_STATE.NAVIGATING)}}),I(this,"onNavigationCommitted",e=>{const t=e.frameId,r=e.tabId,n=this.tabs.get(r);0===t&&n?n.updateState(g.PAGE_LOADING_STATE.COMMITTED):n&&!n.frames.has(t)&&this.onSubFrame(e)}),I(this,"onNavigationLoaded",e=>{let t=e.frameId,r=e.tabId;const n=this.tabs.get(r);0===t&&n&&n.updateState(g.PAGE_LOADING_STATE.LOADED)}),I(this,"onNavigationComplete",e=>{let t=e.frameId,r=e.tabId;const n=this.tabs.get(r);0===t&&n&&n.updateState(g.PAGE_LOADING_STATE.COMPLETE)}),this.tabs=new Map,this.staged=[]}init(){n.default.onCreated.addListener(this.onTabCreated),n.default.onUpdated.addListener(this.onTabUpdated),n.default.onRemoved.addListener(this.onTabRemoved),n.default.onActivated.addListener(this.onTabActivated),s.default.onBeforeNavigate.addListener(this.onBeforeNavigate),s.default.onCommitted.addListener(this.onNavigationCommitted),s.default.onDOMContentLoaded.addListener(this.onNavigationLoaded),s.default.onCompleted.addListener(this.onNavigationComplete),i.default&&i.default.onFocusChanged&&i.default.onFocusChanged.addListener(this.onWindowFocusChanged),n.default.query({},e=>{e.forEach(e=>{this.onTabCreated(e)})})}unload(){this.tabs.forEach(e=>this.stagePage(e)),this.tabs.clear(),n.default.onCreated.removeListener(this.onTabCreated),n.default.onUpdated.removeListener(this.onTabUpdated),n.default.onRemoved.removeListener(this.onTabRemoved),n.default.onActivated.removeListener(this.onTabActivated),s.default.onBeforeNavigate.removeListener(this.onBeforeNavigate),s.default.onCommitted.removeListener(this.onNavigationCommitted),s.default.onDOMContentLoaded.removeListener(this.onNavigationLoaded),s.default.onCompleted.removeListener(this.onNavigationComplete),i.default&&i.default.onFocusChanged&&i.default.onFocusChanged.removeListener(this.onWindowFocusChanged)}stagePage(e){this.staged.push(e)>5&&this.staged.shift(),e.stage(),o.default.pub("webrequest-pipeline:stage",e)}onMainFrame(e,t){let r=e.tabId,n=e.url,i=e.requestId;if(-1===r)return;let s=this.tabs.get(r);void 0===s&&(s=C({url:n,incognito:!1}),this.tabs.set(r,s)),"onBeforeRequest"===t&&(s.frames.clear(),s.lastRequestId===i&&(s.isRedirect=!0),s.lastRequestId=i),s.url=n,s.frames.set(0,{parentFrameId:-1,url:n})}onSubFrame(e){const t=e.tabId,r=e.frameId,n=e.parentFrameId,i=e.url,s=this.tabs.get(t);void 0!==s?s.frames.set(r,{parentFrameId:n,url:i}):a.default.log("Could not find tab for sub_frame request",e)}getPageForRequest(e){let t=e.tabId,r=e.frameId,n=e.originUrl,i=e.type,s=e.initiator;const o=this.tabs.get(t);if(!o)return null;if(!o.frames.has(r))return o.previous&&o.previous.frames.has(r)?o.previous:null;const a=0===r&&"main_frame"!==i&&o.previous;return a&&o.url!==n&&o.previous.url===n?o.previous:a&&s&&!o.url.startsWith(s)&&o.previous.url.startsWith(s)?o.previous:o}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(51).browser.webNavigation;
/*!
 * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */t.default=n},function(e,t,r){"use strict";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.PAGE_LOADING_STATE=void 0;const i={CREATED:"created",NAVIGATING:"navigating",COMMITTED:"committed",LOADED:"loaded",COMPLETE:"complete"};t.PAGE_LOADING_STATE=i;t.default=class{constructor(e){let t=e.id,r=e.active,s=e.url,o=e.incognito;n(this,"id",void 0),n(this,"url",void 0),n(this,"isRedirect",void 0),n(this,"isPrivate",void 0),n(this,"isPrivateServer",void 0),n(this,"created",void 0),n(this,"destroyed",void 0),n(this,"lastRequestId",void 0),n(this,"frames",void 0),n(this,"state",void 0),n(this,"activeTime",void 0),n(this,"activeFrom",void 0),n(this,"requestStats",void 0),n(this,"annotations",void 0),n(this,"counter",void 0),n(this,"tsv",void 0),n(this,"tsvId",void 0),n(this,"previous",void 0),this.id=t||0,this.url=s,this.isRedirect=!1,this.isPrivate=o,this.isPrivateServer=!1,this.created=Date.now(),this.destroyed=null,this.lastRequestId=null,this.frames=new Map([[0,{parentFrameId:-1,url:s}]]),this.state=i.CREATED,this.activeTime=0,this.activeFrom=r?Date.now():0,this.requestStats=new Map,this.annotations={},this.counter=0,this.tsv="",this.tsvId=void 0}setActive(e){e&&0===this.activeFrom?this.activeFrom=Date.now():!e&&this.activeFrom>0&&(this.activeTime+=Date.now()-this.activeFrom,this.activeFrom=0)}updateState(e){this.state=e}stage(){this.setActive(!1),this.destroyed=Date.now(),this.previous=void 0}getStatsForDomain(e){let t=this.requestStats.get(e);return t||(t={},this.requestStats.set(e,t)),t}setTrackingStatus(e){this.tsv=e.value,this.tsvId=e.statusId}getFrameAncestors(e){const t=[];let r=e.parentFrameId;for(;-1!==r;){const e=this.frames.get(r);if(void 0===e){t.push({frameId:0,url:this.url});break}t.push({frameId:r,url:e.url}),r=e.parentFrameId}return t}getTabUrl(){return this.url}getFrameUrl(e){const t=e.frameId,r=this.frames.get(t);return void 0===r?e.documentUrl||e.originUrl||e.initiator:r.url}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(51),i=R(r(33)),s=r(102),o=R(r(19)),a=R(r(28)),g=R(r(39)),A=r(84),u=R(r(85)),I=R(r(515)),C=R(r(269)),l=R(r(81)),c=R(r(516)),d=R(r(158)),h=R(r(92)),f=R(r(543)),p=R(r(544)),m=R(r(285)),_=R(r(545)),y=R(r(549)),b=R(r(551)),v=R(r(554)),w=R(r(566)),k=R(r(29)),M=R(r(235)),O=r(234),S=R(r(571)),D=R(r(572)),T=R(r(577)),L=R(r(114)),E=R(r(578)),P=R(r(579)),x=(R(r(580)),r(349)),j=R(r(581));function R(e){return e&&e.__esModule?e:{default:e}}function Y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var r=[],n=!0,i=!1,s=void 0;try{for(var o,a=e[Symbol.iterator]();!(n=(o=a.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){i=!0,s=e}finally{try{n||null==a.return||a.return()}finally{if(i)throw s}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function N(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function U(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?N(r,!0).forEach((function(t){H(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):N(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function H(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function F(e,t,r,n,i,s,o){try{var a=e[s](o),g=a.value}catch(e){return void r(e)}a.done?t(g):Promise.resolve(g).then(n,i)}function B(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var s=e.apply(t,r);function o(e){F(s,n,i,o,a,"next",e)}function a(e){F(s,n,i,o,a,"throw",e)}o(void 0)}))}}function z(e){["offers-banner","popup-notification","myoffrz-helper"].forEach(t=>o.default.set(`modules.${t}.enabled`,e))}var W,G=(0,u.default)({requiresServices:["cliqz-config","telemetry","pacemaker"],popupNotification:i.default.module("popup-notification"),core:i.default.module("core"),helper:i.default.module("myoffrz-helper"),hpnv2:i.default.module("hpnv2"),init(){var e=this;return B((function*(){e.registeredRealEstates||(e.registeredRealEstates=new Map),yield e.softInit()}))()},unload(){return this.softUnload().then(()=>{this.registeredRealEstates=null})},softInit(){var e=this;return B((function*(){if(!o.default.get("offers2UserEnabled",!0))return e.initialized=!1,void(A.isCliqzBrowser&&n.chrome.browserAction.disable());var t;L.default.IS_DEV_MODE=o.default.get("offersDevFlag",!1),L.default.IS_DEV_MODE&&(L.default.LOAD_OFFERS_STORAGE_DATA=!1,L.default.SIGNALS_LOAD_FROM_DB=o.default.get("offersLoadSignalsFromDB",!1),L.default.LOAD_OFFERS_STORAGE_DATA=o.default.get("offersSaveStorage",!1),L.default.SEND_SIG_OP_SHOULD_LOAD=!1),o.default.get("offersTelemetryFreq")&&(L.default.SIGNALS_OFFERS_FREQ_SECS=o.default.get("offersTelemetryFreq")),o.default.get("offersOverrideTimeout")&&(L.default.OFFERS_OVERRIDE_TIMEOUT=o.default.get("offersOverrideTimeout")),k.default.info(`\n\n\n      ------------------------------------------------------------------------\n                                  NEW SESSION STARTED\n      Version: ${L.default.CURRENT_VERSION}\n      timestamp: ${Date.now()}\n      OffersConfigs.LOG_LEVEL: ${L.default.LOG_LEVEL}\n      dev_flag: ${o.default.get("offersDevFlag",!1)}\n      triggersBE: ${L.default.BACKEND_URL}\n      offersTelemetryFreq: ${L.default.SIGNALS_OFFERS_FREQ_SECS}\n      '------------------------------------------------------------------------\n`),e.dropdownOfferData=null,e.purchaseCache=new Set,e.db=new I.default("cliqz-offers"),yield e.db.init(),e.offersDB=new f.default,yield e.offersDB.loadPersistentData(),e.backendConnector=new S.default,e.eventHandler=new E.default,e.onUrlChange=e.onUrlChange.bind(e),e.eventHandler.subscribeUrlChange(e.onUrlChange),e.signalReEmitter=new C.default(["signal"]),e.patternsStat=new x.PatternsStat(t=>e.offersDB.getReasonForHaving(t),e.signalReEmitter),yield e.patternsStat.init(e.db),a.default.settings["offers.user-journey.enabled"]?(e.journeyHandler=new D.default({eventHandler:e.eventHandler,signalReEmitter:e.signalReEmitter}),yield e.journeyHandler.init()):e.journeyHandler=null,e.signalsHandler=new b.default({db:e.db,patternsStat:e.patternsStat,journeySignals:e.journeyHandler&&e.journeyHandler.getSignalHandler(),signalReEmitter:e.signalReEmitter,trustedClock:{getMinutesSinceEpochAsync:(t=B((function*(){return(yield e.hpnv2.action("getTime")).minutesSinceEpoch})),function(){return t.apply(this,arguments)})}}),yield e.signalsHandler.init(),e.featureHandler=new w.default;const r=e.featureHandler.getFeature("history");e.intentHandler=new p.default,yield e.intentHandler.init(),e.categoryHandler=new _.default(r),yield e.categoryHandler.init(e.db),yield e.categoryHandler.loadPersistentData(),e.categoryFetcher=new y.default(e.backendConnector,e.categoryHandler,e.db),yield e.categoryFetcher.init(),"chip"===a.default.settings.OFFERS_BRAND&&(e.chipdeHandler=new j.default(e.db,e.eventHandler.getWebrequestPipeline()),yield e.chipdeHandler.init()),e.offersHandler=new c.default({intentHandler:e.intentHandler,backendConnector:e.backendConnector,presentRealEstates:e.registeredRealEstates,featuresHandler:e.featureHandler,sigHandler:e.signalsHandler,eventHandler:e.eventHandler,categoryHandler:e.categoryHandler,offersDB:e.offersDB,chipdeHandler:e.chipdeHandler}),yield e.offersHandler.init(),e.offersAPI=e.offersHandler.offersAPI,e.shopReminder=new P.default({db:e.db}),yield e.shopReminder.init(),e.couponHandler=new T.default({offersHandler:e.offersHandler,core:e.core,popupNotification:e.popupNotification,offersDB:e.offersDB}),e.globObjects={db:e.db,feature_handler:e.featureHandler,intent_handler:e.intentHandler,be_connector:e.backendConnector,category_handler:e.categoryHandler,offers_status_handler:e.offersHandler.offerStatus,telemetry:i.default.service("telemetry",["onTelemetryEnabled","onTelemetryDisabled","isEnabled","push","removeListener"])},e.triggerMachineExecutor=new v.default(e.globObjects),o.default.get("offers2UserEnabled",!0)&&A.isCliqzBrowser&&n.chrome.browserAction.enable(),e.initialized=!0,"pk_campaign=fp1"!==o.default.get("full_distribution")||o.default.get("print_onboarding",!1)||(e.actions.onContentCategories({categories:["freundin"],prefix:"onboarding",url:"https://myoffrz.com/freundin"}),o.default.set("print_onboarding",!0))}))()},softUnload(){var e=this;return B((function*(){!1!==e.initialized&&(e.triggerMachineExecutor&&(yield e.triggerMachineExecutor.destroy(),e.triggerMachineExecutor=null),e.globObjects&&(e.globObjects=null),e.couponHandler=null,e.shopReminder&&(e.shopReminder.unload(),e.shopReminder=null),e.signalsHandler&&(yield e.signalsHandler.destroy(),e.signalsHandler=null),e.patternsStat&&(yield e.patternsStat.destroy(),e.patternsStat=null),e.signalReEmitter=null,e.eventHandler&&(yield e.eventHandler.destroy(),e.eventHandler=null),e.featureHandler&&(yield e.featureHandler.unload(),e.featureHandler=null),e.offersHandler&&(yield e.offersHandler.destroy(),e.offersHandler=null),e.chipdeHandler&&(e.chipdeHandler.unload(),e.chipdeHandler=null),e.intentHandler=null,e.journeyHandler&&(yield e.journeyHandler.destroy(),e.journeyHandler=null),e.categoryFetcher&&(yield e.categoryFetcher.unload(),e.categoryFetcher=null),e.categoryHandler=null,e.offersDB=null,e.initialized=!1)}))()},start(){},status:()=>({visible:!0,userEnabled:!0===o.default.get("offers2UserEnabled",!0),locationEnabled:!0}),onCategoriesHit(e,t){t.setCategoriesMatchTraits(e),this.triggerMachineExecutor.processUrlChange({url_data:t}).then(()=>this.offersHandler.urlChangedEvent(t,e))},onUrlChange(e){if(!e||!this.triggerMachineExecutor)return;const t=this.categoryHandler.newUrlEvent(e.getPatternRequest());t.matches.size>0&&k.default.debug("Categories hit",[...t.getCategoriesIDs()]),this.onCategoriesHit(t,e),this.onCategoryHitByFakeUrlIfNeeded(e)},configureFlags(e){const t=new Set(["offers2UserEnabled","offersLogsEnabled","offersDevFlag","offersLoadSignalsFromDB","offersSaveStorage","triggersBE","offersTelemetryFreq","offersOverrideTimeout","showConsoleLogs","offersInstallInfo","developer","config_location"]);Object.keys(e).forEach(r=>{const n=e[r];if(t.has(r))switch(k.default.debug(`Setting offers pref ${r} with value: ${n}`),r){case"offersInstallInfo":o.default.set(r,`${i.default.app.version}|${n}`);break;default:o.default.set(r,n)}else k.default.debug(`The offers pref with name ${r} is not valid in offers`)})},_shouldActivateOfferForUrl(e){if(this.offersHandler){const t=new M.default(e);return U({},this.offersHandler.shouldActivateOfferForUrl(t)||{activate:!1},{url:e,module:"offers-v2"})}return{url:e,activate:!1,module:"offers-v2"}},_publishOfferReminderPushEventIfNeeded(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=t.active,n=void 0!==r&&r,i=t.offerID,o=t.description,a=void 0===o?"":o,g=(0,s.extractHostname)(e);n&&g&&this.shopReminder.add(g,i);const A=Y(this.shopReminder.notification(g),2),u=A[0],I=A[1];u&&("new"===I.state&&this.shopReminder.receive(g,"minimize"),this._publishOfferReminderPushEvent({offerId:I.offerId,domain:g,notification:I,description:a,url:e}))},_publishOfferReminderPushEvent(e){let t=e.offerId,r=e.domain,n=e.notification,i=e.description,s=e.url;const o=this.offersHandler.getOfferObject(t),a=this.offersDB.getOfferMeta(t);if(!o||a.removed)return;const A=o.ui_info,u=(void 0===A?{}:A).template_data;if(!u)return;const I=this.offersDB.getOfferAttribute(t,"isCodeHidden")||!1,C=u.call_to_action,l=(void 0===C?{}:C).url,c=void 0===l?"":l,h={description:i,benefit:u.benefit,code:u.code,logo:u.logo_dataurl,logoClass:u.logo_class,isCodeHidden:I,offerId:t,landing:new d.default(o).getMonitorPatterns(O.LANDING_MONITOR_TYPE),ctaurl:c},f=o.rule_info,p=(void 0===f?{}:f).url,m=void 0===p?[]:p,_=m&&0!==m.length?m:s,y={dest:["offers-reminder"],type:"push-offer",data:{state:n.state,voucher:h,domain:r,display_rule:{url:_}}};g.default.pub("offers-send-ch",y)},_categoryHitByFakeUrl(e){let t=e.fakeUrl;const r=new M.default(t),n=this.categoryHandler.newUrlEvent(r.getPatternRequest());n.matches.size>0&&(k.default.log("Matching categories by fake url:",n.getCategoriesIDs(),t),this.onCategoriesHit(n,r))},_notifyClientsIfNeeded(e){const t=this._shouldActivateOfferForUrl(e)||{};!(this.couponHandler&&this.couponHandler.onDomReady(t))&&this.shopReminder&&this._publishOfferReminderPushEventIfNeeded(e,t.detectOfferReminder||{})},onCategoryHitByFakeUrlIfNeeded(e){if(!this.dropdownOfferData)return;const t=this.dropdownOfferData,r=t.fakeUrl,n=t.ctaUrl,i=new M.default(n),s=i.getNormalizedUrl(),o=i.getUrlDetails().query,a=void 0===o?"":o,g=e.getUrlDetails(),A=g.cleanHost,u=g.path;(s===e.getNormalizedUrl()||decodeURIComponent(a).includes(A+u))&&(this.dropdownOfferData=null,this._categoryHitByFakeUrl({fakeUrl:r}))},events:{"offers-recv-ch":function(e){this.offersAPI&&this.offersAPI.processRealEstateMessage(e)},prefchange:(W=B((function*(e){"offers2UserEnabled"===e&&(o.default.get("offers2UserEnabled",!0)?(yield this.softInit(),z(!0)):(z(!1),yield this.softUnload()))})),function(e){return W.apply(this,arguments)}),"content:location-change":function(e){e.pinned&&!e.active||e.url&&this._notifyClientsIfNeeded(e.url)},"popup-notification:pop":function(e){return this.couponHandler&&this.couponHandler.onPopupPop(e)},"popup-notification:log":function(e){return this.couponHandler&&this.couponHandler.onPopupLog(e)},"offers-reminder-recv-ch":function(e){const t=e.origin,r=e.data,n=void 0===r?{}:r,i=n.action,s=void 0===i?"":i,o=n.domain,a=void 0===o?"":o;"offers-reminder"===t&&this.shopReminder.receive(a,s)},"ui:click-on-reward-box-icon":function(){this.offersHandler.markOffersAsRead()}},actions:{getStoredOffers(e,t){if(!t)return this.offersHandler.getStoredOffersWithMarkRelevant(e);const r=new M.default(t),n=this.categoryHandler.getMatches(r.getPatternRequest());return this.offersHandler.getStoredOffersWithMarkRelevant(e,{catMatches:n,urlData:r})},createExternalOffer(e){return!!this.offersAPI&&this.offersAPI.createExternalOffer(e)},hasExternalOffer(e){return!!this.offersAPI&&this.offersAPI.hasExternalOffer(e)},processRealEstateMessage(e){const t=e.origin,r=e.data,n=void 0===r?{}:r,i=n.action_id,s=n.offer_id,o=n.ctaUrl,a=void 0===o?"":o;if("dropdown"===t&&"offer_ca_action"===i&&a){const e=`https://fake.url/landing/${this.offersHandler.getCampaignId(s)}`;this.dropdownOfferData={fakeUrl:e,ctaUrl:a}}this.offersAPI&&this.offersAPI.processRealEstateMessage(e)},registerRealEstate(e){let t=e.realEstateID;this.registeredRealEstates&&this.registeredRealEstates.set(t,!0)},unregisterRealEstate(e){let t=e.realEstateID;this.registeredRealEstates&&this.registeredRealEstates.delete(t)},couponFormUsed(e){return this.couponHandler&&this.couponHandler.couponFormUsed(e)},setConfiguration(e){this.configureFlags(e)},getActionID:()=>h.default,flushSignals(){var e=this;return B((function*(){return e.signalsHandler&&e.signalsHandler.flush()}))()},onContentCategories(e){let t=e.categories,r=e.url,n=e.prefix;if(0===t.length)return;const i=`https://${(0,s.extractHostname)(r)}/content-category/${t.map(e=>`${n}/${encodeURIComponent(e)}`).join("/")}`,o=new M.default(i),a=this.categoryHandler.newUrlEvent(o.getPatternRequest("xhr"));a.matches.size>0&&(k.default.log("Matching categories from content category",t,a.getCategoriesIDs(),r),this.onCategoriesHit(a,new M.default(r)))},onContentSignal(e,t){var r=this;return B((function*(){if(k.default.log("contentSignal",e,t.url),"purchase"===e.action){if(r.purchaseCache.has(t.tab.id))return;r.purchaseCache.add(t.tab.id);const n=yield r.helper.action("getPageCache",t),i=n.categories,o=n.price;k.default.log(t.tab.id,i,o,"contentSignal"),r.signalsHandler.onPurchase(U({domain:(0,l.default)((0,s.getGeneralDomain)(t.url)),categories:i,price:o},e))}}))()},learnTargeting(e){for(var t=this,r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return B((function*(){return"page-class"===e||"action"===e?n.length?t.journeyHandler?t.journeyHandler.addFeature(n[0]):Promise.resolve():(k.default.warn("learnTargeting got bad input:",n),Promise.resolve()):t.categoryHandler.learnTargeting(e)}))()},softReloadOffers(){var e=this;return B((function*(){yield e.softUnload(),yield e.softInit()}))()},getOffersStatus(){return{activeCategories:this.categoryHandler.catTree.getAllSubCategories("").map(e=>e.getCategory()).filter(e=>e&&e.isActive()).map(e=>e.getName()),activeIntents:this.intentHandler.activeIntents.keys(),activeOffers:this.offersHandler.offersDB.offersIndexMap.keys(),activeRealEstates:this.registeredRealEstates,categories:this.categoryHandler.catTree.getAllSubCategories("").map(e=>e.name),initialized:this.initialized,triggerCache:Object.keys(this.globObjects.trigger_cache.triggerIndex)}},triggerOfferByIntent(e,t){var r=this;return B((function*(){r.intentHandler.activateIntent(new m.default(e,t)),yield r.offersHandler.updateIntentOffers();const n=r.offersHandler.getOffersForIntent(e)||[];try{const e=n.map(e=>r.offersHandler._preloadImages(e));yield Promise.all(e)}catch(e){k.default.warning("Can not preload images for bootstrap offers:",e)}n.forEach(e=>r.offersAPI.pushOffer(e))}))()}}});t.default=G},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=o(r(113)),i=o(r(19)),s=o(r(43));function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function g(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function A(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var r=[],n=!0,i=!1,s=void 0;try{for(var o,a=e[Symbol.iterator]();!(n=(o=a.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){i=!0,s=e}finally{try{n||null==a.return||a.return()}finally{if(i)throw s}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function u(e,t,r,n,i,s,o){try{var a=e[s](o),g=a.value}catch(e){return void r(e)}a.done?t(g):Promise.resolve(g).then(n,i)}function I(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var s=e.apply(t,r);function o(e){u(s,n,i,o,a,"next",e)}function a(e){u(s,n,i,o,a,"throw",e)}o(void 0)}))}}const C=3;t.default=class{constructor(e){this.dbName=e,this.db=null}init(){var e=this;return I((function*(){const t=yield(0,n.default)(),r=yield t.exists(e.dbName);if(e.db=new t(e.dbName),e.db.version(1).stores({kv:"key"}),yield e.db.open(),r)return null;const o=`_pouch_${e.dbName}`;if(yield t.exists(o)){s.default.log(`Migrate ${e.dbName}`);const r=`pouch_migrate_count_${e.dbName}`;let n=i.default.get(r,C);if(0===n){const n=new t(`_pouch_${e.dbName}`);return yield n.open(),yield n.delete(),n.close(),i.default.clear(r),null}let o=!1;for(;!o&&n>0;){n-=1,i.default.set(r,n);try{o=yield e.migrate()}catch(e){s.default.log(`Error while migrate, ${e}`)}}}return null}))()}migrate(){var e=this;return I((function*(){yield i.default.init();const t=new(yield(0,n.default)())(`_pouch_${e.dbName}`);yield t.open();const r=yield t.table("document-store"),s=yield t.table("by-sequence"),o=yield r.toCollection().primaryKeys(),u=yield Promise.all(o.map(function(){var e=I((function*(e){const t=yield r.get(e),n=`${e}::${JSON.parse(t.data).rev}`;return[e,yield s.get({_doc_id_rev:n})]}));return function(t){return e.apply(this,arguments)}}()));return yield e.db.transaction("rw",e.db.kv,I((function*(){yield Promise.all(u.map(t=>{let r=A(t,2),n=r[0],i=r[1];return e._set(n,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(r,!0).forEach((function(t){g(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},i,{_id:n}))}))}))),yield t.delete(),t.close(),!0}))()}info(){var e=this;return I((function*(){return{doc_count:yield e._size()}}))()}put(e){return this._set(e._id,e)}remove(e){return this._delete(e._id)}get(e){return this._get(e)}bulkDocs(e){var t=this;return Promise.all(e.map(function(){var e=I((function*(e){return e._delete?t.remove(e):null}));return function(t){return e.apply(this,arguments)}}()))}allDocs(){return this._entries()}destroy(){var e=this;return I((function*(){return yield e.db.delete(),e.db.close()}))()}_get(e){return this.db.kv.get(e).then(e=>e&&e.value)}_set(e,t){return this.db.kv.put({key:e,value:t})}_delete(e){return this.db.kv.delete(e)}_size(){return this.db.kv.count()}_entries(){return this.db.kv.toArray().then(e=>e.map(e=>{return e.value}))}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=P(r(281)),i=P(r(81)),s=P(r(39)),o=P(r(19)),a=P(r(28)),g=r(84),A=P(r(114)),u=P(r(29)),I=P(r(517)),C=P(r(518)),l=P(r(519)),c=P(r(523)),d=P(r(158)),h=P(r(524)),f=P(r(527)),p=P(r(92)),m=P(r(531)),_=P(r(532)),y=r(346),b=P(r(533)),v=r(284),w=r(343),k=r(534),M=P(r(535)),O=P(r(536)),S=P(r(537)),D=P(r(538)),T=P(r(540)),L=P(r(541)),E=P(r(542));function P(e){return e&&e.__esModule?e:{default:e}}function x(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var r=[],n=!0,i=!1,s=void 0;try{for(var o,a=e[Symbol.iterator]();!(n=(o=a.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){i=!0,s=e}finally{try{n||null==a.return||a.return()}finally{if(i)throw s}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function j(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function R(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?j(r,!0).forEach((function(t){Y(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Y(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function N(e,t,r,n,i,s,o){try{var a=e[s](o),g=a.value}catch(e){return void r(e)}a.done?t(g):Promise.resolve(g).then(n,i)}function U(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var s=e.apply(t,r);function o(e){N(s,n,i,o,a,"next",e)}function a(e){N(s,n,i,o,a,"throw",e)}o(void 0)}))}}const H="offers-cc";function F(){return(F=U((function*(e,t){let r=[];const n=[];var i=!0,s=!1,o=void 0;try{for(var a,g=e[Symbol.iterator]();!(i=(a=g.next()).done);i=!0){const e=a.value;r=yield e.process(r,t),n.push(r.length)}}catch(e){s=!0,o=e}finally{try{i||null==g.return||g.return()}finally{if(s)throw o}}return u.default.debug(`Number of offers for job steps: ${n.join("/")}`),r}))).apply(this,arguments)}const B=e=>"99"===a.default.settings.channel||e.offersAddedToday()<A.default.MAX_NUM_OFFERS_PER_DAY;t.default=class{constructor(e){let t=e.intentHandler,r=e.backendConnector,i=e.presentRealEstates,s=e.featuresHandler,o=e.sigHandler,a=e.eventHandler,A=e.categoryHandler,u=e.offersDB,d=e.chipdeHandler,p=e.offersImageDownloader,b=void 0===p?new w.ImageDownloaderForPush:p;this.intentHandler=t,this.offersDB=u,this.offersImageDownloader=b,this.offersDBObserver=new c.default(this.offersDB),this.offersGeneralStats=new I.default(this.offersDB),this.offersMonitorHandler=new f.default(o,this.offersDB,a),this.intentOffersHandler=new h.default(r,t),this.offersAPI=new l.default(o,this.offersDB,r),this.sigHandler=o,this.blacklist=new m.default,this.blacklist.init(),this.offersToPageRelationStats=g.isGhostery?(0,y.mock)():new _.default,this.offerStatus=new C.default,this.offerStatus.setStatusChangedCallback(this._updateOffersStatusCallback.bind(this)),this.offersGeneralStats.buildFromOffers(this.offersDB.getOffers({includeRemoved:!0})),this.offersDBObserver.observeExpirations(),this._offersDBCallback=this._offersDBCallback.bind(this),this.offersDB.registerCallback(this._offersDBCallback);const v=s.isFeatureAvailable("geo")?s.getFeature("geo"):null;this.context={presentRealEstates:i,geoChecker:v,offersDB:this.offersDB,categoryHandler:A,intentHandler:t,intentOffersHandler:this.intentOffersHandler},this._processEvent=this._processEvent.bind(this),this.evtQueue=new n.default("offers-handler-queue",this._processEvent),this.throttlePushRewardsBoxFilter=new L.default,this.jobsPipeline=[new M.default,new O.default,new S.default,this.throttlePushRewardsBoxFilter,new T.default,new D.default,E.default],d&&this.jobsPipeline.splice(2,0,d.getOffersJobFilter()),this.nEventsProcessed=0}init(){var e=this;return U((function*(){return e.throttlePushRewardsBoxFilter.init(),Promise.resolve(!0)}))()}destroy(){this.throttlePushRewardsBoxFilter.unload(),this.blacklist.unload(),this.blacklist=null,this.offersToPageRelationStats=null,this.offersDB.unregisterCallback(this._offersDBCallback),this.offersDBObserver.unload()}urlChangedEvent(e,t){return this.evtQueue.push({urlData:e,catMatches:t})}shouldActivateOfferForUrl(e){return this.offersMonitorHandler.shouldActivateOfferForUrl(e)}couponFormUsed(e){this.offersMonitorHandler.couponFormUsed(e)}onCouponActivity(e,t){this.offersMonitorHandler.addCouponSignal(e,t)}getOfferObject(e){return this.offersDB.getOfferObject(e)}getCampaignId(e){return this.offersDB.getCampaignID(e)}markOffersAsRead(){const e=g.isGhostery?[]:this.offersDB.getOffersByRealEstate(H);e.forEach(e=>{let t=e.offer;return this.offersDB.incOfferAction(t.offer_id,"offer_read",1)}),this.offersToPageRelationStats.invalidateCache()}getStoredOffersWithMarkRelevant(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.catMatches,n=t.urlData;if(!this.offersAPI)return[];const i=this.offersAPI.getStoredOffers(e);if(!n||!r)return i;const s=g.isGhostery?[]:this.offersDB.getOffersByRealEstate(H),o=this.offersToPageRelationStats.stats(s,r,n),a=o.related.concat(o.owned);return i.map(e=>R({},e,{relevant:a.includes(e.offer_id)}))}updateIntentOffers(){return this.intentOffersHandler.updateIntentOffers()}getOffersForIntent(e){return this.intentOffersHandler.getOffersForIntent(e)}isUrlBlacklisted(e){return this.blacklist.has(e)}_onOfferIsFilteredOut(e,t){this.sigHandler.setCampaignSignal(e.campaignID,e.uniqueID,"processor",t,1)}_pushOffersToRealEstates(e,t,r){const n={type:"exact_match",url:[t.getRawUrl()],display_time_secs:e.ruleInfo.display_time_secs},s=(0,i.default)(t.getDomain()||""),o=this.offersAPI.pushOffer(e,n,null,new v.OfferMatchTraits(r,e.categories,s));return Promise.resolve(o)}_updateOffers(){const e=this.intentOffersHandler.thereIsNewData()?this.intentOffersHandler.updateIntentOffers():Promise.resolve([]),t=R({},this.context,{offersHandler:this,offerIsFilteredOutCb:this._onOfferIsFilteredOut.bind(this)});return e.then(()=>(function(e,t){return F.apply(this,arguments)})(this.jobsPipeline,t))}_processEvent(e){var t=this;return U((function*(){const r=yield t._processEventWrapped(e);return t.nEventsProcessed+=1,r}))()}_processEventWrapped(e){var t=this;let r=e.urlData,n=e.catMatches;return U((function*(){const e=t._notifyAboutUnreadOffers(n,r),i=yield t._chooseBestOfferIfCan(n,r);return!i&&e&&t._showTooltip(e,r),i}))()}_chooseBestOfferIfCan(e,t){var r=this;return U((function*(){if(u.default.debug("Offers handler processing a new event",t.getRawUrl()),!B(r.offersGeneralStats))return u.default.debug("we should not show any offer now"),!1;r.context.urlData=t;const n=yield r._updateOffers();if(!n)return!1;let i=r._chooseBestOffer(n,t,e);return!!i&&(o.default.get("dynamic-offers.enabled",!1)&&(i=yield(0,k.getDynamicContent)(i,t,e)),yield r._preloadImages(i),yield r._pushOffersToRealEstates(i,t,e),!0)}))()}_chooseBestOffer(e,t,r){if(!e.length)return!1;const n=x((0,b.default)(e,r,e=>this.offersDB.getPushCount(e.uniqueID)),2),i=n[0],s=n[1];return!(!i||!s)&&(u.default.debug(`Offer selected with score ${s}:`,i.uniqueID),e.forEach(e=>{e!==i&&this._onOfferIsFilteredOut(e,p.default.AID_OFFER_FILTERED_COMPETE)}),i)}_preloadImages(e){var t=this;return U((function*(){const r=t.offersImageDownloader.downloadWithinTimeLimit(e.getLogoUrl(),e.getLogoDataurl(),t=>e.setLogoDataurl(t)),n=t.offersImageDownloader.downloadWithinTimeLimit(e.getPictureUrl(),e.getPictureDataurl(),t=>e.setPictureDataurl(t));yield Promise.all([r,n])}))()}_offersDBCallback(e){if("offer-action"===e.evt)this.offersGeneralStats.newOfferAction(e),this.offersToPageRelationStats.invalidateCache();else if("offer-added"===e.evt){const t=e.offer.offer_id;this.offersDB.incOfferAction(t,p.default.AID_OFFER_DB_ADDED),this.offersToPageRelationStats.invalidateCache()}else if("offer-removed"===e.evt){const t=e.offer.offer_id,r=e.offer.campaign_id,n=e.extraData&&!0===e.extraData.erased;this.offersAPI.offerRemoved(t,r,n),this.offersToPageRelationStats.invalidateCache()}}_updateOffersStatusCallback(){const e=e=>"obsolete"===this.offerStatus.getOfferStatus(e);this.offersDB.getOffers().forEach(t=>{e(t.offer_id)&&this.offersDB.removeOfferObject(t.offer_id)})}_notifyAboutUnreadOffers(e,t){const r=g.isGhostery?[]:this.offersDB.getOffersByRealEstate(H),n=this.offersToPageRelationStats.statsCached(r,e,t),i=Array.from(new Set(n.related.concat(n.owned))).filter(e=>!n.touched.includes(e));if(0===i.length)return;const s=i.filter(e=>n.related.includes(e)&&!n.owned.includes(e)&&!n.tooltip.includes(e));if(0!==s.length)return s.pop();this._notifyUnreadCounts(t,i.length)}_notifyUnreadCounts(e,t){const r=e.getTabId();t&&s.default.pub("offers-notification:unread-offers-count",{count:t,tabId:r})}_showTooltip(e,t){const r=this.getOfferObject(e);if(!r)return;const n=r.ui_info,i=R({},void 0===n?{}:n,{notif_type:"tooltip"});this.offersAPI.pushOffer(new d.default(R({},r,{ui_info:i})),{url:[t.getRawUrl()]})}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i=r(54),s=(n=r(92))&&n.__esModule?n:{default:n};const o=e=>Math.floor(e/864e5),a=()=>o((0,i.timestampMS)()),g=(e,t,r)=>{e.has(t)?e.get(t).add(r):e.set(t,new Set([r]))},A=e=>e&&e.rs_dest&&1===e.rs_dest.length&&"dropdown"===e.rs_dest[0];t.default=class{constructor(e){this.addedPerDayMap=new Map,this.offersDB=e}newOfferAction(e){let t=e.offer;this._checkOfferAdded(t.offer_id,t)}buildFromOffers(e){this._clear(),e.forEach(e=>{this.newOfferAction({offer:e.offer})})}offersAddedToday(){const e=a();return this.addedPerDayMap.has(e)?this.addedPerDayMap.get(e).size:0}_checkOfferAdded(e,t){const r=this.offersDB.getOfferActionMeta(e,s.default.AID_OFFER_DB_ADDED);if(r&&!A(t)){const t=o(r.l_u_ts);g(this.addedPerDayMap,t,e)}}_clear(){this.addedPerDayMap.clear()}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=class{constructor(){this.statusMap=null,this.onStatusChangedCallback=null}setStatusChangedCallback(e){this.onStatusChangedCallback=e}loadStatusFromObject(e){if(this.statusMap=new Map,!e)return;const t=Object.keys(e);for(let r=0;r<t.length;r+=1){const n=t[r];this.statusMap.set(n,e[n])}this.onStatusChangedCallback&&this.onStatusChangedCallback()}getOfferStatus(e){return null===this.statusMap?"unknown":this.statusMap.has(e)?this.statusMap.get(e):"unknown"}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=A(r(39)),i=A(r(29)),s=r(234),o=r(343),a=A(r(92)),g=A(r(158));function A(e){return e&&e.__esModule?e:{default:e}}function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var r=[],n=!0,i=!1,s=void 0;try{for(var o,a=e[Symbol.iterator]();!(n=(o=a.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){i=!0,s=e}finally{try{n||null==a.return||a.return()}finally{if(i)throw s}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}const I={MT_PUSH_OFFER:"push-offer",MT_REMOVE_OFFER:"remove-offer",MT_OFFERS_STATE_CHANGED:"offers-state-changed"},C="processor";t.default=class{constructor(e,t,r){this.offersDB=t,this.backendConnector=r,this.uiActionsMap={"remove-offer":this._uiFunRemoveOffer.bind(this),"change-offer-state":this._uiFunOffersStateChanged.bind(this),"offer-action-signal":this._uiFunOfferActionSignal.bind(this),"action-signal":this._uiFunActionSignal.bind(this)},this.sigHandler=e,this.imageDownloader=new o.ImageDownloaderForBatch}pushOffer(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;const o=r||C;if(!e||!e.isValid())return i.default.warn("pushOffer: invalid offer or missing fields"),!1;if(!this._createOrUpdateInDB(e))return i.default.warn("Failed to createOrUpdateDB"),!1;if(n&&!this.offersDB.addReasonForHaving(e.uniqueID,n))return i.default.warn("Failed to addReasonForHaving"),!1;this.sigHandler.setCampaignSignal(e.campaignID,e.uniqueID,o,a.default.AID_OFFER_TRIGGERED),this.offersDB.incOfferAction(e.uniqueID,a.default.AID_OFFER_PUSHED),this.sigHandler.setCampaignSignal(e.campaignID,e.uniqueID,o,a.default.AID_OFFER_PUSHED),e.hasDynamicContent()&&this.sigHandler.setCampaignSignal(e.campaignID,e.uniqueID,o,a.default.AID_DYNAMIC_OFFER_PUSHED);const g=t||e.ruleInfo;this.offersDB.addOfferAttribute(e.uniqueID,"isCodeHidden",!0);const A=this.offersDB.getOfferMeta(e.uniqueID)||{},u={offer_id:e.uniqueID,display_rule:g,offer_data:e.offerObj,createdTs:A.c_ts,attrs:{isCodeHidden:!0,landing:e.getMonitorPatterns(s.LANDING_MONITOR_TYPE)}},l=e.destinationRealEstates;return this._publishMessage(I.MT_PUSH_OFFER,l,u),!0}_createOrUpdateInDB(e){return this.offersDB.hasOfferObject(e.uniqueID)?this._updateInDB(e):this._createInDB(e)}_updateInDB(e){const t=this.offersDB.getOfferObject(e.uniqueID);if(e.version===t.version)return!0;const r=this.offersDB.updateOfferObject(e.uniqueID,e.offerObj);if(!r){const t=`pushOffer: Error updating the offer to the DB: ${e.uniqueID}`;i.default.error(t)}return r}_createInDB(e){const t=this.offersDB.addOfferObject(e.uniqueID,e.offerObj);if(!t){const t=`pushOffer: Error adding the offer to the DB: ${e.uniqueID}`;i.default.error(t)}return t}getStoredOffers(e){const t=this.offersDB.getOffers(),r=e?e.filters:null;let n;return n=r?t.filter(e=>{const t=e.offer&&e.offer.rs_dest||[];if(r.ensure_has_dest&&0===t.length)return!1;if(!r.by_rs_dest||0===t.length)return!0;const n="string"==typeof r.by_rs_dest?new Set([r.by_rs_dest]):new Set(r.by_rs_dest);return t.some(e=>n.has(e))}).map(e=>this._transformRawOffer(e)):t.map(e=>this._transformRawOffer(e)),this.imageDownloader.markBatch(),n}_transformRawOffer(e){let t=e.offer_id,r=e.offer,n=e.created,i=e.last_update;const o=r.ui_info.template_data;return o&&(this.imageDownloader.download(o.logo_url,o.logo_dataurl,e=>{o.logo_dataurl=e}),this.imageDownloader.download(o.picture_url,o.picture_dataurl,e=>{o.picture_dataurl=e})),{offer_info:r,created_ts:n,last_update_ts:i,attrs:{state:this.offersDB.getOfferAttribute(t,"state"),isCodeHidden:this.offersDB.getOfferAttribute(t,"isCodeHidden")||!1,landing:new g.default(r).getMonitorPatterns(s.LANDING_MONITOR_TYPE)},offer_id:t}}createExternalOffer(e){return e&&e.origin&&e.data?!this.hasExternalOffer(e)&&this.pushOffer(new g.default(e.data),null,e.origin):(i.default.warn("createExternalOffer: invalid arguments"),!1)}hasExternalOffer(e){return!!(e&&e.data&&e.data.offer_id)&&this.offersDB.isOfferPresent(e.data.offer_id)}offerRemoved(e,t,r){r&&(this.sigHandler.setCampaignSignal(t,e,C,a.default.AID_OFFER_EXPIRED),this.sigHandler.sendCampaignSignalNow(t).then(()=>this.sigHandler.removeCampaignSignals(t)))}_removeOffer(e,t){if(!this.offersDB.hasOfferData(t))return i.default.warn(`removeOffer: the offer ${t} is not on our DB`),!1;if(!this.offersDB.removeOfferObject(t))return i.default.warn(`removeOffer: failed removing the offer object from the DB ${t}`),!1;this.sigHandler.setCampaignSignal(e,t,C,a.default.AID_OFFER_DB_REMOVED);const r=this._getDestRealStatesForOffer(t),n={offer_id:t};return this._publishMessage(I.MT_REMOVE_OFFER,r,n),!0}processRealEstateMessage(e){if(!(e&&e.origin&&e.type&&e.data))return i.default.error("ProcessRealEstateMessage: invalid message format, discarding it"),!1;const t=this.uiActionsMap[e.type];return t?t(e):(i.default.warn(`ProcessRealEstateMessage: we cannot process the message type ${e.type}`),!1)}_publishMessage(e,t,r){try{const i={origin:"offers-core",type:e,dest:t,data:r};n.default.pub("offers-send-ch",i)}catch(e){i.default.error(`_publishMessage: something failed publishing the message ${JSON.stringify(e)}`)}}_getDestRealStatesForOffer(e){return(this.offersDB.getOfferObject(e)||{}).rs_dest||[]}_uiFunRemoveOffer(e){const t=e.data&&e.data.offer_id;if(!t)return i.default.warn(`_uiFunRemoveOffer: invalid format of the message: ${JSON.stringify(e)}`),!1;const r=this.offersDB.getCampaignID(t);return i.default.info(`_uiFunRemoveOffer: called for offer id: ${t}`),this.sigHandler.setCampaignSignal(r,t,e.origin,a.default.AID_OFFER_REMOVED),this.offersDB.incOfferAction(t,a.default.AID_OFFER_REMOVED),this._removeOffer(r,t)}_uiFunActionSignal(e){if(!e.data||!e.data.action_id)return i.default.warn(`_uiFunActionSignal: data: ${e.data} are invalid`),!1;const t=e.data.counter?e.data.counter:1;return this.sigHandler.setActionSignal(e.data.action_id,e.origin,t),!0}_uiFunOffersStateChanged(e){if(!e.data||!e.data.offers_ids||!e.data.new_state)return i.default.warn(`_uiFunOffersStateChanged: invalid arguments: ${JSON.stringify(e)}`),!1;let t=!1;const r=this;if(e.data.offers_ids.forEach(n=>{this.offersDB.getCampaignID(n)?(r.offersDB.addOfferAttribute(n,"state",e.data.new_state),t=!0):i.default.warn(`_uiFunOffersStateChanged: offer with ID ${n} is not present?`)}),t){const t=[],r={offer_ids:e.data.offers_ids};this._publishMessage(I.MT_OFFERS_STATE_CHANGED,t,r)}return!0}_uiFunOfferActionSignal(e){if(!e.data||!e.data.offer_id||!e.data.action_id||"string"!=typeof e.data.action_id)return i.default.warn(`_uiFunOfferActionSignal: invalid arguments: ${JSON.stringify(e)}`),!1;const t=e.data.offer_id,r=e.data.campaign_id||this.offersDB.getCampaignID(t);if(!r)return i.default.warn(`_uiFunOfferActionSignal: no campaign id for offer ${t}`),!1;if((this.offersDB.getOfferAttribute(t,"isCodeHidden")||!1)&&["offer_ca_action","code_copied"].includes(e.data.action_id)){this.offersDB.addOfferAttribute(t,"isCodeHidden",!1);const e=this.offersDB.getOfferTemplateData(t).code,r=u(this._getDestRealStatesForOffer(t),1)[0],n=`offers/${encodeURIComponent(t)}/code-was-used/`;e&&r&&this.backendConnector.sendApiRequest(n,{code:e,real_estate:r},"POST")}const n=e.data.counter||1;return this.sigHandler.setCampaignSignal(r,t,e.origin,e.data.action_id,n),this.offersDB.incOfferAction(t,e.data.action_id,n)}}},function(e,t,r){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;
/*!
 * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */
var i=((n=r(521))&&n.__esModule?n:{default:n}).default;t.default=i},function(e,t,r){!function(r){"use strict";var n=function(e,t){var r=new Error(e+" at character "+t);throw r.index=t,r.description=e,r},i={"-":!0,"!":!0,"~":!0,"+":!0},s={"||":1,"&&":2,"|":3,"^":4,"&":5,"==":6,"!=":6,"===":6,"!==":6,"<":7,">":7,"<=":7,">=":7,"<<":8,">>":8,">>>":8,"+":9,"-":9,"*":10,"/":10,"%":10},o=function(e){var t,r=0;for(var n in e)(t=n.length)>r&&e.hasOwnProperty(n)&&(r=t);return r},a=o(i),g=o(s),A={true:!0,false:!1,null:null},u=function(e){return s[e]||0},I=function(e,t,r){return{type:"||"===e||"&&"===e?"LogicalExpression":"BinaryExpression",operator:e,left:t,right:r}},C=function(e){return e>=48&&e<=57},l=function(e){return 36===e||95===e||e>=65&&e<=90||e>=97&&e<=122||e>=128&&!s[String.fromCharCode(e)]},c=function(e){return 36===e||95===e||e>=65&&e<=90||e>=97&&e<=122||e>=48&&e<=57||e>=128&&!s[String.fromCharCode(e)]},d=function(e){for(var t,r,o=0,d=e.charAt,h=e.charCodeAt,f=function(t){return d.call(e,t)},p=function(t){return h.call(e,t)},m=e.length,_=function(){for(var e=p(o);32===e||9===e||10===e||13===e;)e=p(++o)},y=function(){var e,t,r=v();return _(),63!==p(o)?r:(o++,(e=y())||n("Expected expression",o),_(),58===p(o)?(o++,(t=y())||n("Expected expression",o),{type:"ConditionalExpression",test:r,consequent:e,alternate:t}):void n("Expected :",o))},b=function(){_();for(var t=e.substr(o,g),r=t.length;r>0;){if(s.hasOwnProperty(t)&&(!l(p(o))||o+t.length<e.length&&!c(p(o+t.length))))return o+=r,t;t=t.substr(0,--r)}return!1},v=function(){var e,t,r,i,s,a,g,A;if(a=w(),!(t=b()))return a;for(s={value:t,prec:u(t)},(g=w())||n("Expected expression after "+t,o),i=[a,s,g];(t=b())&&0!==(r=u(t));){for(s={value:t,prec:r};i.length>2&&r<=i[i.length-2].prec;)g=i.pop(),t=i.pop().value,a=i.pop(),e=I(t,a,g),i.push(e);(e=w())||n("Expected expression after "+t,o),i.push(s,e)}for(e=i[A=i.length-1];A>1;)e=I(i[A-1].value,i[A-2],e),A-=2;return e},w=function(){var t,r,n;if(_(),t=p(o),C(t)||46===t)return k();if(39===t||34===t)return M();if(91===t)return L();for(n=(r=e.substr(o,a)).length;n>0;){if(i.hasOwnProperty(r)&&(!l(p(o))||o+r.length<e.length&&!c(p(o+r.length))))return o+=n,{type:"UnaryExpression",operator:r,argument:w(),prefix:!0};r=r.substr(0,--n)}return!(!l(t)&&40!==t)&&D()},k=function(){for(var e,t,r="";C(p(o));)r+=f(o++);if(46===p(o))for(r+=f(o++);C(p(o));)r+=f(o++);if("e"===(e=f(o))||"E"===e){for(r+=f(o++),"+"!==(e=f(o))&&"-"!==e||(r+=f(o++));C(p(o));)r+=f(o++);C(p(o-1))||n("Expected exponent ("+r+f(o)+")",o)}return t=p(o),l(t)?n("Variable names cannot start with a number ("+r+f(o)+")",o):46===t&&n("Unexpected period",o),{type:"Literal",value:parseFloat(r),raw:r}},M=function(){for(var e,t="",r=f(o++),i=!1;o<m;){if((e=f(o++))===r){i=!0;break}if("\\"===e)switch(e=f(o++)){case"n":t+="\n";break;case"r":t+="\r";break;case"t":t+="\t";break;case"b":t+="\b";break;case"f":t+="\f";break;case"v":t+="\v";break;default:t+=e}else t+=e}return i||n('Unclosed quote after "'+t+'"',o),{type:"Literal",value:t,raw:r+t+r}},O=function(){var t,r=p(o),i=o;for(l(r)?o++:n("Unexpected "+f(o),o);o<m&&(r=p(o),c(r));)o++;return t=e.slice(i,o),A.hasOwnProperty(t)?{type:"Literal",value:A[t],raw:t}:"this"===t?{type:"ThisExpression"}:{type:"Identifier",name:t}},S=function(e){for(var t,r,i=[],s=!1;o<m;){if(_(),(t=p(o))===e){s=!0,o++;break}44===t?o++:((r=y())&&"Compound"!==r.type||n("Expected comma",o),i.push(r))}return s||n("Expected "+String.fromCharCode(e),o),i},D=function(){var e,t;for(t=40===(e=p(o))?T():O(),_(),e=p(o);46===e||91===e||40===e;)o++,46===e?(_(),t={type:"MemberExpression",computed:!1,object:t,property:O()}):91===e?(t={type:"MemberExpression",computed:!0,object:t,property:y()},_(),93!==(e=p(o))&&n("Unclosed [",o),o++):40===e&&(t={type:"CallExpression",arguments:S(41),callee:t}),_(),e=p(o);return t},T=function(){o++;var e=y();if(_(),41===p(o))return o++,e;n("Unclosed (",o)},L=function(){return o++,{type:"ArrayExpression",elements:S(93)}},E=[];o<m;)59===(t=p(o))||44===t?o++:(r=y())?E.push(r):o<m&&n('Unexpected "'+f(o)+'"',o);return 1===E.length?E[0]:{type:"Compound",body:E}};d.version="0.3.4",d.toString=function(){return"JavaScript Expression Parser (JSEP) v"+d.version},d.addUnaryOp=function(e){return a=Math.max(e.length,a),i[e]=!0,this},d.addBinaryOp=function(e,t){return g=Math.max(e.length,g),s[e]=t,this},d.addLiteral=function(e,t){return A[e]=t,this},d.removeUnaryOp=function(e){return delete i[e],e.length===a&&(a=o(i)),this},d.removeAllUnaryOps=function(){return i={},a=0,this},d.removeBinaryOp=function(e){return delete s[e],e.length===g&&(g=o(s)),this},d.removeAllBinaryOps=function(){return s={},g=0,this},d.removeLiteral=function(e){return delete A[e],this},d.removeAllLiterals=function(){return A={},this},e.exports?t=e.exports=d:t.parse=d}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MultiPatternIndex=t.SimplePatternIndex=void 0;var n,i=(n=r(159))&&n.__esModule?n:{default:n};class s{constructor(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Map;this.id2pattern=t,this.id2categories=r,this.index=new i.default.ReverseIndex({config:{enableCompression:!1},deserialize:i.default.NetworkFilter.deserialize,filters:e,optimize:e=>e})}match(){throw new Error("should be implemented by the inherited class ")}isEmpty(){return 0===this.id2pattern.size}}t.SimplePatternIndex=class extends s{match(e){let t=!1;return this.index.iterMatchingFilters(e.getTokens(),r=>!(t=r.match(e))),t}};t.MultiPatternIndex=class extends s{match(e){return new Set(this.matchWithPatterns(e).keys())}matchWithPatterns(e){const t=new Map;return this.index.iterMatchingFilters(e.getTokens(),r=>(r.match(e)&&this.id2categories.get(r.getId()).forEach(e=>{const n={rawPattern:this.id2pattern.get(r.getId()),tokenCount:r.getTokens()[0].length};t.has(e)?t.get(e).push(n):t.set(e,[n])}),!0)),t}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.isOfferExpired=void 0;var n=a(r(44)),i=r(54),s=a(r(29)),o=a(r(114));function a(e){return e&&e.__esModule?e:{default:e}}const g=864e5,A=3e5,u=e=>e.getOffers(),I=e=>{const t=1e3*o.default.OFFERS_STORAGE_DEFAULT_TTS_SECS,r=e.offer.expirationMs||t,n=Math.min(e.created+r,e.last_update+t),s=1e3*["offer","ui_info","template_data","validity"].reduce((e,t)=>e?e[t]:null,e);return(s?Math.min(s,n):n)-(0,i.timestampMS)()},C=e=>I(e)<=0;t.isOfferExpired=C;const l=e=>{const t=(e=>e.filter(e=>C(e)))(u(e));s.default.debug("Removing the following expired offers: ",t),t.forEach(t=>{e.eraseOfferObject(t.offer_id)})},c=e=>{return(e=>{let t=432e8;return e.forEach(e=>{const r=I(e);t=Math.min(t,r)}),432e8===t?null:t})(u(e))};t.default=class{constructor(e){this.offersDB=e,this._offersDBCallback=this._offersDBCallback.bind(this),this.offersDB.registerCallback(this._offersDBCallback),this._timerId=null}unload(){this._resetTimer(),this.offersDB.unregisterCallback(this._offersDBCallback)}_resetTimer(){n.default.clearTimeout(this._timerId),this._timerId=null}observeExpirations(){this._resetTimer(),this._observeExpirations()}_observeExpirations(){l(this.offersDB);const e=c(this.offersDB);e&&(this._timerId=n.default.setTimeout(()=>{this._observeExpirations()},Math.min(Math.max(e+10,A),g)))}_offersDBCallback(e){"offer-added"!==e.evt&&"offer-updated"!==e.evt||this.observeExpirations()}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(54),i=g(r(29)),s=g(r(158)),o=g(r(19)),a=r(205);function g(e){return e&&e.__esModule?e:{default:e}}const A="cliqz-intent-offers-db",u=(e,t)=>{if(e.size!==t.size)return!1;const r=[...e.keys()];for(let e=0;e<r.length;e+=1)if(!t.has(r[e]))return!1;return!0};class I{constructor(e,t){this.data=e,this.expireTS=(0,n.timestampMS)()+1e3*t}static expired(e){return(0,n.timestampMS)()>e.expireTS}}t.default=class{constructor(e,t){this.intentOffers=(0,a.buildCachedMap)(A,!o.default.get("offersDevFlag",!1)),this.intentOffers.init(),this.backendConnector=e,this.intentHandler=t}thereIsNewData(){return!u(new Set(this._getLatestIntentsNames()),new Set(this._getCurrentIntentsNames()))}updateIntentOffers(){const e=this._getCurrentIntentsNames();return this.intentOffers.clear(),Promise.all(e.map(e=>this.fetchOffersForIntent(e))||[])}fetchOffersForIntent(e){const t=this.intentHandler.getActiveIntent(e);if(!t)return Promise.resolve(!1);if(this._expireCache(),this.intentOffers.has(t.getName()))return Promise.resolve(!0);const r=o.default.get("config_location","")||"";return this.backendConnector.sendApiRequest("offers",{intent_name:e,country:r},"GET").then(r=>{if(!r)return i.default.error("Invalid intent offers fetched for intent: ",e),Promise.reject();const s=r.filter(e=>e&&(void 0===e.user_group||(0,n.shouldKeepResource)(e.user_group)));return this.setIntentOffers(t,s),Promise.resolve(!0)})}setIntentOffers(e,t){this.intentOffers.set(e.getName(),new I(t,e.getDurationSecs()))}getOffersForIntent(e){return this.intentOffers.has(e)?this.intentOffers.get(e).data.map(e=>new s.default(e)):[]}_expireCache(){this.intentOffers.keys().forEach(e=>{const t=this.intentOffers.get(e);I.expired(t)&&this.intentOffers.delete(e)})}_getLatestIntentsNames(){return this._expireCache(),[...this.intentOffers.keys()]}_getCurrentIntentsNames(){return this.intentHandler.getActiveIntents().map(e=>e.getName())||[]}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i=(n=r(113))&&n.__esModule?n:{default:n};t.default=
/*!
 * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */
class{constructor(e){this.dbName=e,this.db=null}init(){return(0,i.default)().then(e=>(this.db=new e(this.dbName),this.db.version(1).stores({kv:"key"}),this.db.open()))}unload(){null!==this.db&&(this.db.close(),this.db=null)}destroy(){return null!==this.db?this.db.delete():(0,i.default)(e=>e.delete(this.dbName))}get(e){return this.db.kv.get(e).then(e=>e&&e.value)}set(e,t){return this.db.kv.put({key:e,value:t})}has(e){return this.db.kv.get(e).then(e=>void 0!==e)}delete(e){return this.db.kv.delete(e)}clear(){return this.db.kv.clear()}size(){return this.db.kv.count()}keys(){return this.db.kv.toCollection().primaryKeys()}values(){return this.db.kv.toArray().then(e=>e.map(e=>{return e.value}))}entries(){return this.db.kv.toArray().then(e=>e.map(e=>{return[e.key,e.value]}))}}},function(e,t,r){"use strict";function n(e,t,r,n,i,s,o){try{var a=e[s](o),g=a.value}catch(e){return void r(e)}a.done?t(g):Promise.resolve(g).then(n,i)}function i(e){return function(){var t=this,r=arguments;return new Promise((function(i,s){var o=e.apply(t,r);function a(e){n(o,i,s,a,g,"next",e)}function g(e){n(o,i,s,a,g,"throw",e)}a(void 0)}))}}
/*!
 * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=class{constructor(){this.db=new Map}init(){return Promise.resolve()}unload(){this.db.clear()}destroy(){var e=this;return i((function*(){e.db.clear()}))()}get(e){var t=this;return i((function*(){return t.db.get(e)}))()}set(e,t){var r=this;return i((function*(){r.db.set(e,t)}))()}has(e){var t=this;return i((function*(){return t.db.has(e)}))()}delete(e){var t=this;return i((function*(){t.db.delete(e)}))()}clear(){var e=this;return i((function*(){e.db.clear()}))()}size(){var e=this;return i((function*(){return e.db.size}))()}keys(){var e=this;return i((function*(){return[...e.db.keys()]}))()}values(){var e=this;return i((function*(){return[...e.db.values()]}))()}entries(){var e=this;return i((function*(){return[...e.db.entries()]}))()}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=I(r(103)),i=r(51),s=r(91),o=I(r(29)),a=I(r(528)),g=r(204),A=I(r(530)),u=I(r(92));function I(e){return e&&e.__esModule?e:{default:e}}function C(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?C(r,!0).forEach((function(t){c(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const d="urlchange",h="webrequest",f="coupon",p=e=>{const t=e.offer;if(!t||!t.monitorData||!t.offer_id)return[];const r=[];return t.monitorData.forEach(n=>{const i={offerID:t.offer_id,signalID:n.signalID,type:n.type,params:n.params,patterns:n.patterns,click:e.click,view:e.view,last_update:e.last_update,offerReminder:l({},n.offerReminder)};if("webrequest"===n.type)i.domain=n.domain;else if("coupon"===n.type){i.couponInfo=n.couponInfo;const e=t.ui_info&&t.ui_info.template_data&&t.ui_info.template_data.code?t.ui_info.template_data.code:"";i.couponInfo.code=e,void 0===n.couponInfo.autoFillField&&(i.couponInfo.autoFillField=!1)}r.push(i)}),r},m=e=>{if(0===e.length)return[];e.sort((e,t)=>(t.click||0)-(e.click||0)||(t.view||0)-(e.view||0)||(t.last_update||0)-(e.last_update||0)||0);const t=e[0].offerID;return e.map(e=>{if(e.offerID===t)return e;const r=l({},e);return r.signalID=`repeated_${e.signalID}`,r})},_=(e,t)=>{if(["coupon_autofill_field_apply_action","coupon_autofill_field_cancel_action","coupon_autofill_field_copy_code","coupon_autofill_field_failed","coupon_autofill_field_outside_action","coupon_autofill_field_show","coupon_autofill_field_unknown","coupon_autofill_field_x_action","coupon_autofill_field_success_use","coupon_autofill_field_error_use","coupon_autofill_field_application_not_found"].includes(t))return t;const r=t.toLowerCase();return 0===r.length?"coupon_empty":e.some(e=>e.toLowerCase()===r)?"coupon_own_used":"coupon_other_used"};t.default=class{constructor(e,t,r){this.offersDB=t,this.sigHandler=e,this.monitorDBHandler=new a.default,this.eventHandler=r,this.monitors={},this.monitors[d]={patterns:{},index:null},this.monitors[h]={patterns:{},index:null},this.monitors[f]={patterns:{},index:null},this.handlers={sigHandler:this.sigHandler,offersDB:this.offersDB,lastCampaignSignalDB:this.monitorDBHandler.lastCampaignSignalDB,urlSignalDB:this.monitorDBHandler.urlSignalsDB},this._offersDBCallback=this._offersDBCallback.bind(this),this.offersDB.registerCallback(this._offersDBCallback),this.onUrlChange=this.onUrlChange.bind(this),this.eventHandler.subscribeUrlChange(this.onUrlChange),this.webRequestCallback=this.webRequestCallback.bind(this),this._getOffersAndRebuildMonitorsThrottle=(0,s.throttle)(i.window,()=>this._getOffersAndRebuildMonitors(),1e3),this._getOffersAndRebuildMonitors()}destroy(){this.offersDB.unregisterCallback(this._offersDBCallback),this.eventHandler.unsubscribeUrlChange(this.onUrlChange),Object.keys(this.monitors).forEach(e=>this.removeOfferMonitors(e))}addOfferMonitors(e){p(e).forEach(e=>this._addOfferMonitor(e))}removeOfferMonitors(e){const t=new Set;p(e).forEach(e=>this._removeOfferMonitor(e).forEach(e=>t.add(e)));const r=new Set;Object.keys(this.monitors[h].patterns).map(e=>this.monitors[h].patterns[e].map(e=>r.add(e.domain))),[...t].forEach(e=>{r.has(e)||this.eventHandler.unsubscribeHttpReq(this.webRequestCallback,e)})}build(){Object.keys(this.monitors).forEach(e=>{this.monitors[e].index=(0,g.buildMultiPatternIndexPatternAsID)(Object.keys(this.monitors[e].patterns))})}activeMonitorsForType(e,t){if(!this.monitors[e].index)return[];return[...this.monitors[e].index.match(t.getPatternRequest())].map(t=>this.monitors[e].patterns[t]).reduce((e,t)=>e.concat(t),[])}getAutoFillInfo(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(0===e.length)return{activate:!1};const t=m(e)[0],r=JSON.parse(JSON.stringify(t.couponInfo));r.pattern=t.patterns[0];const i=(0,n.default)()-864e5,s=r.autoFillField&&(t.click>i||t.view>i);return r.autoFillField=s,o.default.log("shouldActivateOfferForUrl: autoFillField:",s," for:",JSON.stringify(t)),{offerID:t.offerID,offerInfo:r,activate:!0}}detectOfferReminderMonitor(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).find(e=>(e.offerReminder||{}).active);return e?l({},e.offerReminder,{offerID:e.offerID}):{}}shouldActivateOfferForUrl(e){const t=this.activeMonitorsForType(f,e),r=this.activeMonitorsForType(d,e);return l({},this.getAutoFillInfo(t),{detectOfferReminder:this.detectOfferReminderMonitor(r)})}couponFormUsed(e){const t=e.offerInfo||{};void 0===t.autoFillField&&(t.autoFillField=!1);const r=this.monitors[f].patterns[t.pattern];if(!r)return;const n=m(r)[0];n&&(n.signalID=this._getSignalNameForCouponByMonitors(e.couponValue,r),(0,A.default)(n,this.handlers,e.urlData))}addCouponSignal(e,t){const r=e.offerInfo,n=void 0===r?{}:r,i=this.monitors[f].patterns[n.pattern];if(!i)return;const s=m(i)[0];if(!s)return;let o=e;if("coupon_submitted"===e.type){const t=this._getSignalNameForCouponByMonitors(e.couponValue,i);o=l({},e,{type:t}),s.signalID=t,(0,A.default)(s,this.handlers)}const a={offerID:s.offerID,params:void 0,signalID:u.default.AID_COUPON_JOURNEY,signalValue:t(o,s)};(0,A.default)(a,this.handlers)}_getSignalNameForCouponByMonitors(e,t){const r=t.map(e=>{if(e.couponInfo&&e.couponInfo.code)return e.couponInfo.code}).filter(e=>void 0!==e);return _(r,e)}_isMonitorDataValid(e){return e&&e.offerID&&e.signalID&&("webrequest"===e.type&&e.domain||"urlchange"===e.type||"coupon"===e.type&&e.couponInfo)&&e.patterns&&e.patterns.length>0&&!e.patterns.some(e=>0===e.length)}_addOfferMonitor(e){if(!this._isMonitorDataValid(e))return void o.default.info("Invalid monitor data being set, discarding it: ",e);const t=e.type;t in this.monitors||(this.monitors[t]={patterns:{},index:null}),e.patterns.forEach(r=>{r in this.monitors[t].patterns||(this.monitors[t].patterns[r]=[]),this.monitors[t].patterns[r].push(e)}),t===h&&this.eventHandler.subscribeHttpReq(this.webRequestCallback,e.domain)}_removeOfferMonitor(e){const t=e.type,r=new Set;return e.patterns.forEach(n=>{if(!(n in this.monitors[t].patterns))return;const i=this.monitors[t].patterns[n].filter(t=>e.offerID!==t.offerID||e.signalID!==t.signalID||(r.add(t.domain),!1));this.monitors[t].patterns[n]=i,0===this.monitors[t].patterns[n].length&&delete this.monitors[t].patterns[n]}),r}checkUrl(e,t){const r=this.monitors[t].index;if(null===r)return;const n=[...r.match(e.getPatternRequest())].map(e=>this.monitors[t].patterns[e]).reduce((e,t)=>e.concat(t),[]);m(n).forEach(t=>{(0,A.default)(t,this.handlers,e)})}onUrlChange(e){this.checkUrl(e,d)}webRequestCallback(e){const t=e.url_data;this.checkUrl(t,h)}_getOffersAndRebuildMonitors(){this.monitors={},this.monitors[d]={patterns:{},index:null},this.monitors[h]={patterns:{},index:null},this.monitors[f]={patterns:{},index:null},this.offersDB.getOffers({includeRemoved:!1}).forEach(e=>this.addOfferMonitors(e)),this.build()}_offersDBCallback(e){("offer-removed"===e.evt||"offer-updated"===e.evt)&&(o.default.log("Monitoring, should remove evt:",e),this.removeOfferMonitors(e)),this._getOffersAndRebuildMonitorsThrottle()}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(r(529)),i=s(r(114));function s(e){return e&&e.__esModule?e:{default:e}}t.default=class{constructor(){const e={should_persist:i.default.SEND_SIG_OP_SHOULD_LOAD,old_entries_dt_secs:i.default.SEND_SIG_OP_EXPIRATION_SECS};this.urlSignalsDB=new n.default("offers-signals-url",e),this.urlSignalsDB.loadEntries(),this.lastCampaignSignalDB=new n.default("offers-last-cmp-signals",e),this.lastCampaignSignalDB.loadEntries()}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(205),i=r(54);t.default=class{constructor(e,t){this.entriesMap=(0,n.buildCachedMap)(e,t.should_persist),this.configs=t}loadEntries(){return this.entriesMap.init().then(()=>this._removeOldEntries)}setEntryData(e,t){if(!e)return!1;const r=this.entriesMap.get(e)||this._createContainer();return r.data=t,r.l_u_ts=(0,i.timestampMS)(),this.entriesMap.set(e,r),!0}getEntryData(e){return this.entriesMap.has(e)?this.entriesMap.get(e).data:null}getEntryContainer(e){return this.entriesMap.has(e)?this.entriesMap.get(e):null}_removeOldEntries(){if(!this.configs||this.configs.old_entries_dt_secs<=0)return;const e=(0,i.timestampMS)();this.entriesMap.keys().forEach(t=>{const r=this.entriesMap.get(t);r&&(e-r.l_u_ts)/1e3>=this.configs.old_entries_dt_secs&&this.entriesMap.delete(t)})}_createContainer(){const e=(0,i.timestampMS)();return{c_ts:e,l_u_ts:e}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r){const o=e.offerID,a=i(o,t.offersDB);if(!a)return!1;const g=a.oid,A=a.cid;let u=e.signalID,I=!1;if(e.params){const i=r&&r.getNormalizedUrl();if(e.params.store&&i){const r=t.urlSignalDB,n=r.getEntryContainer(i);n?(n.data.counter+=1,u=`repeated_${e.signalID}`):r.setEntryData(i,{counter:1})}if(e.params.filter_last_secs&&e.params.filter_last_secs>0){const r=t.lastCampaignSignalDB;let i=r.getEntryData(A),s=null;const o=(0,n.timestampMS)();if(i){const t=i[e.signalID];t?(i[e.signalID].counter+=1,s=t.l_u_ts,t.l_u_ts=o):i[e.signalID]={counter:1,l_u_ts:o}}else i={[e.signalID]:{counter:1,l_u_ts:o}};r.setEntryData(A,i);const a=(o-s)/1e3;s&&a<=e.params.filter_last_secs&&(I=!0)}}let C=!0;I||(C=s(t.offersDB,t.sigHandler,g,u,e.signalValue));return C};var n=r(54);const i=(e,t)=>{const r=t.getCampaignID(e),n=t.getCampaignOffers(r);if(!n)return null;const i=t.getLatestUpdatedOffer(n);return!i||i.length<=0||!i[0].offer_id?null:{oid:i[0].offer_id,cid:r}},s=(e,t,r,n,i)=>{if(!r||!n||!e)return!1;const s=e.getCampaignID(r);if(!s)return!1;return t.setCampaignSignal(s,r,"trigger",n,i)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=g(r(159)),i=g(r(124)),s=g(r(28)),o=g(r(19)),a=g(r(29));function g(e){return e&&e.__esModule?e:{default:e}}const A=36e5,u=24*A;t.default=class{constructor(){this.engine=new n.default.FiltersEngine({loadCosmeticFilters:!1});const e=s.default.settings.CDN_BASEURL,t=o.default.get("offers.distribution.channel")||s.default.settings.OFFERS_CHANNEL||"cliqz";this.loader=new i.default(["offers-v2","rules.json.gz"],{cron:u,updateInterval:A,dataType:"json",remoteURL:`${e}/offers/display_rules/${t}/rules.json.gz`})}init(){var e=this;this.loader.updateFromRemote({force:!0}),this.loader.onUpdate((function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.negation_rules,n=void 0===r?[]:r;e.update({filters:n})})),this.loader.load().catch(e=>a.default.warn(`Can't load blacklist rules: ${e}`))}unload(){this.engine=null,this.filters=null,this.loader.stop(),this.loader=null}update(e){let t=e.filters,r=void 0===t?[]:t;this.engine=n.default.FiltersEngine.parse(r.join("\n"),{loadCosmeticFilters:!1})}has(e){return this.engine.match(n.default.makeRequest({url:e})).match}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(r(176)),i=r(346),s=a(r(158)),o=r(234);function a(e){return e&&e.__esModule?e:{default:e}}function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var r=[],n=!0,i=!1,s=void 0;try{for(var o,a=e[Symbol.iterator]();!(n=(o=a.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){i=!0,s=e}finally{try{n||null==a.return||a.return()}finally{if(i)throw s}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}const A=128,u=45,I="page_imp",C=24;t.default=class{constructor(e){this.store=e||new n.default(A)}statsCached(e,t,r){const n=r.getRawUrl(),i=g(this.store.get(n)||[],2),s=i[0],o=i[1];if(void 0!==s&&this._cacheStillValid(o))return s;const a=this.stats(e,t,r);return this.store.set(n,[a,Date.now()]),a}stats(e,t,r){const n={touched:[],related:[],tooltip:[],owned:[]},i=r.getRawUrl();return e.forEach(e=>{const s=(e.offer||{}).offer_id,o=e.offer;this._touchPredicate(e)&&n.touched.push(s),this._tooltipPredicate(e)&&n.tooltip.push(s),this._clientsPredicate(o,i)&&n.owned.push(s),this._commonCatMatchesPredicate(o,t,r)&&n.related.push(s)}),n}invalidateCache(e){this.store=e||new n.default(A)}_cacheStillValid(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:60*u*1e3;return Date.now()-e<t}_commonCatMatchesPredicate(e,t,r){const n=new s.default(e);return!(n.hasBlacklistPatterns()&&n.blackListPatterns.match(r.getPatternRequest()))&&t.haveCommonWith(e.categories)}_clientsPredicate(e,t){const r=(e.monitorData||[]).find(e=>e.signalID===o.LANDING_MONITOR_TYPE)||{};if((0,i.matchUrl)(r.patterns,t))return!1;const n=(e.monitorData||[]).find(e=>e.signalID===I)||{};return(0,i.matchHostname)(n.patterns,t)}_tooltipPredicate(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:60*C*60*1e3;const r=e.last_update||0;if(Date.now()-r>t)return!0;const n=(e.offer_actions||{}).tooltip_shown,i=(void 0===n?{}:n).l_u_ts;return Date.now()-i<t}_touchPredicate(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:60*C*60*1e3;const r=e.last_update||0;if(Date.now()-r>t)return!0;const n=e.offer_actions||{},i=n.code_copied,s=(void 0===i?{}:i).l_u_ts,o=void 0===s?0:s,a=n.offer_closed,g=(void 0===a?{}:a).l_u_ts,A=void 0===g?0:g,u=n.offer_ca_action,I=(void 0===u?{}:u).l_u_ts,l=void 0===I?0:I,c=n.offer_read,d=(void 0===c?{}:c).l_u_ts,h=void 0===d?0:d,f=n.tooltip_clicked,p=(void 0===f?{}:f).l_u_ts,m=n.tooltip_closed;return[o,A,l,h,p,(void 0===m?{}:m).l_u_ts].some(e=>Date.now()-e<t)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r){if(!e.length)return[null,0,0];if(1===e.length)return[e[0],1,1];return function(e,t,r){return e.reduce((e,n)=>{let i=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var r=[],n=!0,i=!1,s=void 0;try{for(var o,a=e[Symbol.iterator]();!(n=(o=a.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){i=!0,s=e}finally{try{n||null==a.return||a.return()}finally{if(i)throw s}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}(e,3),s=i[0],o=i[1],a=i[2];const g=function(e,t){const r=e.categories;if(!r||!r.length)return 1;const n=Array.from(t.weightsIter(r),e=>e[1]),i=Math.max.apply(null,n);return e.getReward()*i}(n,t),A=g/(r(n)||.01);return A>o||A===o&&g>a?[n,A,g]:[s,o,a]},[null,0,-1e4])}(e,t,r)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._guessQuery=l,t._getResultCountFromText=c,t.getDynamicContent=function(e,t,r){return f.apply(this,arguments)};var n,i=r(68),s=(n=r(29))&&n.__esModule?n:{default:n},o=r(112);function a(e,t,r,n,i,s,o){try{var a=e[s](o),g=a.value}catch(e){return void r(e)}a.done?t(g):Promise.resolve(g).then(n,i)}function g(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var s=e.apply(t,r);function o(e){a(s,n,i,o,g,"next",e)}function g(e){a(s,n,i,o,g,"throw",e)}o(void 0)}))}}function A(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var r=[],n=!0,i=!1,s=void 0;try{for(var o,a=e[Symbol.iterator]();!(n=(o=a.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){i=!0,s=e}finally{try{n||null==a.return||a.return()}finally{if(i)throw s}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}const u={mytoys:{searchUrl:"https://www.mytoys.de/suche/{#QUERY#}/"},cyberport:{searchUrl:"https://www.cyberport.de/tools/search-results.html?autosuggest=false&q={#QUERY#}"},home24:{searchUrl:"https://www.home24.de/search?query={#QUERY#}"},flaconi:{searchUrl:"https://www.flaconi.de/search/?q={#QUERY#}"},lampenwelt:{searchUrl:"https://www.lampenwelt.de/catalogsearch/result/?q={#QUERY#}"},yomonda:{searchUrl:"https://www.yomonda.de/suche/{#QUERY#}/"},mirapodo:{searchUrl:"https://www.mirapodo.de/suche/{#QUERY#}/"},ambellis:{searchUrl:"https://www.ambellis.de/suche/{#QUERY#}/"},hemden:{searchUrl:"https://www.hemden.de/search?sSearch={#QUERY#}"},emp:{searchUrl:"https://www.emp.de/search?q={#QUERY#}"},everysize:{searchUrl:"https://www.everysize.com/sneaker/?q={#QUERY#}"},"silkes-weinkeller":{searchUrl:"https://www.silkes-weinkeller.de/suche/?searchparam={#QUERY#}&bdsb_search_filter_by=clear"},valmano:{searchUrl:"https://www.valmano.de/suche/result/?q={#QUERY#}"},doncarne:{searchUrl:"https://doncarne.de/de/search?sSearch={#QUERY#}"}},I=["artikel","results","suchergebnisse","ergebnisse","treffer","produkte"].join("|"),C=4;function l(e,t){if(!t.includes("$"))return;const r=t.split("$").slice(0,-1).join("$").split(" "),n="[/=#]+?([^=/#]*?(".concat(r.join("|")).concat(")[^&?/]*?)([&=?/]|$)"),i=new RegExp(n,"ig"),s=e.match(i),o=A(i.exec(s.sort((e,t)=>t.length-e.length)[0]),2)[1];return o?o.trim().replace("-"," "):""}function c(e,t){let r=new RegExp(`(\\d+)\\s*(${I})`,"ig").exec(e);return r&&!t.includes(r[1])?parseInt(r[1],10):(r=new RegExp(`(${I}):?\\s*(\\d+)`,"ig").exec(e))&&!t.includes(r[1])?parseInt(r[2],10):0}function d(){return(d=g((function*(e){let t;try{t=yield(0,i.fetch)(e)}catch(t){return s.default.error(`offers/dynamic-offer/performSearch: Can't fetch '${e}': ${t.message}`),{htmlContent:void 0,mimeType:void 0}}if(!t.ok)return s.default.error(`offers/dynamic-offer/performSearch: Can't fetch '${e}': ${t.status}/${t.statusText}`),{htmlContent:void 0,mimeType:void 0};const r=(t.headers.get("content-type")||"text/html; charset=UTF-8").split(";"),n=r.length>1&&r[1].trim().startsWith("charset")?r[1].split("=")[1]:"utf-8";return{htmlContent:function(e,t){const r=new Uint8Array(e);let n;if("utf-8"===t.toLowerCase())n=(0,o.fromUTF8)(r);else try{n=new TextDecoder(t).decode(r)}catch(e){s.default.error(e),n=""}return n}(yield t.arrayBuffer?t.arrayBuffer():t.buffer(),n),mimeType:r[0]}}))).apply(this,arguments)}function h(e){const t=function(e){const t=Array.from(e.getElementsByTagName("img")),r={};return t.forEach(e=>{const t=`${e.parentNode.tagName}#${e.parentNode.getAttribute("class")}#${e.getAttribute("class")}`,n=function(e){const t=e.getAttribute("srcset");return t?t.split(",")[0].trim():e.getAttribute("data-original")||e.getAttribute("data-echo")||e.getAttribute("data-src")||e.getAttribute("data-srcset")||e.getAttribute("src")}(e);t in r||(r[t]={count:0,firstImage:n,images:new Set,hasAlt:{y:0,n:0}}),r[t].count+=1,r[t].images.add(n),r[t].hasAlt[e.alt?"y":"n"]+=1}),r}(e);let r,n=0;return Object.keys(t).filter(e=>t[e].count/t[e].images.size<2).filter(e=>t[e].hasAlt.y/t[e].hasAlt.n>1).forEach(e=>{t[e].count>n&&(n=t[e].count,r=t[e].firstImage)}),r=function(e){const t=e.split("$")[0].split(",");return t[0]?t[0].trim():e}(r)}function f(){return(f=g((function*(e,t,r){try{if(!e.shouldShowDynamicOffer())return e;const n=r.getMatchPatterns(e.categories).next().value;if(!n)return e;const i=l(t.getNormalizedUrl(),n);if(!i)return s.default.log("_guessQuery: No query found for",t.getNormalizedUrl(),n),e;s.default.log(`_guessQuery: "${i}" found for url: ${t.getNormalizedUrl()} and pattern: ${n}`);const o=function(e,t){let r;const n=function(e){const t=e.find(e=>"landing"===e.signalID);if(t)return t.patterns[0].split(".")[0].replace("||","")}(t);if(n&&n in u){return(r=u[n].searchUrl).replace("{#QUERY#}",encodeURIComponent(e))}}(i,e.offerObj.monitorData);if(!o)return s.default.log("getSearchUrl: No searchUrlTemplate for offer:",e.offerObj),e;const a=yield function(e){return d.apply(this,arguments)}(o),g=a.htmlContent,A=a.mimeType;if(!g)return s.default.log(`performSearch: ${o} failed`),e;s.default.log(`performSearch: ${o} fetched`);const I=function(e,t){const r=(new DOMParser).parseFromString(e,t);return["header","nav","footer"].forEach(e=>r.querySelectorAll(e).forEach(e=>e.parentNode.removeChild(e))),{pageText:r.body.textContent,dom:r}}(g,A),f=I.pageText,p=I.dom;if(!f||!p)return s.default.log(`parseHtml: ${o} failed`),e;s.default.log(`parseHtml: ${o} parsed`);const m=c(f,i);if(s.default.log(`_getResultCountFromText: ${m} results found`),m>C){const t=h(p);return s.default.log(`getImageFromSERP: found ${t}`),e.setDynamicContent(new URL(t,o).toString(),function(e,t){const r=new URL(e),n=new URL(t);if(r.hostname===n.hostname){var i=!0,s=!1,o=void 0;try{for(var a,g=n.searchParams.entries()[Symbol.iterator]();!(i=(a=g.next()).done);i=!0){const e=a.value;r.searchParams.append(e[0],e[1])}}catch(e){s=!0,o=e}finally{try{i||null==g.return||g.return()}finally{if(s)throw o}}}return r.toString()}(o,e.offerObj.ui_info.template_data.call_to_action.url)),e}return e}catch(t){return s.default.error(t),e}}))).apply(this,arguments)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i=(n=r(149))&&n.__esModule?n:{default:n};const s=e=>{const t=new Set,r=[];return e.forEach(e=>{t.has(e.uniqueID)||(t.add(e.uniqueID),r.push(e))}),r};class o extends i.default{constructor(){super("IntentGatherer")}process(e,t){let r=t.intentHandler,n=t.intentOffersHandler;const i=r.getActiveIntents();let o=[];return i.forEach(e=>{o=o.concat(n.getOffersForIntent(e.getName()))}),o=s(o),Promise.resolve(o)}}t.default=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=o(r(149)),i=o(r(158)),s=o(r(29));function o(e){return e&&e.__esModule?e:{default:e}}const a=(e,t)=>{const r=[];return e.forEach(e=>{t.isOfferPresent(e.uniqueID)&&t.getOfferObject(e.uniqueID).version!==e.version?t.updateOfferObject(e.uniqueID,e.offerObj,!0)?r.push(e):s.default.error(`Couldnt update offer on DB for offer id: ${e.uniqueID}, discarding it`):r.push(e)}),r},g=(e,t)=>{const r=[];return e.forEach(e=>{t.isOfferPresent(e.uniqueID)&&t.getOfferObject(e.uniqueID).version===e.version?r.push(new i.default(t.getOfferObject(e.uniqueID))):r.push(e)}),r},A=(e,t)=>e.filter(e=>!t.hasOfferRemoved(e.uniqueID)),u=(e,t)=>e.filter(e=>!t.hasAnotherOfferOfSameCampaign(e));class I extends n.default{constructor(){super("DBReplacer")}process(e,t){let r=t.offersDB;return Promise.resolve([A,u,a,g].reduce((e,t)=>t(e,r),e))}}t.default=I},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=o(r(149)),i=r(54),s=o(r(92));function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t,r,n,i,s,o){try{var a=e[s](o),g=a.value}catch(e){return void r(e)}a.done?t(g):Promise.resolve(g).then(n,i)}const g=function(){var e,t=(e=function*(e,t){let r=t.presentRealEstates,n=t.geoChecker,o=t.categoryHandler,a=t.offerIsFilteredOutCb;const g=[()=>!e||!e.isValid(),()=>e.ABTestInfo&&!((e,t,r)=>e>=t&&e<=r)((0,i.getABNumber)(),e.ABTestInfo.start,e.ABTestInfo.end),()=>!e.destinationRealEstates||!e.destinationRealEstates.some(e=>r.has(e)),()=>e.isGeoLocated()&&(!n||!n.matches(e.geoInfo)),()=>e.hasCategories()&&!e.categories.some(e=>o.isCategoryActive(e))];for(let t=0;t<g.length;t+=1){const r=g[t];if(yield r())return a(e,`${s.default.AID_OFFER_FILTERED_HARD_PREFIX}${r.name}`),!0}return!1},function(){var t=this,r=arguments;return new Promise((function(n,i){var s=e.apply(t,r);function o(e){a(s,n,i,o,g,"next",e)}function g(e){a(s,n,i,o,g,"throw",e)}o(void 0)}))});return function(e,r){return t.apply(this,arguments)}}();class A extends n.default{constructor(){super("HardFilters")}process(e,t){const r=e.map(e=>g(e,t))||[];return Promise.all(r).then(t=>{const r=[];for(let n=0;n<e.length;n+=1)!1===t[n]&&r.push(e[n]);return Promise.resolve(r)})}}t.default=A},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=g(r(149)),i=g(r(19)),s=r(54),o=g(r(539)),a=g(r(92));function g(e){return e&&e.__esModule?e:{default:e}}const A=()=>{if(i.default.get("offersDevFlag",!1))return!1;return((0,s.timestampMS)()-(0,s.getLatestOfferInstallTs)())/1e3<2700};function u(e){return e.isTargeted()||!A()}class I extends n.default{constructor(){super("SoftFilter")}process(e,t){const r=e.filter(u).filter(e=>(function(e,t){let r=t.urlData,n=t.offersHandler,i=t.offerIsFilteredOutCb;return n.isUrlBlacklisted(r.getRawUrl())?(i(e,a.default.AID_OFFER_FILTERED_GLOBAL_BLACKLIST),!1):!(()=>e.hasBlacklistPatterns()&&e.blackListPatterns.match(r.getPatternRequest()))()||(i(e,a.default.AID_OFFER_FILTERED_OFFER_BLACKLIST),!1)})(e,t)).filter(e=>!(0,o.default)(e,t.offersDB,t.offerIsFilteredOutCb));return Promise.resolve(r)}}t.default=I},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r){if(!e)return n.default.warn("shouldFilterOffer: undefined offer"),!0;if(!e.hasFilterRules())return!1;let i=!1;try{A=[],(i=u(e,e.filterRules,t))||r(e,`${s.default.AID_OFFER_FILTERED_EXP_PREFIX}${A.join("_++_")}`)}catch(t){n.default.error(`expr failed: ${JSON.stringify(e.filterRules)}`,t)}return!i};var n=o(r(29)),i=r(54),s=o(r(92));function o(e){return e&&e.__esModule?e:{default:e}}const a={">=":(e,t)=>e>=t,"<=":(e,t)=>e<=t,"==":(e,t)=>e===t,"!=":(e,t)=>e!==t},g={generic_comparator:(e,t,r)=>{if(t.length<4)return n.default.warn(`_currentOfferGenericComparator: not enough arguments (${t.length})`),!1;const s={actionID:t[0].value,attType:t[1].value,operator:t[2].value,value:t[3].value};return((e,t,r)=>{let s=t.actionID,o=t.attType,g=t.operator,A=t.value;const u=a[g];if(!u)return n.default.warn(`_genericComparator: This operation wasn't found ${g}`),!1;const I=r.getOfferDisplayActionMeta(e,s);if(!I)return!0;if("counter"===o)return u(I.count,A);if("c_ts"===o||"l_u_ts"===o){return u(((0,i.timestampMS)()-I[o])/1e3,A)}return n.default.warn(`_genericComparator: unknown attribute '${o}'`),!1})(e.displayID,s,r)},count_campaign_offers:(e,t,r)=>((e,t,r)=>{if(t.length<2)return n.default.warn(`genericCounterComparator: not enough arguments (${t.length})`),!1;const i=t[0].value,s=a[i];if(!s)return n.default.warn(`genericCounterComparator: This operation wasn't found ${i}`),!1;const o=t[1].value;return s(r(e),o)})(e,t,e=>{const t=r.getCampaignOffers(e.campaignID);return null===t?0:t.size})};let A=[];const u=(e,t,r)=>{let i=!1;if("CallExpression"===t.type){const s=t.callee.name;return g[s]?((i=g[s](e,t.arguments,r))||A.push(t.arguments.map(e=>e.value).join("_")),i):(n.default.warn(`_evalExpression: filter function ${s} doesn't exist`),!1)}if("LogicalExpression"===t.type){const n=u(e,t.left,r),s=u(e,t.right,r);switch(t.operator){case"||":i=n||s;break;case"&&":i=n&&s}}return i}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(r(149)),i=s(r(92));function s(e){return e&&e.__esModule?e:{default:e}}const o=(e,t,r)=>{if(!e.hasCategories()||0===e.categories.length)return!0;const n=e.categories;return!!t.haveCommonWith(n)||(r(e,i.default.AID_OFFER_FILTERED_CONTEXT),!1)};class a extends n.default{constructor(){super("ContextFilter")}process(e,t){let r=t.urlData,n=t.offerIsFilteredOutCb;return Promise.resolve(e.filter(e=>o(e,r.getCategoriesMatchTraits(),n)))}}t.default=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(r(39)),i=a(r(114)),s=a(r(149)),o=r(54);function a(e){return e&&e.__esModule?e:{default:e}}const g="silent",A="tooltip";function u(e){return e.includes("offers-cc")||e.includes("ghostery")}class I extends s.default{constructor(){super("Throttle"),this.onOffersSendCh=this.onOffersSendCh.bind(this),this.lastRewardBoxTsMs=0}init(){n.default.sub("offers-send-ch",this.onOffersSendCh)}unload(){n.default.un_sub("offers-send-ch",this.onOffersSendCh)}onOffersSendCh(e){const t=e.dest,r=void 0===t?[]:t,n=e.type,i=void 0===n?"":n,s=e.data;if("push-offer"!==i||!s)return;if(!u(r))return;const o=s.offer_data,a=(void 0===o?{}:o).ui_info,I=(void 0===a?{}:a).notif_type;[g,A].includes(void 0===I?"pop-up":I)||(this.lastRewardBoxTsMs=Date.now())}process(e){if((0,o.isDeveloper)())return e;const t=1e3*i.default.THROTTLE_PUSH_TO_REWARD_BOX_SECS;return Date.now()-this.lastRewardBoxTsMs>=t?e:e.filter(e=>!u(e.destinationRealEstates))}}t.default=I},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i=(n=r(149))&&n.__esModule?n:{default:n};class s extends i.default{constructor(){super("Shuffle")}static process(e){const t=[...e];for(let r=e.length-1;r>0;r-=1){const e=Math.floor(Math.random()*(r+1)),n=t[r];t[r]=t[e],t[e]=n}return t}}t.default=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=g(r(29)),i=g(r(114)),s=r(54),o=r(205),a=r(284);function g(e){return e&&e.__esModule?e:{default:e}}function A(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?A(r,!0).forEach((function(t){I(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function I(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var C=class{constructor(){this.offersIndexMap=(0,o.buildCachedMap)("offers-db-index",i.default.LOAD_OFFERS_STORAGE_DATA),this.displayIdIndexMap=(0,o.buildCachedMap)("offers-db-display-index",i.default.LOAD_OFFERS_STORAGE_DATA),this.displayIDCounter={},this.campaignToOffersMap={},this.callbacks=new Map}loadPersistentData(){return i.default.LOAD_OFFERS_STORAGE_DATA?Promise.all([this.offersIndexMap.init(),this.displayIdIndexMap.init()]).then(()=>{this._buildIndexTables()}):Promise.resolve(!0)}registerCallback(e){this.callbacks.set(e,e)}unregisterCallback(e){this.callbacks.delete(e)}getOfferMeta(e){if(!this.offersIndexMap.has(e))return null;const t=this.offersIndexMap.get(e);return{c_ts:t.c_ts,l_u_ts:t.l_u_ts,removed:t.removed}}addOfferObject(e,t){if(!this._isOfferValid(e,t))return n.default.warn(`addOfferObject: args invalid or data invalid: ${e} - ${t}`),!1;let r=this.offersIndexMap.get(e);if(r)return n.default.warn(`addOfferObject: The offer id: ${e} already exists, will not add it here`),!1;const i=JSON.parse(JSON.stringify(t));return(r=this._createOfferContainer()).offer_obj=i,this.offersIndexMap.set(e,r),this._updateIndexTablesForOffer(e),this._pushCallbackEvent("offer-added",r),!0}removeOfferObject(e){const t=this.offersIndexMap.get(e);return t?(t.removed=!0,t.l_u_ts=(0,s.timestampMS)(),this.offersIndexMap.set(e,t),this._pushCallbackEvent("offer-removed",t),!0):(n.default.warn(`removeOfferObject: The offer id: ${e} is not stored`),!1)}eraseOfferObject(e){const t=this.offersIndexMap.get(e);return t?(this._removeIndexTablesForOffer(e),this.offersIndexMap.delete(e),this._pushCallbackEvent("offer-removed",t,{erased:!0}),!0):(n.default.warn(`eraseOfferObject: The offer id: ${e} is not stored`),!1)}getOfferObject(e){const t=this.offersIndexMap.get(e);return t?t.offer_obj:null}getOfferTemplateData(e){const t=(this.offersIndexMap.get(e)||{}).offer_obj,r=(void 0===t?{}:t).ui_info,n=(void 0===r?{}:r).template_data;return void 0===n?{}:n}hasOfferData(e){return this.offersIndexMap.has(e)}hasOfferObject(e){return!!this.getOfferObject(e)}isOfferPresent(e){const t=this.offersIndexMap.get(e);return!!t&&!t.removed}updateOfferObject(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const i=this.offersIndexMap.get(e);if(!i)return n.default.warn(`updateOfferObject: the offer with ID: ${e} is not present`),!1;if(!this._isOfferValid(e,t))return n.default.warn(`updateOfferObject: offer ${e} is not valid`),!1;let o;if(i.offer_obj){const e=i.offer_obj;if(t.offer_id!==e.offer_id||t.campaign_id!==e.campaign_id)return n.default.warn("updateOfferObject: the offer core data is not similar? not supported for now"),!1;o=e.abTestInfo,t.display_id!==e.display_id&&this._migrateDisplayID(e.display_id,t.display_id)}if(i.offer_obj=JSON.parse(JSON.stringify(t)),r){const t=i.offer_obj.abTestInfo||{},r=o||{};t.start===r.start&&t.end===r.end||(n.default.info(`updateOfferObject: retain abTestInfo for offer "${e}":`,o,", reject:",t),i.offer_obj.abTestInfo=o)}return i.removed=!1,i.l_u_ts=(0,s.timestampMS)(),this.offersIndexMap.set(e,i),this._pushCallbackEvent("offer-updated",i),!0}hasOfferRemoved(e){const t=this.offersIndexMap.get(e);return!!t&&t.removed}incOfferAction(e,t){let r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;if(!e||!t)return n.default.warn("incOfferAction: invalid args"),!1;const o=this.offersIndexMap.get(e);if(!o)return n.default.warn(`incOfferAction: The offer id: ${e} is not stored - ${t}`),!1;const a=(0,s.timestampMS)(),g=o.offer_obj;let A=o.offer_actions[t];if(A||(A=this._createElementContainer(),o.offer_actions[t]=A,A.count=0),A.count+=i,A.l_u_ts=a,r){const e=this.displayIdIndexMap.get(g.display_id)||{};let r=e[t];r||(r=this._createElementContainer(),e[t]=r,r.count=0),r.count+=i,r.l_u_ts=a,this.displayIdIndexMap.set(g.display_id,e)}return t.startsWith("filtered_by")||(o.l_u_ts=a),this.offersIndexMap.set(e,o),this._pushCallbackEvent("offer-action",o,{actionID:t}),!0}getOfferActionMeta(e,t){const r=this.offersIndexMap.get(e);return r?r.offer_actions[t]:null}addOfferAttribute(e,t,r){if(!e||!t)return n.default.warn("addOfferAttribute: invalid args"),!1;const i=this.offersIndexMap.get(e);if(!i)return n.default.warn(`addOfferAttribute: The offer id: ${e} is not stored`),!1;const o=i.offer_attrs;let a=o[t];a||(a=this._createElementContainer(),o[t]=a);const g=(0,s.timestampMS)();return a.attr=r,a.l_u_ts=g,i.l_u_ts=g,this.offersIndexMap.set(e,i),!0}getOfferAttribute(e,t){if(!e||!t)return n.default.warn("getOfferAttribute: invalid args"),null;const r=this.offersIndexMap.get(e);if(!r)return n.default.warn(`getOfferAttribute: The offer id: ${e} is not stored`),null;const i=r.offer_attrs[t];return i?i.attr:null}addReasonForHaving(e,t){return this.addOfferAttribute(e,"reason",t&&t.toStorage())}getReasonForHaving(e){const t=this.getOfferAttribute(e,"reason");return a.OfferMatchTraits.fromStorage(t)}setShoppingCartDescribedPrices(e,t){return this.addOfferAttribute(e,"shopping-card-prices",t)}getShoppingCartDescribedPrices(e){return this.getOfferAttribute(e,"shopping-card-prices")}getOfferDisplayActionMeta(e,t){const r=this.displayIdIndexMap.get(e);return r&&t?r[t]:null}getCampaignID(e){const t=this.offersIndexMap.get(e);return t?t.offer_obj.campaign_id:null}getCampaignOffers(e){return e?this.campaignToOffersMap[e]:null}hasAnotherOfferOfSameCampaign(e){const t=e.uniqueID,r=e.campaignID,n=this.getCampaignOffers(r);return!!n&&[...n].some(e=>t!==e)}getLatestUpdatedOffer(e){if(!e)return null;const t=[],r=this;return e.forEach(e=>{const n=r.offersIndexMap.get(e);n&&!0!==n.removed&&n.offer_obj&&t.push({offer_id:n.offer_obj.offer_id,campaign_id:n.offer_obj.campaign_id,last_update:n.l_u_ts})}),t.sort((e,t)=>t.last_update-e.last_update),t}getOffersByRealEstate(e){return this.getOffers().filter(t=>{const r=t.offer,n=(void 0===r?{}:r).rs_dest;return(void 0===n?[]:n).includes(e)})}getOffers(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const t=[];return this.offersIndexMap.keys().forEach(r=>{const n=this.offersIndexMap.get(r);if(n.offer_obj&&(!0===e||!n.removed)){const e={offer_id:n.offer_obj.offer_id,offer:n.offer_obj,last_update:n.l_u_ts,created:n.c_ts,removed:n.removed,offer_actions:u({},n.offer_actions)};n.offer_actions&&n.offer_actions.offer_ca_action?e.click=n.offer_actions.offer_ca_action.l_u_ts||0:e.click=0,n.offer_actions&&n.offer_actions.offer_shown?e.view=n.offer_actions.offer_shown.l_u_ts||0:e.view=0,t.push(e)}}),t}getOffersFromIDs(e){const t=[];return e.forEach(e=>{const r=this.offersIndexMap.get(e);r&&r.offer_obj&&t.push({offer_id:e,offer:r.offer_obj,removed:r.removed,last_update:r.l_u_ts})}),t}getPushCount(e){const t=this.getOfferActionMeta(e,"offer_pushed");return t&&t.count?t.count:0}_createElementContainer(){const e=(0,s.timestampMS)();return{c_ts:e,l_u_ts:e}}_isOfferValid(e,t){return!!(e&&t&&t.offer_id&&t.offer_id===e&&t.display_id&&t.campaign_id)&&!this._isOfferExpired(t)}_isOfferExpired(e){try{return e.ui_info.template_data.validity<Date.now()/1e3}catch(t){return e&&e.rs_dest&&e.rs_dest.includes&&e.rs_dest.includes("dropdown")||n.default.warn('Missing "validity" field',e),!1}}_createOfferContainer(){const e=(0,s.timestampMS)();return{c_ts:e,l_u_ts:e,offer_obj:null,offer_attrs:{},offer_actions:{},removed:!1}}_updateIndexTablesForOffer(e){const t=this.offersIndexMap.get(e);if(!t)return n.default.warn(`_updateIndexTablesForOffer: The offer id: ${e} is not stored`),!1;const r=t.offer_obj.display_id;return this.displayIdIndexMap.has(r)||this.displayIdIndexMap.set(r,{}),this.displayIDCounter[r]?this.displayIDCounter[r]+=1:this.displayIDCounter[r]=1,this._addOfferInCampaignMap(t.offer_obj),!0}_migrateDisplayID(e,t){n.default.debug(`Migrating display id db information from ${e} to ${t}`),this.displayIdIndexMap.has(e)?(this.displayIdIndexMap.set(t,this.displayIdIndexMap.get(e)),this.displayIDCounter[e]&&(this.displayIDCounter[t]=this.displayIDCounter[e])):n.default.debug("nothing to migrate")}_removeIndexTablesForOffer(e){const t=this.offersIndexMap.get(e);if(!t)return n.default.warn(`_removeIndexTablesForOffer: The offer id: ${e} is not stored`),!1;const r=t.offer_obj.display_id;return this.displayIDCounter[r]-=1,this.displayIDCounter[r]<=0&&this.displayIdIndexMap.delete(r),this._removeOfferInCampaignMap(t.offer_obj),!0}_buildIndexTables(){this.offersIndexMap.keys().forEach(e=>this._updateIndexTablesForOffer(e))}_addOfferInCampaignMap(e){if(!e||!e.offer_id||!e.campaign_id)return;let t=this.campaignToOffersMap[e.campaign_id];t||(t=new Set,this.campaignToOffersMap[e.campaign_id]=t),t.add(e.offer_id)}_removeOfferInCampaignMap(e){const t=this.campaignToOffersMap[e.campaign_id];t&&t.delete(e.offer_id)}_pushCallbackEvent(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;const n={evt:e,offer:t.offer_obj,lastUpdateTS:t.l_u_ts};r&&(n.extraData=r),this.callbacks.forEach(e=>e(n))}};t.default=C},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(r(285)),i=a(r(29)),s=a(r(19)),o=r(205);function a(e){return e&&e.__esModule?e:{default:e}}const g="cliqz-offers-intent-db";t.default=class{constructor(){this.activeIntents=(0,o.buildCachedMap)(g,!s.default.get("offersDevFlag",!1)),this.callbacks=new Map}init(){return this.activeIntents.init().then(()=>{i.default.debug("We have the following active intents",[...this.activeIntents.keys()])})}registerCallback(e){this.callbacks.set(e,e)}unregisterCallback(e){this.callbacks.delete(e)}activateIntent(e){this.isIntentActive(e)||(this.activeIntents.set(e.getName(),e.serialize()),this._notifyListeners("intent-active",e))}getActiveIntents(){return this._removeInactiveIntents(),this.activeIntents.keys().map(e=>n.default.deserialize(this.activeIntents.get(e)))||[]}isIntentActiveByName(e){return this.activeIntents.has(e)&&n.default.deserialize(this.activeIntents.get(e)).isActive()}isIntentActive(e){return this.isIntentActiveByName(e.getName())}getActiveIntent(e){return this.isIntentActiveByName(e)?n.default.deserialize(this.activeIntents.get(e)):null}_notifyListeners(e,t){this.callbacks.forEach(r=>r(e,t))}_removeInactiveIntents(){this.activeIntents.keys().forEach(e=>{n.default.deserialize(this.activeIntents.get(e)).isActive()||this.activeIntents.delete(e)})}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(286),i=r(54),s=C(r(546)),o=r(284),a=C(r(547)),g=C(r(29)),A=r(204),u=r(347),I=C(r(114));function C(e){return e&&e.__esModule?e:{default:e}}function l(e,t,r,n,i,s,o){try{var a=e[s](o),g=a.value}catch(e){return void r(e)}a.done?t(g):Promise.resolve(g).then(n,i)}function c(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var s=e.apply(t,r);function o(e){l(s,n,i,o,a,"next",e)}function a(e){l(s,n,i,o,a,"throw",e)}o(void 0)}))}}const d="Segment.";t.default=class{constructor(e){this.catTree=new s.default,this.catMatch=new o.CategoryMatch,this.historyFeature=e,this.dayKeyOfLastAccountingRun="00000000"}init(e){var t=this;return c((function*(){t.persistentHelper=new a.default(e),t.historyThrottle=new u.ThrottleWithRejection(I.default.THROTTLE_HISTORY_QUERIES_SECS||180)}))()}hasCategory(e){return this.catTree.hasCategory(e)}getCategory(e){const t=this.catTree.getCategoryNode(e);return t?t.getCategory():null}addCategory(e){if(this._checkCategory(e)){if(this.hasCategory(e.getName())){if(!this._shouldUpdateCategory(e))return;g.default.info(`updating category ${e.getName()}`),this.removeCategory(e)}this._addNewCategory(e)}else g.default.error("Category is invalid",e)}removeCategory(e){const t=e.getName();this.catTree.hasCategory(t)&&(g.default.debug(`Category ${t} is being removed`,e),this.catTree.removeCategory(t),this.persistentHelper.categoryRemoved(e),this.catMatch.removeCategoryPatterns(t))}build(){this.catMatch.build()}doDailyAccounting(){const e=(0,n.getTodayDayKey)();e!==this.dayKeyOfLastAccountingRun&&(this._applyToAllSubCategories("",e=>{e.cleanUp()}),this.dayKeyOfLastAccountingRun=e)}newUrlEvent(e){return this.getMatches(e)}getMatches(e){if(!e)return g.default.error("skipping invalid tokenizedUrl",e),new o.CategoriesMatchTraits;const t=this.catMatch.checkMatches(e);var r=!0,n=!1,i=void 0;try{for(var s,a=t.getCategoriesIDs()[Symbol.iterator]();!(r=(s=a.next()).done);r=!0){const e=s.value,t=this.catTree.getCategoryNode(e);null!==t&&t.hasCategory()?(t.getCategory().hit(),this._catModified(t.getCategory()),g.default.debug(`Category hit: ${e}`)):g.default.error(`We do not have a category with id ${e}??`)}}catch(e){n=!0,i=e}finally{try{r||null==a.return||a.return()}finally{if(n)throw i}}return t}loadPersistentData(){return this.persistentHelper.loadCategories().then(e=>{this.catTree.clear(),this.catMatch.clear();for(let t=0;t<e.length;t+=1){const r=e[t];this.catTree.addCategory(r),this.catMatch.addCategoryPatterns(r.getName(),r.getPatterns())}this.build()})}learnTargeting(e){if(!e)return void g.default.warn('learnTargeting: expected parameter "featureName"');const t=d+e,r=this.getCategory(t);r?r.hit():g.default.warn(`learnTargeting: targeting category not found: ${t}`)}syncCategories(e){const t=[];var r=!0,n=!1,i=void 0;try{for(var s,o=e[Symbol.iterator]();!(r=(s=o.next()).done);r=!0){const e=s.value;this.addCategory(e),t.push(e.getName())}}catch(e){n=!0,i=e}finally{try{r||null==o.return||o.return()}finally{if(n)throw i}}if(!t.length)return;const a=[];this._applyToAllSubCategories("",e=>{t.includes(e.getName())||a.push(e)}),a.forEach(e=>this.removeCategory(e)),this.build()}getMatchesForCategory(e){let t=0;return this._applyToAllSubCategories(e,e=>{t+=e.getTotalMatches()}),t}getMaxCountDaysForCategory(e){let t=0;return this._applyToAllSubCategories(e,e=>{t=Math.max(t,e.countDaysWithMatches())}),t}getLastMatchTsForCategory(e){let t=0;return this._applyToAllSubCategories(e,e=>{t=Math.max(t,e.getLastMatchTs())}),t>0?t:null}isCategoryActive(e){return this.hasCategory(e)&&this.catTree.someSubCategory(e,e=>e.hasCategory()&&e.getCategory().isActive())}_shouldUpdateCategory(e){const t=this.catTree.getCategoryNode(e.getName());return null===t||!t.hasCategory()||t.getCategory().getVersion()!==e.getVersion()}_addNewCategory(e){this.persistentHelper.categoryAdded(e),this.catTree.addCategory(e),this.catMatch.addCategoryPatterns(e.getName(),e.getPatterns())}importHistoricalData(e){var t=this;return c((function*(){return t.historyThrottle.executeAsync(()=>t._importHistoricalDataUnthrottled(e))}))()}_importHistoricalDataUnthrottled(e){var t=this;return c((function*(){if(!t.historyFeature)return;const r=(0,i.timestampMS)(),n=t._getCatHistoryPIDID(e),s=e.getPatterns(),o={patterns:s,index:(0,A.buildSimplePatternIndex)(s),pid:n,start_ms:r-1e3*e.getTimeRangeSecs(),end_ms:r},a=yield t.historyFeature.performQueryOnHistory(o);a&&a.d&&a.d.match_data&&a.pid?a.pid===n?(e.updateWithHistoryData(a.d.match_data),t._catModified(e)):g.default.error(`invalid data for category ${e.getName()}?`,a):g.default.error("invalid data received from the history module",a)}))()}_resetHistoryThrottle(){this.historyThrottle.reset()}_checkCategory(e){return!!e}_applyToAllSubCategories(e,t){const r=this.catTree.getAllSubCategories(e);for(let e=0;e<r.length;e+=1){const n=r[e].getCategory();n&&t(n)}}_catModified(e){this.persistentHelper.categoryModified(e)}_getCatHistoryPIDID(e){return`${e.getName()}|${e.getVersion()}`}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;const n=e=>e?e.split("."):[],i=e=>{const t=n(e)||[];return t.pop(),t};class s{constructor(e,t){this.name=e,this.category=t,this.children=new Map}setCategory(e){this.category=e}hasCategory(){return!!this.category}getCategory(){return this.category}getName(){return this.name}addChild(e){this.children.set(e.name,e)}removeChild(e){this.children.delete(e)}hasChildName(e){return this.children.has(e)}getChild(e){return this.children.get(e)}getChildren(){return[...this.children.values()]}}t.default=class{constructor(){this.root=new s("")}addCategory(e){const t=e.getName(),r=n(t);this._getOrCreateNode(r).setCategory(e)}hasCategory(e){return null!==this._getNode(n(e))}clear(){this.root=new s("")}removeCategory(e){const t=this._getNode(i(e));null!==t&&t.removeChild(e)}getCategoryNode(e){return this._getNode(n(e))}getSubCategories(e){const t=this._getNode(n(e));return null===t?[]:t.getChildren()}getAllSubCategories(e){return this._filterSubCategoriesWithStop(e,()=>!1).result}someSubCategory(e,t){return this._filterSubCategoriesWithStop(e,t).cond}_filterSubCategoriesWithStop(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const r=[],i=[this._getNode(n(e))];for(;i.length>0;){const e=i.pop();if(null!==e){if(t(e))return{result:r,cond:!0};r.push(e),e.getChildren().forEach(e=>i.push(e))}}return{result:r,cond:!1}}_getOrCreateNode(e){let t=this.root;for(let r=0;r<e.length;r+=1){const n=e[r];if(t.hasChildName(n))t=t.getChild(n);else{const e=new s(n);t.addChild(e),t=e}}return t}_getNode(e){let t=this.root;for(let r=0;r<e.length&&null!==t;r+=1){const n=e[r];if(n===t.getName())return t;t=t.hasChildName(n)?t.getChild(n):null}return t}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=g(r(287)),i=g(r(206)),s=g(r(29)),o=r(205),a=g(r(19));function g(e){return e&&e.__esModule?e:{default:e}}const A=(e,t)=>{const r=new Set(e),n=new Set(t),i=[];return r.forEach(e=>{n.has(e)&&i.push(e)}),i},u=e=>{const t=e.serialize();return t.patterns=void 0,t},I=(e,t)=>{const r=new n.default;return r.deserialize(e),r.patterns=t,r};t.default=class{constructor(e){this.db=e?new i.default(e):null;const t=!a.default.get("offersDevFlag",!1);this.categoriesDataMap=(0,o.buildCachedMap)("cliqz-categories-data",t),this.categoriesPatternsMap=(0,o.buildCachedMap)("cliqz-categories-patterns",t);this.db&&(this.db.remove("cliqz-cat-metadata"),this.db.remove("cliqz-cat-day-counter"))}unloadDB(){return Promise.all([this.categoriesDataMap.unload(),this.categoriesPatternsMap.unload()])}destroyDB(){return Promise.all([this.categoriesDataMap.clear(),this.categoriesPatternsMap.clear()])}loadCategories(){return Promise.all([this.categoriesDataMap.init(),this.categoriesPatternsMap.init()]).then(()=>{const e=[...this.categoriesDataMap.keys()],t=[...this.categoriesPatternsMap.keys()],r=new Set(A(e,t)),n=(e,t)=>{e.forEach(e=>{r.has(e)||t.delete(e)})};n(e,this.categoriesDataMap),n(t,this.categoriesPatternsMap);const i=[];return r.forEach(e=>{const t=this.categoriesDataMap.get(e),r=this.categoriesPatternsMap.get(e);i.push(I(t,r))}),Promise.resolve(i)})}categoryModified(e){e&&this.categoriesDataMap.has(e.getName())?this.categoriesDataMap.set(e.getName(),u(e)):s.default.error("Invalid category modified",e)}categoryRemoved(e){e&&(this.categoriesPatternsMap.delete(e.getName()),this.categoriesDataMap.delete(e.getName()))}categoryAdded(e){e&&(this.categoriesPatternsMap.set(e.getName(),e.getPatterns()),this.categoriesDataMap.set(e.getName(),u(e)))}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getStartDayKey=function(e,t){if(void 0===e)return"00000000";return(0,i.default)(t).subtract(e,"d").format("YYYYMMDD")},Object.defineProperty(t,"getTodayDayKey",{enumerable:!0,get:function(){return s.getTodayDayKey}});var n,i=(n=r(103))&&n.__esModule?n:{default:n},s=r(286)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=u(r(287)),i=u(r(29)),s=u(r(206)),o=u(r(44)),a=r(54),g=u(r(19)),A=u(r(550));function u(e){return e&&e.__esModule?e:{default:e}}const I="cliqz-cat-fetcher",C=e=>e&&e.name&&e.patterns&&e.revHash&&e.timeRangeSecs&&e.activationData?new n.default(e.name,e.patterns,e.revHash,e.timeRangeSecs,e.activationData):null;t.default=class{constructor(e,t,r){this.beConnector=e,this.categoryHandler=t,this.db=r&&!g.default.get("offersDevFlag",!1)?new s.default(r):null,this.lastRevision=null,this.intervalTimer=null,this.startTimer=null}init(){const e=()=>{null===this.intervalTimer&&(this.startTimer=o.default.setTimeout(()=>{this._performFetch(),this.intervalTimer=o.default.everyHour(this._performFetch.bind(this))},5e3))};return this.db?this.db.get(I).then(t=>{t?this.lastRevision=t.lastRevision:this._updateCategories((0,A.default)()),e()}):(e(),Promise.resolve())}unload(){this.intervalTimer&&(this.intervalTimer.stop(),this.intervalTimer=null),o.default.clearTimeout(this.startTimer),this.startTimer=null}_performFetch(){const e=g.default.get("config_location","")||"";return this.beConnector.sendApiRequest("categories",{last_rev:this.lastRevision,country:e},"GET").then(e=>{let t=e.categories;const r=e.revision;if(!t||!r)return i.default.error("We got an invalid response from the BE, skipping this.",e),!1;return t=t.filter(e=>e&&(void 0===e.user_group||(0,a.shouldKeepResource)(e.user_group))),this._setLatestRevision(r),i.default.info(`Fetched ${t.length} categories from backend`),this._updateCategories(t),this.categoryHandler.doDailyAccounting(),!0}).catch(e=>(i.default.error(`Can't load categories: ${e}`),!1))}_setLatestRevision(e){this.lastRevision=e,this.db&&this.db.upsert(I,{lastRevision:e})}_updateCategories(e){this.categoryHandler.syncCategories(function*(){var t=!0,r=!1,n=void 0;try{for(var s,o=e[Symbol.iterator]();!(t=(s=o.next()).done);t=!0){const e=s.value,t=C(e);t?yield t:i.default.error("Invalid category from BE:",t)}}catch(e){r=!0,n=e}finally{try{t||null==o.return||o.return()}finally{if(r)throw n}}}())}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return[{name:"tempcat_mirapodo_18%_box_instyle_TG1",timeRangeSecs:900,patterns:["onboarding/instyle$domain=myoffrz.com,xmlhttprequest"],revHash:"e4dde04b3a",activationData:{activationTimeSecs:86400,args:{totNumHits:1},func:"simpleCount"},user_group:0},{name:"tempcat_mirapodo_18%_freundin _TG1",timeRangeSecs:900,patterns:["onboarding/freundin$domain=myoffrz.com,xmlhttprequest"],revHash:"5d5494bdc4",activationData:{activationTimeSecs:86400,args:{totNumHits:1},func:"simpleCount"},user_group:0}]}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(51),i=c(r(133)),s=r(68),o=c(r(206)),a=c(r(44)),g=c(r(29)),A=c(r(114)),u=r(54),I=r(552),C=c(r(553)),l=c(r(92));function c(e){return e&&e.__esModule?e:{default:e}}function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var r=[],n=!0,i=!1,s=void 0;try{for(var o,a=e[Symbol.iterator]();!(n=(o=a.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){i=!0,s=e}finally{try{n||null==a.return||a.return()}finally{if(i)throw s}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function h(e,t,r,n,i,s,o){try{var a=e[s](o),g=a.value}catch(e){return void r(e)}a.done?t(g):Promise.resolve(g).then(n,i)}function f(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var s=e.apply(t,r);function o(e){h(s,n,i,o,a,"next",e)}function a(e){h(s,n,i,o,a,"throw",e)}o(void 0)}))}}const p="offers-signals",m=new Set([l.default.AID_LANDING,l.default.AID_CART,l.default.AID_PAYMENT,l.default.AID_SUCCESS]);t.default=class{constructor(e){let t=e.db,r=e.sender,n=e.patternsStat,i=e.journeySignals,a=e.signalReEmitter,A=e.trustedClock;this.db=new o.default(t,g.default,"doc_data"),this.sender=r||{httpPost:s.httpPost},this.patternsStat=n,this.journeySignals=i,this.signalReEmitter=a,this.trustedClock=A,this.sigMap={},this.sigBuilder={campaign:this._sigBuilderCampaign.bind(this),action:this._sigBuilderAction.bind(this)},this.sigsToSend={},this.signalSendingRetries={},this.dbDirty=!1,this.signalsQueue=[],this.behavior=new C.default,this.gid=this._getGID(),this.reinterpretSignalsAsync=this.reinterpretSignalsAsync.bind(this)}init(){var e=this;return f((function*(){yield e._loadPersistenceData(),yield e.behavior.init(),e.sendIntervalTimer=null,e._startSendSignalsLoop(A.default.SIGNALS_OFFERS_FREQ_SECS),e.signalReEmitter.on("signal",e.reinterpretSignalsAsync),A.default.SIGNALS_LOAD_FROM_DB&&(e.saveInterval=a.default.register(()=>{e.dbDirty&&e._savePersistenceData()},{timeout:1e3*A.default.SIGNALS_AUTOSAVE_FREQ_SECS}))}))()}_isMaximumNumRetriesReached(e,t){return(this.signalSendingRetries[[e,t]]||0)>=A.default.MAX_RETRIES}_removeNumRetriesRecord(e,t){delete this.signalSendingRetries[[e,t]]}_increaseNumRetriesRecord(e,t){this.signalSendingRetries[[e,t]]=(this.signalSendingRetries[[e,t]]||0)+1}destroy(){var e=this;return f((function*(){e.signalReEmitter.unsubscribe("signal",e.reinterpretSignalsAsync),e.sendIntervalTimer&&e.sendIntervalTimer.stop(),e.saveInterval&&e.saveInterval.stop(),yield e._savePersistenceData(),e.getGID=null}))()}setCampaignSignal(e,t,r,n){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1;const s=this._getOrCreateSignal("campaign",e).data;s.ucid=s.ucid||(0,u.generateUUID)(),s.offers=s.offers||{};const o=s.offers;o[t]=o[t]||{created_ts:Date.now(),origins:{}};const a=o[t].origins;a[r]=a[r]||{};const A=a[r];(0,I.addOrCreate)(A,n,i);const C=!n.startsWith("filter");return this._markSignalAsModified("campaign",e,C),g.default.info(`setCampaignSignal${C?"":" (silent)"}:`+`new signal added: ${e} - ${t} - ${r} - ${n} - +${i}`),this.signalReEmitter.emit("signal",n,e,t),!0}removeCampaignSignals(e){this.sigMap.campaign&&this.sigMap.campaign[e]&&(delete this.sigMap.campaign[e],this.dbDirty=!0,this._removeFromSigsToSend("campaign",e))}sendCampaignSignalNow(e){return this._forceSignalDelivery("campaign",e)}setActionSignal(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(!e||!t)return g.default.warn(`setActionSignal: invalid arguments?: ${e} - ${t}`),!1;const n=t,i=this._getOrCreateSignal("action",n);if(!i)return g.default.error(`setActionSignal: cannot create or get action signal: ${n}`),!1;const s=i.data;s.uuid||(s.uuid=(0,u.generateUUID)());let o=s.actions;return o||(s.actions={},o=s.actions),(0,I.addOrCreate)(o,e,r),this._markSignalAsModified("action",n),g.default.info(`setActionSignal: new signal added: ${t} - ${e} - +${r}`),!0}flush(){var e=this;let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return f((function*(){return t&&Object.entries(e.sigMap).forEach(t=>{let r=d(t,2),n=r[0],i=r[1];Object.keys(i).forEach(t=>{e._markSignalAsModified(n,t,!0)})}),e._sendSignalsToBE()}))()}_createSignal(e){return{created_ts:Date.now(),modified_ts:Date.now(),seq:0,be_sync:!1,data:e}}_markSignalAsModified(e,t){let r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const n=this.sigMap[e][t];n.modified_ts=Date.now(),this.dbDirty=!0,r&&(n.be_sync=!1,this._addSignalToBeSent(e,t))}_getOrCreateSignal(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.sigMap[e]=this.sigMap[e]||{};const n=this.sigMap[e];return n[t]=n[t]||this._createSignal(r),n[t]}_getSignalInfo(e,t){return this.sigMap[e]&&this.sigMap[e][t]}_addSignalToBeSent(e,t){this.sigsToSend[e]=this.sigsToSend[e]||new Set,this.sigsToSend[e].add(t)}sendSingle(e){let t=e.payload,r=e.signalType,n=e.sigID,s=e.numSignalsToSend;const o={type:"offers_monitor",is_developer:(0,u.isDeveloper)(),batch_total:s,msg_delivered:!0};return g.default.debug("Sending signal:",t),new Promise(e=>{this.sender.httpPost(A.default.SIGNALS_HPN_BE_ADDR,()=>{r&&n&&(i.default.push(o),this._removeFromSigsToSend(r,n),this._removeNumRetriesRecord(r,n)),e()},t,()=>{r&&n&&(o.msg_delivered=!1,i.default.push(o),this._increaseNumRetriesRecord(r,n)),e()},1e4)})}sendBatch(e){var t=this;return f((function*(){if(e.length>0){const r=e.pop();return yield t.sendSingle(r),t.sendBatch(e)}return Promise.resolve()}))()}_getGID(){try{return{platform:n.chrome.extension.getURL("/").split(":")[0]}}catch(e){return g.default.warn(` getGID throws, ${e}`),{}}}_sendSignalsToBE(e,t){var r=this;return f((function*(){return r.sendSignalsPromise?r.sendSignalsPromise:(r.sendSignalsPromise=r._sendSignalsToBEunguarded(e,t),r.sendSignalsPromise.catch(()=>{}).then(()=>{r.sendSignalsPromise=null}),r.sendSignalsPromise)}))()}_sendSignalsToBEunguarded(e,t){var r=this;return f((function*(){const n=Object.keys(r.sigsToSend),i=n.length,s=[],o=yield r.trustedClock.getMinutesSinceEpochAsync();n.forEach(n=>{e&&e!==n||r.sigsToSend[n].forEach(e=>{if(t&&t!==e||r._isMaximumNumRetriesReached(n,e))return;const a=r._getSignalInfo(n,e);if(!a||!a.data||a.be_sync)return;const g=r.sigBuilder[n](e,a);if(a.seq+=1,!g)return;const A=JSON.stringify((0,I.constructSignal)(e,n,g,r.gid,o));s.push({payload:A,signalType:n,sigID:e,numSignalsToSend:i})})}),yield r._savePersistenceData(),yield r.sendBatch(s);let a=yield r.behavior.getSignals();a=a.map(e=>({payload:JSON.stringify((0,I.constructSignal)("behavior",e.type,e,r.gid,o))}));const g=Array.from(r.patternsStat.getPatternSignals(),e=>r.patternsStat.moveAll(e)),A=yield Promise.all(g),u=[].concat(...A).map(e=>({payload:JSON.stringify((0,I.constructSignal)("patterns-stats",e.type,e,r.gid,o))})),C=function(){var e=f((function*(){return(yield r.journeySignals.moveSignals()).map(e=>({payload:JSON.stringify((0,I.constructSignal)("journey",e.type,e,o))}))}));return function(){return e.apply(this,arguments)}}(),l=r.journeySignals?yield C():[];return yield r.sendBatch([...a,...u,...l]),yield r.behavior.clearSignals(),r.behavior.clearOldBehavior()}))()}_forceSignalDelivery(e,t){var r=this;return f((function*(){return r._sendSignalsToBE(e,t)}))()}_removeFromSigsToSend(e,t){const r=this._getSignalInfo(e,t);r&&(r.be_sync=!0),this.dbDirty=!0,e in this.sigsToSend&&(this.sigsToSend[e].delete(t),0===this.sigsToSend[e].size&&delete this.sigsToSend[e])}_startSendSignalsLoop(e){this.sendIntervalTimer=a.default.register(()=>{Object.keys(this.sigsToSend).length>0&&this._sendSignalsToBE()},{timeout:1e3*e})}_savePersistenceData(){return A.default.SIGNALS_LOAD_FROM_DB?this.dbDirty?new Promise(e=>this.db.upsert(p,{sig_map:this.sigMap}).then(()=>{this.dbDirty=!1,e(!0)})):Promise.resolve(!0):(g.default.info("_savePersistenceData: skipping the saving"),Promise.resolve(!0))}_loadPersistenceData(){return A.default.SIGNALS_LOAD_FROM_DB?this.db.get(p).then(e=>{if(!e||!e.sig_map)return void g.default.log("No existing persisted data");this.sigMap=e.sig_map,this.dbDirty=!1;const t=Date.now();Object.keys(this.sigMap).forEach(e=>{const r=this.sigMap[e];Object.keys(r).forEach(n=>{const i=this._getSignalInfo(e,n);if(i)return(t-i.modified_ts)/1e3>=A.default.SIGNALS_OFFERS_EXPIRATION_SECS?(g.default.info(`removing signal: ${n} - data: ${JSON.stringify(i)}`),void delete r[n]):void(i.be_sync||(this._addSignalToBeSent(e,n),g.default.info(`signal ${n} added to be sent to BE`)))})}),Promise.resolve(!0)}).catch(e=>{g.default.error("error loading the storage data...:",e),Promise.resolve(!1)}):(g.default.info("Skipping loading persisted data (reason: config)"),Promise.resolve(!0))}reinterpretSignalsAsync(e){var t=this;return f((function*(){m.has(e)&&(yield t._savePersistenceData()),e===l.default.AID_SUCCESS&&(yield t.flush())}))()}_sigBuilderCampaign(e,t){const r=t.data,n={c_id:e,c_data:{seq:t.seq,created_ts:t.created_ts,ucid:r.ucid,offers:[]}},i=n.c_data.offers;return Object.keys(r.offers).forEach(e=>{const t=r.offers[e],n=t.origins,s={offer_id:e,created_ts:t.created_ts,offer_data:[]},o=s.offer_data;Object.keys(n).forEach(e=>{const t={origin:e,origin_data:n[e]};o.push(t)}),i.push(s)}),n}_sigBuilderAction(e,t){const r=t.data,n=r.uuid,i=r.actions;return{o_id:e,o_data:{seq:t.seq,created_ts:t.created_ts,uuid:n,actions:i}}}onPurchase(e){return this.behavior.onPurchase(e)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getHpnTimeStamp=t.constructSignal=t.addOrCreate=void 0;var n=A(r(19)),i=A(r(33)),s=A(r(92)),o=A(r(114)),a=A(r(29)),g=r(54);function A(e){return e&&e.__esModule?e:{default:e}}t.addOrCreate=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=e[t]?e[t]+r:r;n.length>512&&(n=`*CUT*${n.substring(n.length-128)}`),e[t]=n};const u=()=>n.default.get("config_ts","19700101");t.getHpnTimeStamp=u;const I=e=>{const t=e&&e.c_data&&e.c_data.offers;t&&t.forEach(e=>{(e.offer_data||[]).forEach(e=>(e=>{const t=new Set(Object.values(s.default));Object.keys(e||{}).forEach(r=>{if(t.has(r))return;if(r.startsWith("filter_exp__")||r.startsWith("filtered_by_"))return;const n="repeated_".length;r.startsWith("repeated_")&&t.has(r.substring(n))||r.startsWith("offers_unexpected_signal_")||(e[`offers_unexpected_signal_${r}`]=e[r],a.default.warn("constructSignal: unexpected signal",r))})})(e.origin_data))})};t.constructSignal=(e,t,r,s,a)=>{const A=JSON.parse(JSON.stringify(r||{}));return I(A),{action:o.default.SIGNALS_HPN_BE_ACTION,signal_id:e,timestamp:u(),payload:{v:o.default.SIGNALS_VERSION,ex_v:i.default.app.version,is_developer:(0,g.isDeveloper)(),gid:s,type:t,sent_ts:a,data:A,abtest_popups_tmpl:n.default.get("offers-popup.image","with-image"),abtest_popups_copy_code:n.default.get("offers-popup.copy-code","current")}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(r(113)),i=a(r(19)),s=a(r(29)),o=a(r(103));function a(e){return e&&e.__esModule?e:{default:e}}function g(e,t,r,n,i,s,o){try{var a=e[s](o),g=a.value}catch(e){return void r(e)}a.done?t(g):Promise.resolve(g).then(n,i)}function A(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var s=e.apply(t,r);function o(e){g(s,n,i,o,a,"next",e)}function a(e){g(s,n,i,o,a,"throw",e)}o(void 0)}))}}t.default=class{constructor(){this.db=null}init(){var e=this;return A((function*(){const t=yield(0,n.default)();e.db=new t("myoffrz-behavior"),e.db.version(1).stores({purchase:"++id,date,domain",signals:"++id,date"}),yield e.db.open()}))()}unload(){this.db&&this.db.close()}onPurchase(e){var t=this;return A((function*(){s.default.log(e,"onPurchase"),yield i.default.init();const r=i.default.get("config_ts");if(!r)return;const n=e.domain,o=e.categories,a=e.price,g={date:r,domain:n,price:a,categories:o};yield t.db.purchase.add(g),yield t.generatePurchaseSignals({domain:n,price:a,categories:o},r)}))()}generatePurchaseSignals(e,t){var r=this;let n=e.domain,i=e.price,s=e.categories;return A((function*(){const e=yield r.db.purchase.where("domain").equals(n).count(),o=yield r.db.purchase.count();r.db.signals.add({payload:{type:"purchase",domain:n,pastOnDomain:!!e,pastAll:!!o,date:t}}),i&&r.db.signals.add({payload:{type:"purchasePrice",price:r.getPriceBucket(i),date:t}}),s&&s.length>0&&r.db.signals.add({payload:{type:"purchaseCategories",categories:s,date:t}}),yield new Promise(e=>{r.db.purchase.orderBy("domain").uniqueKeys(e=>{const n=e.length;n>0&&r.db.signals.add({payload:{type:"purchaseCount",purchaseCount:o+1,shopCount:n,date:t}})}),e()})}))()}getPriceBucket(e){const t=[10,50,100,500];for(let r=0;r<t.length;r+=1)if(e<t[r])return 0===r?`< ${t[r]}`:`${t[r-1]} - ${t[r]}`;return`>=${t[t.length-1]}`}getSignals(){return this.db.signals.toArray()}clearSignals(){return this.db.signals.clear()}clearPurchases(){return this.db.purchase.clear()}clearOldBehavior(){let e=i.default.get("config_ts");return e?(e=(0,o.default)(e,"YYYYMMDD").subtract(30,"day").format("YYYYMMDD"),this.db.purchase.where("date").below(e).delete()):Promise.resolve()}clear(){var e=this;return A((function*(){yield e.clearSignals(),yield e.clearPurchases()}))()}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=g(r(281)),i=g(r(19)),s=g(r(29)),o=r(54),a=g(r(555));function g(e){return e&&e.__esModule?e:{default:e}}function A(e,t,r,n,i,s,o){try{var a=e[s](o),g=a.value}catch(e){return void r(e)}a.done?t(g):Promise.resolve(g).then(n,i)}t.default=class{constructor(e){this.globObjs=e,this.globObjs.trigger_machine_executor=this,this.telemetry=e.telemetry,i.default.get("offersTriggerTelemetryPerformance",!0)||(this.telemetry=null),this._processEvent=this._processEvent.bind(this),this.evtQueue=new n.default("trigger-machine-queue",this._processEvent),this.triggerMachine=new a.default(this.globObjs),this.processWatchReqCallback=this.processWatchReqCallback.bind(this),this.runCount=0}destroy(){}processUrlChange(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"url";return this.evtQueue.push({evt_type:t,evt_data:e})}processWatchReqCallback(e,t){if(!(e&&e.url_data&&t&&t.trigger_id))return void s.default.warn("processWatchReqCallback: invalid args");if(!this.triggerMachine.getTriggerByID(t.trigger_id))return;const r={trigger_id:t.trigger_id,url_data:e.url_data};this.processUrlChange(r,"req")}_processEvent(e){var t,r=this;return(t=function*(){if(!e||!e.evt_data)return!1;const t=e.evt_data;r.runCount+=1;try{const e={"#url":t.url_data.getRawUrl(),"#domain":t.url_data.getDomain(),"#url_data":t.url_data,"#referrer":t.url_data.getReferrerName(),"#currentPass":r.runCount,"#httpLoadMs":0};let n=null;t.trigger_id&&(n=r.triggerMachine.getTriggerByID(t.trigger_id));const i=t=>{const n=(0,o.timestampMS)(),i=()=>{const t=(0,o.timestampMS)()-n-(e["#httpLoadMs"]||0);return r.telemetry.push({action:"offers-v2.trigger.process",ms:t},"metrics.legacy.performance.general")};return r.telemetry&&t.then(i,i).catch(e=>s.default.warn("wrapPerformance failed:",e)),t};return n?yield i(r.triggerMachine.run(n,e)):yield i(r.triggerMachine.runRoot(e)),!0}catch(e){s.default.error(`_processEvents: something wrong happened: ${e}`)}return!1},function(){var e=this,r=arguments;return new Promise((function(n,i){var s=t.apply(e,r);function o(e){A(s,n,i,o,a,"next",e)}function a(e){A(s,n,i,o,a,"throw",e)}o(void 0)}))})()}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=g(r(19)),i=g(r(556)),s=g(r(29)),o=g(r(564)),a=g(r(565));function g(e){return e&&e.__esModule?e:{default:e}}t.default=class{constructor(e){this.globObjs=e,this.globObjs.trigger_machine=this,this._onTriggerDestroy=this._onTriggerDestroy.bind(this),this.globObjs.trigger_cache=new a.default(this._onTriggerDestroy),this.globObjs.expression_cache=new o.default,this.expressionBuilder=new i.default(this.globObjs),this.triggersRoot="root",n.default.get("offersTriggerRootOverride")&&(this.triggersRoot=n.default.get("offersTriggerRootOverride")),this.rootTrigger={parent_trigger_ids:[],trigger_id:this.triggersRoot,ttl:3600,condition:null,actions:[["$activate_subtriggers",[this.triggersRoot]]]}}getTriggerByID(e){return this.globObjs.trigger_cache.getTrigger(e)}runRoot(e){return this.globObjs.trigger_cache.getTrigger(this.triggersRoot)||this.globObjs.trigger_cache.addTrigger(this.rootTrigger),this.run(this.rootTrigger,e)}run(e,t){if(!e||!t)return Promise.reject(new Error("run: Invalid trigger or context"));void 0===e.lastRunPass&&(e.lastRunPass=-1);const r=t["#currentPass"];return e.lastRunPass!==r?(e.lastRunPass=r,e.built_actions&&e.built_conds||this._buildTriggerData(e)?this._executeExpression(e.built_conds,t).then(r=>{if(r&&e.built_actions){const r=[];return e.built_actions.forEach(e=>{r.push(this._executeExpression(e,t))}),Promise.all(r).then(()=>Promise.resolve()).catch(e=>Promise.reject(e))}return Promise.resolve()}).catch(e=>Promise.reject(e)):Promise.reject(new Error(`run: We couldnt build the trigger: ${JSON.stringify(e.trigger_id)}`))):Promise.resolve(!0)}_buildTriggerData(e){if(!e)return!1;if(e.built_conds||e.built_actions)return!0;try{e.built_conds=this.expressionBuilder.createExp(e.condition,e);const t=[];e.actions.forEach(r=>{t.push(this.expressionBuilder.createExp(r,e))}),e.built_actions=t}catch(e){return s.default.error(`_buildTriggerData: something happened building the trigger: ${e}`),!1}return!0}_executeExpression(e,t){return e.evalExpr(t)}_onTriggerDestroy(e){e&&(e.built_conds&&(e.built_conds.destroy(),e.built_conds=null),e.built_actions&&e.built_actions.length>0&&(e.built_actions.forEach(e=>{e&&e.destroy()}),e.built_actions=null))}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=I(r(29)),i=I(r(557)),s=I(r(558)),o=I(r(559)),a=I(r(560)),g=I(r(561)),A=I(r(562)),u=I(r(563));function I(e){return e&&e.__esModule?e:{default:e}}t.default=class{constructor(e){this.buildMap={value:{},context:{},ops:{}},this.globObjs=e,[o.default,a.default,g.default,A.default,u.default].forEach(e=>{Object.keys(e).forEach(t=>{this.buildMap.ops[t]=e[t],this.registerOpsBuilder(t,e[t])})})}destroy(){}registerOpsBuilder(e,t){this.buildMap.ops[e]=t}createExp(e,t){if(null==e){const e={exp_builder:this,parent_trigger:t};return new s.default(e,!0)}let r=null;if("object"==typeof e)r=this._buildOpExpr(e,t);else{const n={exp_builder:this,parent_trigger:t};r="string"==typeof e&&e.length>0&&"#"===e[0]?new i.default(n,e):new s.default(n,e)}if(null==r)throw new Error(`createExp: we cannot build the operation ${e}`);return r}_buildOpExpr(e,t){if(!e||0===e.length)return null;const r=e.slice(),i=r.shift();if(!this.buildMap.ops[i])return n.default.warn(`_buildOpExpr: we don't have the operation with name ${i}`),null;let s=[];r.length>0&&(s=r.shift());let o=0;r.length>0&&(o=r.shift());const a={raw_op:{op_name:i,args:s,ttl:o},parent_trigger:t,exp_builder:this,regex_cache:this.globObjs.regex_cache,trigger_cache:this.globObjs.trigger_cache,trigger_machine:this.globObjs.trigger_machine,event_handler:this.globObjs.event_handler,trigger_machine_executor:this.globObjs.trigger_machine_executor,expression_cache:this.globObjs.expression_cache,feature_handler:this.globObjs.feature_handler,intent_handler:this.globObjs.intent_handler,be_connector:this.globObjs.be_connector,category_handler:this.globObjs.category_handler,offers_status_handler:this.globObjs.offers_status_handler};return new(0,this.buildMap.ops[i])(a)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i=(n=r(160))&&n.__esModule?n:{default:n};class s extends i.default{constructor(e,t){super(e),this.ctxName=t}isBuilt(){return!0}build(){}destroy(){}getExprValue(e){return Promise.resolve(e[this.ctxName])}}t.default=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i=(n=r(160))&&n.__esModule?n:{default:n};class s extends i.default{constructor(e,t){super(e),this.val=t}isBuilt(){return!0}build(){}destroy(){}getExprValue(){return Promise.resolve(this.val)}}t.default=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=u(r(160)),i=u(r(174)),s=u(r(19)),o=r(91),a=u(r(29)),g=r(54),A=r(347);function u(e){return e&&e.__esModule?e:{default:e}}function I(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var r=[],n=!0,i=!1,s=void 0;try{for(var o,a=e[Symbol.iterator]();!(n=(o=a.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){i=!0,s=e}finally{try{n||null==a.return||a.return()}finally{if(i)throw s}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function C(e,t,r,n,i,s,o){try{var a=e[s](o),g=a.value}catch(e){return void r(e)}a.done?t(g):Promise.resolve(g).then(n,i)}function l(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var s=e.apply(t,r);function o(e){C(s,n,i,o,a,"next",e)}function a(e){C(s,n,i,o,a,"throw",e)}o(void 0)}))}}class c extends n.default{constructor(e){super(e),this.prefName=null,this.expectedVal=null}isBuilt(){return!(!this.prefName||!this.expectedVal)}build(){if(this.data&&this.data.raw_op.args){if(this.data.raw_op.args.length<2)throw new Error("IfPrefExpr invalid args");this.prefName=String(this.data.raw_op.args[0]),this.expectedVal=String(this.data.raw_op.args[1])}}destroy(){}getExprValue(){const e=s.default.get(this.prefName,void 0);return Promise.resolve(String(e)===this.expectedVal)}}class d extends n.default{isBuilt(){return!0}build(){}destroy(){}getExprValue(){return new Promise(e=>(this.data.raw_op.args&&this.data.raw_op.args.length>0&&a.default.info("log_expr",`[trigger_id: ${this.data.parent_trigger.trigger_id}]: ${this.data.raw_op.args[0]}`),e(!0)))}}class h extends n.default{constructor(e){super(e),this.ops=null}isBuilt(){return null!==this.ops}build(){if(!this.data.raw_op.args)throw new Error(`AndExpr invalid args: ${this.data.raw_op.args}`);if(0===this.data.raw_op.args.length)return void(this.ops=[]);const e=[];this.data.raw_op.args.forEach(t=>{e.push(this.data.exp_builder.createExp(t,this.data.parent_trigger))}),this.ops=e}destroy(){}getExprValue(e){return function e(t,r){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(!r||n>=r.length)return Promise.resolve(!1);return r[n].evalExpr(t).then(i=>i?r.length===n+1?Promise.resolve(!0):e(t,r,n+1):Promise.resolve(!1))}(e,this.ops)}}class f extends n.default{constructor(e){super(e),this.ops=null}isBuilt(){return null!==this.ops}build(){if(!this.data.raw_op.args)throw new Error("OrExpr invalid args");if(0===this.data.raw_op.args.length)return void(this.ops=[]);const e=[];this.data.raw_op.args.forEach(t=>{e.push(this.data.exp_builder.createExp(t,this.data.parent_trigger))}),this.ops=e}destroy(){}getExprValue(e){return function e(t,r){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(!r||n>=r.length)return Promise.resolve(!1);return r[n].evalExpr(t).then(i=>i?Promise.resolve(!0):r.length===n+1?Promise.resolve(!1):e(t,r,n+1))}(e,this.ops)}}class p extends n.default{constructor(e){super(e),this.exprToNegate=null}isBuilt(){return null!==this.exprToNegate}build(){if(!this.data.raw_op.args||0===this.data.raw_op.args.length)throw new Error("NotExpr invalid args");this.exprToNegate=this.data.exp_builder.createExp(this.data.raw_op.args[0],this.data.parent_trigger)}destroy(){}getExprValue(e){return this.exprToNegate.evalExpr(e).then(e=>Promise.resolve(!e))}}class m extends n.default{constructor(e){super(e),this.lExpr=null,this.rExpr=null}isBuilt(){return this.lExpr&&this.rExpr}build(){if(!this.data.raw_op.args||this.data.raw_op.args.length<2)throw new Error("EqExpr invalid args");this.lExpr=this.data.exp_builder.createExp(this.data.raw_op.args[0],this.data.parent_trigger),this.rExpr=this.data.exp_builder.createExp(this.data.raw_op.args[1],this.data.parent_trigger)}destroy(){}getExprValue(e){return Promise.all([this.lExpr.evalExpr(e),this.rExpr.evalExpr(e)]).then(e=>Promise.resolve(e[0]===e[1]))}}class _ extends n.default{constructor(e){super(e),this.lExpr=null,this.rExpr=null}isBuilt(){return this.lExpr&&this.rExpr}build(){if(!this.data.raw_op.args||this.data.raw_op.args.length<2)throw new Error("GtExpr invalid args");this.lExpr=this.data.exp_builder.createExp(this.data.raw_op.args[0],this.data.parent_trigger),this.rExpr=this.data.exp_builder.createExp(this.data.raw_op.args[1],this.data.parent_trigger)}destroy(){}getExprValue(e){return Promise.all([this.lExpr.evalExpr(e),this.rExpr.evalExpr(e)]).then(e=>Promise.resolve(e[0]>e[1]))}}class y extends n.default{constructor(e){super(e),this.lExpr=null,this.rExpr=null}isBuilt(){return this.lExpr&&this.rExpr}build(){if(!this.data.raw_op.args||this.data.raw_op.args.length<2)throw new Error("LtExpr invalid args");this.lExpr=this.data.exp_builder.createExp(this.data.raw_op.args[0],this.data.parent_trigger),this.rExpr=this.data.exp_builder.createExp(this.data.raw_op.args[1],this.data.parent_trigger)}destroy(){}getExprValue(e){return Promise.all([this.lExpr.evalExpr(e),this.rExpr.evalExpr(e)]).then(e=>Promise.resolve(e[0]<e[1]))}}class b extends n.default{constructor(e){if(super(e),!this.data.raw_op.args||!this.data.raw_op.args.length)throw new Error("VarValue invalid args");this.varName=e.raw_op.args[0],this.defaultValue=e.raw_op.args[1]}isBuilt(){return!!this.varName}build(){}destroy(){}getExprValue(e){const t=e.vars&&e.vars[this.varName];return Promise.resolve(void 0===t?this.defaultValue:t)}}class v extends n.default{isBuilt(){return!0}build(){}destroy(){}getExprValue(){return Promise.resolve((0,g.timestampMS)())}}class w extends n.default{isBuilt(){return!0}build(){}destroy(){}getExprValue(){return Promise.resolve((0,g.dayHour)())}}class k extends n.default{isBuilt(){return!0}build(){}destroy(){}getExprValue(){return Promise.resolve((0,g.weekDay)())}}class M extends n.default{constructor(e){super(e),this.args=null}isBuilt(){return null!==this.args}build(){if(!this.data.raw_op.args||this.data.raw_op.args.length<1)throw new Error("GeoCheckExpr invalid args");const e=this.data.raw_op.args[0];if(!e.main_check||"locs"!==e.main_check&&"coords"!==e.main_check)throw new Error("GeoCheckExpr invalid args for field main_check");if("locs"===e.main_check){if(!e.locs)throw new Error("GeoCheckExpr invalid args: locs is missing?")}else if(!e.coords)throw new Error("GeoCheckExpr invalid args: coords is missing?");this.args=e}destroy(){}getExprValue(){try{if(!this.data.feature_handler.isFeatureAvailable("geo"))return Promise.resolve(!1);const e=this.data.feature_handler.getFeature("geo");if("coords"===this.args.main_check)return a.default.error("We do not support coords yet"),Promise.resolve(!1);if(!e.isLocAvailable())return Promise.resolve(!1);const t=Object.keys(this.args.locs);for(let r=0;r<t.length;r+=1){const n=t[r],i=this.args.locs[n],s=Object.keys(i);for(let t=0;t<s.length;t+=1){const r=s[t],o=i[r];if(o&&0!==o.length)for(let t=0;t<o.length;t+=1){const i={country:n,city:r,zip:o[t]};if(e.isSameLocation(i))return Promise.resolve(!0)}else{const t={country:n,city:r};if(e.isSameLocation(t))return Promise.resolve(!0)}}}}catch(e){a.default.error(`GeoCheckExpr error: ${JSON.stringify(e)}`)}return Promise.resolve(!1)}}class O extends n.default{constructor(e){super(e),this.args=null}isBuilt(){return this.args}build(){if(!this.data.raw_op.args||this.data.raw_op.args.length<1)throw new Error("IsFeatureEnabledExpr invalid args");const e=this.data.raw_op.args[0];if(!e.name)throw new Error("IsFeatureEnabledExpr invalid args: name should be present");this.args=e}destroy(){}getExprValue(){let e=!1;try{e=this.data.feature_handler.isFeatureAvailable(this.args.name)}catch(e){a.default.error("IsFeatureEnabledExpr exception: ",e)}return Promise.resolve(e)}}class S extends n.default{constructor(e){super(e),this.categoryName=null,this.minMatches=3,this.durationDays=90,this.cachedResult=!1,this.cacheSentinel=""}isBuilt(){return Boolean(this.catName)}build(){const e=this.data.raw_op.args;if(!e)throw new Error("$probe_segment: missed category arg");const t=e[0];if("string"!=typeof t)throw new Error("$probe_segment: category name should be a string");this.categoryName=t;const r=e[1]||{};let n=Number.parseInt(r.min_matches,10),i=Number.parseInt(r.duration_days,10);n<=0&&(a.default.warn("$probe_segment: min_matches should be a positive number"),n=0),Number.isNaN(n)&&(a.default.warn("$probe_segment: min_matches should be a number"),n=0),i<=0&&(a.default.warn("$probe_segment: duration_days should be a positive number"),i=0),Number.isNaN(i)&&(a.default.warn("$probe_segment: duration_days should be a number"),i=0),this.minMatches=n||this.minMatches,this.durationDays=i||this.durationDays}destroy(){}getExprValue(e){var t=this;return l((function*(){const r=t.data.category_handler,n=t=>{e.vars.segment_confidence=t},i=r.getCategory(t.categoryName);if(!i)return n(1),!1;const s=i.getCacheSentinel();if(t.cacheSentinel===s)return n(t.cachedConfidence),t.cachedResult;let g=I(i.probe(t.minMatches,t.durationDays),2),u=g[0],C=g[1];if(!C){let e=!1;const n=l((function*(){yield r.importHistoricalData(i),e=!0}))(),s=(0,o.deadline)(n,50);try{yield s}catch(e){if(!(0,A.isThrottleError)(e))throw a.default.warn(`$probe_segment, non-throttle error ${e}`),e}if(e){var c=I(i.probe(t.minMatches,t.durationDays),2);u=c[0],C=c[1]}}return t.cachedResult=u,t.cachedConfidence=C,t.cacheSentinel=s,C||(t.cacheSentinel=""),n(C),u}))()}}class D extends n.default{constructor(e){super(e),this.allowedLangs=null}isBuilt(){return!!this.allowedLangs}build(){if(this.data&&this.data.raw_op.args){if(this.data.raw_op.args.length<1)throw new Error("LangExpr invalid args");this.allowedLangs=this.data.raw_op.args.map(String)}}destroy(){}getExprValue(){const e=i.default.PLATFORM_LANGUAGE;return this.allowedLangs.indexOf(e)<0?Promise.resolve(!1):Promise.resolve(!0)}}var T={$if_pref:c,$log:d,$and:h,$or:f,$not:p,$eq:m,$gt:_,$lt:y,$get_variable:b,$timestamp:v,$day_hour:w,$week_day:k,$geo_check:M,$is_feature_enabled:O,$probe_segment:S,$lang_is:D};t.default=T},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(r(160)),i=s(r(285));function s(e){return e&&e.__esModule?e:{default:e}}class o extends n.default{constructor(e){super(e),this.args=null}isBuilt(){return null!==this.args}build(){if(!this.data||!this.data.raw_op.args)return;if(this.data.raw_op.args.length<1)throw new Error("ActivateIntentExpr invalid args");const e=this.data.raw_op.args[0];if(!e.name||!e.durationSecs||e.durationSecs<=0)throw new Error("ActivateIntentExpr no name or durationSecs found?");this.args=e}destroy(){}getExprValue(){if(!this.data.intent_handler.isIntentActiveByName(this.args.name)){const e=new i.default(this.args.name,this.args.durationSecs);this.data.intent_handler.activateIntent(e)}return Promise.resolve()}}var a={$activate_intent:o};t.default=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(r(19)),i=a(r(160)),s=a(r(29)),o=r(54);function a(e){return e&&e.__esModule?e:{default:e}}function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function A(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u(e,t,r,n,i,s,o){try{var a=e[s](o),g=a.value}catch(e){return void r(e)}a.done?t(g):Promise.resolve(g).then(n,i)}class I extends i.default{constructor(e){super(e),this.parentTriggerId=null}isBuilt(){return this.parentTriggerId}build(){if(this.data&&this.data.raw_op.args){if(this.data.raw_op.args.length<1)throw new Error("ActivateSubtriggersExpr invalid args");this.parentTriggerId=this.data.raw_op.args[0]}}destroy(){}getExprValue(e){var t,r=this;return(t=function*(){if(e._currentTriggerLevel||(e._currentTriggerLevel=0),e._currentTriggerLevel+=1,e._currentTriggerLevel>25)throw new Error("trigger depth > 25");let t=r.data.trigger_cache.getSubtriggers(r.parentTriggerId);if(!t||0===t.length){const i=(0,o.timestampMS)(),a=()=>{const t=(0,o.timestampMS)()-i;e["#httpLoadMs"]=(e["#httpLoadMs"]||0)+t},g=n.default.get("config_location","")||"",A=yield r.data.be_connector.sendApiRequest("loadsubtriggers",{parent_id:r.parentTriggerId,country:g},"GET");a();const u=e=>e&&(void 0===e.user_group||(0,o.shouldKeepResource)(e.user_group));t=A.filter(u),s.default.info("ActivateSubtriggersExpr",`Loaded ${t.length} subtriggers`),r.data.trigger_cache.setSubtriggers(r.parentTriggerId,t),t.forEach(e=>r.data.trigger_cache.addTrigger(e))}const i=Array.from(t,t=>{const n=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(r,!0).forEach((function(t){A(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e,{vars:{}});return r.data.trigger_machine.run(t,n).catch(e=>s.default.warn(`Error in subtrigger ${t.trigger_id}, skipping: ${e}`))});return Promise.all(i)},function(){var e=this,r=arguments;return new Promise((function(n,i){var s=t.apply(e,r);function o(e){u(s,n,i,o,a,"next",e)}function a(e){u(s,n,i,o,a,"throw",e)}o(void 0)}))})()}}var C={$activate_subtriggers:I};t.default=C},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=o(r(160)),i=o(r(29)),s=o(r(287));function o(e){return e&&e.__esModule?e:{default:e}}class a extends n.default{constructor(e){super(e),this.args=null}isBuilt(){return null!==this.args}build(){if(!this.data.raw_op.args||this.data.raw_op.args.length<1)throw new Error("IsCategoryActiveExpr invalid args");const e=this.data.raw_op.args[0];if(!e||!e.catName)throw new Error("IsCategoryActiveExpr invalid args, missing catName?");this.args=e}destroy(){}getExprValue(){try{return Promise.resolve(this.data.category_handler.isCategoryActive(this.args.catName))}catch(e){return i.default.error("IsCategoryActiveExpr Error:",e),Promise.reject(e)}}}class g extends n.default{constructor(e){super(e),this.args=null,this.executed=!1}isBuilt(){return null!==this.args}build(){if(!this.data.raw_op.args||this.data.raw_op.args.length<1)throw new Error("AddCategoriesExpr invalid args");const e=this.data.raw_op.args[0];if(!e||!e.toUpdate)throw new Error("AddCategoriesExpr invalid args, missing catName?");this.args=e}destroy(){}getExprValue(){if(this.executed)return Promise.resolve(!0);try{return this.args.toUpdate.forEach(e=>{const t=this._buildCategoryFromObj(e);t&&this.data.category_handler.addCategory(t)}),this.data.category_handler.build(),this.executed=!0,Promise.resolve(!0)}catch(e){return i.default.error("IsCategoryActiveExpr Error:",e),Promise.reject(e)}}_buildCategoryFromObj(e){return e&&e.name&&e.patterns&&e.version&&e.timeRangeSecs&&e.activationData?new s.default(e.name,e.patterns,e.version,e.timeRangeSecs,e.activationData):(i.default.warn("invalid category object: ",e),null)}}var A={$is_category_active:a,$add_categories:g};t.default=A},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(r(160)),i=s(r(29));function s(e){return e&&e.__esModule?e:{default:e}}class o extends n.default{constructor(e){super(e),this.statusObj=null,this.alreadySet=!1}isBuilt(){return null!==this.statusObj}build(){if(this.data&&this.data.raw_op.args){if(this.data.raw_op.args.length<1||"object"!=typeof this.data.raw_op.args[0])throw new Error("SetOffersStatusExpr invalid args");this.statusObj=this.data.raw_op.args[0]}}destroy(){}getExprValue(){return this.alreadySet||("debug"===i.default.LOG_LEVEL&&i.default.debug("Setting the new offers status: ",this.statusObj),this.data.offers_status_handler.loadStatusFromObject(this.statusObj),this.alreadySet=!0),Promise.resolve(!0)}}var a={$set_offers_status:o};t.default=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(54);t.default=class{constructor(){this.cache=new Map}destroy(){}addEntry(e,t,r){if(!e||!t)return;const i=(0,n.timestampMS)()+1e3*t;this.cache.set(e,{expirate_ts:i,data:r})}hasEntry(e){return this._expireCacheEntry(e)}getEntry(e){return this._expireCacheEntry(e)?this.cache.get(e).data:null}_expireCacheEntry(e){if(!this.cache.has(e))return!1;const t=this.cache.get(e),r=(0,n.timestampMS)();return!(t.expirate_ts<r)||(this.cache.delete(e),!1)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(54);t.default=class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.triggerIndex={},this.lastExpireRun=0,this.triggerDestroyCb=e}addTrigger(e){this.expireCache(),e._added_ts=(0,n.timestamp)(),e._subtriggers=null,this.triggerIndex[e.trigger_id]=e}getTrigger(e){return this.triggerIndex[e]}setSubtriggers(e,t){const r=this.triggerIndex[e];r&&(r._subtriggers=t)}getSubtriggers(e){const t=this;t.expireCache();const r=t.triggerIndex[e];if(r&&r._subtriggers){return r._subtriggers.filter(()=>t.triggerIndex[e])}return[]}expireCache(){const e=(0,n.timestamp)();e-this.lastExpireRun<60||(Object.keys(this.triggerIndex).forEach(t=>{const r=this.triggerIndex[t];null!==r.ttl&&r._added_ts+r.ttl<e&&(this.triggerDestroyCb&&this.triggerDestroyCb(this.triggerIndex[t]),delete this.triggerIndex[t])}),this.lastExpireRun=e)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(r(29)),i=s(r(567));function s(e){return e&&e.__esModule?e:{default:e}}t.default=class{constructor(){this.features=new Map,(0,i.default)().forEach(e=>{e.init()?(n.default.info(`Feature ${e.getName()} initialized properly`),this.features.set(e.getName(),e)):n.default.error(`Problem initializing the feature ${e.getName()}`)})}unload(){this.features.forEach((e,t)=>{e.unload()?n.default.info(`Feature ${t} uninitialized properly`):n.default.error(`Error uninitializing the feature ${t}`)}),this.features.clear()}isFeatureAvailable(e){return!!this.features.has(e)&&this.features.get(e).isAvailable()}getFeature(e){return this.features.get(e)}dumpFeaturesData(){n.default.info("Features data: ",this.features)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return[new n.default,new i.default]};var n=s(r(568)),i=s(r(569));function s(e){return e&&e.__esModule?e:{default:e}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=o(r(39)),i=o(r(19)),s=o(r(348));function o(e){return e&&e.__esModule?e:{default:e}}const a="config_location",g="config_location.city";class A extends s.default{constructor(){super("geo"),this.loc=null,this.onPrefChange=void 0}init(){return this._updateLocFromPrefs(),this.onPrefChange=n.default.subscribe("prefchange",e=>{e!==g&&e!==a||this._updateLocFromPrefs()}),!0}unload(){return this.onPrefChange&&(this.onPrefChange.unsubscribe(),this.onPrefChange=void 0),!0}isAvailable(){return this.isLocAvailable()}isLocAvailable(){return this._checkLoc(this.loc)&&"--"!==this.loc.country}updateLocation(e){this.loc=e?e.loc:null}isSameLocation(e){if(!this._checkLoc(e)||!this._checkLoc(this.loc))return!1;if(this.loc.country!==e.country)return!1;if(e.city){if(e.city!==this.loc.city)return!1;if(e.zip&&e.zip!==this.loc.zip)return!1}return!0}matches(e){if(!this.isLocAvailable()||!e.has(this.loc.country))return!1;const t=e.get(this.loc.country);if(0===t.size)return!0;if(!t.has(this.loc.city))return!1;const r=t.get(this.loc.city);return 0===r.size||r.has(this.loc.zip)}_checkLoc(e){return!(!e||!e.country)}_updateLocFromPrefs(){const e={loc:{country:i.default.get(a,"--"),city:i.default.get(g,"--")}};this.updateLocation(e)}}t.default=A},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=g(r(570)),i=g(r(348)),s=g(r(103)),o=g(r(134)),a=g(r(235));function g(e){return e&&e.__esModule?e:{default:e}}function A(e,t,r,n,i,s,o){try{var a=e[s](o),g=a.value}catch(e){return void r(e)}a.done?t(g):Promise.resolve(g).then(n,i)}class u extends i.default{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.default;super("history"),this.history=e}init(){return!0}unload(){return!0}isAvailable(){return!0}performQueryOnHistory(e){var t=this;let r=e.pid,n=e.index,i=e.start_ms,g=e.end_ms;return(u=function*(){const e=i-1,A=g+1,u=new o.default(()=>0),I=n.isEmpty()?[]:yield t.history.queryVisitsForTimespan({frameStartsAt:e,frameEndsAt:A});var C=!0,l=!1,c=void 0;try{for(var d,h=I[Symbol.iterator]();!(C=(d=h.next()).done);C=!0){const e=d.value,t=e.ts,r=e.url,i=new a.default(r);if(n.match(i.getPatternRequest())){const e=(0,s.default)(t).format("YYYYMMDD");u.update(e,e=>e+1)}}}catch(e){l=!0,c=e}finally{try{C||null==h.return||h.return()}finally{if(l)throw c}}const f={},p={num_days:0,m:0,last_checked_url_ts:A};return u.forEach((e,t)=>{p.num_days+=1,p.m+=e,f[t]={m:e}}),{pid:r,d:{match_data:{total:p,per_day:f}}}},function(){var e=this,t=arguments;return new Promise((function(r,n){var i=u.apply(e,t);function s(e){A(i,r,n,s,o,"next",e)}function o(e){A(i,r,n,s,o,"throw",e)}s(void 0)}))})();var u}}t.default=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(51);function i(e,t,r,n,i,s,o){try{var a=e[s](o),g=a.value}catch(e){return void r(e)}a.done?t(g):Promise.resolve(g).then(n,i)}t.default=class{static deleteVisit(e){return n.browser.cliqzHistory.history.deleteVisit(+e)}static deleteVisits(e){return e.reduce((e,t)=>e.then(()=>this.deleteVisit(t)),Promise.resolve())}static showHistoryDeletionPopup(){return n.browser.cliqzHistory.history.showHistoryDeletionPopup()}static fillFromVisit(e,t){return n.browser.cliqzHistory.history.fillFromVisit(e,t)}static markAsHidden(e){return n.browser.cliqzHistory.history.markAsHidden(e)}static cleanupEmptySearches(){return n.browser.cliqzHistory.history.cleanupEmptySearches()}static addVisit(e){let t=e.url,r=e.title,i=e.transition,s=e.visitTime;return t&&s?new Promise((e,o)=>{n.browser.history.addUrl({url:t,title:r,transition:i||n.browser.history.TransitionType.TYPED,visitTime:s},()=>{const t=n.browser.runtime.lastError;t?o(t):e()})}):Promise.resolve()}static migrate(){return Promise.resolve()}static query(e){let t=e.limit,r=e.frameStartsAt,i=e.frameEndsAt,s=e.domain,o=e.query;return"string"==typeof r&&(r=+r),"string"==typeof i&&(i=+i),n.browser.cliqzHistory.history.query({limit:t,frameStartsAt:r,frameEndsAt:i,domain:s,query:o})}static queryVisitsForTimespan(e){let t=e.frameStartsAt,r=e.frameEndsAt;return new Promise(e=>{n.chrome.history?n.chrome.history.search({text:"",startTime:Math.floor(t/1e3),endTime:Math.floor(r/1e3)},t=>{e(t.map(e=>{return{url:e.url,ts:e.lastVisitTime}}))}):e([])})}static stats(){return(e=function*(){return n.browser.cliqzHistory&&n.browser.cliqzHistory.history&&n.browser.cliqzHistory.history.stats?n.browser.cliqzHistory.history.stats():{size:-1,days:-1}},function(){var t=this,r=arguments;return new Promise((function(n,s){var o=e.apply(t,r);function a(e){i(o,n,s,a,g,"next",e)}function g(e){i(o,n,s,a,g,"throw",e)}a(void 0)}))})();var e}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(68),i=A(r(28)),s=A(r(19)),o=A(r(29)),a=A(r(114)),g=r(54);function A(e){return e&&e.__esModule?e:{default:e}}const u=300,I=10;class C{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.data=e,this.responseStatus=t,this.createdTS=(0,g.timestampMS)()}expired(){return((0,g.timestampMS)()-this.createdTS)/1e3>u}wasFailedCall(){return null!==this.responseStatus&&this.responseStatus>=400}}t.default=class{constructor(){this._cache=new Map,this._cacheClearCount=I}sendApiRequest(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"POST";o.default.info("backend_connector","sendApiRequest called"),this._expireCache(),t.t_eng_ver=a.default.TRIGGER_ENGINE_VERSION,t.channel=s.default.get("offers.distribution.channel")||i.default.settings.OFFERS_CHANNEL||"cliqz";const g=this._buildUrl(e,t,r),A=this._cache.get(g);if(A&&!A.expired())return o.default.debug("we have data cached for ",g),A.wasFailedCall()?Promise.reject(new Error(`Cached failed call: code ${A.responseStatus} - ${g}`)):Promise.resolve(A.data);o.default.info("backend_connector",`url called: ${g}`);const u=new n.Headers;u.append("Content-Type","application/json");const I=new n.Request(g,{headers:u,method:r,body:"POST"===r?JSON.stringify(t):void 0});return(0,n.fetch)(I).then(e=>e.ok?e.json().then(e=>("POST"!==r&&this._cache.set(g,new C(e)),Promise.resolve(e))):("POST"!==r&&this._cache.set(g,new C(null,e.status)),Promise.reject(new Error(`Status code ${e.status} for ${g}`))))}_buildUrl(e,t,r){const n=`${a.default.BACKEND_URL}/api/v1/${e}`;return"POST"===r?n:`${n}?${Object.keys(t).map(e=>`${e}=${encodeURIComponent(t[e])}`).join("&")}`}_expireCache(){this._cacheClearCount-=1,this._cacheClearCount>0||(this._cacheClearCount=I,this._cache.forEach((e,t)=>{e.expired()&&this._cache.delete(t)}))}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=o(r(288)),i=o(r(575)),s=o(r(576));function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t,r,n,i,s,o){try{var a=e[s](o),g=a.value}catch(e){return void r(e)}a.done?t(g):Promise.resolve(g).then(n,i)}function g(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var s=e.apply(t,r);function o(e){a(s,n,i,o,g,"next",e)}function g(e){a(s,n,i,o,g,"throw",e)}o(void 0)}))}}t.default=class{constructor(e){let t=e.eventHandler,r=e.signalReEmitter;this.eventHandler=t,this.signalReEmitter=r}init(){var e=this;return g((function*(){e.journeyCollector=new n.default,e.journeySignals=new i.default(e.journeyCollector,e.signalReEmitter),yield e.journeySignals.init(),e.newPageFeature=new s.default(e.eventHandler,e.journeyCollector),e.newPageFeature.init()}))()}destroy(){var e=this;return g((function*(){e.newPageFeature.destroy(),yield e.journeySignals.destroy()}))()}getSignalHandler(){return this.journeySignals}addFeature(){return this.journeyCollector.addFeature(...arguments)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=e[e.length-1];if(!t.domain)return;const r=new Set;for(let n=e.length-2;n>=0;n-=1){const i=e[n];if(i.features.includes("shop")){if(i.domain===t.domain){const e=o(i);return void(0,s.putFeatureToStep)(t,e)}i.features.forEach(r.add,r)}}for(let e=1;e<r.size+4;e+=1){const n=`shop-${e}`;if(!r.has(n)){(0,s.putFeatureToStep)(t,n);break}}};var n,i=(n=r(29))&&n.__esModule?n:{default:n},s=r(288);function o(e){var t=!0,r=!1,n=void 0;try{for(var s,o=e.features[Symbol.iterator]();!(t=(s=o.next()).done);t=!0){const e=s.value;if(e.startsWith("shop-"))return e}}catch(e){r=!0,n=e}finally{try{t||null==o.return||o.return()}finally{if(r)throw n}}return i.default.warn("annotateWithShopId: shop-step doesn't contain an ID"),"shop-X"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=e[e.length-1],r=t.referrer;if(!r)return;const i=t.domain;e.forEach(e=>{e.url===r&&e.domain!==i&&(0,n.putFeatureToStep)(e,"click-shop")})};var n=r(288)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=o(r(113)),i=o(r(29)),s=o(r(92));function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t,r,n,i,s,o){try{var a=e[s](o),g=a.value}catch(e){return void r(e)}a.done?t(g):Promise.resolve(g).then(n,i)}function g(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var s=e.apply(t,r);function o(e){a(s,n,i,o,g,"next",e)}function g(e){a(s,n,i,o,g,"throw",e)}o(void 0)}))}}t.default=class{constructor(e,t){this.collector=e,this.signals=[],this.db=null,this.signalReEmitter=t,this.reinterpretCampaignSignalAsync=this.reinterpretCampaignSignalAsync.bind(this)}init(){var e=this;return g((function*(){const t=yield(0,n.default)();e.db=new t("offers-journey"),e.db.version(1).stores({signals:"++id"}),yield e.db,e.signalReEmitter.on("signal",e.reinterpretCampaignSignalAsync)}))()}destroy(){var e=this;return g((function*(){e.signalReEmitter.unsubscribe("signal",e.reinterpretCampaignSignalAsync),e.db&&(e.db.close(),e.db=null)}))()}_addSignal(e){var t=this;return g((function*(){t.db?yield t.db.signals.add(e).catch(e=>i.default.warn(`JourneySignals::addSignal error: ${e}`)):i.default.warn("JourneySignals::addSignal: no database")}))()}reinterpretCampaignSignalAsync(e){var t=this;return g((function*(){let r="";switch(e){case s.default.AID_OFFER_CALL_TO_ACTION:r=r||"click";case s.default.AID_SUCCESS:r=r||"purchase";case s.default.AID_LANDING:case s.default.AID_PAGE_IMP:case s.default.AID_PAYMENT:case s.default.AID_CART:t.collector.addFeature({feature:e})}r&&(yield t._addSignal({type:r,journey:t.collector.getJourney()}))}))()}moveSignals(){var e=this;return g((function*(){if(!e.db)return i.default.warn("JourneySignals::moveSignals: no database"),[];try{const t=yield e.db.signals.toArray();return t.forEach(e=>delete e.id),yield e.db.signals.clear(),t}catch(e){return i.default.warn(`JourneySignals::moveSignals error: ${e}`),[]}}))()}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i=(n=r(199))&&n.__esModule?n:{default:n};t.default=class{constructor(e,t){this.eventHandler=e,this.journeyCollector=t,this.onUrlChange=this.onUrlChange.bind(this),this.domainToClass={"ask.com":"search-top","fireball.com":"search-top","qwant.com":"search-top","exalead.com":"search-top","gigablast.com":"search-top","duckduckgo.com":"search-top","metager.de":"metasearch","extraktsearch.de":"metasearch","disconnect.me":"metasearch","metacrawler.de":"metasearch","metacrawler.com":"metasearch","dogpile.com":"metasearch","startpage.com":"metasearch","ecosia.org":"metasearch","hotbot.com":"metasearch","wolframalpha.com":"metasearch","t-online.de":"portal-search","web.de":"portal-search","gmx.net":"portal-search"},this.companyToClass={google:"search-top",bing:"search-top",yandex:"search-top",baidu:"search-top",yahoo:"search-top",lycos:"search-top",amazon:"amazon",ebay:"ebay"},this.companyToFeature={ebay:"shop",zalando:"shop"}}init(){this.eventHandler.subscribeUrlChange(this.onUrlChange)}destroy(){this.eventHandler.unsubscribeUrlChange(this.onUrlChange)}onUrlChange(e){if(!e)return;const t=e.getRawUrl(),r=e.getGeneralDomain()||"",n=r.split(".",1)[0];let s=this.domainToClass[r]||this.companyToClass[n]||"unk";if("portal-search"===s&&(s=t.toLowerCase().includes("suche")?"metasearch":"unk"),"google"===n){s="unk";try{new i.default(t).pathname.startsWith("/search")&&(s="search-top")}catch(e){}}this.journeyCollector.addStep({feature:s,url:t});const o=this.companyToFeature[n];o&&this.journeyCollector.addFeature({feature:o,url:t})}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(84),i=u(r(28)),s=r(102),o=u(r(158)),a=u(r(235)),g=u(r(29)),A=r(234);function u(e){return e&&e.__esModule?e:{default:e}}function I(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var r=[],n=!0,i=!1,s=void 0;try{for(var o,a=e[Symbol.iterator]();!(n=(o=a.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){i=!0,s=e}finally{try{n||null==a.return||a.return()}finally{if(i)throw s}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function C(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?C(r,!0).forEach((function(t){c(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const d=18e5;t.default=class{constructor(e){let t=e.offersHandler,r=e.core,n=e.popupNotification,i=e.offersDB;this.offersHandler=t,this.core=r,this.popupNotification=n,this.offersDB=i,this._lastPopupNotificationMs=0,this._encodeCouponAction=this._encodeCouponAction.bind(this)}_couponFormUsed(e){this.offersHandler&&(e.urlData=new a.default(e.url),this.offersHandler.couponFormUsed(e))}_publishPopupPushEvent(e){let t=e.url,r=e.templateData,n=void 0===r?{}:r,i=e.offerInfo,s=void 0===i?{}:i,o=e.products,a=void 0===o?{}:o,g=e.attrs;const A={target:"offers-v2",data:{back:s,config:l({},s,{},n,{products:a,attrs:void 0===g?{}:g}),preShow:"try-to-find-coupon",onApply:"insert-coupon-form",url:t}};this.popupNotification.action("push",A)}_publishDetectCouponActions(e,t){this.core.action("callContentAction","offers-v2","detect-coupon-actions",{url:e},{url:e,offerInfo:t})}_touchIfToPopupNotification(e){const t=e.activate,r=void 0!==t&&t,n=e.offerInfo;if(r&&(void 0===n?{}:n).autoFillField){const e=Date.now();if(e-this._lastPopupNotificationMs>d)return this._lastPopupNotificationMs=e,!0}return!1}_onCouponActivity(e){this.offersHandler.onCouponActivity(e,this._encodeCouponAction)}_encodeCouponAction(e,t){let r=e.type,n=e.couponValue,i=t.offerID;const s={coupon_form_not_found:"N",coupon_form_found:"F",coupon_fail_minimal_basket_value:"M",coupon_form_prices:()=>this._onCouponPrices(n,i),coupon_own_used:"Y",coupon_other_used:"C",coupon_empty:"C",popnot_pre_show:()=>n?"f":"n",coupon_autofill_field_apply_action:"y"}[r];return s.call?s():s}_onCouponPrices(e,t){const r=e.total,n=e.base,i=this.offersDB.getShoppingCartDescribedPrices(t)||{},s=i.total,o=i.base;if(r===s&&n===o)return"Z";this.offersDB.setShoppingCartDescribedPrices(t,e);const a=(r||0)-(s||0),g=n===o?"":`/${((n||0)-(o||0)).toFixed(2)}`;return`{D${a.toFixed(2)}${g}}`}onDomReady(e){const t=e.url,r=e.offerID,a=e.offerInfo;if(a&&this._publishDetectCouponActions(t,a),!this._touchIfToPopupNotification(e))return!1;const u=this.offersHandler.getOfferObject(r);if(!u)return!1;const I=u.ui_info,C=(void 0===I?{}:I).template_data,l=void 0===C?{}:C;return 0===Object.keys(l).length?(g.default.log("offer for popup-notification with empty template_data: ",u),!1):(this._publishPopupPushEvent({products:{ghostery:"CH80"===i.default.settings.channel,chip:"chip"===i.default.settings.OFFERS_BRAND,freundin:"freundin"===i.default.settings.OFFERS_BRAND,incent:"incent"===i.default.settings.OFFERS_BRAND,cliqz:n.isCliqzBrowser,amo:n.isAMO},key:(0,s.getGeneralDomain)(t),url:t,templateData:l,offerInfo:a,attrs:{landing:new o.default(u).getMonitorPatterns(A.LANDING_MONITOR_TYPE)}}),!0)}onPopupPop(e){const t=e.target,r=e.data,n=void 0===r?{}:r,i=n.ok,s=n.url,o=n.back,a=n.type;if("offers-v2"!==t)return;const g=i?"coupon_autofill_field_apply_action":{cancel:"coupon_autofill_field_cancel_action",x:"coupon_autofill_field_x_action",outside:"coupon_autofill_field_outside_action"}[a]||"coupon_autofill_field_unknown";this._couponFormUsed({url:s,offerInfo:o,couponValue:g}),"coupon_autofill_field_apply_action"===g&&this._onCouponActivity({type:g,url:s,offerInfo:o})}onPopupLog(e){const t=e.target,r=e.data,n=void 0===r?{}:r,i=n.url,s=n.back,o=n.type,a=n.ok;if("offers-v2"!==t)return;const g=I({"pre-show":["coupon_autofill_field_failed",!1],"copy-code":["coupon_autofill_field_copy_code",!0],show:["coupon_autofill_field_show",!0]}[o]||["coupon_autofill_field_unknown",!0],2),A=g[0];g[1]===a&&this._couponFormUsed({url:i,offerInfo:s,couponValue:A}),"pre-show"===o&&this._onCouponActivity({type:"popnot_pre_show",url:i,couponValue:a,offerInfo:s})}couponFormUsed(e){return this._onCouponActivity(e)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=u(r(29)),i=u(r(39)),s=r(73),o=u(r(235)),a=u(r(33)),g=r(91),A=u(r(176));function u(e){return e&&e.__esModule?e:{default:e}}t.default=class{constructor(){this.urlChangeCbs=new Map,this.httpReqCbs=new Map,this.onTabLocChanged=this.onTabLocChanged.bind(this),i.default.sub("content:location-change",this.onTabLocChanged),this.webRequestPipeline=a.default.module("webrequest-pipeline"),this.webrequestPipelineCallback=this.webrequestPipelineCallback.bind(this),this.requestListenerAdded=!1;this.notAllowedUrls=RegExp("admin|login|logout|^https?://localhost|^https?://(\\d+\\.){3}\\d+|\\.(dev|foo)\\b|\\bgoogle\\.[^/]+/url\\?","i"),this.tabToLastUrl=new A.default(16)}destroy(){i.default.un_sub("content:location-change",this.onTabLocChanged),this._unsubscribeFromWebrequestPipeline()}subscribeUrlChange(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.urlChangeCbs.set(e,t)}unsubscribeUrlChange(e){this.urlChangeCbs.delete(e)}subscribeHttpReq(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return this.httpReqCbs.has(t)||this.httpReqCbs.set(t,new Map),this._subscribeToWebrequestPipeline(),!this.httpReqCbs.get(t).has(e)&&(this.httpReqCbs.get(t).set(e,r),!0)}unsubscribeHttpReq(e,t){this.httpReqCbs.has(t)&&(this.httpReqCbs.get(t).delete(e),0===this.httpReqCbs.get(t).size&&this.httpReqCbs.delete(t),0===this._countWebrequestSubscribers()&&this._unsubscribeFromWebrequestPipeline())}isHttpReqDomainSubscribed(e,t){return this.httpReqCbs.has(t)&&this.httpReqCbs.get(t).has(e)}getWebrequestPipeline(){return this.webRequestPipeline}onTabLocChanged(e){if(n.default.info("onTabLocChanged:",e.url),e.isPrivate)return void n.default.info("window is private skipping: onTabLocChanged");if(e.isSameDocument&&e.url===e.triggeringUrl)return void n.default.info("document reload skipping 1: onTabLocChanged",e.url);if(!e.url||0===e.url.length)return;this.tabToLastUrl.get(e.tabId)!==e.url?(this.tabToLastUrl.set(e.tabId,e.url),this.onLocationChangeHandler(e.url,e.referrer,e.tabId)):n.default.info("document reload skipping 2: onTabLocChanged",e.url)}onLocationChangeHandler(e,t,r){if(!e||!e.startsWith("http://")&&!e.startsWith("https://")||this.notAllowedUrls.test(e))return;let i=null;if(t){i=(0,s.getDetailsFromUrl)(t).name}const a=new o.default(e,i,r);try{this._publish(this.urlChangeCbs,a)}catch(e){n.default.error("Exception caught when processing a new event: ",e)}}webrequestPipelineCallback(e){const t=e.url;if(!t||!t.startsWith("http://")&&!t.startsWith("https://")||e.isPrivate||200!==e.statusCode)return;const r=new o.default(t),n=r.getDomain();this.httpReqCbs.has(n)&&this._publish(this.httpReqCbs.get(n),{url_data:r})}_publish(e,t){e.forEach((e,r)=>{(0,g.nextTick)(()=>{try{r(t,e)}catch(e){n.default.error("Error on publishing an event:",e)}})})}_subscribeToWebrequestPipeline(){this.requestListenerAdded||(this.requestListenerAdded=!0,this.webRequestPipeline.action("addPipelineStep","onCompleted",{name:"offers-evt-handler",spec:"collect",fn:this.webrequestPipelineCallback}))}_unsubscribeFromWebrequestPipeline(){this.requestListenerAdded&&(this.requestListenerAdded=!1,this.webRequestPipeline.action("removePipelineStep","onCompleted","offers-evt-handler"))}_countWebrequestSubscribers(){let e=0;return this.httpReqCbs.forEach(t=>{e+=t.size}),e}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(r(103)),i=a(r(176)),s=a(r(206)),o=a(r(29));function a(e){return e&&e.__esModule?e:{default:e}}function g(e,t,r,n,i,s,o){try{var a=e[s](o),g=a.value}catch(e){return void r(e)}a.done?t(g):Promise.resolve(g).then(n,i)}function A(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var s=e.apply(t,r);function o(e){g(s,n,i,o,a,"next",e)}function a(e){g(s,n,i,o,a,"throw",e)}o(void 0)}))}}function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function I(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(r,!0).forEach((function(t){C(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function C(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const l="offers-shop-reminder",c=24,d=["open","close","minimize"],h=1,f=45,p=15;class m{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};C(this,"state","new"),C(this,"updated",Date.now()),C(this,"actionsTS",{}),C(this,"offerId",""),Object.keys(e).forEach(t=>{void 0!==e[t]&&(this[t]=e[t])}),void 0!==e.actionsTS&&(this.actionsTS=I({},e.actionsTS))}}t.default=class{constructor(e){let t=e.store,r=e.db;this.store=t||new i.default(c),this.db=r?new s.default(r):null}init(){var e=this;return A((function*(){try{const t=yield e.db.get(l),r=JSON.parse((t||{}).store||"{}");Object.keys(r).forEach(t=>e.store.set(t,r[t]))}catch(t){o.default.warn("ShopReminder: init failed, fallback to in-memory store, e: ",t),e.store=new i.default(c)}}))()}unload(){this.db=null,this.store=null}add(e,t){this._save(e,new m({offerId:t}))}receive(e,t){if(!d.includes(t))return;const r=this.store.get(e);if(!r)return;const n=I({},r.actionsTS,{[t]:Date.now()}),i=this._calcUpdated(r),s=new m(I({},r,{state:t,updated:i,actionsTS:n}));this._save(e,s)}notification(e){const t=this.store.get(e);if(!t)return[!1,null];if(t.updated<(0,n.default)().subtract(h,"days").valueOf())return[!1,null];if("close"===t.state&&t.actionsTS.close>(0,n.default)().subtract(f,"minutes").valueOf())return[!1,null];const r=t.state,i="close"===t.state?"minimize":t.state;return r===i?[!0,new m(t)]:(t.state=i,this._save(e,t),[!0,new m(t)])}_save(e,t){var r=this;return A((function*(){r.store.set(e,t);try{const e={};r.store.toMap().forEach((t,r)=>{e[r]=t}),yield r.db.upsert(l,{store:JSON.stringify(e)})}catch(e){o.default.warn("ShopReminder: db _save failed, fallback to in-memory store, e: ",e)}}))()}_calcUpdated(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=e.updated-(0,n.default)().subtract(h,"days").valueOf();return t>0&&t<60*p*1e3?e.updated+60*p*1e3:e.updated}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=o(r(113)),i=o(r(29)),s=r(349);function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t,r,n,i,s,o){try{var a=e[s](o),g=a.value}catch(e){return void r(e)}a.done?t(g):Promise.resolve(g).then(n,i)}function g(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var s=e.apply(t,r);function o(e){a(s,n,i,o,g,"next",e)}function g(e){a(s,n,i,o,g,"throw",e)}o(void 0)}))}}const A="offers-patterns-stat",u="offers-patterns-stat-v2",I={views:"++id"};t.default=class{static scenario11(){var e=this;return g((function*(){yield e.dropDb2(),yield e.lifecycleLast()}))()}static scenario10(){var e=this;return g((function*(){yield e.dropDb2(),yield e.lifecycleLast(),yield e.lifecycleLast()}))()}static scenario9(){var e=this;return g((function*(){yield e.dropDb2(),yield e.lifecycle4(),yield e.lifecycle5()}))()}static scenario8(){var e=this;return g((function*(){yield e.dropDb2(),yield e.lifecycle1(),yield e.lifecycle5()}))()}static scenario7(){var e=this;return g((function*(){yield e.lifecycle3(),yield e.lifecycle4()}))()}static scenario6(){var e=this;return g((function*(){yield e.lifecycle2(),yield e.lifecycle4()}))()}static scenario5(){var e=this;return g((function*(){yield e.lifecycle1(),yield e.lifecycle4()}))()}static scenario4(){var e=this;return g((function*(){yield e.lifecycle2(),yield e.lifecycle3(2),yield e.lifecycle4()}))()}static scenario3(){var e=this;return g((function*(){yield e.lifecycle1(),yield e.lifecycle3(),yield e.lifecycle4()}))()}static scenario2(){var e=this;return g((function*(){yield e.lifecycle1(),yield e.lifecycle2(4),yield e.lifecycle4()}))()}static scenario1(){var e=this;return g((function*(){yield e.lifecycle1(),yield e.lifecycle2(4),yield e.lifecycle3(),yield e.lifecycle4()}))()}static lifecycleLast(){var e=this;return g((function*(){return e.lifecycle5()}))()}static lifecycle5(){var e=this;return g((function*(){const t=yield e.releaseLast();yield t.add("offer_ca_action",{campaignId:"fakeId-release5"}),yield t.add("offer_closed",{campaignId:"fakeId-release5"});const r=yield t.moveAll("offer_closed");1!==r.length?i.default.error("lifecycle5 failed"):i.default.warn("OK: we have data:",r),t.destroy()}))()}static lifecycle4(){var e=this;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return g((function*(){const r=yield e.release4(),n=yield e.add(r,"offer_triggered",{campaignId:"fakeId-release4"}),s=yield e.clear(r,"landing"),o=n.concat(s);o.length!==t?i.default.error("lifecycle4 failed",o):t&&i.default.warn("OK: catching errors:",o),r.close()}))()}static lifecycle3(){var e=this;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return g((function*(){const r=yield e.release3(),n=yield e.add(r,"landing",{campaignId:"fakeId-release3"}),s=yield e.clear(r,"landing"),o=n.concat(s);o.length!==t?i.default.error("lifecycle3 failed",o):t&&i.default.warn("OK: catching errors:",o),r.close()}))()}static lifecycle2(){var e=this;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return g((function*(){const r=yield e.release2(),n=yield e.add(r,"landing",{campaignId:"fakeId-release2"}),s=yield e.add(r,"offer_triggered",{campaignId:"fakeId-relesase2"}),o=yield e.clear(r,"offer_triggered"),a=yield e.clear(r,"landing"),g=n.concat(s).concat(o).concat(a);g.length!==t?i.default.error("lifecycle2 failed",g):t&&i.default.warn("OK: catching errors:",g),r.close()}))()}static lifecycle1(){var e=this;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return g((function*(){const r=yield e.release1(),n=yield e.add(r,"views",{campaignId:"fakeId-release1"}),s=yield e.clear(r,"views"),o=n.concat(s);o.length!==t?i.default.error("lifecycle1 failed",o):t&&i.default.warn("OK: catching errors:",o),r.close()}))()}static init(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A;return g((function*(){const t=yield(0,n.default)();return yield new t(e)}))()}static dropDb2(){return g((function*(){const e=yield(0,n.default)();yield e.delete(u)}))()}static release1(){var e=this;return g((function*(){const t=yield e.init();return t.version(1).stores(I),t}))()}static release2(){var e=this;return g((function*(){const t=yield e.init();return t.version(1).stores(s.dexieSchemaV2),t}))()}static release3(){var e=this;return g((function*(){const t=yield e.init();return t.version(1).stores(I),t.version(2).stores(s.dexieSchemaV2),t}))()}static release4(){var e=this;return g((function*(){const t=yield e.init(u);return t.version(1).stores(s.dexieSchemaV2),t}))()}static release5(){var e=this;return g((function*(){const t=yield e.init(u);return t.version(1).stores(s.dexieSchemaV2),t.version(3).stores(s.dexieSchemaLast),t}))()}static releaseLast(){return g((function*(){const e=new s.PatternsStat(String,{on:()=>{},unsubscribe:()=>{}});return yield e.init(),e}))()}static add(e,t,r){return g((function*(){const n=[];return yield e,yield e[t].add(r).catch(e=>n.push([t,e.message,"add",r])),n}))()}static clear(e,t){return g((function*(){const r=[];return yield e,yield e[t].clear().catch(e=>r.push([t,e.message,"clear"])),r}))()}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=g(r(206)),i=g(r(149)),s=g(r(92)),o=g(r(29)),a=g(r(582));function g(e){return e&&e.__esModule?e:{default:e}}function A(e,t,r,n,i,s,o){try{var a=e[s](o),g=a.value}catch(e){return void r(e)}a.done?t(g):Promise.resolve(g).then(n,i)}function u(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var s=e.apply(t,r);function o(e){A(s,n,i,o,a,"next",e)}function a(e){A(s,n,i,o,a,"throw",e)}o(void 0)}))}}class I extends i.default{constructor(e){super("chipde"),this.suspendedDomains=e}process(e,t){let r=t.urlData,n=t.offerIsFilteredOutCb;const i=r.getGeneralDomain(),o=this.suspendedDomains.get(i);if(o){if(!(Date.now()>o))return e.forEach(e=>n(e,s.default.AID_OFFER_FILTERED_CHIPDE_SUSPEND_LIST)),Promise.resolve([]);this.suspendedDomains.delete(i)}return Promise.resolve(e)}}t.default=class{constructor(e,t){this.db=new n.default(e),this.onRedirectTarget=this.onRedirectTarget.bind(this),this.redirectTagger=new a.default(t,this.onRedirectTarget),this.suspendedDomains=new Map}init(){var e=this;return u((function*(){yield e.redirectTagger.init(),e.suspendedDomains.clear();const t=yield e.db.get("chipde-suspend-domains");if(t&&t.data)try{new Map(JSON.parse(t.data)).forEach((t,r)=>e.suspendedDomains.set(r,t))}catch(e){o.default.warn("chipdeHandler: can not load suspended domains:",e)}e.suspendedDomains.set("chip.de",Date.now()+864e8)}))()}unload(){var e=this;return u((function*(){yield e.saveSites(),yield e.redirectTagger.unload()}))()}saveSites(){var e=this;return u((function*(){const t=JSON.stringify([...e.suspendedDomains]);yield e.db.upsert("chipde-suspend-domains",{data:t})}))()}onRedirectTarget(e){this.suspendedDomains.set(e,Date.now()+864e5),this.saveSites()}getOffersJobFilter(){return new I(this.suspendedDomains)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(102);t.default=class{constructor(e,t){this.pipeline=e,this.onFinalDomain=t,this.onRequest=this.onRequest.bind(this),this.referrers=new Map}init(){this.referrers.clear(),this.pipeline.action("addPipelineStep","onHeadersReceived",{name:"offers-chipde-redirect-handler",spec:"collect",fn:this.onRequest})}unload(){this.pipeline.action("removePipelineStep","onHeadersReceived","offers-chipde-redirect-handler")}onRequest(e){if("main_frame"!==e.type)return!0;const t=e.url;if(!this.referrers.has(t)){if("x.chip.de"!==e.urlParts.hostname)return!0}if(!e.statusCode||e.statusCode<300||e.statusCode>=400)return this.onFinalPage(e.url),!0;const r=e.getResponseHeader("Location");if(!r)return!0;if(r.startsWith("http://")||r.startsWith("https://"))this.onRedirect(t,r);else{const n=r.startsWith("/")?"":"/",i=`${e.urlParts.protocol}//${e.urlParts.hostname}${n}${r}`;this.onRedirect(t,i)}return!0}onRedirect(e,t){this.referrers.set(t,e),t.startsWith("http:")&&this.referrers.set(`https:${t.substring(5)}`,e)}onFinalPage(e){const t=(0,n.getGeneralDomain)(e);t&&this.onFinalDomain(t);let r=e;for(;r;){const e=this.referrers.get(r);this.referrers.delete(r),r=e}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=I(r(85)),i=I(r(33)),s=I(r(289)),o=I(r(584)),a=I(r(350)),g=function(e){if(e&&e.__esModule)return e;var t=u();if(t&&t.has(e))return t.get(e);var r={};if(null!=e){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var s=n?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(r,i,s):r[i]=e[i]}}r.default=e,t&&t.set(e,r);return r}(r(290)),A=r(73);function u(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return u=function(){return e},e}function I(e){return e&&e.__esModule?e:{default:e}}function C(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?C(r,!0).forEach((function(t){c(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d(e,t,r,n,i,s,o){try{var a=e[s](o),g=a.value}catch(e){return void r(e)}a.done?t(g):Promise.resolve(g).then(n,i)}function h(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var s=e.apply(t,r);function o(e){d(s,n,i,o,a,"next",e)}function a(e){d(s,n,i,o,a,"throw",e)}o(void 0)}))}}function f(e){return e.startsWith("http://")||e.startsWith("https://")||e.startsWith("ws://")||e.startsWith("wss://")}var p=(0,n.default)({humanWeb:i.default.module("human-web"),webRequestPipeline:i.default.module("webrequest-pipeline"),requiresServices:["domainInfo","pacemaker"],adblocker:null,shallowInit(){var e=this;return h((function*(){null===e.adblocker&&!1!==g.default.enabled&&(e.adblocker=new o.default(e.webRequestPipeline),e.adblocker.init().then(()=>{!1===g.default.enabled&&null!==e.adblocker&&e.adblocker.unload()}))}))()},init(){var e=this;return h((function*(){yield e.shallowInit()}))()},shallowUnload(){null!==this.adblocker&&(this.adblocker.unload(),this.adblocker=null)},unload(){this.shallowUnload()},currentWindowStatus(e){let t=e.id,r=e.url;if(!1===g.default.abtestEnabled)return;let n=!1,i=!1;if((0,A.isUrl)(r)&&null!==this.adblocker){n=this.adblocker.whitelist.getState(r).hostname}const s=null!==this.adblocker?this.adblocker.stats.report(t):{totalCount:0,advertisersList:{},advertisersInfo:{}},o=null!==this.adblocker;let a,u;return i=!o&&!n,a=o?n?"off":"active":"off",n?u="off_domain":i&&(u="off_all"),{visible:!0,enabled:o&&!n&&!i,optimized:g.default.strictMode,disabledForDomain:n,disabledEverywhere:i,totalCount:s.totalCount,advertisersList:s.advertisersList,advertisersInfo:s.advertisersInfo,state:a,off_state:u}},isAdblockerReady(){return null!==this.adblocker&&this.adblocker.isReady()},logActionHW(e,t,r){const n=this.humanWeb.action("isProcessingUrl",e);n.catch(()=>{s.default.log("no humanweb -> black/whitelist will not be logged")}),n.then(e=>e?Promise.resolve():Promise.reject()).then(()=>{const n={};return n[t]=r,this.humanWeb.action("addDataToUrl",e,"adblocker_blacklist",n)},()=>s.default.log("url does not exist in hw"))},events:{"control-center:adb-optimized":function(e){g.default.strictMode=e},"control-center:adb-activator":function(e){null!==this.adblocker&&(s.default.log("Clear url from whitelist",e.url),this.adblocker.whitelist.clearState(e.url)),"active"===e.state?(s.default.log("Turn adblocker ON"),g.default.enabled=!0):"off_all"===e.state?(s.default.log("Turn adblocker OFF: all sites"),g.default.enabled=!1):"off_domain"===e.state&&(s.default.log("Turn adblocker OFF: domain"),g.default.enabled=!0,this.adblocker.whitelist.changeState(e.url,"generalDomain","add"),this.logActionHW(e.url,"hostname","add"))},prefchange(e){var t=this;return h((function*(){e===g.ADB_PREF_STRICT?(s.default.log("Strict mode pref changed: reset"),null!==t.adblocker&&(yield t.adblocker.reset())):e===g.ADB_USER_LANG?null!==t.adblocker&&(s.default.log("Regions override pref changed: update"),yield t.adblocker.update()):e===g.ADB_PREF&&(null===t.adblocker&&g.default.enabled?(s.default.log("Adblocker pref switched: init"),yield t.shallowInit()):null!==t.adblocker&&!1===g.default.enabled&&(s.default.log("Adblocker pref switched: unload"),t.shallowUnload()))}))()}},actions:{getCosmeticsFilters(e,t){if(!1===this.isAdblockerReady())return{active:!1};const r=t.tab.url,n=t.url;return!1===f(r)||!1===f(n)||!1===this.adblocker.isAdblockerEnabledForUrl(r)?{active:!1}:new Promise(r=>{this.adblocker.manager.engine.onRuntimeMessage(l({action:"getCosmeticsFilters"},e),t,r)})},getAdBlockInfoForTab(e){return null===this.adblocker?{}:this.adblocker.stats.report(e)},getGhosteryStats(e){return null===this.adblocker?{bugs:{},others:{}}:this.adblocker.stats.reportTrackers(e)},isWhitelisted(e){return null!==this.adblocker&&this.adblocker.whitelist.isWhitelisted(e)},addWhiteListCheck(e){null!==this.adblocker&&this.adblocker.addWhiteListCheck(e)},isEnabled(){return null!==this.adblocker},status(){var e=this;return h((function*(){return l({},g.default.status,{regions:(0,a.default)(),enabled:null!==e.adblocker,ready:e.isAdblockerReady()},null!==e.adblocker&&(yield e.adblocker.manager.status()),{whitelist:null===e.adblocker?[]:[...e.adblocker.whitelist.whitelist].map(e=>e.slice(2))})}))()}}});t.default=p},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=g(r(159)),i=r(33),s=g(r(336)),o=g(r(585)),a=g(r(586));function g(e){return e&&e.__esModule?e:{default:e}}function A(e,t,r,n,i,s,o){try{var a=e[s](o),g=a.value}catch(e){return void r(e)}a.done?t(g):Promise.resolve(g).then(n,i)}function u(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var s=e.apply(t,r);function o(e){A(s,n,i,o,a,"next",e)}function a(e){A(s,n,i,o,a,"throw",e)}o(void 0)}))}}function I(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.tabId,r=e.requestId,i=e.type,s=e.url,o=void 0===s?"":s,a=e.urlParts,g=e.frameUrl,A=e.frameUrlParts;return new n.default.Request({tabId:t,requestId:r,type:i,domain:a.generalDomain||"",hostname:a.hostname||"",url:o,sourceDomain:A.generalDomain||"",sourceHostname:A.hostname||"",sourceUrl:g||""})}t.default=class{constructor(e){this.webRequestPipeline=e,this.whitelistChecks=[],this.whitelist=new s.default("adb-blacklist"),this.stats=new o.default,this.manager=new a.default}init(){var e=this;return u((function*(){yield e.manager.init(),yield Promise.all([e.stats.init(),e.whitelist.init(),e.webRequestPipeline.action("addPipelineStep","onBeforeRequest",{name:"adblocker",spec:"blocking",fn:(t,r)=>{e.onBeforeRequest(t,r)},before:["antitracking.onBeforeRequest"]}),e.webRequestPipeline.action("addPipelineStep","onHeadersReceived",{name:"adblocker",spec:"blocking",fn:(t,r)=>{e.onHeadersReceived(t,r)}})])}))()}unload(){this.stats.unload(),this.manager.unload(),(0,i.ifModuleEnabled)(this.webRequestPipeline.action("removePipelineStep","onBeforeRequest","adblocker")),(0,i.ifModuleEnabled)(this.webRequestPipeline.action("removePipelineStep","onHeadersReceived","adblocker"))}reset(){var e=this;return u((function*(){yield e.manager.reset(),yield e.manager.update()}))()}update(){var e=this;return u((function*(){yield e.manager.update()}))()}isReady(){return this.manager.isEngineReady()}addWhiteListCheck(e){this.whitelistChecks.push(e)}isAdblockerEnabledForUrl(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!1===this.isReady())return!1;if(this.whitelist.isWhitelisted(e,t,r))return!1;if(0===this.addWhiteListCheck.length)return!0;for(let t=0;t<this.whitelistChecks.length;t+=1)if(!0===this.whitelistChecks[t](e))return!1;return!0}shouldProcessRequest(e,t){return!e.isBackgroundRequest()&&(!0!==t.cancel&&void 0===t.redirectUrl&&(null!==e.urlParts&&null!==e.frameUrlParts&&(!e.tabUrl||null===e.tabUrlParts||!1!==this.isAdblockerEnabledForUrl(e.tabUrl,e.tabUrlParts.hostname,e.tabUrlParts.generalDomain))))}onBeforeRequest(e,t){if(!1===this.shouldProcessRequest(e,t))return!1;if(e.isMainFrame)return this.stats.addNewPage(e),this.manager.engine.performHTMLFiltering(I(e)),!1;const r=I(e),n=this.manager.engine.match(r),i=n.match,s=n.redirect;let o=!0;return void 0!==s?(this.stats.addBlockedUrl(e),t.redirectTo(s.dataUrl),o=!1):!0===i&&(this.stats.addBlockedUrl(e),t.block(),o=!1),o}onHeadersReceived(e,t){if(!1===e.isMainFrame)return!1;if(!1===this.shouldProcessRequest(e,t))return!1;const r=this.manager.engine.getCSPDirectives(I(e));if(void 0!==r){const n="content-security-policy",i=e.getResponseHeader(n);t.modifyResponseHeader(n,void 0===i?r:`${i}; ${r}`)}return!0}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(173),i=A(r(200)),s=r(91),o=A(r(342)),a=A(r(39)),g=A(r(44));function A(e){return e&&e.__esModule?e:{default:e}}
/*!
 * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */const u="First party";class I{constructor(e){this.tabUrl=e.tabUrl,this.hostGD=e.tabUrlParts.generalDomain,this.blockedRequests=[],this._counter=new o.default,this._count=0,this._blocked=new Map,this._blockedDomains=new Set,this._blockedInfo={}}get count(){return this.processBlockedRequests(),this._count}get blocked(){return this.processBlockedRequests(),this._blocked}get blockedDomains(){return this.processBlockedRequests(),this._blockedDomains}get blockedInfo(){return this.processBlockedRequests(),this._blockedInfo}get counter(){return this.processBlockedRequests(),this._counter}addBlockedUrl(e){this.blockedRequests.push({url:e.url,hostname:e.urlParts.hostname,domain:e.urlParts.generalDomain,ghosteryBug:e.ghosteryBug})}processBlockedRequests(){if(0!==this.blockedRequests.length){for(let e=0;e<this.blockedRequests.length;e+=1){const t=this.blockedRequests[e],r=t.url,n=t.hostname,s=t.domain,o=t.ghosteryBug;let a;if(this._blockedDomains.add(s),this._counter.addAdBlocked(o,n),s===this.hostGD)a=u;else{const e=i.default.getDomainOwner(s);a=e.name,this._blockedInfo[a]=e}this._blocked.has(a)?(this._blocked.get(a).has(r)||(this._count+=1),this._blocked.get(a).add(r)):(this._blocked.set(a,new Set([r])),this._count+=1)}this.blockedRequests=[]}}report(){const e={};return this.blocked.forEach((t,r)=>{e[r]=[...t]}),{totalCount:this.count,advertisersList:e,advertisersInfo:this.blockedInfo}}reportTrackers(){const e=this.counter.getSummary();return this.blocked.has(u)&&(e.firstPartyAds=this.blocked.get("First party").size),e}}t.default=class{constructor(){this.tabs=new Map,this.clearInterval=null}init(){this.clearInterval=g.default.everyFewMinutes(()=>{this.clearStats()})}unload(){g.default.clearTimeout(this.clearInterval)}addBlockedUrl(e){let t=this.tabs.get(e.tabId);void 0===t&&(t=this.addNewPage(e)),e.tabUrl!==t.tabUrl&&(t=this.addNewPage(e)),t.addBlockedUrl(e)}addNewPage(e){const t=this.tabs.get(e.tabId);void 0!==t&&(0,s.nextTick)(()=>{a.default.pub("adblocker:tracker-report",{tabId:e.tabId,url:t.tabUrl,host:t.hostGD,report:t.reportTrackers()})});const r=new I(e);return this.tabs.set(e.tabId,r),r}report(e){return this.tabs.has(e)?this.tabs.get(e).report():{totalCount:0,advertisersList:{},advertisersInfo:{}}}reportTrackers(e){return this.tabs.has(e)?this.tabs.get(e).reportTrackers():{bugs:{},others:{}}}clearStats(){const e=[];return this.tabs.forEach((t,r)=>{e.push((0,n.checkIsWindowActive)(r).then(e=>{e&&this.tabs.delete(r)}))}),Promise.all(e)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=I(r(159)),i=r(91),s=I(r(44)),o=r(68),a=I(r(345)),g=I(r(289)),A=I(r(290)),u=I(r(350));function I(e){return e&&e.__esModule?e:{default:e}}function C(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var r=[],n=!0,i=!1,s=void 0;try{for(var o,a=e[Symbol.iterator]();!(n=(o=a.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){i=!0,s=e}finally{try{n||null==a.return||a.return()}finally{if(i)throw s}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d(e,t,r,n,i,s,o){try{var a=e[s](o),g=a.value}catch(e){return void r(e)}a.done?t(g):Promise.resolve(g).then(n,i)}function h(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var s=e.apply(t,r);function o(e){d(s,n,i,o,a,"next",e)}function a(e){d(s,n,i,o,a,"throw",e)}o(void 0)}))}}t.default=class{constructor(){this.db=null,this.allowedLists=null,this.engine=null,this.updateInterval=null,this.lastUpdate=null,this.engineSerializedSize=null,this.logs=[]}log(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this.logs.push(`${(new Date).toLocaleTimeString()}: ${t.join(" ")}`),g.default.log(...t)}stopwatch(e){const t=Date.now();return{stop:()=>{const r=Date.now()-t;this.log(`${e} - ${r} ms`)}}}init(){var e=this;return h((function*(){e.log("engine manager: init");const t=yield(0,a.default)();e.db=new t("cliqz-adb"),yield e.db.init(),yield e.load(),(0,i.nextIdle)().then(()=>(e.log("start update interval (idle)"),e.update())).then(()=>{e.updateInterval=s.default.everyHour(()=>e.update())})}))()}unload(){this.log("engine manager: unload"),null!==this.db&&(this.db.unload(),this.db=null),s.default.clearTimeout(this.updateInterval),this.updateInterval=null}isEngineReady(){return null!==this.engine}getAllowedLists(){var e=this;return h((function*(){return null===e.allowedLists&&(yield e.updateAllowedLists()),e.allowedLists}))()}updateAllowedLists(){var e=this;return h((function*(){return e.log("update allowed lists from CDN",A.default.allowedListsUrl),e.allowedLists=yield(0,o.fetchJSON)(A.default.allowedListsUrl),e.allowedLists}))()}getAvailableRegions(){var e=this;return h((function*(){const t=yield e.getAllowedLists();if(!t)return[];const r=[];for(var n=0,i=Object.values(t.lists);n<i.length;n++){const e=i[n];e.lang&&r.push(...e.lang.split(/\s+/g))}return[...new Set(r)]}))()}getListsStatus(){var e=this;return h((function*(){return null===e.engine?[]:[...e.engine.lists.keys()]}))()}status(){var e=this;return h((function*(){return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(r,!0).forEach((function(t){c(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({availableRegions:yield e.getAvailableRegions(),lists:yield e.getListsStatus(),lastUpdate:e.lastUpdate,engineSerializedSize:`${(e.engineSerializedSize/1e6).toFixed(1)} MB`},null!==e.engine&&e.engine.config,{logs:e.logs})}))()}load(){var e=this;return h((function*(){return e.log("engine manager: load"),null===e.engine&&(e.engine=yield e.fetchFromCache()),null===e.engine&&(e.engine=yield e.fetchFromCDN()),null===e.engine&&(e.engine=new n.default.WebExtensionBlocker),e.engine}))()}clearCache(){var e=this;return h((function*(){yield e.db.delete("engine")}))()}reset(){var e=this;return h((function*(){return e.log("engine manager: reset"),e.engine=null,e.allowedLists=null,yield e.clearCache(),e.load()}))()}update(){var e=this;return h((function*(){e.lastUpdate=new Date,e.log("engine manager: update");const t=yield e.updateAllowedLists();null===e.engine&&(e.log("Trying to update when engine is not loaded: loading now"),yield e.load());const r=new Set((0,u.default)()),i=new Set;Object.entries(t.lists).forEach(e=>{let t=C(e,2),n=t[0],s=t[1].lang;(void 0===s||s.split(/\s+/g).some(e=>r.has(e)))&&i.add(n)}),e.log("enabled lists",i);let s=e.stopwatch("update engine (fetch + parse)","adblocker"),a=!1;var A=!0,I=!1,l=void 0;try{for(var c,d=e.engine.lists.entries()[Symbol.iterator]();!(A=(c=d.next()).done);A=!0){const r=C(c.value,2),n=r[0],s=r[1];if(!i.has(n)){e.log(`list will be removed: ${n}`),a=!0;break}if(t.lists[n].checksum!==s&&void 0===t.lists[n].diffs[s]){e.log(`list has no available diff: ${n}`),a=!0;break}}}catch(e){I=!0,l=e}finally{try{A||null==d.return||d.return()}finally{if(I)throw l}}!0===a&&(e.log("found lists to remove, resetting engine"),e.engine=yield e.reset());const f=[],p=function(){var t=h((function*(t){let r=t.name,i=t.checksum,s=t.url;try{f.push({added:Array.from(n.default.getLinesWithFilters(yield(0,o.fetchText)(s),e.engine.config))}),e.engine.lists.set(r,i)}catch(e){g.default.error(`Could not add list ${r}`,e)}}));return function(e){return t.apply(this,arguments)}}(),m=function(){var t=h((function*(t){let r=t.name,n=t.checksum,i=t.url;try{f.push(yield(0,o.fetchJSON)(i)),e.engine.lists.set(r,n)}catch(e){g.default.error(`Could not update list ${r}`,e)}}));return function(e){return t.apply(this,arguments)}}(),_=[];var y=!0,b=!1,v=void 0;try{for(var w,k=i[Symbol.iterator]();!(y=(w=k.next()).done);y=!0){const r=w.value,n=e.engine.lists.get(r);void 0===n?(e.log(`list will be added: ${r}`),_.push(p({name:r,checksum:t.lists[r].checksum,url:t.lists[r].url}))):n!==t.lists[r].checksum&&(e.log(`list will be updated: ${r}`),_.push(m({name:r,checksum:t.lists[r].checksum,url:t.lists[r].diffs[n]})))}}catch(e){b=!0,v=e}finally{try{y||null==k.return||k.return()}finally{if(b)throw v}}yield Promise.all(_),s.stop(),s=e.stopwatch("update engine (update)","adblocker");const M=n.default.mergeDiffs(f);let O=e.engine.updateFromDiff(M);if(s.stop(),!0===O?e.log("updated engine with:",{added:M.added.length,removed:M.removed.length}):e.log("no update was required"),e.engine.resources.checksum!==t.resources.checksum&&(e.log("updating resources.txt"),e.engine.updateResources(yield(0,o.fetchText)(t.resources.url),t.resources.checksum),O=!0),!0===O){s=e.stopwatch("persisting updated engine","adblocker");const t=e.engine.serialize();e.engineSerializedSize=t.byteLength,yield e.db.set("engine",t),s.stop()}return e.engine}))()}fetchFromCache(){var e=this;return h((function*(){e.log("engine manager: load from cache");let t=e.stopwatch("load typed array from cache","adblocker");const r=yield e.db.get("engine");if(t.stop(),r&&(e.engineSerializedSize=r.byteLength),void 0===r)e.log("no cached engine");else{t=e.stopwatch("deserialize engine from cache","adblocker");try{e.engine=n.default.WebExtensionBlocker.deserialize(r)}catch(t){return e.log("exception while loading cached engine",t),e.log("reseting local cache and recovering..."),e.log("this can happen whenever the adblocker is updated! If it happens again, please report an issue."),yield e.clearCache(),null}finally{t.stop()}}return e.engine}))()}fetchFromCDN(){var e=this;return h((function*(){e.log("engine manager: load from CDN");const t=(yield e.getAllowedLists()).engines[n.default.ENGINE_VERSION];if(void 0===t)return e.log(`Current version of the engine is not available from CDN: ${n.default.ENGINE_VERSION}`),yield e.clearCache(),null;let r=e.stopwatch("fetch engine from CDN","adblocker");const i=yield(0,o.fetchTypedArray)(t.url);r.stop(),r=e.stopwatch("deserialize remote engine","adblocker");try{e.engine=n.default.WebExtensionBlocker.deserialize(i)}catch(e){return g.default.error("exception while loading remote engine",e),null}finally{r.stop()}return r=e.stopwatch("persist remote engine","adblocker"),yield e.db.set("engine",i),r.stop(),e.engineSerializedSize=i.byteLength,e.engine}))()}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=h(r(85)),i=h(r(275)),s=h(r(230)),o=h(r(19)),a=r(314),g=r(84),A=h(r(33)),u=h(r(588)),I=h(r(628)),C=h(r(629)),l=h(r(630)),c=h(r(135)),d=r(207);function h(e){return e&&e.__esModule?e:{default:e}}function f(e,t,r,n,i,s,o){try{var a=e[s](o),g=a.value}catch(e){return void r(e)}a.done?t(g):Promise.resolve(g).then(n,i)}function p(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var s=e.apply(t,r);function o(e){f(s,n,i,o,a,"next",e)}function a(e){f(s,n,i,o,a,"throw",e)}o(void 0)}))}}const m="anolysisVersion",_=7,y=A.default.service("telemetry",["onTelemetryEnabled","onTelemetryDisabled","isEnabled","push","installProvider","uninstallProvider"]);function b(){return(b=p((function*(){const e=yield(0,i.default)(),t="mobile"===g.platformName?l.default:C.default,r=yield(0,I.default)({demographics:e,Storage:t});let n=new u.default(r);if(o.default.get(m,null)!==_&&(c.default.log("reset anolysis state because of update"),yield n.reset(),o.default.set(m,_),n=new u.default(r)),!(yield n.init()))throw y.push({type:"anolysis.health_check"}),yield n.handleTelemetrySignal({state:"broken"},"metrics.anolysis.health.storage",{force:!0}),new Error("Anolysis is not healthy");return n}))).apply(this,arguments)}var v=(0,n.default)({requiresServices:["cliqz-config","session","telemetry","pacemaker"],isBackgroundInitialized:!1,settings:null,anolysis:null,init(e){var t=this;return p((function*(){if(c.default.debug("init"),!t.isBackgroundInitialized)if(null!==(0,s.default)())if(t.settings=e,y.onTelemetryEnabled(t.actions.onTelemetryEnabled),y.onTelemetryDisabled(t.actions.onTelemetryDisabled),y.isEnabled()){t.isBackgroundInitialized=!0,y.push({type:"anolysis.start_init"});try{c.default.debug("instantiate Anolysis");const e=yield function(){return b.apply(this,arguments)}();if(t.anolysis||!t.isBackgroundInitialized||!y.isEnabled())return c.default.log("concurrent Anolysis init, aborting"),void e.unload();t.anolysis=e,c.default.debug("register Anolysis telemetryHandler"),t.telemetryProvider={name:"anolysis",send:(e,r)=>r?t.actions.handleTelemetrySignal(e,!1,r):Promise.resolve({error:"no schema"})},y.installProvider(t.telemetryProvider),c.default.debug("trigger aggregations"),t.anolysis.onNewDay(o.default.get("config_ts")),y.push({type:"anolysis.start_end"})}catch(e){c.default.error("Exception while init anolysis",e),t.unload(),y.push({type:"anolysis.start_exception",exception:`${e}`})}}else t.isBackgroundInitialized=!1;else c.default.warn("config_ts is not available. Anolysis initialization canceled")}))()},unload(){c.default.log("unloading"),this.isBackgroundInitialized=!1,y.uninstallProvider(this.telemetryProvider),this.anolysis&&(c.default.debug("unloading Anolysis"),this.anolysis.unload(),this.anolysis=null)},isAnolysisInitialized(){return this.isBackgroundInitialized&&this.anolysis&&this.anolysis.running},events:{prefchange(e){"config_ts"===e&&this.isAnolysisInitialized()&&this.anolysis.onNewDay(o.default.get("config_ts"))}},actions:{isAnolysisInitialized(){return this.isAnolysisInitialized()},getSignalDefinitions(){return[...this.anolysis.availableDefinitions.entries()]},handleTelemetrySignal(e,t,r){return this.isAnolysisInitialized()?(t&&r&&c.default.error('instantPush argument is ignored by anolysis, please specify "sendToBackend" this in signals\' schema'),this.anolysis.handleTelemetrySignal(e,r).catch(t=>{this.isAnolysisInitialized()?c.default.error("handleTelemetrySignal",t,e,r):c.default.debug("Sending message was dropped because Anolysis was stopped",t,e,r)})):Promise.reject(new Error(`Anolysis is disabled, ignoring: ${r} ${JSON.stringify(e)}`))},getDate:()=>(0,d.getSynchronizedDateFormatted)(),getGID(){return this.isAnolysisInitialized()?this.anolysis.gidManager.getGID():Promise.reject(new Error("Cannot call `getGID` when Anolysis is unloaded"))},getMetricsForDate(e){var t=this;return p((function*(){return t.isAnolysisInitialized()?(yield t.anolysis.storage.behavior.getTypesForDate(e)).toObj():Promise.reject(new Error("Cannot call `getMetricsForDate` when Anolysis is unloaded"))}))()},getLastGIDUpdateDate(){return this.isAnolysisInitialized()?this.anolysis.gidManager.getLastGIDUpdateDate():Promise.reject(new Error("Cannot call `getLastGIDUpdateDate` when Anolysis is unloaded"))},getDemographics:()=>(0,i.default)(),onTelemetryEnabled(){(0,a.shouldEnableModule)("anolysis")&&this.init(this.settings)},onTelemetryDisabled(){this.unload()}}});t.default=v},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=I(r(103)),i=I(r(44)),s=I(r(589)),o=I(r(591)),a=function(e){if(e&&e.__esModule)return e;var t=u();if(t&&t.has(e))return t.get(e);var r={};if(null!=e){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var s=n?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(r,i,s):r[i]=e[i]}}r.default=e,t&&t.set(e,r);return r}(r(207)),g=I(r(135)),A=I(r(594));function u(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return u=function(){return e},e}function I(e){return e&&e.__esModule?e:{default:e}}function C(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var r=[],n=!0,i=!1,s=void 0;try{for(var o,a=e[Symbol.iterator]();!(n=(o=a.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){i=!0,s=e}finally{try{n||null==a.return||a.return()}finally{if(i)throw s}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function l(e,t,r,n,i,s,o){try{var a=e[s](o),g=a.value}catch(e){return void r(e)}a.done?t(g):Promise.resolve(g).then(n,i)}function c(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var s=e.apply(t,r);function o(e){l(s,n,i,o,a,"next",e)}function a(e){l(s,n,i,o,a,"throw",e)}o(void 0)}))}}t.default=class{constructor(e){this.running=!1,this.currentDate=null,this._availableDefinitions=null,this.preprocessor=new s.default,this.config=e;const t=e.get("Storage");this.storage=new t,this.signalQueue=new o.default(e),this.isHealthy=!0}init(){var e=this;return c((function*(){try{yield e.storage.init(),yield e.storage.healthCheck()}catch(t){g.default.error("While initializing Anolysis storage",t);try{yield e.handleTelemetrySignal({context:"storage",exception:`${t}`},"metrics.anolysis.health.exception",{force:!0})}catch(e){g.default.debug("While trying to send exception metric",e)}e.isHealthy=!1}return e.isHealthy?(e.signalQueue.init(e.storage.signals),e.running=!0):e.unload(),e.isHealthy}))()}unload(){i.default.clearTimeout(this.runTasksTimeout),this.signalQueue.unload(),this.storage.unload(),this.running=!1}reset(){return this.storage.destroy()}get availableDefinitions(){return null===this._availableDefinitions&&(this._availableDefinitions=new Map(A.default.schemas.map(e=>[e.name,e]))),this._availableDefinitions}onNewDay(e){var t=this;return c((function*(){e!==t.currentDate&&(g.default.log("Generate aggregated signals (new day)",t.currentDate,e),t.currentDate=e,g.default.log("Run aggregation tasks"),yield t.runDailyTasks())}))()}runDailyTasks(){var e=this;return c((function*(){let t=0;const r=(0,a.default)(),n=(0,a.default)().subtract(30,"days");let s=r;for(;e.running&&n.isSameOrBefore(s,"day");){const r=s.format(a.DATE_FORMAT);try{yield e.runTasksForDay(r,t)}catch(e){g.default.error("Could not run tasks for day",r,e)}yield new Promise(t=>{e.runTasksTimeout=i.default.setTimeout(t,5e3)}),s=s.subtract(1,"days"),t+=1}}))()}runTasksForDay(e,t){var r=this;return c((function*(){let i=null,s=0;if(0!==t&&(s=(i=yield r.storage.behavior.getTypesForDate(e)).size),g.default.debug("generateSignals",{date:e,numberOfSignals:s,offset:t}),0===t||0!==s){const s=[...r.availableDefinitions.entries()];for(let o=0;o<s.length;o+=1){const A=C(s[o],2),u=A[0],I=A[1];if(I.shouldGenerateForOffset(t))try{yield r.storage.aggregated.runTaskAtMostOnce(e,u,c((function*(){g.default.debug("run task",u,t);const s=yield I.generate({date:e,dateMoment:(0,n.default)(e,a.DATE_FORMAT),records:i});yield Promise.all(s.map(t=>r.handleTelemetrySignal(t,u,{meta:{date:e}})))})))}catch(e){g.default.log("Could not generate signals for analysis:",u,e)}}}0!==t&&(yield r.storage.behavior.deleteByDate(e))}))()}handleTelemetrySignal(e,t){let r,n,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=i.meta,o=void 0===s?{}:s,a=i.force,A=void 0!==a&&a;return g.default.debug("handleTelemetrySignal",t,e,{force:A,meta:o}),void 0===t?(g.default.debug("Ignoring telemetry signal without schema",e),Promise.resolve()):void 0===(r=this.availableDefinitions.get(t))?(g.default.debug(`Telemetry schema ${t} was not found`),Promise.resolve()):(n=t,this.preprocessor.process(e,r,n).then(e=>{const t=void 0!==e.demographics,n=void 0===r,i=!n&&r.sendToBackend;if(t)return Promise.resolve();if(i&&!n){g.default.debug("Signal is sendToBackend",e);let t="";if(r.needsGid){const e=this.config.get("demographics");e&&(t=JSON.stringify(e))}return e.meta=o,e.meta.gid=t,e.meta.version=r.version,this.signalQueue.push(e,{force:A})}return this.storage.behavior.add(e)}))}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=o(r(19)),i=o(r(590)),s=o(r(135));function o(e){return e&&e.__esModule?e:{default:e}}
/*!
 * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */t.default=class{constructor(){this.isDev=n.default.get("developer",!1)}process(e,t,r){if(this.isDemographics(e))return Promise.resolve({demographics:null});if(void 0===t){const t=this.getId(e);if(void 0!==i.default[t]){const r=i.default[t](e);return Promise.resolve({type:r.type||t,behavior:r.behavior})}const r={};return Object.keys(e).filter(t=>!this.isObject(e[t])).filter(e=>"seq"!==e&&"ts"!==e&&"session"!==e).forEach(t=>{r[t]=e[t]}),Promise.resolve({type:t,behavior:r})}if(this.isDev&&t.sendToBackend){const n=t.validate(e),i=n.valid,o=n.errors;if(!i){s.default.error("Signal does not respect schema",r,e,o);const n=JSON.stringify(e,void 0,2),i=JSON.stringify(o,void 0,2),a=JSON.stringify(t.schema,void 0,2);return Promise.reject(new Error(`Signal could not be validated: got ${n} with errors: ${i} for schema: ${a}`))}}return Promise.resolve({type:r,behavior:e,meta:{}})}isObject(e){return null!==e&&"object"==typeof e}isDemographics(e){return"environment"===e.type}getId(e){let t=e.type,r=e.action,n=e.target,i="";return t&&(i=t,r&&(i=`${i}.${r}`,n&&(i=`${i}.${n}`))),i}}},function(e,t,r){"use strict";
/*!
 * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */
function n(e){const t=(e.position_type||[""])[0];return"inbar_url"===t?e.source||e.autocompleted?"autocomplete":"url":"inbar_query"===t?"query":"enter"}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={"activity.result_click":e=>({type:"result_selection_click",behavior:{current_position:e.current_position,query_length:e.query_length,reaction_time:e.reaction_time,display_time:e.display_time,urlbar_time:e.urlbar_time}}),"activity.result_enter":e=>({type:`result_selection_${n(e)}`,behavior:{current_position:e.current_position,query_length:e.query_length,reaction_time:e.reaction_time,display_time:e.display_time,urlbar_time:e.urlbar_time}})};t.default=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=o(r(44)),i=o(r(592)),s=o(r(135));function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t,r,n,i,s,o){try{var a=e[s](o),g=a.value}catch(e){return void r(e)}a.done?t(g):Promise.resolve(g).then(n,i)}function g(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var s=e.apply(t,r);function o(e){a(s,n,i,o,g,"next",e)}function g(e){a(s,n,i,o,g,"throw",e)}o(void 0)}))}}t.default=class{constructor(e){this.db=null,this.backend=new i.default(e),this.initialized=!1,this.interval=null,this.sleepTimeout=null,this.batchSize=e.get("signalQueue.batchSize"),this.sendInterval=e.get("signalQueue.sendInterval"),this.maxAttempts=e.get("signalQueue.maxAttempts"),this.failureTimeout=6e4}init(e){this.db=e,this.initialized=!0,this.startListening()}unload(){s.default.debug("unload signal queue"),this.initialized=!1,this.stopListening(),n.default.clearTimeout(this.sleepTimeout),this.sleepTimeout=null}getSize(){return this.db.getSize()}sleep(e){return new Promise(t=>{s.default.debug("signal queue sleeps for",e,"ms"),this.sleepTimeout=n.default.setTimeout(t,e)})}startListening(){var e=this;s.default.debug("signal queue start listening");let t=!1;this.interval=n.default.register(g((function*(){if(!1===t&&e.initialized){t=!0;try{yield e.processNextBatch(e.batchSize),e.failureTimeout=6e4}catch(t){if(e.initialized){s.default.debug("error while sending batch",t);const r=e.failureTimeout;e.failureTimeout*=5,yield e.sleep(r)}}finally{t=!1}}})),{timeout:this.sendInterval})}stopListening(){n.default.clearTimeout(this.interval),this.interval=null}sendSignal(e){var t=this;let r=e.signal,n=e.attempts,i=e.id,o=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).force,a=void 0!==o&&o;return g((function*(){if(!t.initialized&&!a)throw new Error("signal-queue has been unloaded, cancel message sending");s.default.debug("send signal",r,{force:a});try{yield t.backend.sendSignal(r),t.db&&void 0!==i&&void 0!==n&&(yield t.db.remove(i))}catch(e){const o=`failed to send signal with exception ${e} [${n}]`;throw t.db&&void 0!==i&&void 0!==n&&(n<t.maxAttempts?(yield t.db.remove(i),yield t.db.push(r,n+1),s.default.debug("update number of attemps of signal",r)):(yield t.db.remove(i),s.default.debug("removed failed signal",r))),new Error(o)}}))()}sendBatch(e){if(e&&e.length>0){const t=e[0];return this.sendSignal(t).then(()=>this.sendBatch(e.slice(1)))}return Promise.resolve()}getNextBatch(e){return this.db.getN(e).catch(e=>(s.default.error("signal-queue could not get next batch",e),[]))}processNextBatch(e){return this.getNextBatch(e).then(e=>this.sendBatch(e))}push(e){var t=this;let r=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).force,n=void 0!==r&&r;return g((function*(){try{yield t.db.push(e)}catch(r){s.default.log("Could not persist signal in queue, sending directly",r,e),e.meta.forcePushed=!0,yield t.sendSignal({signal:e},{force:n})}}))()}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=u(r(593)),i=r(225),s=u(r(19)),o=r(68),a=u(r(135)),g=function(e){if(e&&e.__esModule)return e;var t=A();if(t&&t.has(e))return t.get(e);var r={};if(null!=e){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var s=n?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(r,i,s):r[i]=e[i]}}r.default=e,t&&t.set(e,r);return r}(r(207));function A(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return A=function(){return e},e}function u(e){return e&&e.__esModule?e:{default:e}}function I(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function C(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?I(r,!0).forEach((function(t){l(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c(e,t,r,n,i,s,o){try{var a=e[s](o),g=a.value}catch(e){return void r(e)}a.done?t(g):Promise.resolve(g).then(n,i)}function d(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var s=e.apply(t,r);function o(e){c(s,n,i,o,a,"next",e)}function a(e){c(s,n,i,o,a,"throw",e)}o(void 0)}))}}function h(){return(h=d((function*(e,t){return new Promise((r,n)=>{(0,o.httpPost)(e,t=>{try{const e=JSON.parse(t.response);r(e)}catch(r){n(new Error(`Backend ${e} could not parse JSON: ${t.response}`))}},JSON.stringify(t),n,15e3)})}))).apply(this,arguments)}t.default=class{constructor(e){this.config=e,this.backendUrl=e.get("backend.url")}attachMetadata(e){return C({},e,{meta:C({},{session:this.config.get("session"),dev:!0===s.default.get("developer",!1),date:(0,g.default)().format(g.DATE_FORMAT),beta:(0,i.isBetaVersion)()},{},e.meta||{})})}sendSignal(e){if("wifi"!==n.default.type)return Promise.reject(new Error("Device is not connected to WiFi"));const t=this.attachMetadata(e);return a.default.debug("sendSignal",t),this.send("/collect",t)}send(e,t){var r=this;return d((function*(){return function(e,t){return h.apply(this,arguments)}(`${r.backendUrl}${e}`,t)}))()}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addConnectionChangeListener=function(){},t.removeConnectionChangeListener=function(){},t.default=void 0;t.default={type:"wifi"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=z(r(595)),i=z(r(135)),s=z(r(351)),o=z(r(597)),a=z(r(598)),g=z(r(352)),A=z(r(599)),u=z(r(600)),I=z(r(601)),C=z(r(291)),l=z(r(602)),c=z(r(603)),d=z(r(604)),h=z(r(354)),f=z(r(355)),p=z(r(605)),m=z(r(606)),_=z(r(607)),y=z(r(608)),b=z(r(356)),v=z(r(609)),w=z(r(610)),k=z(r(611)),M=z(r(612)),O=z(r(613)),S=z(r(614)),D=z(r(615)),T=z(r(357)),L=z(r(616)),E=z(r(617)),P=z(r(618)),x=z(r(619)),j=z(r(620)),R=z(r(621)),Y=z(r(622)),N=z(r(623)),U=z(r(624)),H=z(r(625)),F=z(r(626)),B=z(r(627));function z(e){return e&&e.__esModule?e:{default:e}}function W(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function G(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?W(r,!0).forEach((function(t){q(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):W(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function q(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const V=()=>[u.default,...A.default,...(0,s.default)(),...o.default,...a.default,...(0,g.default)(),...I.default,...c.default,...d.default,C.default,l.default,...h.default,...f.default,..._.default,p.default,m.default,...y.default,...b.default,...v.default].map(e=>G({},e,{description:e.description||"missing description",sendToBackend:e.sendToBackend||!1})),K=()=>[E.default,w.default,k.default,M.default,P.default,O.default,S.default,D.default,...(0,T.default)(),...L.default,...(0,x.default)(),...j.default,R.default,Y.default,...N.default,...(0,U.default)(),...H.default,F.default,B.default].map(e=>G({},e,{description:e.description||"missing description",sendToBackend:!0}));function Z(e){const t=[];for(let r=0;r<e.length;r+=1){const s=e[r],o=s.name;i.default.debug("Register definition",o),t.push(new n.default(s))}return t}var J=new class{constructor(){this._metrics=null,this._analyses=null}get metrics(){return null===this._metrics&&(this._metrics=Z(V())),this._metrics}get analyses(){return null===this._analyses&&(this._analyses=Z(K())),this._analyses}get schemas(){return[...this.metrics,...this.analyses]}};t.default=J},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(r(596)),i=s(r(135));function s(e){return e&&e.__esModule?e:{default:e}}
/*!
 * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */function o(e){if(!e||"object"!=typeof e)return e;const t={};let r=!1;return Object.keys(e).forEach(n=>{"properties"===n&&(r=!0);const i=e[n];Array.isArray(i)?t[n]=i.map(o):t[n]=null===i?i:"object"==typeof i?o(i):i}),r&&void 0===t.additionalProperties&&(t.additionalProperties=!1),r&&void 0===t.required&&(t.required=Object.keys(t.properties)),t}const a=function(e,t){const r=[];for(let n=e;n<=t;n+=1)r.push(n);return r}(1,30);t.default=class{constructor(e){let t=e.name,r=e.description,n=e.schema,i=e.sendToBackend,s=void 0!==i&&i,o=e.needsGid,g=void 0!==o&&o,A=e.version,u=void 0===A?null:A,I=e.offsets,C=void 0===I?a:I,l=e.generate;this.originalSchema=n,this._hardenedSchema=null,this.name=t,this.description=r,this.sendToBackend=s,this.needsGid=g,this.version=u,this.offsets=new Set(C),this.generate=l,this._validate=null}get schema(){if(null===this._hardenedSchema)try{this._hardenedSchema=this.sendToBackend?o(this.originalSchema):this.originalSchema}catch(e){i.default.error("failed to harden schema",{name:name,schema:this.originalSchema,sendToBackend:this.sendToBackend},e)}return this._hardenedSchema}validate(){if(null===this._validate){const e=new n.default;this._validate=e.compile(this.schema)}return{valid:this._validate(...arguments),errors:this._validate.errors}}shouldGenerateForOffset(e){return void 0!==this.generate&&this.offsets.has(e)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=
/*!
 * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */
class{compile(){return()=>!0}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=[{name:"metrics.favorites.migration.folders",schema:{required:["count","rootFolderCount","maxDepth"],properties:{count:{type:"integer",minimum:0},rootFolderCount:{type:"integer",minimum:0},maxDepth:{type:"integer",minimum:0}}}}]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i=(n=r(19))&&n.__esModule?n:{default:n};
/*!
 * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */
var s=[{name:"cookie-monster.cookieBatch",schema:{required:["count","existing","visited","deleted","modified","expired","localStorageDeleted"],properties:{count:{type:"number",minimum:0},existing:{type:"number",minimum:0},visited:{type:"number",minimum:0},deleted:{type:"number",minimum:0},modified:{type:"number",minimum:0},expired:{type:"number",minimum:0},localStorageDeleted:{type:"number",minimum:0}}}},{name:"cookie-monster.prune",schema:{required:["visitsPruned","cookiesPruned","visitsCount","cookiesCount","sessionsPruned","totalCookies","totalOrigins"],properties:{visitsPruned:{type:"number",minimum:0},cookiesPruned:{type:"number",minimum:0},visitsCount:{type:"number",minimum:0},cookiesCount:{type:"number",minimum:0},sessionsPruned:{type:"number",minimum:0},totalCookies:{type:"number",minimum:0},totalOrigins:{type:"number",minimum:0}}}},{name:"cookie-monster.config",offsets:[0],generate:()=>[{sessionExpiryEnabled:i.default.get("cookie-monster.expireSession",!1),nonTrackerEnabled:i.default.get("cookie-monster.nonTracker",!1),cookieMode:i.default.get("attrack.cookieMode","thirdparty"),cookieBehavior:i.default.get("network.cookie.cookieBehavior",5,""),trackerLocalStorageEnabled:i.default.get("cookie-monster.trackerLocalStorage",!1)}],schema:{required:["sessionExpiryEnabled","nonTrackerEnabled","cookieMode","cookieBehavior","trackerLocalStorageEnabled"],properties:{sessionExpiryEnabled:{type:"boolean"},nonTrackerEnabled:{type:"boolean"},cookieMode:{type:"string",enum:["thirdparty","trackers","ghostery"]},cookieBehavior:{type:"number",enum:[0,1,2,3,4,5]},trackerLocalStorageEnabled:{type:"boolean"}}}}];t.default=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=[{name:"metrics.controlCenter.show",schema:{}},{name:"metrics.controlCenter.click.pause",schema:{}},{name:"metrics.controlCenter.click.resume",schema:{}},{name:"metrics.controlCenter.click.trustSite",schema:{}},{name:"metrics.controlCenter.click.restrictSite",schema:{}}]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(r(135)),i=s(r(19));function s(e){return e&&e.__esModule?e:{default:e}}function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var r=[],n=!0,i=!1,s=void 0;try{for(var o,a=e[Symbol.iterator]();!(n=(o=a.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){i=!0,s=e}finally{try{n||null==a.return||a.return()}finally{if(i)throw s}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function a(e){const t=o(e.split("_"),2),r=t[0],n=t[1];return{id:parseInt(r,10),group:n}}function g(e){if("string"!=typeof e)return[];try{const t=JSON.parse(e);return Array.isArray(t)?t.map(a):Object.keys(t).map(a)}catch(e){n.default.error("while parsing abtests",e)}return[]}var A={name:"metrics.core.abtests",offsets:[0],generate:()=>[g(i.default.get("ABTests"))],schema:{type:"array",items:{type:"object"}}};t.default=A},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=[{name:"metrics.history.visits.count",schema:{required:["visitsCount"],properties:{visitsCount:{type:"integer",minimum:0}}}}]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={name:"metrics.performance.general",schema:{required:["action","ms"],properties:{action:{type:"string",enum:["offers-v2.trigger.process"]},ms:{type:"number",minimum:0}}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=[{name:"metrics.anolysis.health.exception",sendToBackend:!0,needsGid:!1,version:1,schema:{required:["context","exception"],properties:{context:{type:"string",enum:["gid-manager","storage"]},exception:{type:"string"}}}},{name:"metrics.anolysis.health.storage",sendToBackend:!0,needsGid:!1,version:1,schema:{properties:{state:{type:"string",enum:["broken","recovered","could_not_recover"]}}}}]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(r(33)),i=s(r(19));function s(e){return e&&e.__esModule?e:{default:e}}
/*!
 * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */var o=[{name:"metrics.core.version.core",needsGid:!1,sendToBackend:!0,version:1,generate:()=>[{version:n.default.app.version}],schema:{required:["version"],properties:{version:{type:"string"}}}},{name:"metrics.core.version.distribution",needsGid:!1,sendToBackend:!0,version:1,generate:()=>[{version:i.default.get("distribution.version","","")}],schema:{required:["version"],properties:{version:{type:"string"}}}}];t.default=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;
/*!
 * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */
var n={name:"metrics.performance.app.startup",description:"\n  This metric allows us to know how long it took to load each modules from App.\n  This does not contain any user behavior, but instead informs about how App\n  loading performs depending on platforms or products.\n  ",sendToBackend:!0,needsGid:!0,schema:{type:"array",items:{required:["module","isEnabled","loadingTime","windows"],properties:{module:{type:"string"},isEnabled:{type:"boolean"},loadingTime:{type:"integer"},loadingTimeSync:{type:"integer"},windows:{type:"array",items:{required:["id","loadingTime"],properties:{id:{type:"string"},loadingTime:{type:"number"}}}}}}}};t.default=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;
/*!
 * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */
var n={name:"metrics.performance.app.resource-loaders",description:"\n  This metric allows us to know how much size each resource loader takes.\n  ",sendToBackend:!0,needsGid:!0,schema:{type:"array",items:{required:["name","size"],properties:{name:{type:"string"},size:{type:"integer"}}}}};t.default=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i=(n=r(33))&&n.__esModule?n:{default:n};function s(e,t,r,n,i,s,o){try{var a=e[s](o),g=a.value}catch(e){return void r(e)}a.done?t(g):Promise.resolve(g).then(n,i)}var o,a,g=[{name:"metrics.adblocker.enabled",needsGid:!0,sendToBackend:!0,offsets:[0],version:1,description:"Counts how many users have the adblocker enabled",generate:(o=function*(){try{return[{enabled:!!(yield i.default.module("adblocker").action("isEnabled"))}]}catch(e){return[{enabled:!1}]}},a=function(){var e=this,t=arguments;return new Promise((function(r,n){var i=o.apply(e,t);function a(e){s(i,r,n,a,g,"next",e)}function g(e){s(i,r,n,a,g,"throw",e)}a(void 0)}))},function(){return a.apply(this,arguments)}),schema:{required:["enabled"],properties:{enabled:{type:"boolean"}}}}];t.default=g},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=[{name:"metrics.legacy.abtests",schema:{required:["action","name"],properties:{action:{type:"string",enum:["enter","leave"]},name:{type:"string",regexp:"/^[0-9]{4}_[A-Z]$/"}}}},{name:"metrics.legacy.environment.extended",schema:{required:["history_days","history_urls","install_date"],properties:{history_days:{type:"number"},history_urls:{type:"number"},install_date:{type:"number"}}}},{name:"metrics.navigation",schema:{required:["action"],properties:{action:{type:"string",enum:["location_change"]}}}},{name:"metrics.legacy.antitracking",schema:{required:["target"],properties:{target:{type:"string",enum:["whitelist_domain","unwhitelist_domain","clearcache"]}}}}]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=[{name:"metrics.autoconsent.onboarding",schema:{required:["action"],properties:{action:{type:"string",enum:["completed","deferred","dismissed","shown"]},times:{type:"number",minimum:0,maximum:10}}}}]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={name:"freshtab-activity",version:1,needsGid:!0,sendToBackend:!0,generate:e=>{let t=e.records;return[{shows:t.get("freshtab.home.show").length,clicks:{topSites:t.get("freshtab.home.click.topsite").length,customSites:t.get("freshtab.home.click.favorite").length}}]},schema:{required:["shows","clicks"],properties:{shows:{type:"integer",minimum:0},clicks:{required:["topSites","customSites"],properties:{topSites:{type:"integer",minimum:0},customSites:{type:"integer",minimum:0}}}}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;
/*!
 * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */
var n={name:"freshtab-settings",needsGid:!0,version:1,generate:e=>{let t=e.records;const r=t.get("freshtab.prefs.config"),n=t.get("freshtab.prefs.blueTheme");if(0===r.length||0===n.length)return[];const i=r[r.length-1],s=i.background,o=(void 0===s?{}:s).image,a=i.historyDials,g=(void 0===a?{}:a).visible,A=i.customDials,u=(void 0===A?{}:A).visible,I=i.search,C=(void 0===I?{}:I).visible,l=i.news,c=(void 0===l?{}:l).visible,d=i.stats,h=(void 0===d?{}:d).visible;return[{is_theme_on:n[n.length-1].enabled,is_background_on:!o||"bg-default"!==o,is_most_visited_on:Boolean(g),is_favorites_on:Boolean(u),is_search_on:Boolean(C),is_news_on:Boolean(c),is_stats_on:Boolean(h)}]},schema:{required:["is_theme_on","is_background_on","is_most_visited_on","is_favorites_on","is_search_on","is_news_on","is_stats_on"],properties:{is_theme_on:{type:"boolean"},is_background_on:{type:"boolean"},is_most_visited_on:{type:"boolean"},is_favorites_on:{type:"boolean"},is_search_on:{type:"boolean"},is_news_on:{type:"boolean"},is_stats_on:{type:"boolean"}}}};t.default=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={name:"analyses.freshtab.settings.background",version:1,needsGid:!1,generate:e=>{const t=e.records.get("freshtab.prefs.config");if(0===t.length)return[];const r=t[t.length-1].background,n=(void 0===r?{}:r).index;return n<0||n>31?[{index:null}]:[{index:n}]},schema:{required:["index"],properties:{index:{anyOf:[{type:"integer",minimum:0,maximum:31},{type:"null"}]}}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i=(n=r(236))&&n.__esModule?n:{default:n},s=r(208);
/*!
 * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */
var o={name:"news-pagination",needsGid:!0,version:1,generate:e=>{const t=e.records.get("freshtab.home.click.news_pagination");if(0===t.length)return[];const r=new i.default(t.map(e=>{return e.index}));return[{clicks:(0,s.indicesHistogramToArray)(r)}]},schema:{required:["clicks"],properties:{clicks:{type:"array",items:{type:"integer",minimum:0}}}}};t.default=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=o(r(134)),i=o(r(236)),s=r(208);function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var r=[],n=!0,i=!1,s=void 0;try{for(var o,a=e[Symbol.iterator]();!(n=(o=a.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){i=!0,s=e}finally{try{n||null==a.return||a.return()}finally{if(i)throw s}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var g={name:"news-snippets",needsGid:!0,version:1,generate:e=>{let t=e.records;const r=new n.default(()=>new i.default);["freshtab.home.click.topnews","freshtab.home.click.breakingnews","freshtab.home.click.yournews","freshtab.home.hover.topnews","freshtab.home.hover.breakingnews","freshtab.home.hover.yournews"].forEach(e=>{t.get(e).forEach(e=>{let t=e.edition,n=e.target,i=e.action,s=e.index;r.update(`${t}.${n}.${i}`,e=>e.incr(s))})});const o=[];return r.forEach((e,t)=>{const r=a(t.split("."),3),n=r[0],i=r[1],g=r[2];o.push({edition:n,target:i,action:g,histogram:(0,s.indicesHistogramToArray)(e)})}),o},schema:{required:["edition","target","action","histogram"],properties:{edition:{type:"string",enum:r(351).NEWS_EDITIONS},target:{type:"string",enum:["topnews","yournews","breakingnews"]},action:{type:"string",enum:["hover","click"]},histogram:{type:"array",items:{type:"integer",minimum:0}}}}};t.default=g},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(208);function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const o={type:"number"};var a={name:"cookie-monster-performance",version:3,generate:e=>{let t=e.records;const r=t.get("cookie-monster.cookieBatch"),o=t.get("cookie-monster.prune"),a=t.get("cookie-monster.config")[0]||{},g=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(r,!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({moduleActive:r.length>0||o.length>0,batches:r.length,prunes:o.length},a);if(r.length>0){const e=r.reduce((e,t)=>(Object.keys(t).forEach(r=>{const n=e[r]||[];n.push(t[r]),Object.assign(e,{[r]:n})}),e),{});Object.assign(g,{medBatchSize:(0,n.median)(e.count),maxBatchSize:Math.max(...e.count),meanExisting:(0,n.mean)(e.existing),meanVisited:(0,n.mean)(e.visited),deleted:(0,n.sum)(e.deleted),modified:(0,n.sum)(e.modified),expired:(0,n.sum)(e.expired),localStorageDeleted:(0,n.sum)(e.localStorageDeleted||[])})}return o.length>0&&Object.assign(g,{cookiesSize:Math.max(...o.map(e=>e.cookiesCount)),visitsSize:Math.max(...o.map(e=>e.visitsCount)),visitsPruned:(0,n.sum)(o.map(e=>e.visitsPruned)),cookiesPruned:(0,n.sum)(o.map(e=>e.cookiesPruned)),sessionsPruned:(0,n.sum)(o.map(e=>e.sessionsPruned)),totalCookies:Math.max(...o.map(e=>e.totalCookies)),totalOrigins:Math.max(...o.map(e=>e.totalOrigins))}),[g]},schema:{required:["moduleActive","batches","prunes"],properties:{moduleActive:{type:"boolean"},batches:o,medBatchSize:o,maxBatchSize:o,meanExisting:o,meanVisited:o,deleted:o,modified:o,expired:o,prunes:o,cookiesSize:o,visitsSize:o,visitsPruned:o,cookiesPruned:o,sessionExpiryEnabled:{type:"boolean"},nonTrackerEnabled:{type:"boolean"},trackerLocalStorageEnabled:{type:"boolean"},cookieMode:{type:"string",enum:["thirdparty","trackers","ghostery"]},cookieBehavior:{type:"number",enum:[0,1,2,3,4,5]},localStorageDeleted:o,sessionsPruned:o,totalCookies:o,totalOrigins:o}}};t.default=a},function(e,t,r){"use strict";function n(e,t){return function(e){if(Array.isArray(e))return e}
/*!
 * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var r=[],n=!0,i=!1,s=void 0;try{for(var o,a=e[Symbol.iterator]();!(n=(o=a.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){i=!0,s=e}finally{try{n||null==a.return||a.return()}finally{if(i)throw s}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;const i="experiments.dropdown.fullHeight";var s=[{name:"analyses.experiments.dropdown.fullHeight",version:1,needsGid:!1,sendToBackend:!0,generate:e=>{let t=e.records;const r=t.get("metrics.core.abtests");if(0===r.length)return[];const s=n(r[0].filter((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.groups,r=(t=void 0===t?{}:t).A,n=void 0===r?{}:r,s=t.B,o=void 0===s?{}:s;return Object.prototype.hasOwnProperty.call(n,i)||Object.prototype.hasOwnProperty.call(o,i)})),1)[0],o=(void 0===s?{}:s).group;if(!o)return[];const a=t.get("search.session").filter(e=>{return e.hasUserInput}).map(e=>{let t=e.selection;return void 0===t?[]:t});return[{group:o,selections:{cliqz:a.filter(e=>"cliqz"===e.origin).length,direct:a.filter(e=>"direct"===e.origin).length,other:a.filter(e=>"other"===e.origin).length,abandoned:a.filter(e=>null===e.origin).length}}]},schema:{required:["group","selections"],properties:{group:{type:"string",enum:["A","B"]},selections:{required:["cliqz","direct","other","abandoned"],properties:{cliqz:{type:"integer",minimum:0},direct:{type:"integer",minimum:0},other:{type:"integer",minimum:0},abandoned:{type:"integer",minimum:0}}}}}}];t.default=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={name:"analyses.controlCenter.interactions",version:1,needsGid:!0,sendToBackend:!0,generate:e=>{let t=e.records;return[{shows:t.get("metrics.controlCenter.show").length,clicks:{pause:t.get("metrics.controlCenter.click.pause").length,resume:t.get("metrics.controlCenter.click.resume").length,trustSite:t.get("metrics.controlCenter.click.trustSite").length,restrictSite:t.get("metrics.controlCenter.click.restrictSite").length}}]},schema:{required:["shows","clicks"],properties:{shows:{type:"integer",minimum:0},clicks:{required:["pause","resume","trustSite","restrictSite"],properties:{pause:{type:"integer",minimum:0},resume:{type:"integer",minimum:0},trustSite:{type:"integer",minimum:0},restrictSite:{type:"integer",minimum:0}}}}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={name:"analyses.favorites.migration.folders",version:1,needsGid:!0,sendToBackend:!0,generate:e=>{return e.records.get("metrics.favorites.migration.folders").splice(-1)},schema:{required:["count","rootFolderCount","maxDepth"],properties:{count:{type:"integer",minimum:0},rootFolderCount:{type:"integer",minimum:0},maxDepth:{type:"integer",minimum:0}}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i=(n=r(358))&&n.__esModule?n:{default:n},s=r(357),o=r(353);function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(r,!0).forEach((function(t){A(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function A(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const u=e=>{let t=e.sources;return(void 0===t?[]:t).includes("n")},I=e=>{let t=e.sources,r=void 0===t?[]:t,n=e.classes,i=void 0===n?[]:n;return r.includes("X")&&i.includes("EntityNews")},C=e=>{let t=e.sources,r=void 0===t?[]:t,n=e.classes,i=void 0===n?[]:n;return r.includes("X")&&i.includes("EntityTopNews")},l=e=>{let t=e.sources;return(void 0===t?[]:t).some(e=>s.historySources.has(e))},c=e=>{let t=e.sources;return(void 0===t?[]:t).every(e=>s.historySources.has(e))},d=e=>e.some(l),h=(e,t)=>{const r=[];return e.forEach((e,n)=>{t(e)&&r.push(n)}),r},f=(e,t)=>e.filter(e=>{return e.subResult.type===t}).reduce((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,r=t.subResult;return e.concat(r.index)}),[]),p=e=>t=>{let r=t.subResult,n=void 0===r?{}:r;return e.includes(n.type)},m=e=>{let t=e.subResult,r=void 0===t?{}:t;return 0===Object.keys(r).length&&r.constructor===Object},_=(e,t)=>e.filter(e=>{let r=e.selection;return t(void 0===r?[]:r)}).map(e=>{let t=e.selection;return void 0===t?[]:t});t.default=()=>[{name:"news-search",version:3,needsGid:!0,sendToBackend:!0,generate:e=>{const t=e.records.get("search.session");if(0===t.length)return[];const r=t.filter(e=>{return e.hasUserInput}),n=r.filter(e=>{return(e=>e.some(u))(e.results)}),a=n.map(e=>{let t=e.results;return void 0===t?[]:t}).filter(e=>e.length>0),g=a.map((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return h(e,u)})).reduce((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return e.concat(t)}),[]),A=a.reduce((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,r=t.length;return e.concat(r)}),[]),y=_(n,u),b=y.reduce((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,r=t.index;return e.concat(r)}),[]),v=r.filter(e=>{return(e=>e.some(I))(e.results)}),w=v.map(e=>{let t=e.results;return void 0===t?[]:t}).filter(e=>e.length>0),k=w.filter(d),M=w.map((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return h(e,I)})).reduce((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return e.concat(t)}),[]),O=_(v,I).filter(p([o.NEWS_RESULT,o.INTERNAL_RESULT,o.BREAKING_NEWS_RESULT])),S=_(v,l).filter(I).filter(p([o.HISTORY_RESULT])),D=_(v,l).filter(I).filter(m),T=_(v,c),L=O.reduce((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,r=t.index;return e.concat(r)}),[]),E=O.filter(e=>{return e.subResult.type===o.NEWS_RESULT}),P=O.filter(e=>{return e.subResult.type===o.INTERNAL_RESULT}),x=O.filter(e=>{return e.subResult.type===o.BREAKING_NEWS_RESULT}),j=f(O,o.NEWS_RESULT),R=f(O,o.INTERNAL_RESULT),Y=r.filter(e=>{return(e=>e.some(C))(e.results)}),N=Y.map(e=>{let t=e.results;return void 0===t?[]:t}).filter(e=>e.length>0),U=N.filter(d),H=N.map((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return h(e,C)})).reduce((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return e.concat(t)}),[]),F=_(Y,C).filter(p([o.NEWS_RESULT,o.BREAKING_NEWS_RESULT])),B=_(Y,c),z=F.reduce((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,r=t.index;return e.concat(r)}),[]),W=F.filter(e=>{return e.subResult.type===o.NEWS_RESULT}),G=F.filter(e=>{return e.subResult.type===o.BREAKING_NEWS_RESULT}),q=f(F,o.NEWS_RESULT);return[{nsd:{results:{total:a.length,index:(0,i.default)(g,{binSize:1,binCount:16}),size:(0,i.default)(A,{binSize:1,binCount:16})},selections:{total:y.length,index:(0,i.default)(b,{binSize:1,binCount:16}),action:{autocomplete:y.filter(s.isAutocompleteAction).length,click:y.filter(s.isClickAction).length,enter:y.filter(s.isEnterAction).length}}},scNews:{results:{total:w.length,index:(0,i.default)(M,{binSize:1,binCount:16}),withHistory:k.length},selections:{total:O.length,history:S.length,domainHistory:D.length,otherHistory:T.length,index:(0,i.default)(L,{binSize:1,binCount:16}),subResult:{news:{total:E.length,index:(0,i.default)(j,{binSize:1,binCount:16})},category:{total:P.length,index:(0,i.default)(R,{binSize:1,binCount:16})},breaking:x.length},action:{autocomplete:O.filter(s.isAutocompleteAction).length,click:O.filter(s.isClickAction).length,enter:O.filter(s.isEnterAction).length}}},scTopNews:{results:{total:N.length,index:(0,i.default)(H,{binSize:1,binCount:16}),withHistory:U.length},selections:{total:F.length,history:B.length,index:(0,i.default)(z,{binSize:1,binCount:16}),subResult:{news:{total:W.length,index:(0,i.default)(q,{binSize:1,binCount:16})},breaking:G.length},action:{autocomplete:F.filter(s.isAutocompleteAction).length,click:F.filter(s.isClickAction).length,enter:F.filter(s.isEnterAction).length}}}}]},schema:{required:[],properties:{nsd:{required:[],properties:{results:{required:[],properties:g({},(0,s.mkCountSchema)("total"),{index:g({},(0,s.mkHistogramSchema)(16)),size:g({},(0,s.mkHistogramSchema)(16))})},selections:{required:[],properties:g({},(0,s.mkCountSchema)("total"),{index:g({},(0,s.mkHistogramSchema)(16)),action:{required:[],properties:g({},(0,s.mkCountSchema)("autocomplete"),{},(0,s.mkCountSchema)("click"),{},(0,s.mkCountSchema)("enter"))}})}}},scNews:{required:[],properties:{results:{required:[],properties:g({},(0,s.mkCountSchema)("total"),{index:g({},(0,s.mkHistogramSchema)(16))},(0,s.mkCountSchema)("withHistory"))},selections:{required:[],properties:g({},(0,s.mkCountSchema)("domainHistory"),{},(0,s.mkCountSchema)("total"),{},(0,s.mkCountSchema)("history"),{},(0,s.mkCountSchema)("otherHistory"),{index:g({},(0,s.mkHistogramSchema)(16)),subResult:{required:[],properties:g({news:{required:[],properties:g({},(0,s.mkCountSchema)("total"),{index:g({},(0,s.mkHistogramSchema)(16))})},category:{required:[],properties:g({},(0,s.mkCountSchema)("total"),{index:g({},(0,s.mkHistogramSchema)(16))})}},(0,s.mkCountSchema)("breaking"))},action:{required:[],properties:g({},(0,s.mkCountSchema)("autocomplete"),{},(0,s.mkCountSchema)("click"),{},(0,s.mkCountSchema)("enter"))}})}}},scTopNews:{required:[],properties:{results:{required:[],properties:g({},(0,s.mkCountSchema)("total"),{index:g({},(0,s.mkHistogramSchema)(16))},(0,s.mkCountSchema)("withHistory"))},selections:{required:[],properties:g({},(0,s.mkCountSchema)("total"),{},(0,s.mkCountSchema)("history"),{index:g({},(0,s.mkHistogramSchema)(16)),subResult:{required:[],properties:g({news:{required:[],properties:g({},(0,s.mkCountSchema)("total"),{index:g({},(0,s.mkHistogramSchema)(16))})}},(0,s.mkCountSchema)("breaking"))},action:{required:[],properties:g({},(0,s.mkCountSchema)("autocomplete"),{},(0,s.mkCountSchema)("click"),{},(0,s.mkCountSchema)("enter"))}})}}}}}}]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=[{name:"analysis.history.visits.count",version:1,needsGid:!0,sendToBackend:!0,generate:e=>{const t=e.records.get("metrics.history.visits.count");if(0===t.length)return[];let r=t.reduce((e,t)=>e+t.visitsCount,0);return r>300&&(r=null),[{count:r}]},schema:{required:["count"],properties:{count:{oneOf:[{type:"integer",minimum:0,maximum:300},{type:"null"}]}}}}]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i(r(134));function i(e){return e&&e.__esModule?e:{default:e}}function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var r=[],n=!0,i=!1,s=void 0;try{for(var o,a=e[Symbol.iterator]();!(n=(o=a.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){i=!0,s=e}finally{try{n||null==a.return||a.return()}finally{if(i)throw s}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function o(e,t){const r=Object.create(null),n=[...new Set([...Object.keys(e),...Object.keys(t)])];for(let i=0;i<n.length;i+=1){const s=n[i];r[s]=(t[s]||0)+(e[s]||0)}return r}var a={name:"analysis.performance.webrequest-pipeline.timings",version:1,needsGid:!0,sendToBackend:!0,generate:e=>{const t=e.records.get("metrics.performance.webrequest-pipeline.timings");if(0===t.length)return[];const r=new n.default(()=>Object.create(null));for(let e=0;e<t.length;e+=1){const n=t[e];for(let e=0;e<n.length;e+=1){const t=n[e],i=t.step,s=t.histogram;r.update(i,e=>o(e,s))}}return[[...r.entries()].filter(e=>{let t=s(e,2)[1];return Object.keys(t)!==[0]}).map(e=>{let t=s(e,2);return{step:t[0],histogram:t[1]}})]},schema:i(r(291)).default.schema};t.default=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t=i();if(t&&t.has(e))return t.get(e);var r={};if(null!=e){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){var o=n?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(r,s,o):r[s]=e[s]}}r.default=e,t&&t.set(e,r);return r}
/*!
 * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */(r(291));function i(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return i=function(){return e},e}var s={name:"analysis.performance.general",schema:n.default.schema,version:1,generate:e=>{let t=e.records;const r={};return t.get("metrics.performance.general").forEach(e=>{let t=e.action,i=e.ms;const s=r[t]||(r[t]={}),o=(e=>e<0?n.MS_TO_BIN_NAME[0]:e<n.MS_TO_BIN_NAME.length?n.MS_TO_BIN_NAME[e]:n.MS_TO_BIN_NAME[n.MS_TO_BIN_NAME.length-1])(i);s[o]=(s[o]||0)+1}),Array.from(Object.keys(r),e=>[{step:e,histogram:r[e]}])}};t.default=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(354),i=r(208);
/*!
 * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */
const s={properties:{min:{type:"number",minimum:0},max:{type:"number",minimum:0},mean:{type:"number",minimum:0},median:{type:"number",minimum:0}}};function o(e){return{min:Math.min(...e),max:Math.max(...e),mean:Math.round((0,i.mean)(e)),median:(0,i.median)(e)}}var a=[{name:"antitracking.tokens.batches",version:1,generate:e=>{const t=e.records.get("metrics.antitracking.tokens.batch");return n.SOURCES.map(e=>t.filter(t=>t.source===e)).filter(e=>e.length>0).map(e=>{const t=e.reduce((e,t)=>(Object.keys(t).forEach(r=>{e[r]||(e[r]=[]),e[r].push(t[r])}),e),{});return{source:e[0].source,batches:t.size.length,size:o(t.size),toBeSentSize:o(t.toBeSentSize),overflow:o(t.overflow),messages:o(t.messages)}})},schema:{required:["source","batches","size","toBeSentSize","overflow","messages"],properties:{source:{type:"string",enum:n.SOURCES},batches:{type:"number",minimum:0},size:s,toBeSentSize:s,overflow:s,messages:s}}},{name:"antitracking.tokens.cleaning",version:1,generate:e=>{const t=e.records.get("metrics.antitracking.tokens.clean");return n.SOURCES.map(e=>t.filter(t=>t.source===e)).filter(e=>e.length>0).map(e=>{const t=e.reduce((e,t)=>(Object.keys(t).forEach(r=>{e[r]||(e[r]=[]),e[r].push(t[r])}),e),{});return{source:e[0].source,runs:t.dbSize.length,dbSize:Math.round((0,i.mean)(t.dbSize)),cacheSize:Math.round((0,i.mean)(t.cacheSize)),dbDelete:o(t.dbDelete),cacheDeleted:o(t.cacheDeleted),processed:o(t.processed)}})},schema:{required:["source","runs","dbSize","cacheSize","dbDelete","cacheDeleted","processed"],properties:{source:{type:"string",enum:n.SOURCES},runs:{type:"number",minimum:0},dbSize:{type:"number",minimum:0},cacheSize:{type:"number",minimum:0},dbDelete:s,cacheDeleted:s,processed:s}}}];t.default=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i=r(355),s=(n=r(236))&&n.__esModule?n:{default:n};function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(r,!0).forEach((function(t){g(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function g(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function A(e){return new Set(e).size}const u={type:"number",min:0},I=[0,1,2,3,4,5],C={google:{pageActionCount:u,pageActionSites:u,popupCount:u,popupSites:u,clickedCount:u,clickedSites:u},facebook:{pageActionCount:u,pageActionSites:u,popupCount:u,popupSites:u,clickedCount:u,clickedSites:u},iab:{pageActionCount:u,pageActionSites:u,popupCount:u,popupSites:u,consentChangedCount:u,consentChangedSites:u,allowedHist:{properties:I.reduce((e,t)=>a({},e,{[t]:u}),{})}}};t.default=()=>i.CONSENT_TYPES.map(e=>({name:`analysis.consentric.${e}`,version:1,generate:t=>{let r=t.records;return function(e,t){let r=t.records;const n=t=>t.filter(t=>t.type===e),i=n(r.get("metrics.consentric.pageAction")),o=n(r.get("metrics.consentric.popupOpened")),g=n(r.get("metrics.consentric.clicked")),u={},C=e=>e.site;if(u.pageActionCount=i.length,u.pageActionSites=A(i.map(C)),u.popupCount=o.length,u.popupSites=A(o.map(C)),"iab"===e){const e=r.get("metrics.consentric.consentChanged");u.consentChangedCount=e.length,u.consentChangedSites=A(e.map(C));const t=new s.default(e.map(e=>e.allowed));u.allowedHist=I.reduce((e,r)=>a({},e,{[r]:t.get(r)}),{})}else u.clickedCount=g.length,u.clickedSites=A(g.map(C));return[u]}(e,{records:r})},schema:{required:Object.keys(C[e]),properties:C[e]}}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i=(n=r(356))&&n.__esModule?n:{default:n};function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(r,!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const g="metrics.legacy.control_center.",A=i.default.map(e=>e.name);function u(e){return e.replace(g,"")}const I=A.map(u);var C=[{name:"control-center-interaction",version:1,generate:e=>{let t=e.records;const r=A.reduce((e,r)=>o({[u(r)]:t.get(r).length},e),{});return[o({},r)]},schema:{require:I,properties:I.reduce((e,t)=>o({[u(t)]:{type:"number"}},e),{})}}];t.default=C},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={name:"analyses.legacy.navigation",version:1,generate:e=>{return[{locationChange:e.records.get("metrics.navigation").length}]},schema:{require:["locationChange"],properties:{locationChange:{type:"number"}}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;
/*!
 * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */
const n={type:"integer",minimum:0};var i={name:"analyses.autoconsent.onboarding",description:"Aggregation of user interactions with the cookie consent onboarding popup. Allows\nus to measure the engagement and click-through rates of this popup.",version:1,needsGid:!1,generate:e=>{let t=e.records;const r=t.get("metrics.autoconsent.onboarding"),n=t.get("metrics.legacy.control_center.autoconsent_switch");if(0===r.length)return[];const i={shown:0,dismissed:0,deferred:0,deferredCounter:0,completed:0,ccInteractions:n.length,moduleDisabled:n.length>0&&"off_all"===n[n.length-1].state,sitesWhitelisted:n.filter(e=>"inactive"===e.state).length};return r.forEach(e=>{switch(e.action){case"completed":i.completed+=1;break;case"deferred":i.deferred+=1,i.deferredCounter=Math.max(i.deferredCounter,e.times);break;case"dismissed":i.dismissed+=1;break;case"shown":i.shown+=1}}),[i]},schema:{properties:{shown:n,dismissed:n,deferred:n,deferredCounter:n,completed:n,ccInteractions:n,moduleDisabled:{type:"boolean "},sitesWhitelisted:n}}};t.default=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return h.apply(this,arguments)};var n=r(276),i=o(r(28)),s=o(r(19));function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function g(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function A(e,t,r,n,i,s,o){try{var a=e[s](o),g=a.value}catch(e){return void r(e)}a.done?t(g):Promise.resolve(g).then(n,i)}function u(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var s=e.apply(t,r);function o(e){A(s,n,i,o,a,"next",e)}function a(e){A(s,n,i,o,a,"throw",e)}o(void 0)}))}}function I(){return(I=u((function*(){const e=yield(0,n.getChannel)();return!0===s.default.get("developer",!1)||"99"===e||"MR99"===e||"MR02"===e||"MA99"===e||"MA02"===e||"MI99"===e||"MI02"===e||"MI52"===e||"MA52"===e}))).apply(this,arguments)}function C(e,t){return{[e]:s.default.get(e,t)}}function l(){return c.apply(this,arguments)}function c(){return(c=u((function*(){const e=yield function(){return I.apply(this,arguments)}();return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(r,!0).forEach((function(t){g(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},C("session"),{"backend.url":e?i.default.settings.ANOLYSIS_STAGING_BACKEND_URL:i.default.settings.ANOLYSIS_BACKEND_URL,useStaging:e},C("signalQueue.batchSize",5),{},C("signalQueue.sendInterval",15e3),{},C("signalQueue.maxAttempts",5),{demographics:null,Storage:null})}))).apply(this,arguments)}class d{constructor(e,t){this.options=new Map,Object.keys(t).forEach(e=>{this.options.set(e,t[e])}),Object.keys(e).forEach(t=>{this.options.set(t,e[t])})}get(e){if(!this.options.has(e))throw new Error(`Anolysis config has no such entry: ${e}`);return this.options.get(e)}}function h(){return(h=u((function*(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=yield l();return new d(e,t)}))).apply(this,arguments)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=A(r(113)),i=A(r(134)),s=A(r(135)),o=function(e){if(e&&e.__esModule)return e;var t=g();if(t&&t.has(e))return t.get(e);var r={};if(null!=e){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var s=n?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(r,i,s):r[i]=e[i]}}r.default=e,t&&t.set(e,r);return r}(r(207)),a=A(r(359));function g(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return g=function(){return e},e}function A(e){return e&&e.__esModule?e:{default:e}}function u(e,t,r,n,i,s,o){try{var a=e[s](o),g=a.value}catch(e){return void r(e)}a.done?t(g):Promise.resolve(g).then(n,i)}function I(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var s=e.apply(t,r);function o(e){u(s,n,i,o,a,"next",e)}function a(e){u(s,n,i,o,a,"throw",e)}o(void 0)}))}}class C{constructor(e){this.db=e}init(){}runTaskAtMostOnce(e,t,r){var n=this;return I((function*(){0===(yield n.db.where("[date+name]").equals([e,t]).toArray()).length&&(yield r(),yield n.db.add({date:e,name:t}))}))()}getAggregatedDates(){return this.db.orderBy("date").uniqueKeys()}deleteOlderThan(e){return this.db.where("date").below(e).delete()}}class l{constructor(e){this.db=e}init(){}getTypesForDate(e){return this.db.where("date").equals(e).toArray().then(e=>{(0,a.default)(e);const t=new i.default(()=>[]);for(let r=0;r<e.length;r+=1){const n=e[r],i=n.type,s=n.behavior;t.update(i,e=>{e.push(s)})}return t})}add(e){let t=e.type;const r={behavior:e.behavior,date:(0,o.default)().format(o.DATE_FORMAT),type:t,ts:Date.now()};return s.default.debug("add",r),this.db.add(r)}deleteByDate(e){return this.db.where("date").equals(e).delete()}}class c{constructor(e){this.db=e}init(){}push(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.db.add({signal:e,attempts:t,date:(0,o.default)().format(o.DATE_FORMAT)})}remove(e){return"number"!=typeof e?Promise.resolve():this.db.delete(e)}getN(e){return this.db.limit(e).toArray()}getAll(){return this.db.toArray()}getSize(){return this.db.count()}deleteOlderThan(e){return this.db.where("date").below(e).delete()}}t.default=class{constructor(){this.db=null,this.aggregated=null,this.behavior=null,this.retention=null,this.signals=null,this.gid=null}init(){var e=this;return I((function*(){if(null!==e.db)return;const t=yield(0,n.default)();e.db=new t("anolysis"),e.db.version(1).stores({aggregated:"[date+name],date",behavior:"++id,date",gid:"key",retention:"key",signals:"++id,date"}),e.db.version(2).stores({gid:null,retention:null}),yield e.db.open(),e.aggregated=new C(e.db.aggregated),e.behavior=new l(e.db.behavior),e.signals=new c(e.db.signals),yield Promise.all([e.aggregated.init(),e.behavior.init(),e.signals.init()]);const r=(0,o.default)().subtract(30,"days").format(o.DATE_FORMAT);e.aggregated.deleteOlderThan(r),e.signals.deleteOlderThan(r)}))()}healthCheck(){var e=this;return I((function*(){if((yield e.db.isOpen())||(yield e.db.open()),yield e.db.hasFailed())throw new Error("Dexie DB has failed to open")}))()}destroy(){var e=this;return I((function*(){if(null!==e.db){s.default.debug("destroy initialized Dexie DB");const t=e.db;e.db=null,yield t.delete()}else{s.default.debug("destroy un-initialized Dexie DB");const e=yield(0,n.default)();yield e.delete("anolysis")}}))()}unload(){null!==this.db&&(this.db.close(),this.db=null)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=g(r(341)),i=g(r(134)),s=function(e){if(e&&e.__esModule)return e;var t=a();if(t&&t.has(e))return t.get(e);var r={};if(null!=e){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var s=n?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(r,i,s):r[i]=e[i]}}r.default=e,t&&t.set(e,r);return r}(r(207)),o=g(r(359));function a(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}function g(e){return e&&e.__esModule?e:{default:e}}function A(e,t,r,n,i,s,o){try{var a=e[s](o),g=a.value}catch(e){return void r(e)}a.done?t(g):Promise.resolve(g).then(n,i)}function u(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var s=e.apply(t,r);function o(e){A(s,n,i,o,a,"next",e)}function a(e){A(s,n,i,o,a,"throw",e)}o(void 0)}))}}function I(){return`anolysis_storage_${arguments.length>0&&void 0!==arguments[0]?arguments[0]:""}`}function C(e){return l.apply(this,arguments)}function l(){return(l=u((function*(e){const t=yield n.default.getAllKeys(),r=[];for(let n=0;n<t.length;n+=1){const i=t[n];i.startsWith(e)&&r.push(i.slice(e.length))}return r}))).apply(this,arguments)}class c{static key(){return I(`aggregated_${arguments.length>0&&void 0!==arguments[0]?arguments[0]:""}`)}runTaskAtMostOnce(e,t,r){return u((function*(){const i=c.key(e),s=yield n.default.getItem(i),o=new Set(void 0===s?[]:JSON.parse(s));o.has(t)||(yield r(),o.add(t),yield n.default.setItem(i,JSON.stringify([...o])))}))()}getAggregatedDates(){return C(c.key())}deleteOlderThan(e){var t=this;return u((function*(){const r=yield t.getAggregatedDates(),i=[];for(let t=0;t<r.length;t+=1)r[t]<e&&i.push(r[t]);yield n.default.multiRemove(i.map(c.key))}))()}}class d{static key(){return I(`behavior_${arguments.length>0&&void 0!==arguments[0]?arguments[0]:""}`)}init(){this.cache=new Map}getMetrics(e){return u((function*(){const t=yield n.default.getItem(d.key(e));return"string"==typeof t?JSON.parse(t):[]}))()}getTypesForDate(e){var t=this;return u((function*(){const r=(0,o.default)(yield t.getMetrics(e)),n=new i.default(()=>[]);for(let e=0;e<r.length;e+=1){const t=r[e],i=t.type,s=t.behavior;n.update(i,e=>{e.push(s)})}return n}))()}add(e){var t=this;let r=e.type,i=e.behavior;return u((function*(){const e=(0,s.default)().format(s.DATE_FORMAT),o=d.key(e),a={behavior:i,date:e,type:r,ts:Date.now()};if(t.cache.has(o))t.cache.get(o).push(a);else{t.cache.set(o,[]);const r=yield t.getMetrics(e),i=[...t.cache.get(o),...r,a];t.cache.delete(o),yield n.default.setItem(o,JSON.stringify(i))}}))()}deleteByDate(e){return u((function*(){yield n.default.removeItem(d.key(e))}))()}}class h{static key(){return I(`signals_${arguments.length>0&&void 0!==arguments[0]?arguments[0]:""}`)}constructor(){this.id=1,this.signals=[]}init(){var e=this;return u((function*(){const t=yield n.default.getItem(h.key("queue"));e.signals="string"!=typeof t?[]:JSON.parse(t);for(let t=0;t<e.signals.length;t+=1)e.id=(Math.max(e.id,e.signals[t].id)+1)%Number.MAX_SAFE_INTEGER}))()}push(e){var t=this;let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return u((function*(){const i=t.id;t.id+=1,t.signals.push({id:i,signal:e,attempts:r,date:(0,s.default)().format(s.DATE_FORMAT)}),yield n.default.setItem(h.key("queue"),JSON.stringify(t.signals))}))()}remove(e){var t=this;return u((function*(){const r=t.signals,i=[];for(let t=0;t<r.length;t+=1)r[t].id!==e&&i.push(r[t]);r.length!==i.length&&(t.signals=i,yield n.default.setItem(h.key("queue"),JSON.stringify(i)))}))()}getN(e){var t=this;return u((function*(){return t.signals.slice(0,e)}))()}getAll(){var e=this;return u((function*(){return e.signals}))()}getSize(){var e=this;return u((function*(){return e.signals.length}))()}deleteOlderThan(e){var t=this;return u((function*(){const r=t.signals,i=[];for(let t=0;t<r.length;t+=1)r[t].date>=e&&i.push(r[t]);t.signals=i,yield n.default.setItem(h.key("queue"),JSON.stringify(i))}))()}}t.default=class{constructor(){this.aggregated=null,this.behavior=null,this.signals=null}init(){var e=this;return u((function*(){e.aggregated=new c,e.behavior=new d,yield e.behavior.init(),e.signals=new h,yield e.signals.init()}))()}healthCheck(){return!0}destroy(){return u((function*(){const e=yield C(I());e.length>0&&(yield n.default.multiRemove(e.map(e=>I(e))))}))()}unload(){}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(68),i=l(r(19)),s=l(r(632)),o=l(r(85)),a=l(r(33)),g=function(e){if(e&&e.__esModule)return e;var t=C();if(t&&t.has(e))return t.get(e);var r={};if(null!=e){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var s=n?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(r,i,s):r[i]=e[i]}}r.default=e,t&&t.set(e,r);return r}(r(104)),A=l(r(43)),u=l(r(133)),I=l(r(44));function C(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return C=function(){return e},e}function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var r=[],n=!0,i=!1,s=void 0;try{for(var o,a=e[Symbol.iterator]();!(n=(o=a.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){i=!0,s=e}finally{try{n||null==a.return||a.return()}finally{if(i)throw s}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function d(e,t,r,n,i,s,o){try{var a=e[s](o),g=a.value}catch(e){return void r(e)}a.done?t(g):Promise.resolve(g).then(n,i)}function h(e,t,r){const n=s.default.blackWhiteList.value[t],i=r in n&&n[r].includes("black");return i&&function(){const e=a.default.module("human-web");for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return e.action("addDataToUrl",...r)}(e,"anti-phishing","block").catch(()=>A.default.log("failed to update url",e)),i}var f=(0,o.default)({requiresServices:["pacemaker"],core:a.default.module("core"),init(){s.default.init(),this.CliqzAntiPhishing=s.default},unload(){s.default.unload()},currentWindowStatus(e){let t=e.url;return(r=function*(){const e=s.default.isInWhitelist(t),r=s.default.getUrlWhitelistStatus(t),n=i.default.get("cliqz-anti-phishing-enabled",!0);let o="active";return e&&r!==s.default.WHITELISTED_TEMPORARY&&(o="inactive"),n||(o="critical"),{visible:!0,active:n,isWhitelisted:e,state:o}},function(){var e=this,t=arguments;return new Promise((function(n,i){var s=r.apply(e,t);function o(e){d(s,n,i,o,a,"next",e)}function a(e){d(s,n,i,o,a,"throw",e)}o(void 0)}))})();var r},actions:{isPhishingURL(e){if(!s.default.isAntiPhishingActive())return Promise.resolve({block:!1,type:"phishingURL"});const t=c(s.default.getSplitMd5(e),2),r=t[0],i=t[1],o=s.default.forceWhiteList.value;if(r in o)return o[r]===s.default.WHITELISTED_TEMPORARY&&I.default.setTimeout(()=>{delete o[r]},1e3),Promise.resolve({block:!1,type:"phishingURL"});s.default.clearBWList();const a=s.default.blackWhiteList.value;return a[r]&&a[r][i]&&!a[r][i].startsWith("suspicious")?Promise.resolve({block:h(e,r,i),type:"phishingURL"}):new Promise((t,o)=>{(0,n.httpGet)(s.default.BW_URL+r,n=>{!function(e,t){const r=g.getTime(),n=e.response,i=JSON.parse(n).blacklist,o=JSON.parse(n).whitelist,a=s.default.blackWhiteList.value;a[t]||(a[t]={h:r});for(let e=0;e<i.length;e+=1)a[t][i[e][0]]=`black:${i[e][1]}`;for(let e=0;e<o.length;e+=1)a[t][o[e]]="white";s.default.blackWhiteList.setDirty()}(n,r),t({block:h(e,r,i),type:"phishingURL"})},e=>{o(e)},3e3)})},activator(e,t){switch(e){case"active":s.default.removeForceWhitelist(t),i.default.set("cliqz-anti-phishing-enabled",!0);break;case"inactive":i.default.set("cliqz-anti-phishing-enabled",!0),s.default.whitelist(t);break;case"critical":s.default.removeForceWhitelist(t),i.default.set("cliqz-anti-phishing-enabled",!1)}},telemetry(e){const t={type:"anti-phishing",action:"click",target:e};u.default.push(t)},markAsSafe(e){s.default.markAsSafe(e)},whitelistTemporary(e){s.default.whitelistTemporary(e)}},events:{"human-web:active-url":function(){return s.default.onHwActiveURL(...arguments)}}});t.default=f},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=C(r(19)),i=C(r(81)),s=C(r(33)),o=C(r(272)),a=r(203),g=function(e){if(e&&e.__esModule)return e;var t=I();if(t&&t.has(e))return t.get(e);var r={};if(null!=e){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var s=n?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(r,i,s):r[i]=e[i]}}r.default=e,t&&t.set(e,r);return r}(r(104)),A=C(r(28)),u=C(r(43));function I(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return I=function(){return e},e}function C(e){return e&&e.__esModule?e:{default:e}}function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var r=[],n=!0,i=!1,s=void 0;try{for(var o,a=e[Symbol.iterator]();!(n=(o=a.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){i=!0,s=e}finally{try{n||null==a.return||a.return()}finally{if(i)throw s}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function c(){const e=s.default.module("core");for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return e.action("queryHTML",...r)}function d(e){return!!e&&(e.indexOf("getTime")>-1&&e.indexOf("getDay")>-1&&e.indexOf("getDate")>-1||(e.indexOf("onbeforeunload")>-1||e.indexOf("downloadEXEWithName")>-1))}function h(e,t){(function(){const e=s.default.module("core");for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return e.action("getHTML",...r)})(e).then(r=>{r&&(r.indexOf("progress-bar-warning")>-1&&r.indexOf("progress-bar-success")>-1&&r.indexOf("buffer-progress")>-1||r.indexOf("play-progress")>-1?t(e,"cheat"):r.indexOf("security")>-1&&r.indexOf("update")>-1&&r.indexOf("account")>-1&&t(e,"password"))})}function f(e,t){!function(e,t){const r=e.replace("http://","").replace("https://","").split("/")[0];c(e,"script","src").then(n=>{n.filter(e=>e).some(e=>{return e.replace("http://","").replace("https://","").split("/")[0]!==r?null:(0,o.default)(e).then(e=>e.text()).then(e=>d(e))})&&t(e,"script")}),c(e,"script","innerHTML").then(r=>{r.some(d)&&t(e,"script")})}(e,t),h(e,t),function(e,t){c(e,"input","type,value,name").then(e=>e.some(e=>Object.keys(e).some(e=>"password"===e||"passwort"===e)))&&t(e,"password")}(e,t)}const p={WHITELISTED_NONE:0,WHITELISTED_SAFE:1,WHITELISTED_TEMPORARY:2,WHITELISTED_PERMANENTLY:3,BW_URL:A.default.settings.BW_URL,DELAY:24,forceWhiteList:new a.LazyPersistentObject("anti-phishing-fw"),blackWhiteList:new a.LazyPersistentObject("anti-phishing-bw"),init(){p.blackWhiteList.load(),p.clearBWList(),p.forceWhiteList.load()},clearBWList(){const e=p.blackWhiteList.value,t=g.newUTCDate();t.setHours(t.getHours()-p.DELAY);const r=g.hourString(t);for(const t in e)"h"in e[t]?e[t].h<r&&(delete e[t],p.blackWhiteList.setDirty()):(delete e[t],p.blackWhiteList.setDirty())},unload(){p.saveLists()},clear(){p.clearBlackWhitelist(),p.clearForceWhitelist()},saveLists(){p.blackWhiteList.save(),p.forceWhiteList.save()},getSplitMd5(e){const t=function(e){const t=e.replace("http://","").replace("https://","").split("/")[0];return(0,i.default)(t)}(e);return[t.substring(0,t.length-16),t.substring(16,t.length)]},onHwActiveURL(e){const t=e.activeURL,r=l(p.getSplitMd5(t),2),n=r[0],i=r[1];p.blackWhiteList[n]&&p.blackWhiteList[n][i]||f(t,p.updateSuspiciousStatus)},whitelist(e,t){t=t||p.WHITELISTED_PERMANENTLY;const r=p.getSplitMd5(e)[0];p.forceWhiteList.value[r]=t,p.forceWhiteList.setDirty()},whitelistTemporary(e){p.whitelist(e,p.WHITELISTED_TEMPORARY)},markAsSafe(e){p.whitelist(e,p.WHITELISTED_SAFE)},getUrlWhitelistStatus(e){const t=p.getSplitMd5(e)[0];return p.forceWhiteList.value[t]||p.WHITELISTED_NONE},isInWhitelist:e=>p.getUrlWhitelistStatus(e)!==p.WHITELISTED_NONE,removeForceWhitelist(e){const t=p.getSplitMd5(e)[0],r=p.forceWhiteList.value;t in r&&(delete r[t],p.forceWhiteList.setDirty())},clearForceWhitelist(){p.forceWhiteList.value={},p.forceWhiteList.setDirty()},clearBlackWhitelist(){p.blackWhiteList.value={},p.blackWhiteList.setDirty()},isInABTest:()=>n.default.get("cliqz-anti-phishing",!1),isAntiPhishingActive:()=>n.default.get("cliqz-anti-phishing-enabled",!0),updateSuspiciousStatus(e,t){const r=p.blackWhiteList.value,n=l(p.getSplitMd5(e),2),i=n[0],o=n[1];r[i]&&r[i][o]||(r[i]||(r[i]={}),r[i][o]=`suspicious:${t}`,p.blackWhiteList.setDirty(),function(){const e=s.default.module("human-web");for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return e.action("addDataToUrl",...r)}(e,"isMU",t).catch(()=>u.default.log("failed to update url",e)))}};var m=p;t.default=m},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=A(r(85)),i=A(r(634)),s=A(r(360)),o=A(r(33)),a=A(r(176)),g=A(r(635));function A(e){return e&&e.__esModule?e:{default:e}}function u(e,t,r,n,i,s,o){try{var a=e[s](o),g=a.value}catch(e){return void r(e)}a.done?t(g):Promise.resolve(g).then(n,i)}function I(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var s=e.apply(t,r);function o(e){u(s,n,i,o,a,"next",e)}function a(e){u(s,n,i,o,a,"throw",e)}o(void 0)}))}}var C=(0,n.default)({offersModule:o.default.module("offers-v2"),core:o.default.module("core"),pageCache:new a.default(10),requiresServices:["pacemaker"],init(){var e=this;return I((function*(){e.contentCategoryManager=new i.default,yield e.contentCategoryManager.init()}))()},unload(){this.contentCategoryManager.unload()},events:{"content:dom-ready":function(e,t){s.default.debug(`Encounter url ${e}`);const r=this.actions.getRules({url:e}).payload;if(s.default.debug("payload from getRules",r),r.categories)return s.default.debug("Found cateories from cache",e,r),void this.actions.handleCategories({categories:r.categories,fromContent:!1},{url:e});r.rules&&(s.default.debug(`Send rules to page ${e}`,r.rules),this.core.action("callContentAction","myoffrz-helper","rulesFromBackground",{windowId:t.tab.id},r))}},extractCategroyFromElement(e){if(!e)return[];const t=new RegExp(`[${String.fromCharCode(8250)}|>|\n]`),r=String.fromCharCode(8249),n=e.textContent.trim();if(n.indexOf(r)>-1)return s.default.warn("Unexpected symbol in page refetch"),[];let i=n.split(t).map(e=>e.trim()).filter(e=>""!==e).join(" > ");return i.startsWith("in ")&&(i=i.slice(3)),[i]},actions:{getRules(e){let t=e.url;const r=this.contentCategoryManager.getRules(t),n=r.styles;return{payload:{productId:r.productId,categories:r.categories,prefix:r.prefix,rules:n}}},handleCategories(e,t){var r=this;let n=e.categories,i=e.fromContent,o=e.titles,a=e.linkIds,A=e.productId,u=e.prefix,C=e.fetchUrl,l=e.rules,c=e.price;return I((function*(){if(s.default.debug("handleCategories",n,i,o,a,A,t.url),C&&i&&(!n||0===n.length)&&l){const e=(0,g.default)().createHTMLDocument("New Document").createElement("html"),t=yield fetch(C);e.innerHTML=yield t.text(),yield Promise.all(l.map(function(){var t=I((function*(t){const i=e.querySelector(t),s=yield r.extractCategroyFromElement(i);n=n.concat(s)}));return function(e){return t.apply(this,arguments)}}())),n=[...new Set(n)],s.default.debug("Categoires after refetch",n)}i&&(s.default.log(`Extracted from page ${t.url}`,n,o,a),0===n.length?(n=r.contentCategoryManager.getCategory({titles:o,linkIds:a}),s.default.debug("Getting categories from cache",n)):A&&(s.default.debug("Caching result"),r.contentCategoryManager.cacheCategories({categories:n,titles:o,productId:A,url:t.url})),t.tab&&t.tab.id&&r.pageCache.set(t.tab.id,{categories:n,price:c})),n.length>0&&r.offersModule.action("onContentCategories",{categories:n,prefix:u,url:t.url})}))()},getPageCache(e){return this.pageCache.get(e.tab.id)||{}}}});t.default=C},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=A(r(124)),i=A(r(159)),s=A(r(28)),o=A(r(344)),a=A(r(360)),g=A(r(44));function A(e){return e&&e.__esModule?e:{default:e}}function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function I(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(r,!0).forEach((function(t){C(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function C(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l(e,t,r,n,i,s,o){try{var a=e[s](o),g=a.value}catch(e){return void r(e)}a.done?t(g):Promise.resolve(g).then(n,i)}function c(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var s=e.apply(t,r);function o(e){l(s,n,i,o,a,"next",e)}function a(e){l(s,n,i,o,a,"throw",e)}o(void 0)}))}}const d=6e4,h=60*d,f=24*h;t.default=class{constructor(){this.cache={},this.storage=new o.default("category"),this.filtersData={},this.engine=null,this.id2pattern=new Map,this.resetEngine(),this.loader=new n.default(["myoffrz-helper","category-pattern.json"],{cron:24*h,updateInterval:30*d,dataType:"json",remoteURL:`${s.default.settings.CDN_BASEURL}/offers/category/category-pattern.json`})}resetEngine(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";const t=i.default.parseFilters(e,{debug:!0,loadCosmeticFilters:!1}).networkFilters;this.id2pattern=new Map(t.map(e=>[e.getId(),e.rawLine])),t.forEach(e=>{e.rawLine=void 0}),this.engine=new i.default.FiltersEngine({networkFilters:t,config:new i.default.Config({enableOptimizations:!1})})}init(){var e=this;return c((function*(){e.loader.onUpdate(e.updatePatterns.bind(e));const t=yield e.loader.load();e.updatePatterns(t),yield e.storage.init(),e.cache=e.storage.get("cache")||{},e.clearCacheInterval=g.default.everyHour(e.clearCache.bind(e))}))()}unload(){var e=this;return c((function*(){e.loader.stop(),yield e.storage.set("cache",e.cache),e.storage.unload(),g.default.clearTimeout(e.clearCacheInterval),e.clearCacheInterval=null}))()}clearCache(){const e=Date.now();return Object.keys(this.cache).forEach(t=>{e-this.cache[t].ts>7*f&&delete this.cache[t]}),this.storage.set("cache",this.cache)}getRules(e){a.default.debug(`check rules for ${e}`);const t={styles:null,productId:null},r=this.engine.match(i.default.makeRequest({url:e,type:"script",sourceUrl:e}));if(r.match){const n=this.filtersData[this.id2pattern.get(r.filter.getId())];if(a.default.log(`found rules for ${e}`,r.filter,n),n){const r=n.patterns,i=n.productIdRegex,s=n.prefix;if(i){const r=new RegExp(i).exec(e);if(r){const e=r[1];if(a.default.debug(`product id is ${e}`),t.productId=e,e in this.cache){return I({},t,{categories:this.cache[e].value,prefix:s})}}}return I({},t,{styles:r,prefix:s})}}return t}getCategory(e){let t=e.titles,r=e.linkIds,n=[];return t&&(r=r.concat(t.map(e=>{let t=(this.cache[e]||{}).value;return!t&&e.indexOf(",")>-1&&(t=(this.cache[e.split(",")[0]]||{}).value),t}).filter(e=>null!==e||void 0!==e))),r.forEach(e=>{n=n.concat((this.cache[e]||{value:[]}).value)}),n}updatePatterns(e){this.resetEngine(Object.keys(e).join("\n")),this.filtersData=e}cacheCategories(e){let t=e.categories,r=e.titles,n=e.productId;return n&&t.length>0&&(this.cache[n]={value:t,ts:Date.now()}),1===r.length&&(this.cache[r[0]]={value:n,ts:Date.now()}),this.storage.set("cache",this.cache)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=
/*!
 * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */
function(){return(new Document).implementation}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=g(r(85)),i=r(84),s=g(r(39)),o=g(r(33)),a=r(227);function g(e){return e&&e.__esModule?e:{default:e}}function A(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?A(r,!0).forEach((function(t){I(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function I(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var C=(0,n.default)({core:o.default.module("core"),init(){},unload(){},actions:{push(e){let t=e.target,r=e.data;(0,a.getActiveTab)().then(e=>{let n=e.id;return this.core.action("callContentAction","popup-notification","renderBanner",{windowId:n},u({},r,{config:u({},r.config,{baseUrl:(0,i.getResourceUrl)("popup-notification/")}),target:t}))})},pop(e){let t=e.target,r=e.data;return s.default.pub("popup-notification:pop",{target:t,data:r}),{target:t,data:r}},log(e){let t=e.target,r=e.data;return s.default.pub("popup-notification:log",{target:t,data:r}),{target:t,data:r}},openAndClosePinnedURL(e){s.default.pub("popup-notification:open-and-close-pinned-URL",e)}}});t.default=C},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=c(r(85)),i=c(r(33)),s=c(r(200)),o=r(102),a=c(r(28)),g=c(r(19)),A=c(r(638)),u=function(e){if(e&&e.__esModule)return e;var t=l();if(t&&t.has(e))return t.get(e);var r={};if(null!=e){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var s=n?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(r,i,s):r[i]=e[i]}}r.default=e,t&&t.set(e,r);return r}(r(639)),I=c(r(292)),C=r(330);function l(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return l=function(){return e},e}function c(e){return e&&e.__esModule?e:{default:e}}function d(e,t,r,n,i,s,o){try{var a=e[s](o),g=a.value}catch(e){return void r(e)}a.done?t(g):Promise.resolve(g).then(n,i)}function h(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var s=e.apply(t,r);function o(e){d(s,n,i,o,a,"next",e)}function a(e){d(s,n,i,o,a,"throw",e)}o(void 0)}))}}const f=a.default.settings.INSIGHTS_INTERNAL;function p(e){return e.reduce((e,t)=>{const r=e;if(t){const e=t.cookies,n=t.fingerprints,i=t.ads;r.cookies+=e,r.fingerprints+=n,r.ads+=i}return r},{cookies:0,fingerprints:0,ads:0})}function m(e){let t=e.bugs,r=e.others;return p([p(Object.values(t)),p(Object.values(r))])}const _=3e4;function y(e,t){const r=Math.min(e,_);return Math.round(r*Math.pow(1.025,t)-r)}var b=(0,n.default)({antitracking:i.default.module("antitracking"),adblocker:i.default.module("adblocker"),hpn:i.default.module("hpnv2"),requiresServices:["domainInfo"],init(){var e=this;return h((function*(){if(e.api=new A.default,e.db=new u.default,e.antitrackStaged=new Map,e.adblockerStaged=new Map,e.pageInfo=new Map,e.tabStagingState=new Map,yield Promise.all([e.api.init(),e.db.init()]),f){try{e.tabInfo=yield e.antitracking.action("getTabTracker")}catch(e){I.default.debug("no antitracking available")}i.default.module("webrequest-pipeline").action("addPipelineStep","onBeforeRequest",{name:"insights.onTabChanged",spec:"collect",before:["antitracking.onBeforeRequest","adblocker"],fn:t=>{t.tabId>-1&&"main_frame"===t.type&&e.onPageEnd(t)}})}}))()},onPageEnd(e){var t=this;let r=e.tabId,n=e.isPrivate;return h((function*(){if(n)return null;if(f){const e=yield t.getStatsForTab(r,{stageResult:!1});return t.pageInfo.delete(r),t.tabStagingState.delete(r),t.db.insertPageStats(r,e)}return t.pageInfo.delete(r),null}))()},unload(){this.db.unload(),this.api.unload()},getAntitrackingReport(e,t){var r=this;return h((function*(){if(r.antitrackStaged.has(e)){const n=r.antitrackStaged.get(e),i=n.url,s=n.host,o=n.report;if(r.antitrackStaged.delete(e),I.default.info("attrack report",s,t,i),s===t)return o}return r.antitracking.action("getGhosteryStats",e)}))()},getAdblockerReport(e,t){var r=this;return h((function*(){if(r.adblockerStaged.has(e)){const n=r.adblockerStaged.get(e),i=n.url,s=n.host,o=n.report;if(r.adblockerStaged.delete(e),I.default.info("adb report",s,t,i),t.indexOf(s)>-1)return o}return r.adblocker.action("getGhosteryStats",e)}))()},getStatsForTab(e){var t=this;let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{stageResult:!0};return h((function*(){const n=r.stageResult;if(f){if(t.pageInfo.has(e)||t.tabInfo&&t.tabInfo._active[e]){const r=t.pageInfo.get(e)||{host:t.tabInfo._active[e].hostname,timestamp:t.tabInfo._active[e].s},i=yield t.aggregatePageStats(e,r,[],{});return n&&(t.tabStagingState.set(e,Date.now()),yield t.db.stagePageStats(e,i)),i}return{}}return{}}))()},aggregatePageStats(e,t,r,n){var i=this;return h((function*(){const a=function(e){if(!e.pageTiming||!e.pageTiming.timing){const t=Date.now();return t-(e.firstLoadTimestamp||e.timestamp||t)}const t=e.pageTiming;return(t.timing.loadEventEnd||Date.now())-t.timing.navigationStart}(t),A=r.filter(e=>e.blocked).length,u=r.reduce((e,t)=>t.sources.filter(e=>e.blocked).length+e,0),I=i.getAntitrackingReport(e,t.host),C=i.getAdblockerReport(e,t.host),l=yield Promise.all([I.then(m,()=>{}),C.then(m,()=>{})]).then(p),c=l.cookies,d=l.fingerprints;let h=l.ads;if(!i.adblocker.isPresent()){h+=Object.keys(n).map(e=>s.default.getBugOwner(e)).filter(e=>"advertising"===e.cat).length}const f=new Set,_=yield C.catch(()=>({bugs:{},others:{}})).then(e=>{const t=new Set(Object.keys(n).filter(e=>n[e].blocked));return Object.keys(e.bugs).forEach(e=>t.add(e)),[...t].forEach(e=>f.add(s.default.getAppForBug(e))),f.size+Object.keys(e.others).length}),b=yield I.catch(()=>({bugs:{},others:{}})).then(e=>{const t=new Set(Object.keys(n));Object.keys(e.bugs).forEach(e=>t.add(e));const r=Object.values(e.others).map(e=>e.wtm);return new Set([...t].map(e=>{const t=s.default.getAppForBug(e);return s.default.getAppOwner(t).wtm||t}).concat(r).filter(e=>!!e))}),v=r.filter(e=>e.blocked||f.has(e.id)).reduce((e,r)=>{let n=r.id,i=r.sources;const a=s.default.getAppOwner(n);if(a.wtm)e.push(a);else{const r=[...new Set(i.map(e=>{let t=e.src;return(0,o.extractHostname)(t)}))],n=r.map(e=>s.default.getDomainOwner(e));r.forEach((r,i)=>{n[i].wtm&&!(0,o.sameGeneralDomain)(t.host,r)&&e.push(n[i])})}return e},[]);let w=0;if(g.default.get("insights.datasaved",!1)){const e=yield i.api.getTrackerInfo(v.map(e=>e.wtm));w=Math.round(Object.values(e).reduce((e,t)=>e+(t&&t.overview?t.overview.content_length:0),0))}return{loadTime:a,timeSaved:y(a,_),trackersDetected:b.size,trackersBlocked:A,trackerRequestsBlocked:u,cookiesBlocked:c,fingerprintsRemoved:d,adsBlocked:h,dataSaved:w,trackers:b}}))()},events:{"core:tab_close":function(e){this.onPageEnd(e)},"antitracking:tracker-report":function(e){let t=e.tabId,r=e.url,n=e.host,i=e.report;f&&this.antitrackStaged.set(t,{url:r,host:n,report:i})},"adblocker:tracker-report":function(e){let t=e.tabId,r=e.url,n=e.host,i=e.report;f&&this.adblockerStaged.set(t,{url:r,host:n,report:i})}},actions:{pushGhosteryPageStats(e,t,r,n){var i=this;return h((function*(){I.default.debug(`page stats were pushed for tab ${e} - ${t.host}`);const s=yield i.aggregatePageStats(e,t,r,n);return yield i.db.insertPageStats(e,s),s}))()},getGhosteryPageStats(e,t,r,n){var i=this;return h((function*(){const s=yield i.aggregatePageStats(e,t,r,n);return s.trackers=[...s.trackers],s.trackersDetailed=s.trackers.map(i.actions.getTrackerDetails),s}))()},getDashboardStats(e,t){var r=this;return h((function*(){const n=r.db.getDashboardStats(e);let i={};if(!t&&C.query){const e=(yield(0,C.query)({})).filter(e=>{return e.url.startsWith("http")});i=(yield Promise.all(e.map(e=>{let t=e.id;return r.getStatsForTab(t)}))).reduce(u.mergeStats,i)}else if(t){i=(yield Promise.all(t.map(function(){var e=h((function*(e){let t=e.tabId,n=e.pageInfo,i=e.apps,s=e.bugs;const o=yield r.aggregatePageStats(t,n,i,s);return r.db.stagePageStats(t,o),o}));return function(t){return e.apply(this,arguments)}}()))).reduce(u.mergeStats,i)}const s=(0,u.mergeStats)(i,yield n);return s.trackers&&(s.trackersDetailed=s.trackers.map(r.actions.getTrackerDetails)),s}))()},insertSearchStats(e){var t=this;return h((function*(){t.db.insertStats("search",e)}))()},getSearchTimeSaved(){var e=this;return h((function*(){const t=yield e.db.getSearchStats();return 1e3*(t.historySelected||0)+3e3*(t.organicSelected||0)+4e3*(t.speedDialClicked||0)+5e3*(t.smartCliqzTriggered||0)}))()},getStatsTimeline(e,t,r,n){var i=this;return h((function*(){return i.db.getStatsTimeline(e,t,r,n)}))()},getStatsForDay(e){var t=this;return h((function*(){return t.db.getStatsForDay(e)}))()},getAllDays(){var e=this;return h((function*(){return e.db.getAllDays()}))()},clearData(){var e=this;return h((function*(){return e.db.clearData()}))()},recordPageInfo(e,t){var r=this;const n=t.tab.id;this.pageInfo.set(n,e),f&&[1e3,7e3,3e4].forEach(e=>{setTimeout(h((function*(){const e=Date.now(),t=r.tabStagingState.get(n);(!t||e-t>5e3)&&(I.default.info(`saving state of tab: ${n}`),yield r.getStatsForTab(n,{stageResult:!0}))})),e)})},getTrackerDetails:e=>s.default.getTrackerDetails(e)}});t.default=b},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=g(r(113)),i=r(68),s=g(r(103)),o=g(r(28)),a=g(r(292));function g(e){return e&&e.__esModule?e:{default:e}}function A(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function I(e,t,r,n,i,s,o){try{var a=e[s](o),g=a.value}catch(e){return void r(e)}a.done?t(g):Promise.resolve(g).then(n,i)}function C(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var s=e.apply(t,r);function o(e){I(s,n,i,o,a,"next",e)}function a(e){I(s,n,i,o,a,"throw",e)}o(void 0)}))}}const l=o.default.settings.WTM_API;function c(e,t){const r=e;return r[t.id]=t,r}t.default=class{init(){var e=this;return C((function*(){const t=yield(0,n.default)();e.cache=new t("wtm-api-cache"),e.cache.version(1).stores({trackers:"id, day"})}))()}unload(){null!==this.cache&&(this.cache.close(),this.cache=null)}getTrackerInfo(e){var t=this;return C((function*(){const r=(yield t.cache.trackers.where("id").anyOf(e).toArray()).reduce(c,{}),n=e.filter(e=>!r[e]);return n.length>0&&Object.assign(r,yield t.fetchTrackerInfo(n)),t._checkShouldPruneTrackerData(r),r}))()}fetchTrackerInfo(e){var t=this;return C((function*(){const r=[...new Set(e)];a.default.debug(`Fetching trackers info from WTM: ${r}`);const n=(0,s.default)().format("YYYY-MM-DD"),o=yield Promise.all(r.map(function(){var e=C((function*(e){const t=`${l}trackers/global/${e}.json`;try{const e=yield(0,i.fetch)(t),r=yield e.json();return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?A(r,!0).forEach((function(t){u(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({day:n},r)}catch(t){return a.default.warn(`Error fetching from WTM API for tracker ${e}`,t),{id:e,error:!0}}}));return function(t){return e.apply(this,arguments)}}()));return yield t.cache.trackers.bulkPut(o.filter(e=>!e.error)),o.reduce(c,{})}))()}_checkShouldPruneTrackerData(e){var t=this;return C((function*(){const r=(0,s.default)().subtract(7,"days").format("YYYY-MM-DD");Object.values(e).some(e=>e.day<r)&&(a.default.info("Running tracker data prune"),yield t.cache.trackers.where("day").below(r).delete())}))()}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mergeStats=l,t.default=void 0;var n=o(r(113)),i=o(r(103)),s=o(r(292));function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function g(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function A(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},s=Object.keys(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function u(e,t,r,n,i,s,o){try{var a=e[s](o),g=a.value}catch(e){return void r(e)}a.done?t(g):Promise.resolve(g).then(n,i)}function I(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var s=e.apply(t,r);function o(e){u(s,n,i,o,a,"next",e)}function a(e){u(s,n,i,o,a,"throw",e)}o(void 0)}))}}const C="YYYY-MM-DD";function l(e,t){const r=e;return Object.keys(t).forEach(e=>{r[e]="day"===e?r[e]>t[e]?r[e]:t[e]:"trackers"===e?[...new Set([...r[e]||[],...t[e]||[]])]:(r[e]||0)+t[e]}),r}t.default=class{init(){var e=this;return I((function*(){const t=yield(0,n.default)();e.db=new t("insights"),e.db.version(3).stores({daily:"day",search:"day",tabs:"tabId"}),e.db.version(2).stores({daily:"day",search:"day"}),e.db.version(1).stores({daily:"day"});const r=yield e.db.tabs.toArray();yield e.db.transaction("rw",[e.db.daily,e.db.tabs],I((function*(){r.forEach(function(){var t=I((function*(t){let r=t.tabId,n=A(t,["tabId"]);yield e.insertStats("daily",n,n.day),yield e.db.tabs.delete(r)}));return function(e){return t.apply(this,arguments)}}())})))}))()}unload(){null!==this.db&&(this.db.close(),this.db=null)}insertStats(e,t){var r=this;let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;return I((function*(){const o=(0,i.default)(n).format(C);yield r.db.transaction("rw",r.db[e],I((function*(){const n=(yield r.db[e].get(o))||{day:o};l(n,t),"daily"===e&&l(n,{pages:1}),s.default.debug("Aggregated stats for day:",n),yield r.db[e].put(n)})))}))()}insertPageStats(e,t){var r=this;return I((function*(){return r.db.transaction("rw",[r.db.daily,r.db.tabs],I((function*(){return r.db.tabs.delete(e),r.insertStats("daily",t)})))}))()}stagePageStats(e,t){return this.db.tabs.put(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(r,!0).forEach((function(t){g(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({tabId:e,day:(0,i.default)().format(C)},t))}getSearchStats(){var e=this;return I((function*(){return(yield e.db.search.toArray()).reduce(l,{})}))()}getDashboardStats(e){var t=this;return I((function*(){if("day"===e)return t.getStatsForDay();let r=[];return(r="week"===e?yield t.getStatsTimeline((0,i.default)().subtract(7,"days"),(0,i.default)(),!0,!0):"month"===e?yield t.getStatsTimeline((0,i.default)().subtract(30,"days"),(0,i.default)(),!0,!0):yield t.db.daily.toArray()).reduce(l,{})}))()}getStatsForDay(e){var t=this;return I((function*(){return(yield t.db.daily.get((0,i.default)(e).format(C)))||{day:e}}))()}getStatsTimeline(e,t){let r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return this.db.daily.where("day").between((0,i.default)(e).format(C),(0,i.default)(t).format(C),r,n).toArray()}getAllDays(){return this.db.daily.orderBy("day").keys()}clearData(){var e=this;return I((function*(){return e.db.daily.toCollection().delete()}))()}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i=(n=r(228))&&n.__esModule?n:{default:n};t.default=
/*!
 * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */
class{constructor(e){this._initializer=e}init(e){return this._readyDefer?this._readyDefer.promise:(this._readyDefer=new i.default,Promise.resolve().then(()=>this._initializer(e)).then(e=>{this._readyDefer.resolve(),this.api=e},e=>{throw this._readyDefer.reject(e),e}),this._readyDefer.promise)}unload(){this._readyDefer&&this._initializer.unload&&this._initializer.unload()}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setApp=function(e){(0,n.setGlobal)(e)},t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t=i();if(t&&t.has(e))return t.get(e);var r={};if(null!=e){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){var o=n?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(r,s,o):r[s]=e[s]}}r.default=e,t&&t.set(e,r);return r}
/*!
 * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */(r(33));function i(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return i=function(){return e},e}var s={inject:n.default};t.default=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i=(n=r(19))&&n.__esModule?n:{default:n};function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(r,!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}t.default=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o({},e,{},t,{get RICH_HEADER(){return i.default.get("override.RICH_HEADER",e.RICH_HEADER)},set RICH_HEADER(e){i.default.set("override.RICH_HEADER",e)},get RESULTS_PROVIDER(){return i.default.get("override.RESULTS_PROVIDER",e.RESULTS_PROVIDER)},set RESULTS_PROVIDER(e){i.default.set("override.RESULTS_PROVIDER",e)},get RESULTS_PROVIDER_LOG(){return i.default.get("override.RESULTS_PROVIDER_LOG",e.RESULTS_PROVIDER_LOG)},set RESULTS_PROVIDER_LOG(e){i.default.set("override.RESULTS_PROVIDER_LOG",e)}})}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return u.apply(this,arguments)};var n=o(r(19)),i=o(r(43)),s=o(r(28));function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t,r,n,i,s,o){try{var a=e[s](o),g=a.value}catch(e){return void r(e)}a.done?t(g):Promise.resolve(g).then(n,i)}const g="migrationVersion",A=[()=>n.default.clear("historyLookupEnabled"),()=>n.default.clear("modules.dropdown.enabled"),()=>Object.keys(s.default.default_prefs||{}).forEach(e=>{n.default.get(e)===s.default.default_prefs[e]&&n.default.clear(e)}),()=>{const e=n.default.get("full_distribution",null,"extensions.cliqz.");null!==e&&n.default.set("full_distribution",e)}];function u(){var e;return e=function*(){let e=Number(n.default.get(g,0));i.default.log("App",`Migration started with version ${e}`);try{for(;e<A.length;){const t=A[e];yield t(),e+=1}}catch(t){i.default.error("App",`Migration #${e+1} failed`,t)}finally{i.default.log("App",`Migration finished with version ${e}`),n.default.set(g,e)}},(u=function(){var t=this,r=arguments;return new Promise((function(n,i){var s=e.apply(t,r);function o(e){a(s,n,i,o,g,"next",e)}function g(e){a(s,n,i,o,g,"throw",e)}o(void 0)}))}).apply(this,arguments)}},function(e,t,r){var n=r(645),i=r(658)((function(e,t,r){return t=t.toLowerCase(),e+(r?n(t):t)}));e.exports=i},function(e,t,r){var n=r(237),i=r(651);e.exports=function(e){return i(n(e).toLowerCase())}},function(e,t,r){var n=r(293),i=r(647),s=r(238),o=r(648),a=1/0,g=n?n.prototype:void 0,A=g?g.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(s(t))return i(t,e)+"";if(o(t))return A?A.call(t):"";var r=t+"";return"0"==r&&1/t==-a?"-0":r}},function(e,t){e.exports=function(e,t){for(var r=-1,n=null==e?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}},function(e,t,r){var n=r(209),i=r(178),s="[object Symbol]";e.exports=function(e){return"symbol"==typeof e||i(e)&&n(e)==s}},function(e,t,r){var n=r(293),i=Object.prototype,s=i.hasOwnProperty,o=i.toString,a=n?n.toStringTag:void 0;e.exports=function(e){var t=s.call(e,a),r=e[a];try{e[a]=void 0;var n=!0}catch(e){}var i=o.call(e);return n&&(t?e[a]=r:delete e[a]),i}},function(e,t){var r=Object.prototype.toString;e.exports=function(e){return r.call(e)}},function(e,t,r){var n=r(652)("toUpperCase");e.exports=n},function(e,t,r){var n=r(653),i=r(362),s=r(655),o=r(237);e.exports=function(e){return function(t){t=o(t);var r=i(t)?s(t):void 0,a=r?r[0]:t.charAt(0),g=r?n(r,1).join(""):t.slice(1);return a[e]()+g}}},function(e,t,r){var n=r(654);e.exports=function(e,t,r){var i=e.length;return r=void 0===r?i:r,!t&&r>=i?e:n(e,t,r)}},function(e,t){e.exports=function(e,t,r){var n=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(r=r>i?i:r)<0&&(r+=i),i=t>r?0:r-t>>>0,t>>>=0;for(var s=Array(i);++n<i;)s[n]=e[n+t];return s}},function(e,t,r){var n=r(656),i=r(362),s=r(657);e.exports=function(e){return i(e)?s(e):n(e)}},function(e,t){e.exports=function(e){return e.split("")}},function(e,t){var r="[\\ud800-\\udfff]",n="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",i="\\ud83c[\\udffb-\\udfff]",s="[^\\ud800-\\udfff]",o="(?:\\ud83c[\\udde6-\\uddff]){2}",a="[\\ud800-\\udbff][\\udc00-\\udfff]",g="(?:"+n+"|"+i+")"+"?",A="[\\ufe0e\\ufe0f]?"+g+("(?:\\u200d(?:"+[s,o,a].join("|")+")[\\ufe0e\\ufe0f]?"+g+")*"),u="(?:"+[s+n+"?",n,o,a,r].join("|")+")",I=RegExp(i+"(?="+i+")|"+u+A,"g");e.exports=function(e){return e.match(I)||[]}},function(e,t,r){var n=r(659),i=r(660),s=r(663),o=RegExp("[']","g");e.exports=function(e){return function(t){return n(s(i(t).replace(o,"")),e,"")}}},function(e,t){e.exports=function(e,t,r,n){var i=-1,s=null==e?0:e.length;for(n&&s&&(r=e[++i]);++i<s;)r=t(r,e[i],i,e);return r}},function(e,t,r){var n=r(661),i=r(237),s=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,o=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]","g");e.exports=function(e){return(e=i(e))&&e.replace(s,n).replace(o,"")}},function(e,t,r){var n=r(662)({"":"A","":"A","":"A","":"A","":"A","":"A","":"a","":"a","":"a","":"a","":"a","":"a","":"C","":"c","":"D","":"d","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"N","":"n","":"O","":"O","":"O","":"O","":"O","":"O","":"o","":"o","":"o","":"o","":"o","":"o","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"Y","":"y","":"y","":"Ae","":"ae","":"Th","":"th","":"ss","":"A","":"A","":"A","":"a","":"a","":"a","":"C","":"C","":"C","":"C","":"c","":"c","":"c","":"c","":"D","":"D","":"d","":"d","":"E","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"e","":"G","":"G","":"G","":"G","":"g","":"g","":"g","":"g","":"H","":"H","":"h","":"h","":"I","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"i","":"J","":"j","":"K","":"k","":"k","":"L","":"L","":"L","":"L","":"L","":"l","":"l","":"l","":"l","":"l","":"N","":"N","":"N","":"N","":"n","":"n","":"n","":"n","":"O","":"O","":"O","":"o","":"o","":"o","":"R","":"R","":"R","":"r","":"r","":"r","":"S","":"S","":"S","":"S","":"s","":"s","":"s","":"s","":"T","":"T","":"T","":"t","":"t","":"t","":"U","":"U","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"u","":"u","":"W","":"w","":"Y","":"y","":"Y","":"Z","":"Z","":"Z","":"z","":"z","":"z","":"IJ","":"ij","":"Oe","":"oe","":"'n","":"s"});e.exports=n},function(e,t){e.exports=function(e){return function(t){return null==e?void 0:e[t]}}},function(e,t,r){var n=r(664),i=r(665),s=r(237),o=r(666);e.exports=function(e,t,r){return e=s(e),void 0===(t=r?void 0:t)?i(e)?o(e):n(e):e.match(t)||[]}},function(e,t){var r=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;e.exports=function(e){return e.match(r)||[]}},function(e,t){var r=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;e.exports=function(e){return r.test(e)}},function(e,t){var r="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",n="["+r+"]",i="\\d+",s="[\\u2700-\\u27bf]",o="[a-z\\xdf-\\xf6\\xf8-\\xff]",a="[^\\ud800-\\udfff"+r+i+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",g="(?:\\ud83c[\\udde6-\\uddff]){2}",A="[\\ud800-\\udbff][\\udc00-\\udfff]",u="[A-Z\\xc0-\\xd6\\xd8-\\xde]",I="(?:"+o+"|"+a+")",C="(?:"+u+"|"+a+")",l="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",c="[\\ufe0e\\ufe0f]?"+l+("(?:\\u200d(?:"+["[^\\ud800-\\udfff]",g,A].join("|")+")[\\ufe0e\\ufe0f]?"+l+")*"),d="(?:"+[s,g,A].join("|")+")"+c,h=RegExp([u+"?"+o+"+(?:['](?:d|ll|m|re|s|t|ve))?(?="+[n,u,"$"].join("|")+")",C+"+(?:['](?:D|LL|M|RE|S|T|VE))?(?="+[n,u+I,"$"].join("|")+")",u+"?"+I+"+(?:['](?:d|ll|m|re|s|t|ve))?",u+"+(?:['](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",i,d].join("|"),"g");e.exports=function(e){return e.match(h)||[]}},function(e,t){e.exports=function(e){return null===e}},function(e,t,r){var n=r(363),i=r(675),s=r(239);e.exports=function(e){return s(e)?n(e):i(e)}},function(e,t){e.exports=function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}},function(e,t,r){var n=r(209),i=r(178),s="[object Arguments]";e.exports=function(e){return i(e)&&n(e)==s}},function(e,t){e.exports=function(){return!1}},function(e,t,r){var n=r(209),i=r(368),s=r(178),o={};o["[object Float32Array]"]=o["[object Float64Array]"]=o["[object Int8Array]"]=o["[object Int16Array]"]=o["[object Int32Array]"]=o["[object Uint8Array]"]=o["[object Uint8ClampedArray]"]=o["[object Uint16Array]"]=o["[object Uint32Array]"]=!0,o["[object Arguments]"]=o["[object Array]"]=o["[object ArrayBuffer]"]=o["[object Boolean]"]=o["[object DataView]"]=o["[object Date]"]=o["[object Error]"]=o["[object Function]"]=o["[object Map]"]=o["[object Number]"]=o["[object Object]"]=o["[object RegExp]"]=o["[object Set]"]=o["[object String]"]=o["[object WeakMap]"]=!1,e.exports=function(e){return s(e)&&i(e.length)&&!!o[n(e)]}},function(e,t){e.exports=function(e){return function(t){return e(t)}}},function(e,t,r){(function(e){var n=r(361),i=t&&!t.nodeType&&t,s=i&&"object"==typeof e&&e&&!e.nodeType&&e,o=s&&s.exports===i&&n.process,a=function(){try{var e=s&&s.require&&s.require("util").types;return e||o&&o.binding&&o.binding("util")}catch(e){}}();e.exports=a}).call(this,r(90)(e))},function(e,t,r){var n=r(294),i=r(676),s=Object.prototype.hasOwnProperty;e.exports=function(e){if(!n(e))return i(e);var t=[];for(var r in Object(e))s.call(e,r)&&"constructor"!=r&&t.push(r);return t}},function(e,t,r){var n=r(369)(Object.keys,Object);e.exports=n},function(e,t,r){var n=r(678),i=r(725)((function(e,t,r){n(e,t,r)}));e.exports=i},function(e,t,r){var n=r(679),i=r(371),s=r(708),o=r(710),a=r(161),g=r(375),A=r(374);e.exports=function e(t,r,u,I,C){t!==r&&s(r,(function(s,g){if(C||(C=new n),a(s))o(t,r,g,u,e,I,C);else{var l=I?I(A(t,g),s,g+"",t,r,C):void 0;void 0===l&&(l=s),i(t,g,l)}}),g)}},function(e,t,r){var n=r(240),i=r(685),s=r(686),o=r(687),a=r(688),g=r(689);function A(e){var t=this.__data__=new n(e);this.size=t.size}A.prototype.clear=i,A.prototype.delete=s,A.prototype.get=o,A.prototype.has=a,A.prototype.set=g,e.exports=A},function(e,t){e.exports=function(){this.__data__=[],this.size=0}},function(e,t,r){var n=r(241),i=Array.prototype.splice;e.exports=function(e){var t=this.__data__,r=n(t,e);return!(r<0)&&(r==t.length-1?t.pop():i.call(t,r,1),--this.size,!0)}},function(e,t,r){var n=r(241);e.exports=function(e){var t=this.__data__,r=n(t,e);return r<0?void 0:t[r][1]}},function(e,t,r){var n=r(241);e.exports=function(e){return n(this.__data__,e)>-1}},function(e,t,r){var n=r(241);e.exports=function(e,t){var r=this.__data__,i=n(r,e);return i<0?(++this.size,r.push([e,t])):r[i][1]=t,this}},function(e,t,r){var n=r(240);e.exports=function(){this.__data__=new n,this.size=0}},function(e,t){e.exports=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}},function(e,t){e.exports=function(e){return this.__data__.get(e)}},function(e,t){e.exports=function(e){return this.__data__.has(e)}},function(e,t,r){var n=r(240),i=r(370),s=r(695),o=200;e.exports=function(e,t){var r=this.__data__;if(r instanceof n){var a=r.__data__;if(!i||a.length<o-1)return a.push([e,t]),this.size=++r.size,this;r=this.__data__=new s(a)}return r.set(e,t),this.size=r.size,this}},function(e,t,r){var n=r(295),i=r(691),s=r(161),o=r(693),a=/^\[object .+?Constructor\]$/,g=Function.prototype,A=Object.prototype,u=g.toString,I=A.hasOwnProperty,C=RegExp("^"+u.call(I).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!s(e)||i(e))&&(n(e)?C:a).test(o(e))}},function(e,t,r){var n,i=r(692),s=(n=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"";e.exports=function(e){return!!s&&s in e}},function(e,t,r){var n=r(177)["__core-js_shared__"];e.exports=n},function(e,t){var r=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return r.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},function(e,t){e.exports=function(e,t){return null==e?void 0:e[t]}},function(e,t,r){var n=r(696),i=r(703),s=r(705),o=r(706),a=r(707);function g(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}g.prototype.clear=n,g.prototype.delete=i,g.prototype.get=s,g.prototype.has=o,g.prototype.set=a,e.exports=g},function(e,t,r){var n=r(697),i=r(240),s=r(370);e.exports=function(){this.size=0,this.__data__={hash:new n,map:new(s||i),string:new n}}},function(e,t,r){var n=r(698),i=r(699),s=r(700),o=r(701),a=r(702);function g(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}g.prototype.clear=n,g.prototype.delete=i,g.prototype.get=s,g.prototype.has=o,g.prototype.set=a,e.exports=g},function(e,t,r){var n=r(243);e.exports=function(){this.__data__=n?n(null):{},this.size=0}},function(e,t){e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},function(e,t,r){var n=r(243),i="__lodash_hash_undefined__",s=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(n){var r=t[e];return r===i?void 0:r}return s.call(t,e)?t[e]:void 0}},function(e,t,r){var n=r(243),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return n?void 0!==t[e]:i.call(t,e)}},function(e,t,r){var n=r(243),i="__lodash_hash_undefined__";e.exports=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=n&&void 0===t?i:t,this}},function(e,t,r){var n=r(244);e.exports=function(e){var t=n(this,e).delete(e);return this.size-=t?1:0,t}},function(e,t){e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},function(e,t,r){var n=r(244);e.exports=function(e){return n(this,e).get(e)}},function(e,t,r){var n=r(244);e.exports=function(e){return n(this,e).has(e)}},function(e,t,r){var n=r(244);e.exports=function(e,t){var r=n(this,e),i=r.size;return r.set(e,t),this.size+=r.size==i?0:1,this}},function(e,t,r){var n=r(709)();e.exports=n},function(e,t){e.exports=function(e){return function(t,r,n){for(var i=-1,s=Object(t),o=n(t),a=o.length;a--;){var g=o[e?a:++i];if(!1===r(s[g],g,s))break}return t}}},function(e,t,r){var n=r(371),i=r(711),s=r(712),o=r(715),a=r(716),g=r(364),A=r(238),u=r(718),I=r(365),C=r(295),l=r(161),c=r(719),d=r(367),h=r(374),f=r(720);e.exports=function(e,t,r,p,m,_,y){var b=h(e,r),v=h(t,r),w=y.get(v);if(w)n(e,r,w);else{var k=_?_(b,v,r+"",e,t,y):void 0,M=void 0===k;if(M){var O=A(v),S=!O&&I(v),D=!O&&!S&&d(v);k=v,O||S||D?A(b)?k=b:u(b)?k=o(b):S?(M=!1,k=i(v,!0)):D?(M=!1,k=s(v,!0)):k=[]:c(v)||g(v)?(k=b,g(b)?k=f(b):l(b)&&!C(b)||(k=a(v))):M=!1}M&&(y.set(v,k),m(k,v,p,_,y),y.delete(v)),n(e,r,k)}}},function(e,t,r){(function(e){var n=r(177),i=t&&!t.nodeType&&t,s=i&&"object"==typeof e&&e&&!e.nodeType&&e,o=s&&s.exports===i?n.Buffer:void 0,a=o?o.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var r=e.length,n=a?a(r):new e.constructor(r);return e.copy(n),n}}).call(this,r(90)(e))},function(e,t,r){var n=r(713);e.exports=function(e,t){var r=t?n(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}},function(e,t,r){var n=r(714);e.exports=function(e){var t=new e.constructor(e.byteLength);return new n(t).set(new n(e)),t}},function(e,t,r){var n=r(177).Uint8Array;e.exports=n},function(e,t){e.exports=function(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}},function(e,t,r){var n=r(717),i=r(373),s=r(294);e.exports=function(e){return"function"!=typeof e.constructor||s(e)?{}:n(i(e))}},function(e,t,r){var n=r(161),i=Object.create,s=function(){function e(){}return function(t){if(!n(t))return{};if(i)return i(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}();e.exports=s},function(e,t,r){var n=r(239),i=r(178);e.exports=function(e){return i(e)&&n(e)}},function(e,t,r){var n=r(209),i=r(373),s=r(178),o="[object Object]",a=Function.prototype,g=Object.prototype,A=a.toString,u=g.hasOwnProperty,I=A.call(Object);e.exports=function(e){if(!s(e)||n(e)!=o)return!1;var t=i(e);if(null===t)return!0;var r=u.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&A.call(r)==I}},function(e,t,r){var n=r(721),i=r(375);e.exports=function(e){return n(e,i(e))}},function(e,t,r){var n=r(722),i=r(297);e.exports=function(e,t,r,s){var o=!r;r||(r={});for(var a=-1,g=t.length;++a<g;){var A=t[a],u=s?s(r[A],e[A],A,r,e):void 0;void 0===u&&(u=e[A]),o?i(r,A,u):n(r,A,u)}return r}},function(e,t,r){var n=r(297),i=r(242),s=Object.prototype.hasOwnProperty;e.exports=function(e,t,r){var o=e[t];s.call(e,t)&&i(o,r)&&(void 0!==r||t in e)||n(e,t,r)}},function(e,t,r){var n=r(161),i=r(294),s=r(724),o=Object.prototype.hasOwnProperty;e.exports=function(e){if(!n(e))return s(e);var t=i(e),r=[];for(var a in e)("constructor"!=a||!t&&o.call(e,a))&&r.push(a);return r}},function(e,t){e.exports=function(e){var t=[];if(null!=e)for(var r in Object(e))t.push(r);return t}},function(e,t,r){var n=r(726),i=r(733);e.exports=function(e){return n((function(t,r){var n=-1,s=r.length,o=s>1?r[s-1]:void 0,a=s>2?r[2]:void 0;for(o=e.length>3&&"function"==typeof o?(s--,o):void 0,a&&i(r[0],r[1],a)&&(o=s<3?void 0:o,s=1),t=Object(t);++n<s;){var g=r[n];g&&e(t,g,n,o)}return t}))}},function(e,t,r){var n=r(376),i=r(727),s=r(729);e.exports=function(e,t){return s(i(e,t,n),e+"")}},function(e,t,r){var n=r(728),i=Math.max;e.exports=function(e,t,r){return t=i(void 0===t?e.length-1:t,0),function(){for(var s=arguments,o=-1,a=i(s.length-t,0),g=Array(a);++o<a;)g[o]=s[t+o];o=-1;for(var A=Array(t+1);++o<t;)A[o]=s[o];return A[t]=r(g),n(e,this,A)}}},function(e,t){e.exports=function(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}},function(e,t,r){var n=r(730),i=r(732)(n);e.exports=i},function(e,t,r){var n=r(731),i=r(372),s=r(376),o=i?function(e,t){return i(e,"toString",{configurable:!0,enumerable:!1,value:n(t),writable:!0})}:s;e.exports=o},function(e,t){e.exports=function(e){return function(){return e}}},function(e,t){var r=800,n=16,i=Date.now;e.exports=function(e){var t=0,s=0;return function(){var o=i(),a=n-(o-s);if(s=o,a>0){if(++t>=r)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}},function(e,t,r){var n=r(242),i=r(239),s=r(366),o=r(161);e.exports=function(e,t,r){if(!o(r))return!1;var a=typeof t;return!!("number"==a?i(r)&&s(t,r.length):"string"==a&&t in r)&&n(r[t],e)}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,r){"use strict";r.r(t);var n=r(22),i=r(46),s=r.n(i),o=r(35),a=r(47),g=r(77),A=r(88),u=r(3),I=r(4),C=r(12),l=r(2);const{BROWSER_INFO:c,CMP_SUB_DOMAIN:d,EXTENSION_VERSION:h}=I.a;var f=new class{constructor(){this.CMP_DATA=[]}fetchCMPData(){if(!u.a.show_cmp)return Promise.resolve(!1);const e=`https://${d}.ghostery.com/check\n\t\t\t?os=${encodeURIComponent(c.os)}\n\t\t\t&offers=${encodeURIComponent(u.a.enable_offers?"1":"0")}\n\t\t\t&hw=${encodeURIComponent(u.a.enable_human_web?"1":"0")}\n\t\t\t&install_date=${encodeURIComponent(u.a.install_date)}\n\t\t\t&ir=${encodeURIComponent(u.a.install_random_number)}\n\t\t\t&gv=${encodeURIComponent(h)}\n\t\t\t&si=${encodeURIComponent(u.a.account?"1":"0")}\n\t\t\t&ua=${encodeURIComponent(c.name)}\n\t\t\t&lc=${encodeURIComponent(u.a.last_cmp_date)}\n\t\t\t&v=${encodeURIComponent(u.a.cmp_version)}\n\t\t\t&l=${encodeURIComponent(u.a.language)}`;return Object(C.getJson)(e).then(e=>e&&(!u.a.cmp_version||e.Version>u.a.cmp_version)?(e.Campaigns.forEach(e=>{0===e.Dismiss&&(e.Dismiss=10),(!u.a.last_cmp_date||u.a.last_cmp_date<e.Timestamp)&&(u.a.last_cmp_date=e.Timestamp)}),u.a.cmp_version=e.Version,I.a.SESSION.cmp_data=this.CMP_DATA=e.Campaigns,this.CMP_DATA):(Object(l.log)("No CMP data to fetch at this time"),I.a.SESSION.cmp_data=[],!1)).catch(e=>(Object(l.log)("Error in fetchCMPData",e),!1))}},p=r(53);var m=new class{constructor(){this.latencies={}}logLatency(e){const t=e.requestId,r=e.tabId;if(!this.latencies.hasOwnProperty(t))return 0;if(Object(n.isEmpty)(this.latencies[t]))return delete this.latencies[t],0;if(!this.latencies[t].hasOwnProperty(e.url))return 0;const{start_time:i,bug_id:s}=this.latencies[t][e.url];delete this.latencies[t][e.url],Object(n.isEmpty)(this.latencies[t])&&delete this.latencies[t];const o="net::ERR_BLOCKED_BY_CLIENT"===e.error||e.redirectUrl&&!e.redirectUrl.startsWith("http");let a=Math.round(e.timeStamp-i);const g=p.a.checkLatencyIssue(r,s,a);return o&&(a=-1),g}},_=r(42),y=r(96),b=r(18),v=r(49),w=r(36),k=r(67);const M={plus:I.a.DEBUG?5e-4:30,insights:I.a.DEBUG?5e-4:30},O=I.a.DEBUG?1:3,S=I.a.DEBUG?7:3,D=864e5,T="plus",L="plus_initial",E="plus_upgrade",P="insights",x="promo_modal_last_seen";var j=class{static whichPromoModalShouldWeDisplay(){return this._isTimeForAPromo(P)?P:this._isTimeForAPromo(T)?this._haveSeenInitialPlusPromo()?E:L:null}static recordPlusPromoSighting(){this._recordPromoSighting(T)}static recordInsightsPromoSighting(){this._recordPromoSighting(P)}static turnOffPromos(){z.set({notify_promotions:!1})}static _haveSeenInitialPlusPromo(){return 0!==u.a[`${T}_${x}`]}static _isTimeForAPromo(e){if(!1===u.a.notify_promotions)return!1;const t=u.a[`${T}_${x}`],r=u.a[`${P}_${x}`],n=t>r?t:r;return!(e===P&&!this._hasEngagedFrequently())&&(e===P&&0===r||Date.now()-n>D*M[e])}static _recordPromoSighting(e){u.a[`${e}_${x}`]=Date.now()}static _hasEngagedFrequently(){const{engaged_daily_count:e}=u.a.metrics||[];let t=0;return e.forEach(e=>{t=e>=S?++t:t}),t>=O}},R=r(154);function Y(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const N=o.a.modules["offers-v2"]||{isEnabled:!1,on:()=>{}},U=new Set(I.a.SYNC_ARRAY),{IS_CLIQZ:H}=I.a,F=new y.c,B={panel:!1,blocking:!1,rewards:!1,settings:!1,summary:!1};var z=new class{constructor(){Y(this,"postMessageToSummary",e=>{this._postMessage("summary",e)}),Y(this,"updatePanelUI",Object(n.throttle)(this._updatePanelUI.bind(this),600,{leading:!0,trailing:!0})),this._activeTab=null,this._categories=[],this._trackerList=[],this._panelPort=null,this._mountedComponents=B}initPort(e){this._panelPort=e,this._mountedComponents.panel=!0,Object(C.getActiveTab)(e=>{const{url:t}=e;this._activeTab=e,this._activeTab.pageHost=t&&Object(C.processUrl)(t).hostname||"",this._attachListeners(),this._setTrackerListAndCategories(),this._postMessage("panel",this._getPanelSummaryAndBlockingData()),w.a.getUserSettings().then(e=>this._postUserSettings(e)).catch(()=>Object(l.log)("Failed getting remote user settings from PanelData#initPort. User not logged in.")),this._needToFilterOffersByRemote()&&v.a.filterOffersByRemote().catch(e=>Object(l.log)("Failed to filter offers by remote:",e))})}_attachListeners(){const e=this._panelPort,t=this._activeTab;e&&t&&(e.onDisconnect.addListener(()=>{this._activeTab=null,this._panelPort=null,this._mountedComponents=B}),e.onMessage.addListener(e=>{switch(e.name){case"BlockingComponentDidMount":this._mountedComponents.blocking=!0,this._setTrackerListAndCategories(),this._postMessage("blocking",this._getBlockingData());break;case"BlockingComponentWillUnmount":this._mountedComponents.blocking=!1;break;case"RewardsComponentDidMount":this._mountedComponents.rewards=!0,this._panelPort.onDisconnect.addListener(v.a.panelHubClosedListener),this._needToFilterOffersByRemote()?v.a.filterOffersByRemote().then(()=>this._postRewardsData()).catch(e=>{Object(l.log)("Failed to filter offers by remote:",e),this._postRewardsData()}):this._postRewardsData();break;case"RewardsComponentWillUnmount":this._mountedComponents.rewards=!1,this._panelPort.onDisconnect.removeListener(v.a.panelHubClosedListener);break;case"SettingsComponentDidMount":this._mountedComponents.settings=!0,this._postMessage("settings",this._getSettingsData());break;case"SettingsComponentWillUnmount":this._mountedComponents.settings=!1;break;case"SummaryComponentDidMount":this._mountedComponents.summary=!0,this._postCliqzModulesData(),this.postPageLoadTime(t.id);break;case"SummaryComponentWillUnmount":this._mountedComponents.summary=!1}}))}clearPageLoadTime(e){this.postPageLoadTime(e,!0)}get(e,t){if("settings"===e)return this._getSettingsData();const{url:r}=t;switch(this._activeTab=t,this._activeTab.pageHost=r&&Object(C.processUrl)(r).hostname||"",this._setTrackerListAndCategories(),e){case"panel":return this._getPanelSummaryAndBlockingData();case"summary":return this._getSummaryData();case"blocking":return this._getBlockingData();default:return!1}}postPageLoadTime(e,t){this._panelPort&&this._activeTab&&this._activeTab.id===e&&this._postMessage("summary",{performanceData:!t&&b.a.getTabInfo(e,"pageTiming")})}_updatePanelUI(){if(!this._panelPort||!this._activeTab)return;const{blocking:e,summary:t}=this._mountedComponents;(e||t)&&this._setTrackerListAndCategories(),e&&this._postMessage("blocking",this._getDynamicBlockingData()),t&&(this._postMessage("summary",this._getDynamicSummaryData()),this._postCliqzModulesData()),this._postMessage("panel",this._getDynamicPanelData())}_getBlockingData(){const{expand_all_trackers:e,selected_app_ids:t,show_tracker_urls:r,site_specific_blocks:n,site_specific_unblocks:i,toggle_individual_trackers:s}=u.a;return Object.assign({},{expand_all_trackers:e,selected_app_ids:t,show_tracker_urls:r,site_specific_blocks:n,site_specific_unblocks:i,toggle_individual_trackers:s},this._getDynamicBlockingData())}_getCurrentAccount(){const e=u.a.account;return e&&e.user&&(e.user.subscriptionsPlus=w.a.hasScopesUnverified(["subscriptions:plus"])),e}_getDynamicBlockingData(){if(!this._activeTab)return{};const{url:e}=this._activeTab;return{siteNotScanned:!this._trackerList||!1,pageUrl:e,categories:this._categories}}_getDynamicPanelData(e){const t=e||this._activeTab&&this._activeTab.id||null,{needsReload:r,smartBlock:n}=b.a.getTabInfo(t)||{needsReload:!1,smartBlock:{blocked:{},unblocked:{}}};return{needsReload:r||{changes:{}},smartBlock:n,account:this._getCurrentAccount()}}_getDynamicSummaryData(){if(!this._activeTab)return{};const{id:e,url:t}=this._activeTab;return{alertCounts:p.a.getAppsCountByIssues(e,t)||{},categories:this._categories,trackerCounts:p.a.getAppsCountByBlocked(e)||{}}}_getPanelData(){if(!this._activeTab)return{};const{id:e}=this._activeTab,{current_theme:t,enable_ad_block:r,enable_anti_tracking:n,enable_smart_block:i,enable_offers:s,is_expanded:o,is_expert:a,language:g,reload_banner_status:A,trackers_banner_status:C}=u.a;return Object.assign({},{current_theme:t,enable_ad_block:r,enable_anti_tracking:n,enable_smart_block:i,enable_offers:s,is_expanded:o,is_expert:a,is_android:"android"===I.a.BROWSER_INFO.os,language:g,promoModal:j.whichPromoModalShouldWeDisplay(),reload_banner_status:A,tab_id:e,trackers_banner_status:C,unread_offer_ids:v.a.unreadOfferIds},this._getDynamicPanelData(e))}_getPanelSummaryAndBlockingData(){return{panel:this._getPanelData(),summary:this._getSummaryData(),blocking:!!u.a.is_expert&&this._getBlockingData()}}_getRewardsData(){const{storedOffers:e,unreadOfferIds:t}=v.a;return{enable_offers:u.a.enable_offers,rewards:e,unread_offer_ids:t}}_getSettingsData(){const{bugs_last_updated:e,language:t,new_app_ids:r,settings_last_exported:n,settings_last_imported:i}=u.a;return Object.assign({},{bugs_last_updated:e,categories:this._buildGlobalCategories(),language:t,new_app_ids:r,offer_human_web:!0,settings_last_exported:n,settings_last_imported:i},this._getUserSettingsForSettingsView(u.a))}_getSummaryData(){if(!this._activeTab)return{};const{url:e,pageHost:t}=this._activeTab,{paused_blocking:r,paused_blocking_timeout:n}=I.a.SESSION,{site_blacklist:i,site_whitelist:s}=u.a;return Object.assign({},{paused_blocking:r,paused_blocking_timeout:n,site_blacklist:i,site_whitelist:s,pageHost:t,pageUrl:e||"",siteNotScanned:!this._trackerList||!1,sitePolicy:F.getSitePolicy(e)||!1},this._getDynamicSummaryData())}_getUserSettingsForBlockingView(e){const{expand_all_trackers:t,selected_app_ids:r,show_tracker_urls:n,site_specific_blocks:i,site_specific_unblocks:s,toggle_individual_trackers:o}=e;return{expand_all_trackers:t,selected_app_ids:r,show_tracker_urls:n,site_specific_blocks:i,site_specific_unblocks:s,toggle_individual_trackers:o}}_getUserSettingsForPanelView(e){const{current_theme:t,enable_ad_block:r,enable_anti_tracking:n,enable_smart_block:i,enable_offers:s,is_expanded:o,is_expert:a,reload_banner_status:g,trackers_banner_status:A}=e;return{current_theme:t,enable_ad_block:r,enable_anti_tracking:n,enable_smart_block:i,enable_offers:s,is_expanded:o,is_expert:a,reload_banner_status:g,trackers_banner_status:A,account:this._getCurrentAccount()}}_getUserSettingsForSettingsView(e){const{alert_bubble_pos:t,alert_bubble_timeout:r,block_by_default:n,enable_autoupdate:i,enable_click2play:s,enable_click2play_social:o,enable_human_web:a,enable_offers:g,enable_metrics:A,hide_alert_trusted:u,ignore_first_party:I,notify_library_updates:C,notify_promotions:l,notify_upgrade_updates:c,selected_app_ids:d,show_alert:h,show_badge:f,show_cmp:p,show_tracker_urls:m,toggle_individual_trackers:_}=e;return{alert_bubble_pos:t,alert_bubble_timeout:r,block_by_default:n,enable_autoupdate:i,enable_click2play:s,enable_click2play_social:o,enable_human_web:a,enable_offers:g,enable_metrics:A,hide_alert_trusted:u,ignore_first_party:I,notify_library_updates:C,notify_promotions:l,notify_upgrade_updates:c,selected_app_ids:d,show_alert:h,show_badge:f,show_cmp:p,show_tracker_urls:m,toggle_individual_trackers:_}}_needToFilterOffersByRemote(){const{enable_offers:e,is_expert:t}=u.a;return N.isEnabled&&e&&t}_postCliqzModulesData(){this._panelPort&&this._activeTab&&Object(R.c)(this._activeTab.id,this._activeTab.pageHost,this.postMessageToSummary)}_postMessage(e,t){this._panelPort&&this._panelPort.postMessage({to:e,body:t})}_postRewardsData(){this._postMessage("rewards",this._getRewardsData())}_postUserSettings(e){if(!this._panelPort||!this._activeTab)return;this._postMessage("panel",this._getUserSettingsForPanelView(e));const{blocking:t,settings:r}=this._mountedComponents;t&&this._postMessage("blocking",this._getUserSettingsForBlockingView(e)),r&&this._postMessage("settings",this._getUserSettingsForSettingsView(e))}set(e){let t=!1;H&&(e.enable_human_web=!1,e.enable_offers=!1,e.enable_ad_block=!1,e.enable_anti_tracking=!1);for(const[r,i]of Object(l.objectEntries)(e))u.a.hasOwnProperty(r)&&!Object(n.isEqual)(u.a[r],i)?(u.a[r]=i,t=!!U.has(r)||t):"paused_blocking"===r&&("number"==typeof i?(I.a.SESSION.paused_blocking=!0,I.a.SESSION.paused_blocking_timeout=i,setTimeout(()=>{I.a.SESSION.paused_blocking=!1,this._toggleBlockingHelper()},i)):(I.a.SESSION.paused_blocking=i,I.a.SESSION.paused_blocking_timeout=0),this._toggleBlockingHelper());e.needsReload&&this._activeTab&&b.a.setTabInfo(this._activeTab.id,"needsReload",e.needsReload),e.brokenPageMetricsTrackerTrustOrUnblock&&_.a.handleBrokenPageTrigger(I.a.BROKEN_PAGE_TRACKER_TRUST_OR_UNBLOCK),e.brokenPageMetricsWhitelistSite&&_.a.handleBrokenPageTrigger(I.a.BROKEN_PAGE_WHITELIST),t&&w.a.saveUserSettings().catch(e=>Object(l.log)("PanelData saveUserSettings",e))}_toggleBlockingHelper(){g.a.update(),Object(C.flushChromeMemoryCache)(),k.a.trigger("globals.save.paused_blocking")}_buildCategories(){if(!this._activeTab)return[];const e={},t=b.a.getTabInfo(this._activeTab.id,"smartBlock");this._trackerList.forEach(r=>{const n=this._getTrackerState(r,t);let{cat:i}=r;(function(e,t){return chrome.i18n.getMessage(e,void 0)})(`category_${i}`)===`category_${i}`&&(i="uncategorized"),e.hasOwnProperty(i)?(e[i].num_total++,this._addsUpToBlocked(n)&&e[i].num_blocked++):e[i]=this._buildCategory(i,n),e[i].trackers.push(this._buildTracker(r,n,t))});const r=Object.values(e);return r.sort((e,t)=>(e=e.name.toLowerCase())>(t=t.name.toLowerCase())?1:e<t?-1:0),r}_addsUpToBlocked({ss_blocked:e,sb_blocked:t,blocked:r,ss_allowed:n,sb_allowed:i}){return e||t||r&&!n&&!i}_buildCategory(e,t){return{id:e,name:(r=`category_${e}`,chrome.i18n.getMessage(r,void 0)),description:function(e,t){return chrome.i18n.getMessage(e,void 0)}(`category_${e}_desc`),img_name:"advertising"===e?"adv":"social_media"===e?"smed":e,num_total:1,num_blocked:this._addsUpToBlocked(t)?1:0,trackers:[]};var r}_buildTracker(e,t,r){const{cat:n,cliqzAdCount:i,cliqzCookieCount:s,cliqzFingerprintCount:o,hasCompatibilityIssue:a,hasInsecureIssue:g,hasLatencyIssue:A,id:u,name:I,sources:C}=e,{blocked:l,ss_allowed:c,ss_blocked:d}=t;return{id:u,name:I,description:"",blocked:l,ss_allowed:c,ss_blocked:d,shouldShow:!0,catId:n,sources:C,warningCompatibility:a,warningInsecure:g,warningSlow:A,warningSmartBlock:(r.blocked.hasOwnProperty(u)?"blocked":r.unblocked.hasOwnProperty(u)&&"unblocked")||!1,cliqzAdCount:i,cliqzCookieCount:s,cliqzFingerprintCount:o}}_getTrackerState({id:e},t){const{pageHost:r}=this._activeTab,{selected_app_ids:n,enable_smart_block:i}=u.a,s=r&&u.a.site_specific_unblocks[r]||[],o=r&&u.a.site_specific_blocks[r]||[];return{blocked:n.hasOwnProperty(e),ss_allowed:s.includes(+e),ss_blocked:o.includes(+e),sb_blocked:i&&t.blocked.hasOwnProperty(`${e}`),sb_allowed:i&&t.unblocked.hasOwnProperty(`${e}`)}}_buildGlobalCategories(){const e=a.a.db.categories||[],t=u.a.selected_app_ids||{};return e.forEach(e=>{const{trackers:r}=e;e.num_blocked=0,r.forEach(r=>{r.blocked=t.hasOwnProperty(r.id),r.blocked&&e.num_blocked++})}),e}_setTrackerListAndCategories(){if(!this._activeTab)return;const{id:e,url:t}=this._activeTab;this._trackerList=p.a.getApps(e,!1,t)||[];const r=Object(R.b)(e);if(r&&r.bugs){const{bugs:t}=r,n=Object.keys(t),i=p.a.getAppsById(e);n.forEach(e=>{const r=u.a.bugs.bugs[e];if(!r)return;const n=i[r.aid];n&&(this._trackerList[n].cliqzCookieCount=t[e].cookies,this._trackerList[n].cliqzFingerprintCount=t[e].fingerprints,this._trackerList[n].cliqzAdCount=t[e].ads)})}this._categories=this._buildCategories()}},W=r(263);const G=chrome.i18n.getMessage;var q=class{constructor(){this.policy=new y.c,this.channelsSupported="object"==typeof chrome.runtime.onConnect,this.ports=new Map}createBox(e){const t=b.a.getTabInfo(e);return!u.a.show_alert||I.a.SESSION.paused_blocking||u.a.hide_alert_trusted&&this.policy.checkSiteWhitelist(t.url)||!t||t.purplebox||t.path.includes("_/chrome/newtab")||"about"===t.protocol||I.a.EXCLUDES.includes(t.host)?Promise.resolve(!1):(b.a.setTabInfo(e,"purplebox",!0),this.createBoxParams={conf:{alert_expanded:u.a.alert_expanded,alert_bubble_pos:u.a.alert_bubble_pos,alert_bubble_timeout:u.a.alert_bubble_timeout},translations:{looking:G("box_looking"),trackers:G("box_trackers"),box_warning_compatibility:G("box_warning_compatibility"),box_warning_slow:G("box_warning_slow"),box_warning_nonsecure:G("box_warning_nonsecure"),tracker:G("box_tracker"),hide:G("box_hide"),settings:G("box_settings"),options_expanded:G("box_options_expanded"),hide_expanded:G("box_hide_expanded"),settings_expanded:G("box_settings_expanded"),box_dismiss_0s:G("box_dismiss_0s"),box_dismiss_5s:G("box_dismiss_5s"),box_dismiss_15s:G("box_dismiss_15s"),box_dismiss_30s:G("box_dismiss_30s"),box_display_br:G("box_display_br"),box_display_tr:G("box_display_tr"),box_display_tl:G("box_display_tl"),box_display_bl:G("box_display_bl")}},this.channelsSupported&&(this.ports.has(e)&&(this.ports.get(e).disconnect(),this.ports.delete(e)),this.connectListenerAdded||(this.connectListenerAdded=!0,chrome.runtime.onConnect.addListener(e=>{if(e&&"purpleBoxPort"===e.name&&e.sender&&e.sender.tab&&e.sender.tab.id){const t=e.sender.tab.id;this.ports.has(t)||(this.ports.set(t,e),this.ports.get(t).onMessage.addListener(e=>{"purpleBoxLoaded"===e.name?this.ports.get(t).postMessage({name:"createBox",message:this.createBoxParams}):"onCreateBox"===e.name?this.updateBox(t):"onDestroyBox"===e.name?this.destroyBox(t):"updateAlertConf"===e.name&&(u.a.alert_expanded=e.message.alert_expanded,u.a.alert_bubble_pos=e.message.alert_bubble_pos,u.a.alert_bubble_timeout=e.message.alert_bubble_timeout,w.a.saveUserSettings())}))}}))),Object(C.injectScript)(e,"dist/purplebox.js","dist/css/purplebox_styles.css","document_start").then(()=>{this.channelsSupported||Object(C.sendMessage)(e,"createBox",this.createBoxParams,()=>chrome.runtime.lastError?(Object(l.log)("createBox sendMessage error",chrome.runtime.lastError),!1):(this.updateBox(e),!0))}).catch(e=>(Object(l.log)("Purplebox injectScript error",e),!1)))}updateBox(e,t){const r=b.a.getTabInfo(e),n=p.a.getApps(e,!0,r.url,t);return!(!n||0===n.length||I.a.EXCLUDES.includes(r.host))&&(this.channelsSupported?this.ports.has(e)?(this.ports.get(e).postMessage({name:"updateBox",message:{apps:n}}),!0):(Object(l.log)("updateBox failed. Port is null"),!1):void Object(C.sendMessage)(e,"updateBox",{apps:n},()=>{chrome.runtime.lastError&&Object(l.log)("updateBox sendMessage failed",chrome.runtime.lastError,r)}))}destroyBox(e){const t=b.a.getTabInfo(e);if(t&&!I.a.EXCLUDES.includes(t.host))return this.channelsSupported&&this.ports.has(e)&&(this.ports.get(e).disconnect(),this.ports.delete(e)),b.a.setTabInfo(e,"purplebox",!1),!0}},V=r(151);class K extends V.a{constructor(e){super(e),this.db={pattern_ids:{},app_ids:{},site_surrogates:{}}}update(){}processList(e,t){Object(l.log)("processing surrogates..."),t.mappings.forEach(e=>{e.code=t.surrogates[e.sid],["pattern_id","app_id","sites","match"].forEach(t=>{e.hasOwnProperty(t)&&!Object(n.isArray)(e[t])&&(e[t]=[e[t]])}),e.hasOwnProperty("match")&&(e.match=Object(n.map)(e.match,e=>new RegExp(e,""))),e.hasOwnProperty("pattern_id")||e.hasOwnProperty("app_id")?e.hasOwnProperty("pattern_id")?this._buildDb(e,"pattern_id","pattern_ids"):e.hasOwnProperty("app_id")&&this._buildDb(e,"app_id","app_ids"):e.hasOwnProperty("sites")&&this._buildDb(e,"sites","site_surrogates")}),Object(l.log)("processed surrogates..."),e||(u.a.surrogates=t)}getForTracker(e,t,r,i){let s=[];return this.db.app_ids.hasOwnProperty(t)&&(s=s.concat(this.db.app_ids[t])),this.db.pattern_ids.hasOwnProperty(r)&&(s=s.concat(this.db.pattern_ids[r])),Object(n.filter)(s,t=>!(t.hasOwnProperty("sites")&&!t.sites.includes(i))&&!(t.hasOwnProperty("match")&&!Object(n.any)(t.match,t=>e.match(t))))}_buildDb(e,t,r){e[t].forEach(t=>{this.db[r].hasOwnProperty(t)||(this.db[r][t]=[]),this.db[r][t].push(e)})}}var Z=new K("surrogates"),J=r(388),$=r.n(J),Q=r(131);const X=new y.c;function ee(e,t){const{tab_id:r}=e;let i=A.a.db.apps&&A.a.db.apps[t];if(!i)return;if(u.a.enable_click2play_social||(i=Object(n.reject)(i,e=>!!e.button)),!i.length)return;const s=a.a.db.apps[t].name,o=[],g=b.a.getTabInfo(r,"host"),c=!!X.blacklisted(g);i.forEach(e=>{const r={blacklisted:c,button:!!e.button,ghostery_blocked_src:Q.a.ghosty_blocked,allow_always_src:Q.a.allow_unblock,allow_always_title:function(e,t){return chrome.i18n.getMessage("click2play_allow_always_tooltip",void 0)}()};if(e.button){r.allow_once_title=function(e,t){return chrome.i18n.getMessage("click2play_allow_once_button_tooltip",t)}(0,s);const t=e.button.substring(0,e.button.indexOf(".png"));r.allow_once_src=Q.a[t]}else r.allow_once_title=function(e,t){return chrome.i18n.getMessage("click2play_allow_once_tooltip",void 0)}(),r.allow_once_src=Q.a.allow_once,r.ghostery_blocked_title=function(e,t){return chrome.i18n.getMessage("click2play_blocked",t)}(0,s),e.type?r.click2play_text=function(e,t){return chrome.i18n.getMessage(e,t)}(`click2play_${e.type}_form`,s):2575===t&&(r.click2play_text=function(e,t){return chrome.i18n.getMessage("click2play_blocked",t)}(0,s));o.push($()({data:r}))}),2575===t&&(i.ele=`form[id="hsForm_${e.url.substr(8).split(/\/|\&|\?|\#|\=/gi)[5]}"]`),function(e){if(I.a.C2P_LOADED)return Promise.resolve(!0);const t=b.a.getTabInfo(e);if(!t||t.prefetched||t.path.includes("_/chrome/newtab")||"about"===t.protocol||I.a.EXCLUDES.includes(t.host))return Promise.resolve(!0);return Object(C.injectScript)(e,"dist/click_to_play.js","","document_end").then(()=>(I.a.C2P_LOADED=!0,!0)).catch(e=>(Object(l.log)("_injectClickToPlay error",e),!1))}(r).then(e=>{e&&Object(C.sendMessage)(r,"c2p",{app_id:t,data:i,html:o})})}function te(e,t){const{selected_app_ids:r}=u.a;if(delete r[e],u.a.selected_app_ids=r,u.a.site_specific_blocks.hasOwnProperty(t)&&u.a.site_specific_blocks[t].includes(+e)){const r=u.a.site_specific_blocks[t].indexOf(+e),{site_specific_blocks:n}=u.a;n[t].splice(r),u.a.site_specific_blocks=n}const{site_specific_unblocks:n}=u.a;n.hasOwnProperty(t)||(n[t]=[]),n[t].includes(e)||n[t].push(e),u.a.site_specific_unblocks=n}var re=r(221);const ne="edge"===I.a.BROWSER_INFO.name;var ie=class{constructor(){this.policy=new y.c,this.policySmartBlock=new W.a,this.purplebox=new q,this._pageListeners=new Set,this._throttleButtonUpdate=Object(n.throttle)(e=>{g.a.update(e)},1e3,{leading:!1})}onBeforeNavigate(e){const{tabId:t,frameId:r,url:n}=e;0===r&&(Object(l.log)(`   Tab ${t} navigating to ${n}   `),this._clearTabData(t),this._resetNotifications(),z.clearPageLoadTime(t),b.a.create(t,n),p.a.update(t),g.a.update(t),this._eventReset(e.tabId),setTimeout(()=>{C.getTab(t,null,()=>{Object(l.log)("Clearing orphan tab data for tab",t),this._clearTabData(t),this._resetNotifications()})},12e4))}onCommitted(e){const{tabId:t,frameId:r,transitionType:n,transitionQualifiers:i}=e;0===r&&("reload"!==n||i.includes("forward_back")?"auto_subframe"!==n&&"manual_subframe"!==n&&(b.a.setTabInfo(t,"reloaded",!1),b.a.setTabInfo(t,"numOfReloads",0)):(_.a.handleBrokenPageTrigger(I.a.BROKEN_PAGE_REFRESH),b.a.setTabInfo(t,"numOfReloads",b.a.getTabInfo(t,"numOfReloads")+1)),C.getTab(t,e=>{e&&(b.a.setTabInfo(t,"incognito",e.incognito),ne||this._createBox(t))},()=>{C.getActiveTab(e=>{e&&b.a.setTabInfo(t,"incognito",e.incognito),b.a.setTabInfo(t,"prefetched",!0)})}))}onDOMContentLoaded(e){const t=e.tabId;C.isValidTopLevelNavigation(e)&&(I.a.SESSION.paused_blocking||C.getActiveTab(r=>{if(!r||r.id!==t||r.incognito)return;ne&&this._createBox(t);const i=["notification_library_update","notification_library_update_link","notification_upgrade","notification_upgrade_link","notification_upgrade_title_v8","notification_upgrade_v8","notification_upgrade_link_v8"];if(0!==f.CMP_DATA.length){const n=f.CMP_DATA,i=n.length;let s,o;for(let t=0;t<i;t++){const r=n[t];if(C.isCliqzOffer(r)){const n=r.data.offer_info.offer_urls;if(n instanceof Array){const i=n.length;for(let o=0;o<i;o++)if(n[o]===e.url){(s=r).index=t;break}if(s)break}else s||((s=r).index=t)}else u.a.show_cmp&&(o||((o=r).index=t))}let a=s||o||void 0;if(!a)return;const{index:g}=a;a=f.CMP_DATA[g],C.injectNotifications(r.id).then(e=>{e&&C.sendMessage(t,"showCMPMessage",{data:a},()=>{a.Dismiss--,a.Dismiss<=0&&f.CMP_DATA.splice(g,1)})})}else I.a.JUST_UPGRADED&&!I.a.HOTFIX&&!I.a.upgrade_alert_shown&&u.a.notify_upgrade_updates?C.injectNotifications(r.id).then(e=>{e&&C.sendMessage(t,"showUpgradeAlert",{translations:Object(n.object)(Object(n.map)(i,e=>[e,chrome.i18n.getMessage(e)])),language:u.a.language,major_upgrade:I.a.JUST_UPGRADED_FROM_7},()=>{I.a.upgrade_alert_shown=!0})}):a.a.db.JUST_UPDATED_WITH_NEW_TRACKERS&&(u.a.notify_library_updates?C.injectNotifications(r.id).then(e=>{e&&C.sendMessage(t,"showLibraryUpdateAlert",{translations:Object(n.object)(Object(n.map)(i,e=>[e,chrome.i18n.getMessage(e)])),language:u.a.language},()=>{a.a.db.JUST_UPDATED_WITH_NEW_TRACKERS=!1})}):a.a.db.JUST_UPDATED_WITH_NEW_TRACKERS=!1)}))}onNavigationCompleted(e){C.isValidTopLevelNavigation(e)&&(Object(l.log)(`foundBugs: ${p.a.getAppsCount(e.tabId)}, tab_id: ${e.tabId}`),this._isValidUrl(C.processUrl(e.url))&&C.injectScript(e.tabId,"dist/page_performance.js","","document_idle").catch(e=>{Object(l.log)("onNavigationCompleted injectScript error",e)}))}onNavigationErrorOccurred(e){const t=e.tabId;C.isValidTopLevelNavigation(e)?this._eventReset(t):e.url.startsWith("https://chrome.google.com/webstore/")&&(this._clearTabData(t),this._resetNotifications())}onBeforeRequest(e){const t=e.tabId,r=e.requestId;if(t<=0)return{cancel:!1};if(b.a.getTabInfo(t)||(Object(l.log)(`tabInfo not found for tab ${t}, initializing...`),"main_frame"===e.type?b.a.create(t,e.url):b.a.create(t),C.getTab(t,e=>{const r=b.a.getTabInfo(t);r&&(r.partialScan&&b.a.setTabInfo(t,"url",e.url),b.a.setTabInfo(t,"incognito",e.incognito))})),!this._checkRedirect(e.type,r))return{cancel:!1};const n=b.a.getTabInfo(t,"protocol"),i=I.a.REDIRECT_MAP.has(r),s=C.processUrl(e.url);if(this.policySmartBlock.isInsecureRequest(t,n,s.scheme,s.hostname))return this._blockHelper(e,t,null,null,r,i,!0);const o=b.a.getTabInfo(t,"url"),g=b.a.getTabInfo(t,"domain"),A=o?Object(re.b)(e.url,o):Object(re.b)(e.url);if(!A)return this._throttleButtonUpdate(),{cancel:!1};if(e.ghosteryBug=A,this.policySmartBlock.isFirstPartyRequest(t,g,s.generalDomain))return{cancel:!1};const u=a.a.db.bugs[A].aid,c=a.a.db.apps[u].cat,d=b.a.getTabInfo(t,"incognito"),h=b.a.getTabInfo(t,"host"),f=I.a.REDIRECT_MAP.has(r),{block:p,reason:_}=this._checkBlocking(u,c,t,h,o,r);p||_!==y.b||(e.ghosteryWhitelisted=!0),!1===p&&(m.latencies[r]=m.latencies[r]||{},m.latencies[r][e.url]={start_time:Math.round(e.timeStamp),bug_id:A,page_url:o,incognito:d});const v=!p&&this.policySmartBlock.shouldBlock(u,c,t,o,e.type,e.timeStamp),w=!!p&&this.policySmartBlock.shouldUnblock(u,c,t,o,e.type);return setTimeout(()=>{this._processBug({bug_id:A,app_id:u,type:e.type,url:e.url,block:p,smartBlocked:v,tab_id:t,from_frame:-1!==e.parentFrameId})},1),p&&!w||v?this._blockHelper(e,t,u,A,r,f):{cancel:!1}}onBeforeSendHeaders(e){for(let t=0;t<e.requestHeaders.length;++t)("origin"===e.requestHeaders[t].name.toLowerCase()&&e.requestHeaders[t].value.startsWith("moz-extension://")||"cookie"===e.requestHeaders[t].name.toLowerCase())&&(e.requestHeaders[t].value="");return{requestHeaders:e.requestHeaders}}onHeadersReceived(e){e.statusCode}onBeforeRedirect(e){"main_frame"===e.type&&(b.a.setTabInfo(e.tabId,"url",e.redirectUrl),I.a.REDIRECT_MAP.set(e.requestId,{url:e.url,redirectUrl:e.redirectUrl}));const t=m.logLatency(e);t&&this.purplebox.updateBox(e.tabId,t)}onRequestCompleted(e){if(e&&!(e.tabId<=0)&&(this._clearRedirects(e.requestId),"main_frame"!==e.type)){const t=m.logLatency(e);t&&this.purplebox.updateBox(e.tabId,t)}}onRequestErrorOccurred(e){m.logLatency(e),this._clearRedirects(e.requestId)}onTabCreated(e){const{url:t}=e;_.a.handleBrokenPageTrigger(I.a.BROKEN_PAGE_NEW_TAB,t)}onTabActivated(e){g.a.update(e.tabId),this._resetNotifications()}onTabReplaced(e){b.a.getTabInfo(e,"prefetched")?(b.a.setTabInfo(e,"prefetched",!1),this._createBox(e)):(p.a.update(e),g.a.update(e)),Object(l.log)("chrome.tabs.onReplaced",b.a.getTabInfo(e))}onTabRemoved(e){this._clearTabData(e),this._resetNotifications()}_processBug(e){const{bug_id:t,app_id:r,type:n,url:i,block:s,smartBlocked:o,tab_id:a}=e,g=b.a.getTabInfo(a),I=A.a.allowedOnce(e.tab_id,r);let C;Object(l.log)(s||o?"Blocked":"Found",n,i),Object(l.log)(`^^^ Pattern ID ${t} on tab ID ${a}`),u.a.show_alert&&(C=p.a.getAppsCount(a)),p.a.update(a,t,i,s,n),this._throttleButtonUpdate(e.tab_id),z.updatePanelUI(),!s&&!o||!u.a.enable_click2play&&!u.a.enable_click2playSocial||I||ee(e,r),u.a.show_alert&&g&&!g.prefetched&&g.purplebox&&(p.a.getAppsCount(e.tab_id)>C||I)&&this.purplebox.updateBox(e.tab_id,r)}_blockHelper(e,t,r,i,s,o,g){if(g){const r=b.a.getTabInfo(t,"insecureRedirects");return r.indexOf(s)>=0?{cancel:!0}:(r.push(s),b.a.setTabInfo(t,"insecureRedirects",r),{redirectUrl:e.url.replace(/^http:/,"https:")})}if("sub_frame"===e.type)return{redirectUrl:"about:blank"};if("image"===e.type)return{redirectUrl:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAACklEQVR4nGMAAQAABQABDQottAAAAABJRU5ErkJggg=="};if("script"===e.type&&i){let s="";if(2575===r)s=this._getHubspotFormSurrogate(e.url);else{const o=b.a.getTabInfo(t),a=Z.getForTracker(e.url,r,i,o.host);a.length>0&&(s=Object(n.reduce)(a,(e,t)=>e+=t.code,""))}if(s){const e=`data:application/javascript;base64,${btoa(s)}`;return Object(l.log)("NEW SURROGATE",r),{redirectUrl:e}}}else if(o){const t=function(e,t,r){const n=Object(C.processUrl)(t.url).hostname,i=Object(C.processUrl)(t.redirectUrl).hostname,s=a.a.db.apps[r].name;var o;return I.a.BLOCKED_REDIRECT_DATA={},I.a.BLOCKED_REDIRECT_DATA.app_id=r,I.a.BLOCKED_REDIRECT_DATA.url=t.redirectUrl,I.a.BLOCKED_REDIRECT_DATA.blacklisted=!!X.blacklisted(n),I.a.BLOCKED_REDIRECT_DATA.translations={blocked_redirect_page_title:chrome.i18n.getMessage("blocked_redirect_page_title",void 0),blocked_redirect_prevent:(o=[n,i,s,`https://${I.a.APPS_SUB_DOMAIN}.ghostery.com/en/apps/${encodeURIComponent(s.replace(/\s+/g,"_").toLowerCase())}`],chrome.i18n.getMessage("blocked_redirect_prevent",o)),blocked_redirect_action_always_title:chrome.i18n.getMessage("blocked_redirect_action_always_title",void 0),blocked_redirect_action_through_once_title:chrome.i18n.getMessage("blocked_redirect_action_through_once_title",void 0),blocked_redirect_url_content:function(e,t){return chrome.i18n.getMessage("blocked_redirect_url_content",t)}(0,[t.redirectUrl,s])},chrome.extension.getURL("app/templates/blocked_redirect.html")}(0,I.a.REDIRECT_MAP.get(s),r);setTimeout(()=>{chrome.tabs.update(e.tabId,{url:t})},0)}return{cancel:!0}}_isValidUrl(e){return!(!(e&&e.protocol.startsWith("http")&&e.isValidHost())||e.pathname.includes("_/chrome/newtab"))}_getHubspotFormSurrogate(e){const t=e.substr(8).split(/\/|\&|\?|\#|\=/gi);return`${t[7]}({"form":{"portalId":${t[4]},"guid": "${t[5]}","cssClass":"hs-form stacked","formFieldGroups":[{"fields":[{}]}],"metaData":[]},"properties":{}})`}_clearTabData(e){const t=p.a.getBugs(e),r=p.a.getApps(e),n=b.a.getTabInfo(e);p.a.clear(e),b.a.clear(e),n&&t&&this._pageListeners.forEach(i=>{i(e,n,r,t)})}addPageListener(e){this._pageListeners.add(e)}removePageListener(e){this._pageListeners.delete(e)}clearPageListeners(){this._pageListeners.clear()}_clearRedirects(e){I.a.REDIRECT_MAP.delete(e),I.a.LET_REDIRECTS_THROUGH=!1}_checkRedirect(e,t){const r=I.a.REDIRECT_MAP.has(t);return!("main_frame"===e&&!r)}_checkBlocking(e,t,r,n,i,s){let o;return o=I.a.REDIRECT_MAP.has(s)&&I.a.LET_REDIRECTS_THROUGH?{block:!1,reason:y.a}:this.policy.shouldBlock(e,t,r,n,i)}_eventReset(e){A.a.reset(e),I.a.REDIRECT_MAP.clear(),I.a.LET_REDIRECTS_THROUGH=!1}_createBox(e){this.purplebox.createBox(e).then(()=>{p.a.update(e),g.a.update(e)}).catch(e=>{Object(l.log)("Purplebox creation failed:",e)})}_resetNotifications(){I.a.C2P_LOADED=I.a.NOTIFICATIONS_LOADED=!1}};const{BROWSER_INFO:se,CMP_SUB_DOMAIN:oe,EXTENSION_VERSION:ae}=I.a;var ge=new class{constructor(){this.tests={}}hasTest(e){return this.tests.hasOwnProperty(e)}fetch(){Object(l.log)("A/B Tests: fetching...");const e=`https://${oe}.ghostery.com/abtestcheck\n\t\t\t?os=${encodeURIComponent(se.os)}\n\t\t\t&install_date=${encodeURIComponent(u.a.install_date)}\n\t\t\t&ir=${encodeURIComponent(u.a.install_random_number)}\n\t\t\t&gv=${encodeURIComponent(ae)}\n\t\t\t&si=${u.a.account?"1":"0"}\n\t\t\t&ua=${encodeURIComponent(se.name)}\n\t\t\t&v=${encodeURIComponent(u.a.cmp_version)}\n\t\t\t&l=${encodeURIComponent(u.a.language)}`;return Object(C.getJson)(e).then(e=>{e&&Array.isArray(e)?(Object(l.log)("A/B Tests: fetched",JSON.stringify(e)),this.tests=e.reduce((e,t)=>Object.assign(e,{[t.name]:t.data}),{})):Object(l.log)("A/B Tests: no tests found."),I.a.SESSION.abtests=this.tests,Object(l.log)("A/B Tests: tests updated to",JSON.stringify(this.tests))}).catch(()=>{Object(l.log)("A/B Tests: error fetching.")})}},Ae=r(170),ue=r(262),Ie=r(308),Ce=r.n(Ie),le=r(85);const ce=r.n(le)()({init(){},unload(){},getState:()=>({paused:I.a.SESSION.paused_blocking,whitelisted:u.a.site_whitelist})});class de extends Ce.a{get backgroundModule(){return ce}get WindowModule(){return class{init(){}unload(){}}}}var he=de,fe=r(132),pe=r(389),me=r.n(pe);class _e{addListener(e){chrome.runtime.onMessageExternal.addListener(e)}removeListener(e){chrome.runtime.onMessageExternal.removeListener(e)}sendMessage(e,t){chrome.runtime.sendMessage(e,t,()=>{chrome.runtime.lastError&&Object(l.log)("ExtMessenger sendMessage error:",chrome.runtime.lastError)})}}class ye{constructor(){this.messenger=new _e,this.extensionId="cliqz@cliqz.com",this.moduleWrappers=new Map,this._messageHandler=this._messageHandler.bind(this)}init(){this.messenger.addListener(this._messageHandler)}unload(){this.messenger.removeListener(this._messageHandler)}module(e){return this.moduleWrappers.has(e)||this.moduleWrappers.set(e,this._createModuleWrapper(e)),this.moduleWrappers.get(e).createProxy()}_createModuleWrapper(e){return new me.a(t=>{t.moduleName=e,this.messenger.sendMessage(this.extensionId,t)})}_messageHandler(e,t){const r=JSON.parse(e);t.id===this.extensionId&&(this.moduleWrappers.has(r.moduleName)||Object(l.log)("KordInjector error: Unhandled message",r),this.moduleWrappers.get(r.moduleName).handleMessage(r))}}function be(e,t){Object(l.log)("checking cliqz import",t.cliqz_import_state),t.cliqz_import_state||function(e,t){Object(l.log)("CliqzSettingsImport: Run Cliqz settings importer");const r=new ye;r.init();const n=r.module("privacy-migration");return Promise.race([n.exportSettings(),(i=5e3,new Promise((e,t)=>{setTimeout(t,i)}))]).then(r=>{if("error"===r)return Promise.reject();Object(l.log)("CliqzSettingsImport:",r);const i=["antitracking","adblocker"];i.forEach(t=>{!0===r[t].enabled?(Object(l.log)(`CliqzSettingsImport: import ${t} state: enabled`),e.enableModule(t)):(Object(l.log)(`CliqzSettingsImport: import ${t} state: disabled`),e.disableModule(t))});const s=new Set(t.site_whitelist),o=new Set(i.map(e=>r[e].whitelistedSites).reduce((e,t)=>e.concat(t),[]).map(e=>e.replace(/^(http[s]?:\/\/)?(www\.)?/,"")).filter(e=>!s.has(e)));Object(l.log)("CliqzSettingsImport: add whitelisted sites",[...o]);const a=t.site_whitelist;return o.forEach(e=>{a.push(e)}),t.site_whitelist=a,n.cleanModuleData(),Promise.resolve()}).then(()=>{r.unload()});var i}(e,t).then(()=>{Object(l.log)("CliqzSettingsImport: cliqz settings import successful"),t.cliqz_import_state=1},e=>{Object(l.log)("CliqzSettingsImport: cliqz import not available at present",e)})}window.CLIQZ=o.a;const ve=new ie,{log:we}=l,{sendMessage:ke}=C,{onMessage:Me}=chrome.runtime,{CDN_SUB_DOMAIN:Oe,BROWSER_INFO:Se,IS_CLIQZ:De,DEBUG:Te}=I.a,Le="edge"===Se.name,Ee="firefox"===Se.name,Pe=`https://${Oe}.ghostery.com/update/version`,xe="ghostery",je="ghostery",Re=ve.onBeforeRequest.bind(ve),Ye=ve.onHeadersReceived.bind(ve),Ne={isEnabled:!1,on:()=>{}},Ue=o.a.modules["human-web"],{adblocker:He,antitracking:Fe,hpnv2:Be}=o.a.modules,ze=o.a.modules["message-center"]||Ne,We=o.a.modules["offers-v2"]||Ne,Ge=o.a.modules.insights||Ne;let qe;function Ve(e,t){return t?(we("SET CLIQZ MODULE ENABLED",e),o.a.enableModule(e.name)):(we("SET CLIQZ MODULE DISABLED",e),o.a.disableModule(e.name),Promise.resolve())}function Ke(e,t){return e.isEnabled?(we("REGISTER WITH OFFERS CALLED",t),e.action(t?"registerRealEstate":"unregisterRealEstate",{realEstateID:je}).catch(()=>{we(`FAILED TO ${t?"REGISTER":"UNREGISTER"} REAL ESTATE WITH OFFERS CORE`)})):Promise.resolve()}function Ze(){if(u.a.enable_autoupdate){const e=u.a.bugs_last_checked,t=Number((new Date).getTime());(!e||t>Number(e)+9e5)&&(we("autoUpdateBugDb called",new Date),$e())}}function Je(){const e=["advertising","pornvertising","site_analytics"];we("Blocking all trackers in categories:",...e);const t={};for(const r in a.a.db.apps)if(a.a.db.apps.hasOwnProperty(r)){const n=a.a.db.apps[r].cat;e.indexOf(n)>=0&&!t.hasOwnProperty(r)&&(t[r]=1)}z.set({selected_app_ids:t})}function $e(){return new Promise((e,t)=>{const r={success:!1,updated:!1};C.getJson(Pe).then(t=>{we("Database version retrieval succeeded",t),A.a.update(t.click2playVersion),Ae.a.update(t.compatibilityVersion),a.a.update(t.bugsVersion,t=>{if(we("CHECK LIBRARY VERSION CALLED",t),t.success){const e=Number((new Date).getTime());u.a.bugs_last_checked=e,t.updated&&(we("BUGS LAST UPDATED UPDATED",new Date),u.a.bugs_last_updated=e)}e(t)})}).catch(e=>{we("Error in checkLibraryVersion",e),t(r)})})}function Qe(e){const{offer_id:t}=e.cmp_data.data.offer_info,r={origin:xe,type:"offer-action-signal",data:{action_id:"",offer_id:t}};if("offerShown"===e.reason)r.data.action_id="offer_shown";else if("closeButton"===e.reason)r.data.action_id="offer_closed";else{if("link"!==e.reason)return void we("[offers_log]: unknown message reason: ",e.reason);r.data.action_id="offer_ca_action"}o.a.modules.core.action("publishEvent","offers-recv-ch",r)}function Xe(e,t,r){if("cliqz-content-script"===e.source)return;const{name:n,message:i,messageId:o,origin:c}=e,{tab:d}=t,h=d&&d.id;if(Le&&o&&(r=h?function(e){C.sendMessage(h,o,e)}:function(e){C.sendMessageToPanel(o,e)}),"account_pages"===c)return function(e,t){switch(e){case"accountPage.login":case"accountPage.register":case"accountPageLoaded":return null===u.a.account&&w.a._getUserIDFromCookie().then(e=>{w.a._setAccountInfo(e)}).then(w.a.getUser).then(w.a.getUserSettings).then(w.a.getUserSubscriptionData).then(()=>t()).catch(e=>{t(e),we("handleAccountPages error",e)}),!0;case"accountPage.getUser":return w.a.getUser().then(e=>t(e)).catch(e=>t(e)),!0;case"accountPage.getUserSubscriptionData":return w.a.getUserSubscriptionData().then(e=>t(e)).catch(e=>t(e)),!0;case"accountPage.logout":case"account.logout":return w.a.logout().then(e=>t(e)).catch(e=>t(e)),!0;default:return!1}}(n,r);if("purplebox"===c)return function(e,t){return"updateAlertConf"===e&&(u.a.alert_expanded=t.alert_expanded,u.a.alert_bubble_pos=t.alert_bubble_pos,u.a.alert_bubble_timeout=t.alert_bubble_timeout,w.a.saveUserSettings().catch(e=>we("Background handlePurplebox",e))),!1}(n,i);if("ghostery_dot_com"===c)return function(e,t,r){if("appsPageLoaded"===e)r?ke(r,"appsPageData",{blocked:1===u.a.selected_app_ids[t.id]}):C.getActiveTab(e=>{e&&ke(e.id,"appsPageData",{blocked:1===u.a.selected_app_ids[t.id]})});else if("panelSelectedAppsUpdate"===e){const{selected_app_ids:e}=u.a;t.app_selected?e[t.app_id]=1:delete e[t.app_id],u.a.selected_app_ids=e}return!1}(n,i,h);if("page_performance"===c&&"recordPageInfo"===n)return b.a.setTabInfo(h,"pageTiming",i.performanceAPI),z.postPageLoadTime(h),!1;if("notifications"===c)return function(e,t,r,n){if("dismissCMPMessage"===e)C.isCliqzOffer(t.cmp_data)?Qe(t):f.CMP_DATA&&f.CMP_DATA.length&&f.CMP_DATA.splice(0,1);else if("cmpMessageShown"===e)C.isCliqzOffer(t.cmp_data)&&Qe(t);else if("openTab"===e){if(C.openNewTab(t),n)return n(),!0}else if("importFile"===e)try{const e=JSON.parse(t);if(e.hash!==l.hashCode(JSON.stringify(e.settings)))throw new Error("Invalid hash");const n=(e.settings||{}).conf||{};n.alert_bubble_timeout=n.alert_bubble_timeout>30?30:n.alert_bubble_timeout,n.settings_last_imported=Number((new Date).getTime()),z.set(n),C.getActiveTab(e=>{const t=e?e.id:r;ke(t,"onFileImported",{type:"message",text:`${function(e,t){return chrome.i18n.getMessage("settings_import_success",void 0)}()} ${s()(n.settings_last_imported).format("LLL")}`})})}catch(e){C.getActiveTab(e=>{const t=e?e.id:r;ke(t,"onFileImported",{type:"error",text:function(e,t){return chrome.i18n.getMessage("settings_import_file_error",void 0)}()})})}return!1}(n,i,h);if("click_to_play"===c)return function(e,t,r,n){if("processC2P"===e){if("always"===t.action){const e=b.a.getTabInfo(r,"host");return t.app_ids.forEach(t=>{te(t,e)}),n(),!0}if("once"===t.action)return A.a.allowOnce(t.app_ids,r),n(),!0}}(n,i,h,r);if("blocked_redirect"===c)return function(e,t,r,n){if("getBlockedRedirectData"===e)return n(I.a.BLOCKED_REDIRECT_DATA),!0;if("allow_always_page_c2p_tracker"===e){const e=b.a.getTabInfo(r,"host");te(t.app_id,e),chrome.tabs.update(r,{url:t.url})}else"allow_once_page_c2p_tracker"===e&&(I.a.LET_REDIRECTS_THROUGH=!0,chrome.tabs.update(r,{url:t.url}));return!1}(n,i,h,r);if("rewards"===c||"rewardsPanel"===c)return function(e,t,r){switch(e){case"rewardSignal":v.a.sendSignal(t);break;case"rewardSeen":v.a.markRewardRead(t.offerId),g.a.update();break;case"deleteReward":v.a.markRewardRead(t.offerId),v.a.deleteReward(t.offerId),g.a.update();break;case"rewardsPromptAccepted":u.a.rewards_accepted=!0;break;case"rewardsPromptOptedIn":u.a.rewards_opted_in=!0;break;case"ping":_.a.ping(t);break;case"setPanelData":return t.hasOwnProperty("enable_offers")&&(We.isEnabled||!0!==t.enable_offers?!1===t.enable_offers&&v.a.sendSignal(t.signal):qe=t.signal,z.set({enable_offers:t.enable_offers})),r()}}(n,i,r);if("ghostery-hub"===c)return function(e,t,r){switch(e){case"SET_PLUS_PROMO_MODAL_SEEN":j.recordPlusPromoSighting();break;case"SEND_PING":{const{type:e}=t;_.a.ping(e),r();break}case"GET_HOME_PROPS":{const{setup_complete:e,tutorial_complete:t,enable_metrics:n}=u.a;r({setup_complete:e,tutorial_complete:t,enable_metrics:n});break}case"GET_SETUP_SHOW_WARNING_OVERRIDE":{const{setup_show_warning_override:e}=u.a;r({setup_show_warning_override:e});break}case"SET_SETUP_STEP":{let{setup_step:e}=t;if(7===e)z.set({setup_step:e});else if(e>u.a.setup_step){if(z.set({setup_step:e}),8===e){const{setup_number:e}=u.a;z.set({setup_number:e?2:1}),_.a.ping("setup_start")}}else({setup_step:e}=e);r({setup_step:e});break}case"SET_BLOCKING_POLICY":{const{blockingPolicy:e}=t;switch(e){case"BLOCKING_POLICY_RECOMMENDED":z.set({setup_block:5}),Je();break;case"BLOCKING_POLICY_NOTHING":{z.set({setup_block:1});const e={};z.set({selected_app_ids:e});break}case"BLOCKING_POLICY_EVERYTHING":{z.set({setup_block:3});const e={};for(const t in a.a.db.apps)e.hasOwnProperty(t)||(e[t]=1);z.set({selected_app_ids:e});break}case"BLOCKING_POLICY_CUSTOM":z.set({setup_block:4})}r({blockingPolicy:e});break}case"SET_GHOSTERY_REWARDS":{const{enable_ghostery_rewards:e}=t;We.isEnabled||!0!==e?!1===e&&v.a.sendSignal({actionId:"rewards_off",origin:"ghostery-setup-flow",type:"action-signal"}):qe={actionId:"rewards_on",origin:"ghostery-setup-flow",type:"action-signal"},z.set({enable_offers:e}),r({enable_ghostery_rewards:e});break}case"SET_TUTORIAL_COMPLETE":z.set(t),_.a.ping("tutorial_complete"),r(t);break;case"SET_METRICS":case"SET_SETUP_SHOW_WARNING_OVERRIDE":case"SET_ANTI_TRACKING":case"SET_AD_BLOCK":case"SET_SMART_BLOCK":case"SET_HUMAN_WEB":case"SET_SETUP_COMPLETE":z.set(t),r(t)}}(n,i,r);if("getPanelData"===n)return i.tabId?chrome.tabs.get(+i.tabId,e=>{const t=z.get(i.view,e);r(t)}):C.getActiveTab(e=>{const t=z.get(i.view,e);r(t)}),w.a.getUserSettings().catch(e=>we("Failed getting user settings from getPanelData:",e)),!0;if("getStats"===n)return Ge.action("getStatsTimeline",i.from,i.to,!0,!0).then(e=>{r(e)}),!0;if("getAllStats"===n)return Ge.action("getAllDays").then(e=>{Ge.action("getStatsTimeline",s()(e[0]),s()(),!0,!0).then(e=>{r(e)})}),!0;if("resetStats"===n)return _.a.ping("hist_reset_stats"),Ge.action("clearData"),!1;if("setPanelData"===n)return z.set(i),r(),!1;if("account.getTheme"===n)return"default"!==u.a.current_theme?(w.a.getTheme(u.a.current_theme).then(()=>{r(u.a.account.themeData[u.a.current_theme])}),!0):(r(),!1);if("getCliqzModuleData"===n)return C.getActiveTab(e=>{Object(R.c)(e.id,e.pageHost,r)}),!0;if("getTrackerDescription"===n)return C.getJson(i.url).then(e=>{const t=e?e.company_in_their_own_words?e.company_in_their_own_words:e.company_description?e.company_description:"":"";r(t)}),!0;if("account.login"===n){_.a.ping("sign_in");const{email:e,password:t}=i;return w.a.login(e,t).then(e=>{e.hasOwnProperty("errors")||_.a.ping("sign_in_success"),r(e)}).catch(e=>{we("LOGIN ERROR",e),r({errors:Object(fe.a)(e)})}),!0}if("account.register"===n){if(!Le){const e=t.url.indexOf("templates/panel.html")>=0?"extension":"setup";_.a.ping(`create_account_${e}`)}const{email:e,confirmEmail:n,password:s,firstName:o,lastName:a}=i;return w.a.register(e,n,s,o,a).then(e=>{e.hasOwnProperty("errors")||_.a.ping("create_account_success"),r(e)}).catch(e=>{r({errors:[e]}),we("REGISTER ERROR",e)}),!0}if("account.logout"===n)return w.a.logout().then(e=>{r(e)}).catch(e=>{we("LOGOUT ERROR",e),r(e)}),!0;if("account.getUserSettings"===n)return w.a.getUserSettings().then(e=>{r(e)}).catch(e=>{we("Error getting user settings:",e),r({errors:Object(fe.a)(e)})}),!0;if("account.getUserSubscriptionData"===n)return w.a.getUserSubscriptionData().then(e=>{let t=e.subscriptions;Array.isArray(t)||(t=[t]);const n=t.reduce((e,t)=>{let r=e;return t.productName.includes("Plus")&&(r=t),r},{});r({subscriptionData:n})}).catch(e=>{we("Error getting user subscription data:",e),r({errors:Object(fe.a)(e)})}),!0;if("account.openSubscriptionPage"===n)return C.openNewTab({url:`https://account.${I.a.GHOSTERY_DOMAIN}.com/subscription`,become_active:!0}),!1;if("account.openCheckoutPage"===n)return C.openNewTab({url:`https://checkout.${I.a.GHOSTERY_DOMAIN}.com/plus`,become_active:!0}),!1;if("account.openSupportPage"===n){_.a.ping("priority_support_submit");const e=w.a.hasScopesUnverified(["subscriptions:plus"])?`https://account.${I.a.GHOSTERY_DOMAIN}.com/support`:"https://www.ghostery.com/support/";return C.openNewTab({url:e,become_active:!0}),!1}if("account.resetPassword"===n){const{email:e}=i;return w.a.resetPassword(e).then(e=>{r(e)}).catch(e=>{r({errors:Object(fe.a)(e)}),we("RESET PASSWORD ERROR",e)}),!0}if("account.getUser"===n)return w.a.getUser(i).then(e=>{e&&(e.subscriptionsPlus=w.a.hasScopesUnverified(["subscriptions:plus"])),r({user:e})}).catch(e=>{r({errors:Object(fe.a)(e)}),we("FETCH USER ERROR",e)}),!0;if("account.sendValidateAccountEmail"===n)return w.a.sendValidateAccountEmail().then(e=>{r(e)}).catch(e=>{r({errors:Object(fe.a)(e)}),we("sendValidateAccountEmail error",e)}),!0;if("account.promotions"===n){const{promotions:e}=i;return w.a.updateEmailPreferences(e).then(e=>{r(e)}).catch(e=>{r({errors:Object(fe.a)(e)}),we("UPDATE PROMOTIONS FAIL",e)}),!0}return"update_database"===n?($e().then(e=>{r(e)}),!0):"getSiteData"===n?(new Promise((e,t)=>{C.getActiveTab(r=>{const n=r?r.id:0,i=r?r.url:"";r?e({url:i,extensionVersion:I.a.EXTENSION_VERSION,browserDisplayName:Se.displayName,browserVersion:Se.version,categories:p.a.getCategories(n),os:Se.os,language:u.a.language,dbVersion:a.a.db.version}):t(new Error("Tab not found. Cannot gather page data"))})}).then(e=>{r(e)}),!0):"openNewTab"===n?(C.openNewTab(i),!1):"reloadTab"===n?(function(e){e&&e.tab_id?C.getTab(e.tab_id,e=>{e&&e.url&&chrome.tabs.update(e.id,{url:e.url})},()=>{C.getActiveTab(e=>{e&&e.url&&chrome.tabs.update(e.id,{url:e.url})})}):C.getActiveTab(e=>{e&&e.url&&chrome.tabs.update(e.id,{url:e.url})})}(i),"android"===Se.os&&chrome.tabs.query({active:!0,url:chrome.extension.getURL("app/templates/panel_android.html*")},e=>{chrome.tabs.remove(e.map(e=>e.id))}),!1):"getSettingsForExport"===n?(C.getActiveTab(e=>{if(e&&e.id&&e.url.startsWith("http")){const t=w.a.buildUserSettings();t.site_blacklist=u.a.site_blacklist,t.site_whitelist=u.a.site_whitelist;try{const n=l.hashCode(JSON.stringify({conf:t})),i=JSON.stringify({hash:n,settings:{conf:t}});C.injectNotifications(e.id,!0).then(()=>{ke(e.id,"exportFile",i)}),r(!0)}catch(e){r(!1)}}else r(!1)}),!0):"ping"===n?(_.a.ping(i),!1):"showBrowseWindow"===n?(C.getActiveTab(e=>{e&&e.id&&e.url.startsWith("http")?C.injectNotifications(e.id,!0).then(t=>{t&&ke(e.id,"showBrowseWindow",{translations:{browse_button_label:function(e,t){return chrome.i18n.getMessage("browse_button_label",void 0)}(),select_file_for_import:function(e,t){return chrome.i18n.getMessage("select_file_for_import",void 0)}(),file_was_not_selected:function(e,t){return chrome.i18n.getMessage("file_was_not_selected",void 0)}()}},()=>{chrome.runtime.lastError?r(function(e,t){return chrome.i18n.getMessage("refresh_and_try_again",void 0)}()):r(!0)})}):r(function(e,t){return chrome.i18n.getMessage("not_http_page",void 0)}())}),!0):"promoModals.sawPlusPromo"===n?(j.recordPlusPromoSighting(),!1):"promoModals.sawInsightsPromo"===n?(j.recordInsightsPromoSighting(),!1):"promoModals.turnOffPromos"===n?(j.turnOffPromos(),!1):void 0}function et(){const e=ge.hasTest("antitracking_full")?{qsEnabled:!0,telemetryMode:2}:ge.hasTest("antitracking_half")?{qsEnabled:!0,telemetryMode:1}:ge.hasTest("antitracking_collect")?{qsEnabled:!1,telemetryMode:1}:{qsEnabled:!0,telemetryMode:1};e&&u.a.enable_anti_tracking&&(u.a.enable_human_web||(e.telemetryMode=0),Object.keys(e).forEach(t=>{const r=e[t];we("antitracking","set config option",t,r),Fe.action("setConfigOption",t,r)})),ge.hasTest("antitracking_whitelist2")&&o.b.set("attrackBloomFilter",!1)}function tt(){const e=o.a.modules["webrequest-pipeline"];if(e.isDisabled)return Promise.reject(new Error("cannot initialise webrequest pipeline: module disabled"));chrome.webRequest.onBeforeRequest.removeListener(Re),chrome.webRequest.onHeadersReceived.removeListener(Ye);const t={onBeforeRequest:[],onHeadersReceived:[]};return Fe.isEnabled&&(t.onBeforeRequest.push("antitracking.onBeforeRequest"),t.onHeadersReceived.push("antitracking.onHeadersReceived")),He.isEnabled&&t.onBeforeRequest.push("adblocker"),Promise.all([e.action("addPipelineStep","onBeforeRequest",{name:"ghostery.onBeforeRequest",spec:"blocking",before:t.onBeforeRequest,fn:(e,t)=>{const r=ve.onBeforeRequest(e);return r&&(!0===r.cancel||r.redirectUrl)&&Object.assign(t,r),!0}}),e.action("addPipelineStep","onHeadersReceived",{name:"ghostery.onHeadersReceived",spec:"collect",before:t.onHeadersReceived,fn:e=>(ve.onHeadersReceived(e),!0)})])}function rt(e){return Boolean(I.a.SESSION.paused_blocking||2===ve.policy.getSitePolicy(e.tabUrl,e.url)||e.ghosteryWhitelisted)}function nt(){chrome.webNavigation.onBeforeNavigate.addListener(ve.onBeforeNavigate.bind(ve)),chrome.webNavigation.onCommitted.addListener(ve.onCommitted.bind(ve)),chrome.webNavigation.onDOMContentLoaded.addListener(ve.onDOMContentLoaded.bind(ve)),chrome.webNavigation.onCompleted.addListener(ve.onNavigationCompleted.bind(ve)),chrome.webNavigation.onErrorOccurred.addListener(ve.onNavigationErrorOccurred.bind(ve)),chrome.webRequest.onBeforeSendHeaders.addListener(ve.onBeforeSendHeaders.bind(ve),{urls:["https://l.ghostery.com/*","https://d.ghostery.com/*","https://cmp-cdn.ghostery.com/*","https://cdn.ghostery.com/*","https://apps.ghostery.com/*","https://gcache.ghostery.com/*"]},["requestHeaders","blocking"]),function(){let e=["http://*/*","https://*/*","ws://*/*","wss://*/*"];(Le||Ee)&&(e=e.reduce((e,t)=>(t.match(/^wss?:\/\//)||e.push(t),e),[])),chrome.webRequest.onBeforeRequest.addListener(Re,{urls:e},["blocking"]),chrome.webRequest.onHeadersReceived.addListener(Ye,{urls:e},["responseHeaders"])}(),chrome.webRequest.onBeforeRedirect.addListener(ve.onBeforeRedirect.bind(ve),{urls:["http://*/*","https://*/*"]}),chrome.webRequest.onCompleted.addListener(ve.onRequestCompleted.bind(ve),{urls:["http://*/*","https://*/*"]}),chrome.webRequest.onErrorOccurred.addListener(ve.onRequestErrorOccurred.bind(ve),{urls:["http://*/*","https://*/*"]}),chrome.tabs.onCreated.addListener(ve.onTabCreated.bind(ve)),chrome.tabs.onActivated.addListener(ve.onTabActivated.bind(ve)),chrome.tabs.onReplaced.addListener(ve.onTabReplaced.bind(ve)),chrome.tabs.onRemoved.addListener(ve.onTabRemoved.bind(ve)),window.addEventListener("beforeunload",()=>{}),Me.addListener(Xe),chrome.runtime.onConnect.addListener(e=>{"dynamicUIPanelPort"===e.name&&z.initPort(e)}),"object"==typeof chrome.runtime.onMessageExternal&&chrome.runtime.onMessageExternal.addListener((e,t,r)=>{return!(-1===[I.a.GHOSTERY_TAB_CHROME_PRODUCTION_ID,I.a.GHOSTERY_TAB_CHROME_PRERELEASE_ID,I.a.GHOSTERY_TAB_CHROME_TEST_ID,I.a.GHOSTERY_TAB_FIREFOX_PRODUCTION_ID,I.a.GHOSTERY_TAB_FIREFOX_TEST_ID].indexOf(t.id)||"getStatsAndSettings"!==e.name)&&(function(e){const t={};Ge.action("getAllDays").then(r=>{Ge.action("getStatsTimeline",s()(r[0]),s()(),!0,!0).then(e=>{const r={adsBlocked:0,cookiesBlocked:0,dataSaved:0,fingerprintsRemoved:0,loadTime:0,pages:0,timeSaved:0,trackerRequestsBlocked:0,trackersBlocked:0,trackersDetected:0};e.forEach(e=>{Object.keys(r).forEach(t=>{r[t]+=e[t]})}),t.cumulativeData=r}).then(()=>{t.blockTrackersEnabled=!I.a.SESSION.paused_blocking,t.adBlockEnabled=!I.a.SESSION.paused_blocking&&u.a.enable_ad_block,t.antiTrackingEnabled=!I.a.SESSION.paused_blocking&&u.a.enable_anti_tracking,e(t)})})}(e=>r({historicalDataAndSettings:e})),!0)})}function it(){if(I.a.JUST_UPGRADED){we("JUST UPGRADED");const{version_history:e}=u.a,t=e.length;t&&e[t-1]===I.a.EXTENSION_VERSION||e.push(I.a.EXTENSION_VERSION),u.a.version_history=e,_.a.ping("upgrade"),u.a.metrics.install_complete_all=Number((new Date).getTime())}else if(I.a.JUST_INSTALLED){we("JUST INSTALLED");const e=new Date,t=`${e.getFullYear().toString()}-${`0${e.getMonth()+1}`.slice(-2).toString()}-${`0${e.getDate()}`.slice(-2).toString()}`,r=Math.floor(100*Math.random())+1;u.a.install_random_number=r,u.a.install_date=t,_.a.setUninstallUrl(),_.a.ping("install"),setTimeout(()=>{_.a.ping("install_complete")},3e5),chrome.tabs.create({url:chrome.runtime.getURL("./app/templates/hub.html?justInstalled=true"),active:!0})}else _.a.ping("install"),_.a.ping("install_complete");const e=o.a.start().then(()=>{Ve(Ge,!0),Promise.all([tt()]).then(()=>{De||(I.a.JUST_UPGRADED_FROM_7?(u.a.enable_human_web=!Ue.isDisabled,u.a.enable_ad_block=!1,u.a.enable_anti_tracking=!1,u.a.enable_offers=!0):I.a.JUST_UPGRADED_FROM_8_1?(u.a.enable_ad_block=!He.isDisabled,u.a.enable_anti_tracking=!Fe.isDisabled,u.a.enable_human_web=!Ue.isDisabled,u.a.enable_offers=!0):(u.a.enable_ad_block=!He.isDisabled,u.a.enable_anti_tracking=!Fe.isDisabled,u.a.enable_human_web=!(Ue.isDisabled||Ee&&I.a.JUST_INSTALLED),u.a.enable_offers=!We.isDisabled))})}).catch(e=>{we("cliqzStartup error",e)});function t(){f.fetchCMPData(),De||ge.fetch().then(()=>{et()}).catch(()=>{we("Unable to reach abtest server")})}return De&&(Ve(Be,!1),Ve(Ue,!1),Ve(Fe,!1),Ve(He,!1),Ve(We,!1)),setInterval(t,36e5),Ze(),setInterval(Ze,36e5),k.a.on("conf.save.selected_app_ids",e=>{const t=Object(n.size)(e),{db:r}=a.a;r.noneSelected=0===t,r.allSelected=!!t&&Object(n.every)(r.apps,(t,r)=>e.hasOwnProperty(r))}),k.a.on("conf.save.site_whitelist",()=>{g.a.update(),C.flushChromeMemoryCache(),o.a.modules.core.action("refreshAppState")}),k.a.on("conf.save.enable_human_web",e=>{De?Ve(Ue,!1):Ve(Ue,e).then(()=>{et()})}),k.a.on("conf.save.enable_offers",e=>{g.a.update();let t=Promise.resolve(),r=e;if(De)r=!1;else if(!r){const e=o.a&&o.a.modules["offers-v2"]&&o.a.modules["offers-v2"].background&&o.a.modules["offers-v2"].background.actions;e&&(t=e.flushSignals()),qe=void 0}const n=()=>Ve(We,r),i=()=>Ke(We,r);r?t.then(n).then(i):t.then(i).then(n)}),k.a.on("conf.save.enable_anti_tracking",e=>{Ve(Fe,!De&&e)}),k.a.on("conf.save.enable_ad_block",e=>{Ve(He,!De&&e)}),k.a.on("conf.changed.settings",Object(n.debounce)(e=>{we("Conf value changed for a watched user setting:",e)},200)),k.a.on("globals.save.paused_blocking",()=>{I.a.SESSION.paused_blocking&&_.a.handleBrokenPageTrigger(I.a.BROKEN_PAGE_PAUSE),o.a.modules.core.action("refreshAppState")}),C.getActiveTab(e=>{let t=0;e&&(t=e.id),g.a.update(t)}),_.a.ping("active"),Promise.all([a.a.init(I.a.JUST_UPGRADED),A.a.init(I.a.JUST_UPGRADED),Ae.a.init(I.a.JUST_UPGRADED),Z.init(I.a.JUST_UPGRADED),e]).then(()=>{t()})}o.a.modules.ghostery=new he,Fe.on("enabled",()=>{Fe.isReady().then(()=>{Fe.action("setWhiteListCheck",rt)})}),He.on("enabled",()=>{He.isReady().then(()=>He.action("addWhiteListCheck",e=>rt({tabUrl:e})))}),We.on("enabled",()=>{We.isReady().then(()=>{if(we("IN OFFERS ON ENABLED",We,ze),qe){v.a.sendSignal(qe);const e=o.a&&o.a.modules["offers-v2"]&&o.a.modules["offers-v2"].background&&o.a.modules["offers-v2"].background.actions;e&&e.flushSignals(),qe=void 0}Te&&We.action("setConfiguration",{config_location:"de",triggersBE:"https://offers-api-staging-myo.myoffrz.ninja",showConsoleLogs:!0,offersLogsEnabled:!0,offersDevFlag:!0,offersTelemetryFreq:"10"}),Ke(We,!0).then(()=>{Ve(ze,!0)})})}),ze.on("enabled",()=>{ze.isReady().then(()=>(we("IN MESSAGE CENTER ON ENABLED",We,ze),ze.action("registerMessageHandler",xe,e=>{if(ze.action("hideMessage",xe,e),e.Dismiss=1,"offers-core"===e.origin&&"push-offer"===e.type&&e.data.offer_data){we("RECEIVED OFFER",e);const t=v.a.unreadOfferIds.indexOf(e.data.offer_id);-1!==t&&v.a.unreadOfferIds.splice(t,1),v.a.storedOffers[e.data.offer_id]=e.data,v.a.unreadOfferIds.push(e.data.offer_id),g.a.update(),"star"===e.data.offer_data.ui_info.notif_type||I.a.SESSION.paused_blocking||e.data.display_rule&&e.data.display_rule.url&&C.getTabByUrl(e.data.display_rule.url,t=>{const r=t?t.id:0;v.a.showHotDogOrOffer(r,e.data)},()=>{C.getActiveTab(t=>{const r=t?t.id:0;v.a.showHotDogOrOffer(r,e.data)})})}})))}),Ge.on("enabled",()=>{ve.addPageListener((e,t,r,n)=>{o.a.modules.insights.action("pushGhosteryPageStats",e,t,r,n)})}),Ge.on("disabled",()=>{ve.clearPageListeners()}),ue.a.init().then(()=>("android"===Se.os?chrome.browserAction.onClicked.addListener(e=>{chrome.tabs.create({url:chrome.extension.getURL(`app/templates/panel_android.html?tabId=${e.id}`),active:!0})}):chrome.browserAction.setPopup({popup:"app/templates/panel.html"}),nt(),function(){we("INITIALIZE VERSIONING. CURRENT VERSION IS:",I.a.EXTENSION_VERSION);const e=u.a.previous_version;if(e)if(we("PREVIOUS VERSION EXISTS",e),I.a.JUST_INSTALLED=!1,I.a.JUST_UPGRADED=e!==I.a.EXTENSION_VERSION,I.a.JUST_UPGRADED){we("THIS IS AN UPGRADE"),u.a.previous_version=I.a.EXTENSION_VERSION;const t=e.split("."),r=I.a.EXTENSION_VERSION.split(".");t[0]===r[0]&&t[1]===r[1]&&(we("THIS IS A HOT FIX UPGRADE"),I.a.HOTFIX=!0),t[0]<8&&(I.a.JUST_UPGRADED_FROM_7=!0,u.a.is_expert=!0,u.a.enable_smart_block=!1),8==+t[0]&&t[1]<2&&(I.a.JUST_UPGRADED_FROM_8_1=!0);const{version_history:n}=u.a;n.push(I.a.EXTENSION_VERSION),u.a.version_history=n}else we("SAME VERSION OR NOT THE FIRST RUN");else{we("NEW INSTALL"),u.a.previous_version=I.a.EXTENSION_VERSION;const e=[];e.push(I.a.EXTENSION_VERSION),u.a.version_history=e,I.a.JUST_INSTALLED=!0}}(),_.a.init(I.a.JUST_INSTALLED).then(()=>it().then(()=>{w.a.migrate().then(()=>{if(null!==u.a.account)return w.a.getUser().then(w.a.getUserSettings).then(()=>{if("default"!==u.a.current_theme)return w.a.getTheme(u.a.current_theme)});I.a.JUST_INSTALLED&&Je()}).catch(e=>we(e)),l.prefsSet(I.a.initProps),I.a.INIT_COMPLETE=!0,De&&be(o.a,u.a)})))).catch(e=>(we("Error in init()",e),Promise.reject(e)))},,,,,function(e,t,r){"use strict";r.r(t);var n=r(6),i=r(152),s=r(283),o=r(76),a=r(210),g=r(62),A=r(100),u=r(107),I=r(123),C=r(7),l=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,8,8,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,10,3,3,3,3,3,3,3,3,3,3,3,3,4,3,3,11,6,6,6,5,8,8,8,8,8,8,8,8,8,8,8,0,1,2,3,5,8,7,1,1,1,4,6,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,1,1,1,1,0,1,0,1,1,1,1,1,1,1,2,1,1,1,1,1,2,1,2,1,1,1,1,1,1,1,1,1,1,1,1,1,2,1,1,1,1,1,1,1,1,1,2,1,1,1,1,1,1,1,2,1,1,1,1,1,1,1,1,1,1,1,1,1,3,1,3,1,1,1,1,1,1,1,3,1,1,1,1,1,3,1,3,1,1,1,1,1,1,1,3,1,1,1,1,1,1,1,1,1,1,1,1,1,1]);function c(e){if(0===e.length)return!0;if(!0===function(e){if(0===e.length)return!0;for(var t=0;t<e.length;t+=1)if(e[t]>127)return!1;return!0}(e))return!0;for(var t=0,r=0;r<e.length;r+=1){var n=l[e[r]];if(1===(t=l[256+16*t+n])||void 0===t)return!1}return!0}var d=r(97),h=r(192);var f=function(){function e(e){this.buffer="";var t=function(e){for(var t=[],r=[],n=0;n<e.length;n+=1){var i=e[n][1][0];void 0!==i&&(47===i.charCodeAt(0)?i.endsWith("/")?r.push(new RegExp(i.slice(1,-1))):i.endsWith("/i")&&r.push(new RegExp(i.slice(1,-2),"i")):t.push(i))}return[t,r]}(e);this.patterns=t[0],this.regexps=t[1]}return e.prototype.flush=function(){return this.buffer},e.prototype.write=function(e){if(0===this.patterns.length&&0===this.regexps.length)return e;this.buffer+=e;var t=Object(n.d)(
/*!
 * Copyright (c) 2017-2019 Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */
function(e,t){for(var r=[],n="<"+t,i="</"+t+">",s=e.indexOf(n),o=0;-1!==s;){var a=e.indexOf(">",s+n.length);if(-1===a)return[r,e.slice(0,s),e.slice(s)];if(47===e.charCodeAt(a-1))o=a+1,r.push([s,e.slice(s,o)]);else{var g=e.indexOf(i,a);if(-1===g)return[r,e.slice(0,s),e.slice(s)];r.push([s,e.slice(s,g+i.length)]),o=g+i.length}s=e.indexOf(n,o)}var A=e.lastIndexOf(">");-1===A&&(A=o);var u=e.indexOf("<",A);return-1===u?[r,e,""]:e.length-u>=n.length||!1===n.startsWith(e.slice(u))?[r,e,""]:[r,e.slice(0,u),e.slice(u)]}(this.buffer,"script"),3),r=t[0],i=t[1],s=t[2];return this.buffer=s,0===r.length?i:function(e,t){if(0===t.length)return e;var r=e;t.reverse();for(var i=0;i<t.length;i+=1){var s=Object(n.d)(t[i],2),o=s[0],a=s[1];r=r.slice(0,o)+r.slice(o+a.length)}return r}(i,function(e,t,r){for(var n=[],i=0;i<r.length;i+=1){for(var s=r[i],o=!1,a=0;a<e.length;a+=1)if(-1!==s[1].indexOf(e[a])){n.push(s),o=!0;break}if(!1===o)for(a=0;a<t.length;a+=1)if(!0===t[a].test(s[1])){n.push(s);break}}return n}(this.patterns,this.regexps,r))},e}();
/*!
 * Copyright (c) 2017-2019 Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */
function p(e){return a.a.fromRawDetails({requestId:e.requestId,sourceUrl:e.initiator||e.originUrl||e.documentUrl,tabId:e.tabId,type:e.type,url:e.url})}function m(e,t){if(void 0===t)return{};var r=e.responseHeaders||[];return r.forEach((function(e){var r=e.name,n=e.value;"content-security-policy"===r.toLowerCase()&&(t+="; "+n)})),(r=r.filter((function(e){return"content-security-policy"!==e.name.toLowerCase()}))).push({name:"content-security-policy",value:t}),{responseHeaders:r}}
/*!
 * Copyright (c) 2017-2019 Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */r.d(t,"fromWebRequestDetails",(function(){return p})),r.d(t,"updateResponseHeadersWithCSP",(function(){return m})),r.d(t,"isHTMLFilteringSupported",(function(){return b})),r.d(t,"filterRequestHTML",(function(){return v})),r.d(t,"WebExtensionBlocker",(function(){return w})),r.d(t,"FiltersEngine",(function(){return s.b})),r.d(t,"ENGINE_VERSION",(function(){return s.a})),r.d(t,"ReverseIndex",(function(){return o.a})),r.d(t,"Request",(function(){return a.a})),r.d(t,"makeRequest",(function(){return a.b})),r.d(t,"CosmeticFilter",(function(){return g.b})),r.d(t,"NetworkFilter",(function(){return A.a})),r.d(t,"detectFilterType",(function(){return u.a})),r.d(t,"f",(function(){return u.b})),r.d(t,"generateDiff",(function(){return u.c})),r.d(t,"getLinesWithFilters",(function(){return u.d})),r.d(t,"mergeDiffs",(function(){return u.e})),r.d(t,"parseFilter",(function(){return u.f})),r.d(t,"parseFilters",(function(){return u.g})),r.d(t,"tokenize",(function(){return C.n})),r.d(t,"isUTF8",(function(){return c})),r.d(t,"Config",(function(){return d.a})),r.d(t,"Resources",(function(){return h.a})),r.d(t,"StreamingHtmlFilter",(function(){return f})),r.d(t,"fetchPrebuilt",(function(){return I.d})),r.d(t,"adsLists",(function(){return I.b})),r.d(t,"adsAndTrackingLists",(function(){return I.a})),r.d(t,"fullLists",(function(){return I.f})),r.d(t,"fetchLists",(function(){return I.c})),r.d(t,"fetchResources",(function(){return I.e}));var _=/<meta charset=['"]utf-8/i,y=/<meta http-equiv="content-type" content="text\/html;charset=utf-8/i;function b(){var e=void 0!==e?e:chrome;return"undefined"!=typeof TextDecoder&&"undefined"!=typeof TextEncoder&&void 0!==e.webRequest&&void 0!==e.webRequest.filterResponseData}function v(e,t){var r,i=this,s=e.id,o=void 0!==o?o:chrome,a=o.webRequest.filterResponseData(s),g=new TextDecoder,A=new TextEncoder,u=new f(t);a.ondata=function(e){var t="";try{t=g.decode(e.data,{stream:!0})}catch(t){return a.write(e.data),void a.disconnect()}void 0===r&&(r=_.test(t)||y.test(t)||c(new Uint8Array(e.data))),!0===r?a.write(A.encode(u.write(t))):a.write(e.data)},a.onstop=function(){return Object(n.a)(i,void 0,void 0,(function(){var e;return Object(n.c)(this,(function(t){return 0!==(e=A.encode(u.write(g.decode()))+u.flush()).length&&a.write(A.encode(e)),a.disconnect(),[2]}))}))}}var w=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onBeforeRequest=function(e){var r=p(e);if(r.isMainFrame())return t.performHTMLFiltering(r),{};var n=t.match(r),i=n.redirect,s=n.match;return void 0!==i?{redirectUrl:i.dataUrl}:!0===s?{cancel:!0}:{}},t.onHeadersReceived=function(e){return m(e,t.getCSPDirectives(p(e)))},t.onRuntimeMessage=function(e,r,n){if(void 0!==r.tab&&void 0!==r.tab.id&&void 0!==r.frameId&&"getCosmeticsFilters"===e.action){var s=r.url,o=void 0===s?"":s,a=r.frameId,g=Object(i.parse)(o),A=g.hostname||"",u=g.domain||"";if(0===a&&"start"===e.lifecycle){var I=t.getCosmeticsFilters({domain:u,hostname:A,url:o,classes:e.classes,hrefs:e.hrefs,ids:e.ids,getBaseRules:!0,getInjectionRules:!1,getRulesFromDOM:!1,getRulesFromHostname:!1}),C=I.active,l=I.styles;if(!1===C)return;t.injectStylesWebExtension(l,{tabId:r.tab.id,allFrames:!0})}var c=t.getCosmeticsFilters({domain:u,hostname:A,url:o,classes:e.classes,hrefs:e.hrefs,ids:e.ids,getBaseRules:!1,getInjectionRules:"start"===e.lifecycle,getRulesFromHostname:"start"===e.lifecycle,getRulesFromDOM:"dom-update"===e.lifecycle}),d=(C=c.active,l=c.styles,c.scripts);if(!1===C)return;t.injectStylesWebExtension(l,{tabId:r.tab.id,frameId:a}),n({active:C,extended:[],scripts:d,styles:""})}},t}return Object(n.b)(t,e),t.prototype.enableBlockingInBrowser=function(){!0===this.config.loadNetworkFilters&&(chrome.webRequest.onBeforeRequest.addListener(this.onBeforeRequest,{urls:["<all_urls>"]},["blocking"]),chrome.webRequest.onHeadersReceived.addListener(this.onHeadersReceived,{urls:["<all_urls>"],types:["main_frame"]},["blocking","responseHeaders"])),!0===this.config.loadCosmeticFilters&&chrome.runtime.onMessage.addListener(this.onRuntimeMessage)},t.prototype.disableBlockingInBrowser=function(){chrome.webRequest.onBeforeRequest.removeListener(this.onBeforeRequest),chrome.webRequest.onHeadersReceived.removeListener(this.onHeadersReceived),chrome.runtime.onMessage.removeListener(this.onRuntimeMessage)},t.prototype.performHTMLFiltering=function(e){if(e.isMainFrame()&&!0===this.config.enableHtmlFiltering&&b()){var t=this.getHtmlFilters(e);0!==t.length&&v(e,t)}},t.prototype.injectStylesWebExtension=function(e,t){var r=t.tabId,n=t.frameId,i=t.allFrames,s=void 0!==i&&i;e.length>0&&"undefined"!=typeof chrome&&chrome.tabs&&chrome.tabs.insertCSS&&chrome.tabs.insertCSS(r,{allFrames:s,code:e,cssOrigin:"user",frameId:n,matchAboutBlank:!0,runAt:"document_start"},(function(){chrome.runtime.lastError&&console.error("Error while injecting CSS",chrome.runtime.lastError.message)}))},t}(s.b)}]);
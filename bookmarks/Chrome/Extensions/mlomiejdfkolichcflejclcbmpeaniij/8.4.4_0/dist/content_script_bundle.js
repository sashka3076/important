"undefined"!=typeof browser&&(chrome=browser),function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=738)}({136:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.registerContentScript=function(e){if(void 0===e.module)return void i.default.error('"module" property should be specified in content.es',e);if(!1===Array.isArray(e.js))return void i.default.error('"js" should be an array of functions',e);if(!1===Array.isArray(e.matches))return void i.default.error('"matches" should be an array of match patterns',e);if(void 0!==e.excludeMatches&&!1===Array.isArray(e.excludeMatches))return void i.default.error('"excludeMatches" should either be undefined or an array of match patterns',e);d.push(e)},t.runContentScripts=function(e,t,n){const r={};var o=!0,s=!1,a=void 0;try{for(var l,m=d[Symbol.iterator]();!(o=(l=m.next()).done);o=!0){const o=l.value,s=o.module,a=o.js;if((n.app.modules[s]||{isEnabled:!1}).isEnabled&&u(e,o)){var f=!0,p=!1,g=void 0;try{for(var h,b=a[Symbol.iterator]();!(f=(h=b.next()).done);f=!0){const o=h.value;try{const i=o(e,t,n)||{};r[s]=c({},r[s],{},i)}catch(e){i.default.error(`CLIQZ content-script failed: ${e} ${e.stack}`)}}}catch(e){p=!0,g=e}finally{try{f||null==b.return||b.return()}finally{if(p)throw g}}}}}catch(e){s=!0,a=e}finally{try{o||null==m.return||m.return()}finally{if(s)throw a}}return r};var r=s(n(742)),o=n(377),i=s(n(743));function s(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(n,!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t){if(!1===(0,o.isTopWindow)(e)&&!0!==t.allFrames)return!1;let n=e.location.href;if("about:blank"===n||"about:srcdoc"===n){if(!0!==t.matchAboutBlank)return!1;if(!e.parent)return!1;n=e.parent.location.href}if(void 0!==t.excludeMatches){var i=!0,s=!1,a=void 0;try{for(var c,l=t.excludeMatches[Symbol.iterator]();!(i=(c=l.next()).done);i=!0){const e=c.value;if((0,r.default)(e,n))return!1}}catch(e){s=!0,a=e}finally{try{i||null==l.return||l.return()}finally{if(s)throw a}}}var u=!0,d=!1,m=void 0;try{for(var f,p=t.matches[Symbol.iterator]();!(u=(f=p.next()).done);u=!0){const e=f.value;if((0,r.default)(e,n))return!0}}catch(e){d=!0,m=e}finally{try{u||null==p.return||p.return()}finally{if(d)throw m}}return!1}const d=[]},145:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"setInterval",{enumerable:!0,get:function(){return r.setInterval}}),Object.defineProperty(t,"setTimeout",{enumerable:!0,get:function(){return r.setTimeout}}),Object.defineProperty(t,"clearTimeout",{enumerable:!0,get:function(){return r.clearTimeout}}),Object.defineProperty(t,"clearInterval",{enumerable:!0,get:function(){return r.clearInterval}});var r=n(226)},175:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=(r=n(198))&&r.__esModule?r:{default:r};
/*!
 * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */
var i=("undefined"!=typeof browser?browser:o.default).runtime;t.default=i},179:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.once=function(e){let t=!1;return function(){if(!t){t=!0;for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];e.apply(this,r)}}},t.createElement=function(e,t){let n=t.tag,r=t.className,o=t.textContent,i=t.id;const s=e.document.createElement(n);r&&s.classList.add(r);o&&(s.textContent=o);i&&(s.id=i);return s},t.copySelectedText=function(e){let t=!1;try{t=e.document.execCommand("copy")}catch(e){t=!1}return t},t.chooseProduct=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.find(t=>e[t])||"myoffrz"},t.retryFunctionSeveralTimes=function(e,t,n){let r=0;const o=4,i=1e3;return new Promise(s=>{!function a(){const c=t(),l=c.result;if(c.tryAgain&&r<o){r+=1;const t=e.setTimeout(a,i);n(t)}else s(l)}()})},Object.defineProperty(t,"getCouponsForm",{enumerable:!0,get:function(){return r.getCouponsForm}});var r=n(763);const o=["ghostery","chip","freundin","cliqz","amo"]},196:function(e,t,n){"use strict";
/*!
 * Copyright (c) 2017-2019 Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */
function r(e){for(var t=new Set(["br","head","link","meta","script","style"]),n=new Set,r=new Set,o=new Set,i=0;i<e.length;i+=1){var s=e[i];if(1===s.nodeType&&!t.has(s.localName)){var a=s.id;a&&o.add(a);for(var c=s.classList,l=0;l<c.length;l+=1)n.add(c[l]);var u=s.href;u&&r.add(u)}}return{classes:Array.from(n),hrefs:Array.from(r),ids:Array.from(o)}}function o(e,t){var n=t.head||t.getElementsByTagName("head")[0]||t.documentElement;if(null!==n){var r=t.createElement("style");r.type="text/css",r.id="cliqz-adblokcer-css-rules",r.appendChild(t.createTextNode(e)),n.appendChild(r)}}function i(e,t){var n=t.createElement("script");n.type="text/javascript",n.id="cliqz-adblocker-script",n.async=!1,n.appendChild(t.createTextNode(function(e){return"try{"+e+"}catch(c){}!function(){var c=document.currentScript,e=c&&c.parentNode;e&&e.removeChild(c)}();"}(e)));var r=t.head||t.documentElement;null!==r&&r.appendChild(n)}n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return i}))},198:function(e,t,n){var r,o,i;o=[e],void 0===(i="function"==typeof(r=function(e){"use strict";if("undefined"==typeof browser||Object.getPrototypeOf(browser)!==Object.prototype){const t="The message port closed before a response was received.",n="Returning a Promise is the preferred way to send a reply from an onMessage/onMessageExternal listener, as the sendResponse will be removed from the specs (See https://developer.mozilla.org/docs/Mozilla/Add-ons/WebExtensions/API/runtime/onMessage)",r=e=>{const r={alarms:{clear:{minArgs:0,maxArgs:1},clearAll:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getAll:{minArgs:0,maxArgs:0}},bookmarks:{create:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},getChildren:{minArgs:1,maxArgs:1},getRecent:{minArgs:1,maxArgs:1},getSubTree:{minArgs:1,maxArgs:1},getTree:{minArgs:0,maxArgs:0},move:{minArgs:2,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeTree:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}},browserAction:{disable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},enable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},getBadgeBackgroundColor:{minArgs:1,maxArgs:1},getBadgeText:{minArgs:1,maxArgs:1},getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},openPopup:{minArgs:0,maxArgs:0},setBadgeBackgroundColor:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setBadgeText:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},browsingData:{remove:{minArgs:2,maxArgs:2},removeCache:{minArgs:1,maxArgs:1},removeCookies:{minArgs:1,maxArgs:1},removeDownloads:{minArgs:1,maxArgs:1},removeFormData:{minArgs:1,maxArgs:1},removeHistory:{minArgs:1,maxArgs:1},removeLocalStorage:{minArgs:1,maxArgs:1},removePasswords:{minArgs:1,maxArgs:1},removePluginData:{minArgs:1,maxArgs:1},settings:{minArgs:0,maxArgs:0}},commands:{getAll:{minArgs:0,maxArgs:0}},contextMenus:{remove:{minArgs:1,maxArgs:1},removeAll:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},cookies:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:1,maxArgs:1},getAllCookieStores:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},devtools:{inspectedWindow:{eval:{minArgs:1,maxArgs:2,singleCallbackArg:!1}},panels:{create:{minArgs:3,maxArgs:3,singleCallbackArg:!0}}},downloads:{cancel:{minArgs:1,maxArgs:1},download:{minArgs:1,maxArgs:1},erase:{minArgs:1,maxArgs:1},getFileIcon:{minArgs:1,maxArgs:2},open:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},pause:{minArgs:1,maxArgs:1},removeFile:{minArgs:1,maxArgs:1},resume:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},extension:{isAllowedFileSchemeAccess:{minArgs:0,maxArgs:0},isAllowedIncognitoAccess:{minArgs:0,maxArgs:0}},history:{addUrl:{minArgs:1,maxArgs:1},deleteAll:{minArgs:0,maxArgs:0},deleteRange:{minArgs:1,maxArgs:1},deleteUrl:{minArgs:1,maxArgs:1},getVisits:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1}},i18n:{detectLanguage:{minArgs:1,maxArgs:1},getAcceptLanguages:{minArgs:0,maxArgs:0}},identity:{launchWebAuthFlow:{minArgs:1,maxArgs:1}},idle:{queryState:{minArgs:1,maxArgs:1}},management:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},getSelf:{minArgs:0,maxArgs:0},setEnabled:{minArgs:2,maxArgs:2},uninstallSelf:{minArgs:0,maxArgs:1}},notifications:{clear:{minArgs:1,maxArgs:1},create:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:0},getPermissionLevel:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},pageAction:{getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},hide:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},permissions:{contains:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},request:{minArgs:1,maxArgs:1}},runtime:{getBackgroundPage:{minArgs:0,maxArgs:0},getBrowserInfo:{minArgs:0,maxArgs:0},getPlatformInfo:{minArgs:0,maxArgs:0},openOptionsPage:{minArgs:0,maxArgs:0},requestUpdateCheck:{minArgs:0,maxArgs:0},sendMessage:{minArgs:1,maxArgs:3},sendNativeMessage:{minArgs:2,maxArgs:2},setUninstallURL:{minArgs:1,maxArgs:1}},sessions:{getDevices:{minArgs:0,maxArgs:1},getRecentlyClosed:{minArgs:0,maxArgs:1},restore:{minArgs:0,maxArgs:1}},storage:{local:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},managed:{get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1}},sync:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}}},tabs:{captureVisibleTab:{minArgs:0,maxArgs:2},create:{minArgs:1,maxArgs:1},detectLanguage:{minArgs:0,maxArgs:1},discard:{minArgs:0,maxArgs:1},duplicate:{minArgs:1,maxArgs:1},executeScript:{minArgs:1,maxArgs:2},get:{minArgs:1,maxArgs:1},getCurrent:{minArgs:0,maxArgs:0},getZoom:{minArgs:0,maxArgs:1},getZoomSettings:{minArgs:0,maxArgs:1},highlight:{minArgs:1,maxArgs:1},insertCSS:{minArgs:1,maxArgs:2},move:{minArgs:2,maxArgs:2},query:{minArgs:1,maxArgs:1},reload:{minArgs:0,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeCSS:{minArgs:1,maxArgs:2},sendMessage:{minArgs:2,maxArgs:3},setZoom:{minArgs:1,maxArgs:2},setZoomSettings:{minArgs:1,maxArgs:2},update:{minArgs:1,maxArgs:2}},topSites:{get:{minArgs:0,maxArgs:0}},webNavigation:{getAllFrames:{minArgs:1,maxArgs:1},getFrame:{minArgs:1,maxArgs:1}},webRequest:{handlerBehaviorChanged:{minArgs:0,maxArgs:0}},windows:{create:{minArgs:0,maxArgs:1},get:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:1},getCurrent:{minArgs:0,maxArgs:1},getLastFocused:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}}};if(0===Object.keys(r).length)throw new Error("api-metadata.json has not been included in browser-polyfill");class o extends WeakMap{constructor(e,t){super(t),this.createItem=e}get(e){return this.has(e)||this.set(e,this.createItem(e)),super.get(e)}}const i=(t,n)=>(...r)=>{e.runtime.lastError?t.reject(e.runtime.lastError):n.singleCallbackArg||r.length<=1&&!1!==n.singleCallbackArg?t.resolve(r[0]):t.resolve(r)},s=e=>1==e?"argument":"arguments",a=(e,t,n)=>new Proxy(t,{apply:(t,r,o)=>n.call(r,e,...o)});let c=Function.call.bind(Object.prototype.hasOwnProperty);const l=(e,t={},n={})=>{let r=Object.create(null),o={has:(t,n)=>n in e||n in r,get(o,u,d){if(u in r)return r[u];if(!(u in e))return;let m=e[u];if("function"==typeof m)if("function"==typeof t[u])m=a(e,e[u],t[u]);else if(c(n,u)){let t=((e,t)=>(function(n,...r){if(r.length<t.minArgs)throw new Error(`Expected at least ${t.minArgs} ${s(t.minArgs)} for ${e}(), got ${r.length}`);if(r.length>t.maxArgs)throw new Error(`Expected at most ${t.maxArgs} ${s(t.maxArgs)} for ${e}(), got ${r.length}`);return new Promise((o,s)=>{if(t.fallbackToNoCallback)try{n[e](...r,i({resolve:o,reject:s},t))}catch(i){console.warn(`${e} API method doesn't seem to support the callback parameter, `+"falling back to call it without a callback: ",i),n[e](...r),t.fallbackToNoCallback=!1,t.noCallback=!0,o()}else t.noCallback?(n[e](...r),o()):n[e](...r,i({resolve:o,reject:s},t))})}))(u,n[u]);m=a(e,e[u],t)}else m=m.bind(e);else{if("object"!=typeof m||null===m||!c(t,u)&&!c(n,u))return Object.defineProperty(r,u,{configurable:!0,enumerable:!0,get:()=>e[u],set(t){e[u]=t}}),m;m=l(m,t[u],n[u])}return r[u]=m,m},set:(t,n,o,i)=>(n in r?r[n]=o:e[n]=o,!0),defineProperty:(e,t,n)=>Reflect.defineProperty(r,t,n),deleteProperty:(e,t)=>Reflect.deleteProperty(r,t)},u=Object.create(e);return new Proxy(u,o)},u=e=>({addListener(t,n,...r){t.addListener(e.get(n),...r)},hasListener:(t,n)=>t.hasListener(e.get(n)),removeListener(t,n){t.removeListener(e.get(n))}});let d=!1;const m=new o(e=>"function"!=typeof e?e:function(t,r,o){let i,s,a=!1,c=new Promise(e=>{i=function(t){d||(console.warn(n,(new Error).stack),d=!0),a=!0,e(t)}});try{s=e(t,r,i)}catch(e){s=Promise.reject(e)}const l=!0!==s&&(e=>e&&"object"==typeof e&&"function"==typeof e.then)(s);if(!0!==s&&!l&&!a)return!1;const u=e=>{e.then(e=>{o(e)},e=>{let t;t=e&&(e instanceof Error||"string"==typeof e.message)?e.message:"An unexpected error occurred",o({__mozWebExtensionPolyfillReject__:!0,message:t})}).catch(e=>{console.error("Failed to send onMessage rejected reply",e)})};return u(l?s:c),!0}),f=({reject:n,resolve:r},o)=>{e.runtime.lastError?e.runtime.lastError.message===t?r():n(e.runtime.lastError):o&&o.__mozWebExtensionPolyfillReject__?n(new Error(o.message)):r(o)},p=(e,t,n,...r)=>{if(r.length<t.minArgs)throw new Error(`Expected at least ${t.minArgs} ${s(t.minArgs)} for ${e}(), got ${r.length}`);if(r.length>t.maxArgs)throw new Error(`Expected at most ${t.maxArgs} ${s(t.maxArgs)} for ${e}(), got ${r.length}`);return new Promise((e,t)=>{const o=f.bind(null,{resolve:e,reject:t});r.push(o),n.sendMessage(...r)})},g={runtime:{onMessage:u(m),onMessageExternal:u(m),sendMessage:p.bind(null,"sendMessage",{minArgs:1,maxArgs:3})},tabs:{sendMessage:p.bind(null,"sendMessage",{minArgs:2,maxArgs:3})}},h={clear:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}};return r.privacy={network:{networkPredictionEnabled:h,webRTCIPHandlingPolicy:h},services:{passwordSavingEnabled:h},websites:{hyperlinkAuditingEnabled:h,referrersEnabled:h}},l(e,g,r)};e.exports=r(chrome)}else e.exports=browser})?r.apply(t,o):r)||(e.exports=i)},226:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.clearInterval=t.clearTimeout=t.setInterval=t.setTimeout=void 0;t.setTimeout=function(){return("undefined"==typeof setTimeout?window.setTimeout.bind(window):setTimeout)(...arguments)};t.setInterval=function(){return("undefined"==typeof setInterval?window.setInterval.bind(window):setInterval)(...arguments)};t.clearTimeout=function(){return("undefined"==typeof clearTimeout?window.clearTimeout.bind(window):clearTimeout)(...arguments)};t.clearInterval=function(){return("undefined"==typeof clearInterval?window.clearInterval.bind(window):clearInterval)(...arguments)}},266:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=
/*!
 * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */
function(e){return new Promise(t=>(0,r.setTimeout)(t,e))};var r=n(145)},278:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.normalizeAclkUrl=
/*!
 * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */
function(e){const t=e.split("aclk?");if(2!==t.length)throw new Error(`Expected Google pagead "aclk" URL. Instead got: ${e}`);return t[1].replace(/ved=.*&/,"").replace(/&q=&adurl=$/,"").replace(/&adurl=&q=$/,"")}},28:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={platform:"webextension",brocfile:"Brocfile.ghostery.js",baseURL:"/cliqz/",pack:"npm pack",publish:'echo "Uploading version: browser-core-$PACKAGE_VERSION.tgz" && aws s3 cp browser-core-$PACKAGE_VERSION.tgz s3://cdncliqz/update/edge/ghostery/$BRANCH_NAME/$VERSION.${GIT_COMMIT:0:7}.tgz --acl public-read && aws s3 cp s3://cdncliqz/update/edge/ghostery/$BRANCH_NAME/$VERSION.${GIT_COMMIT:0:7}.tgz s3://cdncliqz/update/edge/ghostery/$BRANCH/latest.tgz --acl public-read',sourceMaps:!0,format:"common",settings:{ANOLYSIS_BACKEND_URL:"https://anolysis.privacy.ghostery.net",ANOLYSIS_STAGING_BACKEND_URL:"https://anolysis-staging.privacy.ghostery.net",BACKGROUND_IMAGE_URL:"https://cdn.ghostery.net/brands-database/database/",BW_URL:"https://antiphishing.ghostery.net/api/bwlist?md5=",CDN_BASEURL:"https://cdn.ghostery.net",ADBLOCKER_BASE_URL:"https://cdn.ghostery.net/adblocker/configs",CONFIG_PROVIDER:"https://api.ghostery.net/api/v1/config",ENDPOINT_ANONPATTERNSURL:"https://cdn2.ghostery.com/human-web-chromium/patterns-anon.gz",ENDPOINT_HPNV2_DIRECT:"https://collector-hpn.ghostery.net",ENDPOINT_HPNV2_ANONYMOUS:"https://collector-hpn.ghostery.net",ENDPOINT_PATTERNSURL:"https://cdn2.ghostery.com/human-web-chromium/patterns.gz",ENDPOINT_SAFE_QUORUM_ENDPOINT:"https://safe-browsing-quorum.privacy.ghostery.net/",ENDPOINT_SAFE_QUORUM_PROVIDER:"https://safe-browsing-quorum.privacy.ghostery.net/config",FEEDBACK:"https://ghostery.net/feedback/",HB_NEWS:"hb-news.ghostery.net",OFFERS_BE_BASE_URL:"https://offers-api.ghostery.net",PRIVACY_SCORE_URL:"https://anti-tracking.ghostery.net/api/v1/score?",RESULTS_PROVIDER:"https://api.ghostery.net/api/v2/results?nrh=1&q=",RESULTS_PROVIDER_LOG:"https://api.ghostery.net/api/v1/logging?q=",RICH_HEADER:"https://api.ghostery.net/api/v2/rich-header?path=/v2/map",ROTATED_TOP_NEWS:"rotated-top-news.ghostery.net",SAFE_BROWSING:"https://safe-browsing.ghostery.net",STATISTICS:"https://stats.ghostery.net",SUGGESTIONS_URL:"https://ghostery.net/search?q=",UNINSTALL:"https://ghostery.net/home/offboarding",WTM_API:"https://whotracks.me/data/",SUPPORT_URL:"https://ghostery.zendesk.com/hc/en-us",PRIVACY_POLICY_URL:"https://www.ghostery.com/about-ghostery/privacy-statements/",NEW_TAB_URL:"/freshtab/home.html",channel:"CH80",MSGCHANNEL:"web-extension",OFFERS_CHANNEL:"ghostery",ATTRACK_TELEMETRY_PROVIDER:"hpnv2",HW_CHANNEL:"ghostery",ALLOWED_COUNTRY_CODES:["de","at","ch","es","us","fr","nl","gb","it","be","se","dk","fi","cz","gr","hu","ro","no","ca","au","ru","ua","in","pl","jp","br","mx","cn","ar"],antitrackingPlaceholder:"ghostery",antitrackingHeader:"Ghostery-AntiTracking",frameScriptWhitelist:[]},default_prefs:{"modules.human-web.enabled":!0,"modules.offers-v2.enabled":!0,"modules.message-center.enabled":!0,"modules.antitracking.enabled":!0,"modules.anti-phishing.enabled":!1,"modules.adblocker.enabled":!0,"modules.insights.enabled":!1,offersLogsEnabled:!0,"cliqz-adb":1,attrackBloomFilter:!0,humanWeb:!0,"cliqz-anti-phishing":!0,"cliqz-anti-phishing-enabled":!0,attrackTelemetryMode:1,attrackDefaultAction:"placeholder",sendAntiTrackingHeader:!1,telemetry:!1,attrackCookieTrustReferers:!0,"attrack.cookieMode":"ghostery"},bundles:["core/content-script.bundle.js","hpnv2/worker.wasm.bundle.js","hpnv2/worker.asmjs.bundle.js","human-web/rusha.bundle.js"],modules:["core","message-center","human-web","hpnv2","antitracking","webrequest-pipeline","offers-v2","adblocker","anolysis","anti-phishing","myoffrz-helper","popup-notification","insights"],environment:"production",debugPages:!1,EXTENSION_VERSION:"7.40.1",VERSION:"7.40.1"}},298:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.walkDomTreeDepthFirst=function(e,t,n){const r=[e];for(;r.length;){const e=r.shift();t(e,n)&&r.unshift.apply(r,e.childNodes)}},t.getWindowOfHtmlNode=function(e){return e.ownerDocument.defaultView||e.ownerDocument.parentWindow},Object.defineProperty(t,"getCouponsForm",{enumerable:!0,get:function(){return r.getCouponsForm}}),t.getPurchaseButtons=void 0;var r=n(750);const o=["buy","kaufen","bestellen","order","book","buchen"];t.getPurchaseButtons=e=>{if(e.location.href.split(/[/|-]/).length>8)return[];const t=e.document,n=[],r=["button",'input[type="button"]','input[type="submit"]','a[href*="checkout"]'].join(", ");return t.querySelectorAll(r).forEach(e=>{!e.hidden&&e.offsetHeight>20&&function(e){let t=e.value||e.textContent;if(0===t.length&&e.parentElement&&(t=e.parentElement.value||e.parentElement.textContent),!(t=t.trim().toLowerCase()))return!1;if(t.length>50)return!1;let n=t.split(/\s+/);return(n=n.filter(e=>o.indexOf(e)>-1)).length>0}(e)&&n.push(e)}),n}},377:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isTopWindow=
/*!
 * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */
function(e){return e.self===e.top},t.documentBodyReady=function(){if(window.document&&window.document.body)return Promise.resolve();return new Promise(e=>{window.addEventListener("DOMContentLoaded",e,{once:!0})})}},378:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.window=t.chrome=void 0;
/*!
 * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */
const r="undefined"!=typeof browser?browser:chrome;t.chrome=r;const o=window;t.window=o},379:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isAmazonDomain=function(e){return r.test(e)},t.isEbayDomain=function(e){return o.test(e)};const r=/(^|\.)amazon\..{2,6}$/i;const o=/(^|\.)ebay\..{2,6}$/i},738:function(e,t,n){e.exports=n(894)},739:function(e,t,n){"use strict";var r;n(740),
/*!
 * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */
(0,((r=n(771))&&r.__esModule?r:{default:r}).default)()},740:function(e,t,n){"use strict";n(741),n(744),n(745),n(746),n(756),n(759),n(760),n(761),n(770)},741:function(e,t,n){"use strict";var r=n(377);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){const n=[];if(window.parent!==window&&window.document&&window.document.scripts)for(let e=0;e<window.document.scripts.length;e+=1){const t=window.document.scripts[e].src;t.startsWith("http")&&n.push(t)}let r=e.target;1!==r.nodeType&&(r=r.parentNode);let o=null;r.closest("a[href]")&&(o=r.closest("a[href]").getAttribute("href"));const i={target:{baseURI:e.target.baseURI,value:e.target.value,href:e.target.href,parentNode:{href:e.target.parentNode?e.target.parentNode.href:null},linksSrc:n}};t.app.modules.core.action("recordMouseDown",i,function(e){let t,n=e.target;try{for(let e=0;e<5;e+=1){if(-1!==(t=n.innerHTML).indexOf("http://")||-1!==t.indexOf("https://"))return t;n=n.parentNode,e+=1}}catch(e){}}(e),o)}function a(){return window.document.documentElement.outerHTML}function c(e){const t=window.document.querySelector(e);try{return t.click(),!0}catch(e){return!1}}function l(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.shadowRootSelector,s=void 0===r?null:r,a=n.attributeType,c=void 0===a?"property":a;const l=s?window.document.querySelector(s).shadowRoot:window.document,u=t.split(","),d=(e,t)=>"property"===c?e[t]:e.getAttribute(t);return Array.prototype.map.call(l.querySelectorAll(e),e=>u.length>1?u.reduce((t,n)=>(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(n,!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e})({},t,{[n]:d(e,n)}),{}):d(e,t))}function u(e){const t=window.document;return Array.prototype.map.call(t.querySelectorAll(e),e=>window.getComputedStyle(e))}(0,n(136).registerContentScript)({module:"core",matches:["<all_urls>"],allFrames:!0,matchAboutBlank:!0,js:[(e,t,n)=>{const o=e=>{s(e,n)};e.addEventListener("mousedown",o);const i=()=>{!function(e,t){if(!(0,r.isTopWindow)(e))return;const n=e.document.getElementsByTagName("html").item(0).getAttribute("lang"),o=e.document.querySelector("title"),i=e.document.querySelector("meta[name=description]"),s=e.document.querySelector('meta[property="og:title"]'),a=e.document.querySelector('meta[property="og:description"]'),c=e.document.querySelector('meta[property="og:image"]');t.app.modules.core.action("recordMeta",e.location.href,{title:o&&o.innerHTML,description:i&&i.content,ogTitle:s&&s.content,ogDescription:a&&a.content,ogImage:c&&c.content,lang:n})}(e,n)};return e.addEventListener("DOMContentLoaded",i),e.addEventListener("unload",()=>{e.removeEventListener("mousedown",o),e.removeEventListener("DOMContentLoaded",i)},{once:!0}),{getHTML:a,click:c,queryHTML:l,queryComputedStyle:u}}]})},742:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){const n=new URL(t),s=n.protocol,a=n.hostname,c=n.pathname,l=n.search,u=function(e){if("<all_urls>"===e)return{scheme:r,host:null,path:null};const t=e.indexOf("://");if(-1===t)throw new Error('<scheme> missing, "://" not found');const n=e.slice(0,t),s=function(e){if("*"===e)return new Set(["http","https","ws","wss"]);if(r.has(e))return new Set([e]);throw new Error(`<scheme> is not valid: ${e}`)}(n),a=e.indexOf("/",t+3);if(-1===a)throw new Error('<path> missing, "/" not found');const c=e.slice(t+3,a),l=function(e,t){if(t.includes(":"))throw new Error("<host> must not include a port number");if(0===t.length){if("file"===e)return/^$/;throw new Error('<host> is optional only if the scheme is "file"')}const n=t.lastIndexOf("*");if(-1!==n){if("*"===t)return null;if(0!==n)throw new Error("<host> wildcard may only appear at the start");if("."!==t[1])throw new Error('<host> only "*" and "*." followed by hostname parts are valid');const e=t.slice(2);if(!1===o.test(e))throw new Error("<host> contains invalid characters");return new RegExp(`^(?:.*[.])?${i(e)}$`)}if(!1===o.test(t))throw new Error("<host> contains invalid characters");return new RegExp(`^${i(t)}$`)}(n,c),u=function(e){return new RegExp(`^${i(e)}$`)}(e.slice(a+1));return{scheme:s,host:l,path:u}}(e);if(!1===u.scheme.has(s.slice(0,s.length-1)))return!1;if(null!==u.host&&!1===u.host.test(a))return!1;if(null!==u.path&&!1===u.path.test(`${c.slice(1)}${l}`))return!1;return!0};
/*!
 * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */
const r=new Set(["http","https","ws","wss","ftp","ftps","data","file"]),o=/^[.\w_-]+$/;function i(e){return e.replace(/([|.$+?{}()[\]\\])/g,"\\$1").replace(/\*/g,".*")}},743:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=n(378);
/*!
 * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */
function i(){}var s="development"===((r=n(28))&&r.__esModule?r:{default:r}).default.environment?o.window.console:new Proxy({},{get:()=>i});t.default=s},744:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseDom=l;var r,o=(r=n(175))&&r.__esModule?r:{default:r},i=n(136),s=n(91),a=n(278);
/*!
 * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */
function c(e){window.console.error("[human-web] Exception caught:",e)}function l(e,t,n){const r=t.document;try{let e=null;if((e=r.querySelector("script"))&&e.innerHTML.indexOf("location.replace")>-1){const e=r.querySelector("title").textContent;o.default.sendMessage({module:"human-web",action:"jsRedirect",args:[{message:{location:e,url:r.location.href}}]})}}catch(e){c(e)}try{let e="",t=!1;r.querySelector("#s0p1c0")&&(e=r.querySelector("#s0p1c0").href),r.querySelector("#tads .ads-ad")&&null===r.querySelector("#tads .ads-ad").offsetParent&&(t=!0);const o={type:"dom",ad:e,hidden:t};n.action("contentScriptTopAds",{message:o})}catch(e){c(e)}try{const e={},r=t.document;let o=0;const i={query:{element:"#rso",attribute:"data-async-context"},adSections:[".ads-ad",".pla-unit-container",".pla-hovercard-content-ellip",".cu-container tr"],0:{cu:".ad_cclk a[id^='s0p'],.ad_cclk a[id^='n1s0p'],.ad_cclk a[id^='s3p']",fu:".ad_cclk a[id^='vs0p'],.ad_cclk a[id^='vn1s0p'],.ad_cclk a[id^='vs3p']"},1:{cu:"a[id^='plaurlg']",fu:"a[id^='vplaurlg']"},2:{cu:"a[id^='plaurlh']",fu:"a[id^='vplaurlh']"},3:{cu:"a[id^='plaurlt']",fu:"a[id^='vplaurlt']"}},s=r.querySelector(i.query.element);let c="";if(s){c=s.getAttribute(i.query.attribute).replace("query:","");try{c=decodeURIComponent(c)}catch(e){}}i.adSections.forEach((t,n)=>{Array.prototype.slice.call(r.querySelectorAll(t)).forEach(t=>{const r=i[n].cu,s=i[n].fu,l=t.querySelector(r),u=t.querySelector(s);if(l&&u){const t=(0,a.normalizeAclkUrl)(l.href);e[t]={ts:Date.now(),query:c,furl:[u.getAttribute("data-preconnect-urls"),u.href]},o+=1}})}),o>0&&n.action("adClick",{ads:e})}catch(e){c(e)}}(0,i.registerContentScript)({module:"human-web",matches:["http://*/*","https://*/*"],js:[function(e,t,n){e.location.href;const r=n.app.modules["human-web"];function o(e){return t=>{r.action(e,{target:{baseURI:t.target.baseURI}})}}e.top===e&&e.addEventListener("DOMContentLoaded",()=>{l(0,e,r)});const i=(0,s.throttle)(e,o("hw:keypress"),250),a=(0,s.throttle)(e,o("hw:mousemove"),250),c=(0,s.throttle)(e,o("hw:scroll"),250),u=(0,s.throttle)(e,o("hw:copy"),250);e.addEventListener("keypress",i),e.addEventListener("mousemove",a),e.addEventListener("scroll",c),e.addEventListener("copy",u),e.addEventListener("unload",(function(t){if(!t||t.target===e.document){try{String(e)}catch(e){return}e.removeEventListener("keypress",i),e.removeEventListener("mousemove",a),e.removeEventListener("scroll",c),e.removeEventListener("copy",u)}}))}],allFrames:!0})},745:function(e,t,n){
/*!
 * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */},746:function(e,t,n){"use strict";var r=n(136),o=d(n(28)),i=d(n(747)),s=d(n(752)),a=n(753),c=n(754),l=n(755),u=n(298);function d(e){return e&&e.__esModule?e:{default:e}}(0,r.registerContentScript)({module:"offers-v2",matches:["https://*/*","http://*/*"],js:[function(e,t,n){if(e.parent!==e)return;const r=()=>{!function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),o=1;o<t;o++)r[o-1]=arguments[o];n.app.modules["offers-v2"].action(e,...r)}("onContentSignal",{action:"purchase",state:"attempted"})},o=()=>{const t=(0,u.getPurchaseButtons)(e);t.length>5||t.length>0&&t.forEach(e=>{e.addEventListener("click",r)})},i=()=>{e.removeEventListener("unload",i),e.removeEventListener("load",o)};e.addEventListener("load",o),e.addEventListener("unload",i)},i.default,...o.default.settings["offers.user-journey.enabled"]?[a.serpPageDetection,c.shopPageDetection,l.classifyByOutgoingLinks]:[]]}),(0,r.registerContentScript)({module:"offers-v2",matches:["https://*/*"],js:[s.default]})},747:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){const r=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),o=1;o<t;o++)r[o-1]=arguments[o];return n.app.modules["offers-v2"].action(e,...r)},i=e.location.href;let s=null;const a=()=>{s&&(s.unload(),s=null)};return e.addEventListener("unload",a,{once:!0}),{"detect-coupon-actions":t=>{let n=t.offerInfo;s||(s=new o.default({offerInfo:n,window:e,onSubmitCoupon:e=>{r("couponFormUsed",{type:"coupon_submitted",offerInfo:n,couponValue:e,url:i})},onFormFound:e=>{r("couponFormUsed",{type:e?"coupon_form_found":"coupon_form_not_found",offerInfo:n,url:i})},onDescribePrices:e=>{r("couponFormUsed",{type:"coupon_form_prices",offerInfo:n,couponValue:e,url:i})},onCouponFailedDueMinimalValue:()=>{r("couponFormUsed",{type:"coupon_fail_minimal_basket_value",offerInfo:n,url:i})}})),s.processForms(),s.isCouponFormFound()&&s.describePrices(),s.isCouponFormFound()||n.isDynamicPage?s.startObserve():a()}}};var r,o=(r=n(748))&&r.__esModule?r:{default:r}},748:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=(r=n(749))&&r.__esModule?r:{default:r},i=n(298),s=n(751);t.default=class{constructor(e){let t=e.window,n=e.offerInfo,r=e.onSubmitCoupon,o=e.onFormFound,i=e.onDescribePrices,s=e.onCouponFailedDueMinimalValue;this.window=t,this.offerInfo=n,this.onSubmitCoupon=r,this.onFormFound=o,this.onDescribePrices=i,this.onCouponFailedDueMinimalValue=s,this._onMutations=this._onMutations.bind(this),this._onSubmitCoupon=this._onSubmitCoupon.bind(this),this.mutationObserver=null,this.coupon=null}startObserve(){this.mutationObserver=new this.window.MutationObserver(this._onMutations),this.mutationObserver.observe(this.window.document,{childList:!0,subtree:!0})}_onSubmitCoupon(e){this.onSubmitCoupon(e)}unload(){this.mutationObserver&&this.mutationObserver.disconnect(),this.mutationObserver=null,this.coupon&&this.coupon.unload(),this.coupon=null,this.offerInfo=null,this.window=null,this.onSubmitCoupon=null,this.onFormFound=null,this.onDescribePrices=null,this.onCouponFailedDueMinimalValue=null}_doesLookLikeAddition(e){if(s.skipTagsWhenPriceWalk.has(e.tagName))return!1;const t=e.textContent;return t&&""!==t.trim()}_onMutations(e){let t=!1;var n=!0,r=!1,o=void 0;try{for(var i,a=e[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){const e=i.value;var c=!0,l=!1,u=void 0;try{for(var d,m=e.addedNodes[Symbol.iterator]();!(c=(d=m.next()).done);c=!0){const e=d.value;if(this._doesLookLikeAddition(e)&&(t=!0),(0,s.isMessageAboutNotEnoughBasketValue)(e)){this.onCouponFailedDueMinimalValue();break}}}catch(e){l=!0,u=e}finally{try{c||null==m.return||m.return()}finally{if(l)throw u}}}}catch(e){r=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}t&&(this.isCouponFormFound()||this.processForms(),this.isCouponFormFound()&&this.describePrices())}describePrices(){this.onDescribePrices((0,s.describePrices)(this.window,this.offerInfo))}processForms(){this.coupon&&(this.coupon.unload(),this.coupon=null);const e=(0,i.getCouponsForm)(this.window,this.offerInfo),t=e.input,n=e.button,r=e.ok;this.onFormFound(r),r&&(this.coupon=new o.default({input:t,button:n,clickEvent:this.offerInfo.clickEvent,onClick:this._onSubmitCoupon}))}isCouponFormFound(){return this.coupon}}},749:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=class{constructor(e){let t=e.input,n=e.button,r=e.clickEvent,o=e.onClick;var i,s,a;a=e=>{if(!e||e.type!==this.clickEvent)return;const t=this.input?this.input.value:"";this.onClick&&this.onClick(t)},(s="_clickCb")in(i=this)?Object.defineProperty(i,s,{value:a,enumerable:!0,configurable:!0,writable:!0}):i[s]=a,this.input=t,this.button=n,this.onClick=o,this.clickEvent=r||"click",this.button&&this.button.addEventListener(this.clickEvent,this._clickCb)}unload(){this.button&&this.button.removeEventListener(this.clickEvent,this._clickCb),this.button=null,this.input=null,this.onClick=null}}},750:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getCouponsForm=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=e.document,i=o(n,t,"inputID"),s=o(n,t,"submitID");if(i&&s)return{ok:!0,input:i,button:s};return[...e.document.querySelectorAll("form")].reduce((e,t)=>t?e.ok?e:function(e,t,n){let o=t;if(!t){const t=function(e){const t=e.querySelectorAll("input"),n=(e,t)=>e&&e.toLowerCase().includes(t);return[...t].filter(e=>"hidden"!==e.type&&"password"!==e.type&&r.some(t=>n(e.name,t)||n(e.id,t)))}(e);if(1!==t.length)return{ok:!1,input:null,button:null};o=t[0]}let i=n;if(!n){const t=function(e){let t=e.querySelectorAll("button");t.length||(t=e.querySelectorAll("input[type=submit]"));return t}(e);if(1!==t.length&&2!==t.length)return{ok:!1,input:null,button:null};i=t[0]}return{ok:!0,input:o,button:i}}(t,i,s):e,{ok:!1,input:null,button:null})};const r=["voucher","discount","coupon","rabatt","gutschein","promo"];function o(e,t,n){let r=null;if(t&&t[n]){const o=t[n];if(!(r=e.getElementById(o))){const t=e.getElementsByClassName(o);1===t.length&&(r=t[0])}}return r}},751:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._extractPrices=f,t.isMessageAboutNotEnoughBasketValue=function(e){const t=e.textContent.toLowerCase();if(t.length>80)return!1;return a.some(e=>t.includes(e))},t.guessTotal=m,t.describePrices=function(e){let t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).totalSelector,n=void 0===t?void 0:t;const r=e=>parseFloat(e.replace(",","."));if(n){const t=e.document.querySelector(n);if(!t)return{};const o=f(t);return{total:1===o.length?r(o[0]):void 0}}return m(f(e.document.body).map(r))},t.skipTagsWhenPriceWalk=void 0;var r=n(298);function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const a=["mindest","minimal"];function c(e,t){return e.getComputedStyle(t).getPropertyValue("text-decoration").includes("line-through")}const l=/((\d+)[.,](\d+))(.)?/g,u=new Set(["SCRIPT","STYLE","IFRAME"]);function d(e,t){if(u.has(e.tagName))return!1;if(3!==e.nodeType)return!0;const n=e.nodeValue,o=l.exec(n);if(!o)return!1;if(l.exec(n))return!1;if(o[2].length>5||2!==o[3].length||"."===o[4])return!1;const i=o[1],s=(0,r.getWindowOfHtmlNode)(e);for(let t=e.parentElement,n=0;t&&n<3;t=t.parentElement,n+=1)if(c(s,t))return!1;return t.push(i),!1}function m(e){const t=e.reduce((e,t,n)=>t>=(e.top||0)?{top:t,topIdx:n}:t>(e.vice||0)?function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(n,!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,{vice:t,viceIdx:n}):e,{}),n=t.top;if(!t.viceIdx)return{total:n};const r=t.vice,a=e.slice(t.topIdx+1,t.viceIdx);var c=!0,l=!1,u=void 0;try{for(var d,m=function*(e){var t=!0,n=!1,r=void 0;try{for(var o,i=e[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){const e=o.value;yield[0,e]}}catch(e){n=!0,r=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}if(!(e.length>8)){var s=!0,a=!1,c=void 0;try{for(var l,u=e[Symbol.iterator]();!(s=(l=u.next()).done);s=!0){const t=l.value;var d=!0,m=!1,f=void 0;try{for(var p,g=e[Symbol.iterator]();!(d=(p=g.next()).done);d=!0){const e=p.value;yield[t,e]}}catch(e){m=!0,f=e}finally{try{d||null==g.return||g.return()}finally{if(m)throw f}}}}catch(e){a=!0,c=e}finally{try{s||null==u.return||u.return()}finally{if(a)throw c}}}}(a)[Symbol.iterator]();!(c=(d=m.next()).done);c=!0){const e=o(d.value,2),t=n+e[0]-e[1]-r;if(Math.abs(t)<.01)return{base:n,total:r}}}catch(e){l=!0,u=e}finally{try{c||null==m.return||m.return()}finally{if(l)throw u}}return{total:t.top}}function f(e){const t=[];return(0,r.walkDomTreeDepthFirst)(e,d,t),t}t.skipTagsWhenPriceWalk=u},752:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(379);var o=function(e,t,n){if(e.parent!==e)return;if(!(0,r.isAmazonDomain)(e.location.hostname))return;e.addEventListener("DOMContentLoaded",()=>{(function(e){return[...e.getElementsByTagName("a")].some(e=>e.href&&e.href.endsWith("/ref=nav_logo_prime"))})(e.document)&&n.app.modules["offers-v2"].action("learnTargeting","AmazonPrime")},{once:!0})};t.default=o},753:function(e,t,n){"use strict";function r(e){const t=function(e){return e.querySelectorAll("input[type=text], input[type=search]")}(e);return function(e,t){if(!t.length)return!1;const n=e.title.toLowerCase();return["search","suche"].some(e=>n.includes(e))}(e,t)||function(e,t){return Array.from(t,e=>e.name).some(t=>{const n=e.location.search;return n.includes(`&${t}=`)||n.includes(`?${t}=`)})}(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.isSearchResultPage=r,t.serpPageDetection=function(e,t,n){if(e.parent!==e)return;e.addEventListener("DOMContentLoaded",()=>{r(e.document)&&n.app.modules["offers-v2"].action("learnTargeting","page-class",{feature:"serp",url:e.document.location.href})},{once:!0})}},754:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isShopPage=a,t.shopPageDetection=function(e,t,n){if(e.parent!==e)return;e.addEventListener("DOMContentLoaded",()=>{a(e.document)&&n.app.modules["offers-v2"].action("learnTargeting","page-class",{feature:"shop",url:e.document.location.href,referrer:e.document.referrer})},{once:!0})};const r=/\bshop\b/i,o=/\bcart\b/i,i=/\bbasket\b/i,s=/\bwarenkorb\b/i;function a(e){return function(e){return r.test(e.title)}(e)||function(e){const t=e.querySelectorAll("*[class*=cart], *[class*=basket]");var n=!0,r=!1,s=void 0;try{for(var a,c=t[Symbol.iterator]();!(n=(a=c.next()).done);n=!0){const e=a.value.className;if(o.test(e)||i.test(e))return!0}}catch(e){r=!0,s=e}finally{try{n||null==c.return||c.return()}finally{if(r)throw s}}return!1}(e)||function(e){const t=e.querySelectorAll('\n    img[src*="cart"],\n    img[src*="warenkorb"],\n    img[title*="art"],\n    img[title*="arenkorb"],\n    img[alt*="art"],\n    img[alt*="arenkorb"]\n   ');var n=!0,r=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(n=(a=c.next()).done);n=!0){const e=a.value;for(var l=0,u=[o,s];l<u.length;l++){const t=u[l];for(var d=0,m=[e.src,e.title,e.alt];d<m.length;d++){const e=m[d];if(t.test(e))return!0}}}}catch(e){r=!0,i=e}finally{try{n||null==c.return||c.return()}finally{if(r)throw i}}return!1}(e)}},755:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.classifyOutgoingLinks=o,t.classifyByOutgoingLinks=function(e,t,n){if(e.parent!==e)return;e.addEventListener("DOMContentLoaded",()=>{o(e.document).forEach(t=>n.app.modules["offers-v2"].action("learnTargeting","page-class",{feature:t,url:e.document.location.href}))},{once:!0})};var r=n(379);function o(e){const t=new Set;return e.querySelectorAll("a[href*=amazon], a[href*=ebay]").forEach(e=>{(0,r.isAmazonDomain)(e.hostname)?t.add("link-amazon"):(0,r.isEbayDomain)(e.hostname)&&t.add("link-ebay")}),t}},756:function(e,t,n){"use strict";var r,o=(r=n(757))&&r.__esModule?r:{default:r};
/*!
 * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */
(0,n(136).registerContentScript)({module:"adblocker",matches:["http://*/*","https://*/*"],matchAboutBlank:!0,allFrames:!0,js:[(e,t,n)=>{(0,o.default)(e,!0,e=>n.app.modules.adblocker.action("getCosmeticsFilters",e))}]})},757:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r.injectCosmetics}});var r=n(758)},758:function(e,t,n){"use strict";n.r(t),n.d(t,"injectCosmetics",(function(){return l}));var r=n(196),o=!0,i=null;
/*!
 * Copyright (c) 2017-2019 Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */function s(){null!==i&&(i.disconnect(),i=null)}function a(e){var t=e.classes,n=e.hrefs,r=e.ids,o=e.lifecycle;return new Promise((function(e){chrome.runtime.sendMessage({action:"getCosmeticsFilters",classes:t,hrefs:n,ids:r,lifecycle:o},(function(t){void 0!==t&&e(t)}))}))}function c(e,t){var n=t.active,i=t.scripts,a=t.styles;if(!1===n)return o=!1,void s();if(o=!0,i)for(var c=function(t){setTimeout((function(){return Object(r.c)(i[t],e.document)}),0)},l=0;l<i.length;l+=1)c(l);a&&a.length>0&&setTimeout((function(){return Object(r.b)(a,e.document)}),0)}function l(e,t,n){void 0===t&&(t=!0),void 0===n&&(n=a),n({lifecycle:"start",ids:[],classes:[],hrefs:[]}).then((function(t){return c(e,t)})),e.addEventListener("DOMContentLoaded",(function(){var s=new Set,a=new Set,l=new Set,u=function(t){for(var o=Object(r.a)(t),i=o.classes,u=o.ids,d=o.hrefs,m=[],f=[],p=[],g=0;g<u.length;g+=1){var h=u[g];!1===s.has(h)&&(m.push(h),s.add(h))}for(g=0;g<i.length;g+=1){var b=i[g];!1===a.has(b)&&(f.push(b),a.add(b))}for(g=0;g<d.length;g+=1){var y=d[g];!1===l.has(y)&&(p.push(y),l.add(y))}0===m.length&&0===f.length&&0===p.length||n({classes:f,hrefs:p,ids:m,lifecycle:"dom-update"}).then((function(t){return c(e,t)}))};u(Array.from(e.document.querySelectorAll("[id],[class],[href]"))),o&&t&&e.MutationObserver&&(i=new e.MutationObserver((function(e){for(var t=[],n=0;n<e.length;n+=1){var r=e[n];if("attributes"===r.type)t.push(r.target);else if("childList"===r.type)for(var o=r.addedNodes,i=0;i<o.length;i+=1){var s=o[i];if(t.push(s),void 0!==s.querySelectorAll)for(var a=s.querySelectorAll("[id],[class],[href]"),c=0;c<a.length;c+=1)t.push(a[c])}}u(t)}))).observe(e.document.documentElement,{attributeFilter:["class","id","href"],attributes:!0,childList:!0,subtree:!0})}),{once:!0,passive:!0}),e.addEventListener("unload",s,{once:!0,passive:!0})}},759:function(e,t,n){"use strict";var r=n(136);
/*!
 * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */const o=chrome.runtime.getURL("/modules/anti-phishing/phishing-warning.html?u=");(0,r.registerContentScript)({module:"anti-phishing",matches:["http://*/*","https://*/*"],js:[(e,t,n)=>{n.app.modules["anti-phishing"].action("isPhishingURL",e.location.href).then(t=>{let n=t.block,r=t.type;n&&"phishingURL"===r&&(e.location=`${o}${encodeURIComponent(e.location)}`)})}]})},760:function(e,t,n){"use strict";var r=n(136);const o=250,i="myoffrz-helper";class s{constructor(e,t){this.window=e,this.document=e.document,this.backgroundModule=t,this.categoriesRules=[],this.refetchUrl=null}sendToBackground(e){let t=e.categories,n=e.titles,r=e.links,o=e.productId,i=e.prefix,s=e.price;(t.length>0||n.length>0||r.length>0||this.refetchUrl)&&this.backgroundModule.action("handleCategories",{categories:t,titles:n,linkIds:r,productId:o,fromContent:!0,prefix:i,fetchUrl:this.refetchUrl,rules:this.categoriesRules,price:s})}extractCategroyFromElement(e,t,n){if(!e)return[];const r=new RegExp(`[${String.fromCharCode(8250)}|>|\n]`),i=String.fromCharCode(8249);if(!n&&(e.hidden||e.offsetTop>o))return[];const s=e.textContent.trim();if(s.indexOf(i)>-1)return t&&!this.refetchUrl&&(this.refetchUrl=document.head.querySelector("link[rel='canonical']").getAttribute("href")),[];let a=s.split(r).map(e=>e.trim()).filter(e=>""!==e).join(" > ");return 0===a.indexOf("in")&&(a=a.slice(3)),[a]}getCategories(e,t){const n=this.document.querySelectorAll(e);let r=[];return n.forEach(e=>{r=r.concat(this.extractCategroyFromElement(e,t,!1))}),r=r.reduce((e,t)=>e.concat(t),[]),[...new Set(r)]}getTitles(e){const t=[];return this.document.querySelectorAll(e).forEach(e=>{t.push(e.textContent.trim())}),t}getLinks(e,t){const n=[];return this.document.querySelectorAll(e).forEach(e=>{const r=e.href;if(t){const e=new RegExp(t).exec(r);if(e)return void n.push(e[1])}n.push(r)}),n}getPrice(e){const t=this.document.querySelector(e).textContent.trim().match(/[\d,.]+/g);if(t&&t.length>0){const e=t[0].split(/[,.]/);return e.length>1&&2===e[e.length-1].length&&(e[e.length-1]=`.${e[e.length-1]}`),e.join("")}return null}handleRules(e){let t=e.rules,n=e.productId,r=e.prefix;const o=()=>{let e=[],o=[],i=[],s=null;this.categoriesRules=t.category,t.category&&t.category.length>0&&(e=(e=t.category.map(e=>this.getCategories(e,t.refetch))).reduce((e,t)=>e.concat(t),[]),e=[...new Set(e)]),t.title&&t.title.length>0&&t.title.forEach(e=>{o=o.concat(this.getTitles(e))}),t.link&&t.link.length>0&&t.link.forEach(e=>{i=i.concat(this.getLinks(e,t.linkIdRegex))}),t.price&&t.price.length>0&&t.price.some(e=>!!(s=this.getPrice(e))),this.sendToBackground({categories:e,titles:o,links:i,productId:n,prefix:r,price:s})};t&&(t.waitForLoad&&"complete"!==this.document.readyState?this.window.addEventListener("load",()=>{o()}):o())}}(0,r.registerContentScript)({module:i,matches:["http://*/*","https://*/*"],js:[function(e,t,n){const r=n.app.modules[i],o=new s(e,r);return{rulesFromBackground:e=>{o.handleRules(e)}}}]})},761:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.renderPopup=f;var r=n(136),o=n(762),i=n(764),s=n(765),a=n(179);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(n,!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e,t,n,r,o,i,s){try{var a=e[i](s),c=a.value}catch(e){return void n(e)}a.done?t(c):Promise.resolve(c).then(r,o)}let m=null;function f(e,t,n,r){return p.apply(this,arguments)}function p(){var e;return e=function*(e,t,n,r){let s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};if(s.url!==e.location.href)return;const c=s.config,u=void 0===c?{}:c,d=s.onApply,f=void 0===d?"":d,p=s.preShow,g=void 0===p?"":p,h=s.back,b=s.target,y=void 0===b?"nobody":b,v=yield(0,a.retryFunctionSeveralTimes)(e,()=>{const t=(0,o.preShowActions)(g)(e,u);return{result:t,tryAgain:t.config.shouldHideButtons&&u.isDynamicPage}},e=>{m=e}),A=v.ok,w=v.config,x={back:h,url:e.location.href};if((0,i.log)(n,{target:y,data:l({},x,{type:"pre-show",ok:A})}),w.shouldPreventRender)return;const O=w.call_to_action,k=void 0===O?{}:O,E=k.url,_=void 0===E?"":E,P=w.attrs,S=void 0===P?{}:P,C=S.landing,j=void 0===C?[]:C,M=(0,a.once)(i.openAndClosePinnedURL);r({chrome:t,window:e,onApply:()=>{(0,o.onApplyActions)(f)(e,u),(0,i.openAndClosePinnedURL)(n,{url:_,matchPatterns:j}),(0,i.pop)(n,{target:y,data:l({},x,{ok:!0})})},onCancel:e=>(0,i.pop)(n,{target:y,data:l({},x,{ok:!1,type:e})}),onCopyCode:()=>{M(n,{url:_,matchPatterns:j}),(0,i.log)(n,{target:y,data:l({},x,{type:"copy-code",ok:!0})})},config:w}),(0,i.log)(n,{target:y,data:l({},x,{type:"show",ok:!0})})},(p=function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function s(e){d(i,r,o,s,a,"next",e)}function a(e){d(i,r,o,s,a,"throw",e)}s(void 0)}))}).apply(this,arguments)}(0,r.registerContentScript)({module:"popup-notification",matches:["https://*/*","http://*/*"],js:[(e,t,n)=>{const r=(0,a.once)(s.render);return e.addEventListener("unload",()=>{m&&e.clearTimeout(m)}),{renderBanner:(o=>{e.document&&"loading"!==e.document.readyState?f(e,t,n,r,o):e.addEventListener("DOMContentLoaded",()=>f(e,t,n,r,o))}).bind(void 0)}}]})},762:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.preShowActions=t.onApplyActions=void 0;var r=n(179);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(n,!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.onApplyActions=e=>{return{"insert-coupon-form":function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=(0,r.getCouponsForm)(e,t),o=n.ok,i=n.input,s=n.button;if(!o&&!t.code)return;i.value=t.code;const a=e.document.createEvent("Event");a.initEvent("change",!1,!0),i.dispatchEvent(a);const c=t.clickEvent||"click";if(s.click&&"click"===c)s.click();else{const t=e.document.createEvent("Event");t.initEvent(c,!0,!0),s.dispatchEvent(t)}}}[e]||(()=>{})};t.preShowActions=e=>{return{"try-to-find-coupon":function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=(0,r.getCouponsForm)(e,t),o=n.ok,s=n.input,a=o&&Boolean(s.value),c=i({},t,{shouldHideButtons:!o,shouldPreventRender:a});return{ok:o,config:c}}}[e]||((e,t)=>({ok:!0,config:t}))}},763:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getCouponsForm=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=e.document,i=o(n,t,"inputID"),s=o(n,t,"submitID");if(i&&s)return{ok:!0,input:i,button:s};return[...e.document.querySelectorAll("form")].reduce((e,t)=>t?e.ok?e:function(e,t,n){let o=t;if(!t){const t=function(e){const t=e.querySelectorAll("input"),n=(e,t)=>e&&e.toLowerCase().includes(t);return[...t].filter(e=>"hidden"!==e.type&&"password"!==e.type&&r.some(t=>n(e.name,t)||n(e.id,t)))}(e);if(1!==t.length)return{ok:!1,input:null,button:null};o=t[0]}let i=n;if(!n){const t=function(e){let t=e.querySelectorAll("button");t.length||(t=e.querySelectorAll("input[type=submit]"));return t}(e);if(1!==t.length&&2!==t.length)return{ok:!1,input:null,button:null};i=t[0]}return{ok:!0,input:o,button:i}}(t,i,s):e,{ok:!1,input:null,button:null})};const r=["voucher","discount","coupon","rabatt","gutschein","promo"];function o(e,t,n){let r=null;if(t&&t[n]){const o=t[n];if(!(r=e.getElementById(o))){const t=e.getElementsByClassName(o);1===t.length&&(r=t[0])}}return r}},764:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.openAndClosePinnedURL=t.log=t.pop=void 0;t.pop=(e,t)=>e.app.modules["popup-notification"].action("pop",t);t.log=(e,t)=>e.app.modules["popup-notification"].action("log",t);t.openAndClosePinnedURL=(e,t)=>e.app.modules["popup-notification"].action("openAndClosePinnedURL",t)},765:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.render=function(e){let t=e.chrome,n=e.window,r=e.onApply,c=e.onCancel,l=e.onCopyCode,u=e.config,d=void 0===u?{}:u;if(n.document.getElementById("cliqz-offer-modal"))return void n.console.warn("an attempt to render popup twice");const m=(0,s.createElement)(n,{tag:"div"});m.id="cliqz-offer-modal",Object.assign(m.style,o.PARANJA_STYLES);const f=n.document.head,p=f.createShadowRoot||f.attachShadow;let g=null,h=null;if(p){const e=a||n.navigator.userAgent.includes("jsdom")?"open":"closed";h=m.attachShadow({mode:e}),g=(0,s.createElement)(n,{tag:"div"})}else(g=(0,s.createElement)(n,{tag:"iframe",id:"cliqz-offers-iframe"})).frameBorder=0;Object.assign(g.style,(0,o.popupStyles)(d));const b=(0,i.default)({chrome:t,window:n,config:d,onCancel:e=>{m.remove(),g.remove(),c(e)},onApply:()=>{m.remove(),g.remove(),r()},onCopyCode:l});m.addEventListener("click",()=>{c("outside"),m.remove(),g.remove()}),n.document.body.appendChild(m),n.document.body.appendChild(p?h:g);const y=(0,s.createElement)(n,{tag:"style",textContent:(0,o.styles)(d)});n.setTimeout(()=>{m.style.opacity=1,g.style.opacity=1,p?(g.appendChild(b),h.appendChild(y),h.appendChild(g)):(g.contentDocument.body.appendChild(b),g.contentDocument.head.appendChild(y))},1500)};var r,o=n(766),i=(r=n(767))&&r.__esModule?r:{default:r},s=n(179);const a=!1},766:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.styles=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.products,n=void 0===t?{}:t,o=e.logo_class,i=e.styles,s=(i=void 0===i?{}:i).headline_color,a=e.baseUrl;const c=(0,r.chooseProduct)(n),l=s&&"myoffrz"!==c?s:"#494949;",u=(p={ghostery:["#930194","#920094","#850587"],myoffrz:["#f67057","#f67057","#f67057"],chip:["#EB443F","#EB443F","#c93636"],freundin:["#CD071E","#CD071E","#da3434"]}[c]||["#00AEF0","#0078CA","#0078CA"],g=3,function(e){if(Array.isArray(e))return e}(p)||function(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var n=[],r=!0,o=!1,i=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return n}}(p,g)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()),d=u[0],m=u[1],f=u[2];var p,g;return`\n    body {\n      overflow: hidden;\n    }\n\n    .content {\n      position: relative;\n      width: 100%;\n      height: 100%;\n      background-color: #fff;\n      z-index: 2147483646;\n      text-align: center;\n      border-radius: 5px;\n\n      display: flex;\n      flex-direction: column;\n      font-family: "-mac-system", "-apple-system", BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";\n    }\n\n    .header {\n      height: 45px;\n      border-bottom: 1px solid #DEDEDE;\n      background-color: #F2F2F2;\n      border-top-left-radius: 5px;\n      border-top-right-radius: 5px;\n      display: flex;\n      flex-direction: row;\n      align-items: center;\n    }\n\n    .header > .offer-logo {\n      height: 100%;\n      font-weight: 500;\n      color: #363636;\n      text-align: left;\n      padding-left: ${{ghostery:"111px",myoffrz:"111px",chip:"111px",freundin:"111px"}[c]||"20px"};\n      margin-left: 16px;\n      background-repeat: no-repeat;\n      background-image: url(${a}images/${{ghostery:"ghostery-rewards-beta.svg",myoffrz:"myoffrz-logo.svg",chip:"chip-logo.svg",freundin:"freundin-logo.svg"}[c]||"offers-cc-icon.svg"});\n      background-position: center;\n      background-size: contain;\n    }\n\n    .header > .offer-logo-text {\n      padding-left: 5px;\n      font-size: 16.5px;\n    }\n\n    .header > .btn-close {\n      width: 14px;\n      height: 14px;\n      opacity: 0.6;\n      cursor: pointer;\n      padding-right: 22px;\n      margin-top: -2px;\n      background-repeat: no-repeat;\n      background-image: url(${a}images/close-icon.svg);\n    }\n\n    .header > .billet {\n      display: block;\n      min-height: 46px;\n      width: 99%;\n    }\n\n    .sub-header > .billet {\n      display: block;\n      width: 100%;\n    }\n\n    .sub-header > .billet:last-child {\n      display: block;\n      width: 1px;\n      padding-right: 32px;\n    }\n\n    .header > .btn-close:hover {\n      opacity: 1;\n    }\n\n    .sub-header {\n      display: flex;\n      flex-direction: row;\n      align-items: center;\n      padding-top: 12px;\n    }\n\n    .sub-header > .labels {\n      display: flex;\n      flex-direction: column;\n      white-space: nowrap;\n      margin-left: 35px;\n      text-align: left;\n    }\n\n    .sub-header > .labels > .exclusive {\n      background-image: url(${a}images/exclusive.svg);\n    }\n\n    .sub-header > .labels > .best_offer {\n      background-image: url(${a}images/best_offer.svg);\n    }\n\n    .sub-header > .labels > .offer_of_the_week {\n      background-image: url(${a}images/offer_of_the_week.svg);\n    }\n\n    .sub-header > .labels > .label {\n      padding-left: 14px;\n      color: #B2B2B2;\n      font-family: 'Arial Narrow', 'Impact';\n      letter-spacing: 1px;\n      text-transform: uppercase;\n      font-size: 8.5px;\n      font-weight: 400;\n      background-size: 12px 10px;\n      background-repeat: no-repeat;\n      background-position: left center;\n      margin-bottom: 2px;\n    }\n\n    .sub-header > .wrapper {\n      display: inline-block;\n      min-width: ${{square:"30px",short:"55px",normal:"70px",long:"105px"}[o]||"70px"};\n      height: 32px;\n    }\n\n    .sub-header > .wrapper > .logo {\n      display: inline-block;\n      background-color: transparent;\n      padding: 0;\n      min-width: 100%;\n      min-height: 100%;\n      background-repeat: no-repeat;\n      background-size: contain;\n    }\n\n\n    .benefit {\n      font-size: 32px;\n      font-weight: 500;\n      color: #494949;\n      padding: 7px 0 9px 0;\n      overflow: hidden;\n    }\n\n    .headline {\n      padding: 0 30px;\n      font-size: 19px;\n      font-weight: 350;\n      padding-bottom: 21px;\n      color: ${l};\n    }\n\n    .code-wrapper {\n      background-color: #F2F2F2;\n      border: 1px solid #DADADA;\n      height: 32px;\n      margin: 0 18px;\n      border-radius: 4px;\n      display: flex;\n      align-items: center;\n    }\n\n    .code-wrapper > .promo-code {\n      border: none;\n      color: transparent;\n      text-shadow: 0 0 0 #000;\n      font-size: 13px;\n      background-color: transparent;\n      font-weight: 600;\n\n      white-space: nowrap;\n      overflow: hidden;\n      text-overflow: ellipsis;\n      padding-left: 16px;\n      padding-right: 43%;\n    }\n\n    .code-wrapper > .copy-code {\n      cursor: pointer;\n      font-size: 10px;\n      font-weight: 500;\n      text-transform: uppercase;\n      color: #687E90;\n      white-space: nowrap;\n      margin-right: 14px;\n    }\n\n    .code-wrapper > .copy-code:hover {\n      color: ${d};\n    }\n\n    .footer {\n      background-color: #fff;\n      border-radius: 0 0 5px 5px;\n    }\n\n    .footer > button {\n      margin-top: 31px;\n      margin-left: 5px;\n      margin-right: 5px;\n      padding: 12px 8px;\n      letter-spacing: 0.5px;\n      font-size: 14px;\n      font-weight: 500;\n      border: 1px solid #ccc;\n      border-radius: 4px;\n      min-width: 150px;\n      cursor: pointer;\n      text-transform: uppercase;\n      background-color: #fff;\n    }\n\n    .footer > button.btn-cancel:hover {\n      color: ${m};\n      border-color: ${m};\n    }\n\n    .footer > button.btn-apply {\n      background-color: ${d};\n      border-color: ${d};\n      color: #fff;\n    }\n\n    .footer > button.btn-apply:hover {\n      background-color: ${f};\n      border-color: ${f};\n    }\n\n    .none {\n      display: none;\n    }\n\n    .middle {\n      background-color: #fff;\n    }\n\n    .footer-billet {\n      padding-bottom: 20px;\n    }\n\n    .conditions {\n      text-align: right;\n      padding-top: 3px;\n      color: #B2B2B2;\n      font-size: x-small;\n    }\n\n    .tooltip {\n      position: relative;\n      display: inline-block;\n      border-bottom: 1px dotted #B2B2B2;\n      margin-right: 27px;\n    }\n\n    .tooltip .tooltip-text {\n      box-shadow: rgba(0, 0, 0, 0.19) 3px 2px 13px 2px;\n      visibility: hidden;\n      width: 180px;\n      background-color: gray;\n      color: #fff;\n      text-align: left;\n      border-radius: 6px;\n      padding: 5px 8px;\n\n      position: absolute;\n      z-index: 1;\n      bottom: 11px;\n      right: -11px;\n    }\n\n    .tooltip:hover .tooltip-text {\n      visibility: visible;\n      overflow-y: auto;\n      overflow-x: hidden;\n      max-height: 200px;\n    }`},t.popupStyles=function(e){let t=e.shouldHideButtons,n=void 0!==t&&t,r=e.headline;let o=(void 0===r?"":r).length>32?"372px":"352px";n&&(o="280px");return{position:"fixed",top:"0",left:"0",right:"0",bottom:"0",margin:"auto","box-shadow":"0px 10px 24px -7px rgba(0, 0, 0, 0.75);",width:"450px",height:o,transition:"all 200ms ease-in",opacity:"0","z-index":2147483647,"line-height":1}},t.PARANJA_STYLES=void 0;var r=n(179);t.PARANJA_STYLES={position:"fixed",top:"0",left:"0",right:"0",bottom:"0","background-color":"rgba(0,0,0,0.5)","z-index":2147483645,transition:"all 200ms ease-in",opacity:"0"}},767:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let t=e.chrome,n=e.window,a=e.config,c=e.onCancel,l=e.onApply,u=e.onCopyCode;const d=(0,o.createElement)(n,{tag:"div",className:"container"}),m=["cliqz","amo"].includes((0,o.chooseProduct)(a.products));d.innerHTML=(0,r.getTemplate)(t,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(n,!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},a,{logoText:m?"Cliqz&nbsp;Offers":"&nbsp;"})),["btn-close","btn-cancel"].forEach(e=>{d.getElementsByClassName(e)[0].addEventListener("click",()=>{c("btn-cancel"===e?"cancel":"x")})}),d.getElementsByClassName("btn-apply")[0].addEventListener("click",()=>{l()}),d.getElementsByClassName("content")[0].addEventListener("click",e=>{e.preventDefault(),e.stopPropagation()});const f=t.i18n.getMessage("offers_code_copied");return d.getElementsByClassName("copy-code")[0].addEventListener("click",(function(){d.getElementsByClassName("promo-code")[0].select(),(0,o.copySelectedText)(n)&&(this.textContent=f,u())})),d};var r=n(768),o=n(179);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},768:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getTemplate=function(e,t){let n=t.products,r=void 0===n?{}:n,s=t.logoText,a=t.benefit,c=t.headline,l=t.code,u=t.labels,d=t.conditions,m=t.shouldHideButtons,f=t.logo_dataurl;const p=(0,i.chooseProduct)(r);return`\n    <div class="content">\n      <div class="header">\n        <div class="offer-logo"></div>\n        <div class="offer-logo-text">${s}</div>\n        <div class="billet"></div>\n        <div class="btn-close"></div>\n      </div>\n      <div class="sub-header">\n        <div class="labels">${function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return t.map(t=>`\n    <div class="label ${t}">${(t=>e.i18n.getMessage(t))(`offers_${t}`)}</div>\n  `).join("")}(e,"ghostery"===p?[]:u)} </div>\n        <div class="billet"></div>\n        <div class="wrapper">\n          <div class="logo" style="background-image: url(${f})"></div>\n        </div>\n        <div class="billet"></div>\n      </div>\n      <div class="middle">\n        <div class="benefit">${(0,o.default)(a)}</div>\n        <div class="headline">${(0,o.default)(c)}</div>\n      </div>\n      <div class="footer">\n        <div class="code-wrapper">\n          <input\n            class="promo-code"\n            value="${(0,o.default)(l)}"\n            readonly="readonly"\n            type="text">\n          <span class="copy-code">${e.i18n.getMessage("offers_hub_copy_btn")}</span>\n        </div>\n        ${function(e,t){return t?`<div class="conditions">\n      <div class="tooltip">\n        <span class="tooltip-text">${(0,o.default)(t)}</span>\n        ${e.i18n.getMessage("offers_conditions")} &#9432\n      </div>\n    </div>`:""}(e,d)}\n        <button class="btn-cancel ${m?"none":""}">\n          ${e.i18n.getMessage("popup_cancel_button")}\n        </button>\n        <button class="btn-apply ${m?"none":""}">\n          ${e.i18n.getMessage("popup_apply_code_button")}\n        </button>\n        <div class="footer-billet"></div>\n      </div>\n    </div>`};var r,o=(r=n(769))&&r.__esModule?r:{default:r},i=n(179)},769:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e&&i.test(e)?e.replace(o,e=>r[e]):e};const r={"&":"&amp","<":"&lt",">":"&gt",'"':"&quot","'":"&#39"},o=/[&<>"']/g,i=RegExp(o.source)},770:function(e,t,n){"use strict";var r=n(136),o=n(145);
/*!
 * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */
function i(e){const t=document.location,n=t.host,r=t.hostname,o=t.pathname,i=t.protocol,s=performance.timing.domContentLoadedEventStart-performance.timing.requestStart||0;e.app.modules.insights.action("recordPageInfo",{domain:`${i}//${n}${o}`,host:r,timestamp:performance.timing.navigationStart,latency:s,pageTiming:{timing:{navigationStart:performance.timing.navigationStart,loadEventEnd:performance.timing.loadEventEnd}}})}(0,r.registerContentScript)({module:"insights",matches:["http://*/*","https://*/*"],js:[function(e,t,n){"complete"!==document.readyState?e.addEventListener("load",()=>{(0,o.setTimeout)(()=>{i(n)},1)}):i(n)}]})},771:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){if("html"!==r.window.document.documentElement.nodeName.toLowerCase())return;const e=new i.default;new Promise(e=>{void 0!==r.window.CLIQZ?e(r.window.CLIQZ):(r.window.runCliqz=e,o.default.sendMessage({module:"core",action:"status"}).then(e=>({app:e})).then(e,()=>{}))}).then(t=>{for(var n=0,i=Object.entries(t.app.modules);n<i.length;n++){const e=c(i[n],2),t=e[0];e[1].action=function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return o.default.sendMessage({module:t,action:e,args:r})}}e.setActionCallbacks((0,s.runContentScripts)(r.window,r.chrome,t)),r.window.addEventListener("unload",()=>{e.unload()},{once:!0})})};var r=n(378),o=a(n(175)),i=a(n(772)),s=n(136);function a(e){return e&&e.__esModule?e:{default:e}}function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}},772:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(773)),o=i(n(175));function i(e){return e&&e.__esModule?e:{default:e}}function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}class a{constructor(){var e,t,n;n=5e3,(t="MAX_BUFFER_LEN")in(e=this)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,this.buffer=[],this.onMessage=e=>this.buffer.length<this.MAX_BUFFER_LEN?new Promise((t,n)=>{this.buffer.push({message:e,resolve:t,reject:n})}):Promise.reject(new Error(`content-script actions buffer limit exceeded: ${this.buffer.length} ${this.MAX_BUFFER_LEN}`))}init(){o.default.onMessage.addListener(this.onMessage)}unload(){o.default.onMessage.removeListener(this.onMessage)}}t.default=class{constructor(){this.actions=null,this.messageHandlers=[new a];var e=!0,t=!1,n=void 0;try{for(var r,o=this.messageHandlers[Symbol.iterator]();!(e=(r=o.next()).done);e=!0){r.value.init()}}catch(e){t=!0,n=e}finally{try{e||null==o.return||o.return()}finally{if(t)throw n}}}unload(){var e=!0,t=!1,n=void 0;try{for(var r,o=this.messageHandlers[Symbol.iterator]();!(e=(r=o.next()).done);e=!0){r.value.unload()}}catch(e){t=!0,n=e}finally{try{e||null==o.return||o.return()}finally{if(t)throw n}}this.messageHandlers=[]}setActionCallbacks(e){const t=this.messageHandlers[0].buffer;this.unload();for(var n=0,o=Object.entries(e);n<o.length;n++){const e=s(o[n],2),d=e[0],m=e[1],f=new r.default(d,m);var i=!0,a=!1,c=void 0;try{for(var l,u=t[Symbol.iterator]();!(i=(l=u.next()).done);i=!0){const e=l.value,t=e.message,n=e.resolve,r=e.reject,o=f.onMessage(t);void 0!==o&&o.then(n).catch(r)}}catch(e){a=!0,c=e}finally{try{i||null==u.return||u.return()}finally{if(a)throw c}}f.init(),this.messageHandlers.push(f)}}}},773:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=(r=n(175))&&r.__esModule?r:{default:r};t.default=
/*!
 * Copyright (c) 2014-present Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */
class{constructor(e,t){this.onMessage=n=>{if(n.module===e){const e=t[n.action];if(void 0!==e){let t=n.args||[];return void 0!==n.message&&(t=[n.message]),Promise.resolve(e(...t))}}}}init(){o.default.onMessage.addListener(this.onMessage)}unload(){o.default.onMessage.removeListener(this.onMessage)}}},894:function(e,t,n){"use strict";n.r(t);n(739);var r=n(196);var o=Math.abs(524287*Date.now()^524287*Math.random()>>>0).toString(16);function i(e,t){return void 0===t&&(t=[]),function(n,o){return Object(r.c)(function(e,t){return void 0===t&&(t=[]),"\n"+t.map((function(e){return"const "+e.name+" = "+e.toString()+";"})).join("\n")+"\n"+e+"\n  "}(function(e,t){return"\ntry {\n  ("+e.toString()+")("+t.map((function(e){return JSON.stringify(e)})).join(", ")+");\n} catch (ex) {  };"}(e,o),t),n.document)}}
/*!
 * Copyright (c) 2017-2019 Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */var s=i((function(e){var t=window.onerror,n=function(n){return"string"==typeof n&&-1!==n.indexOf(e)||t instanceof Function&&t.apply(this,arguments)}.bind(window);Object.defineProperty(window,"onerror",{get:function(){return n},set:function(){}})}));i((function(){var e=window.console,t=console.log;Object.defineProperty(console,"log",{value:function(){for(var n=0;n<arguments.length;n++)if(arguments[n]instanceof HTMLElement)return;return t.apply(e,arguments)}.bind(console)}),Object.defineProperty(console.log,"name",{value:"log"})}));
/*!
 * Copyright (c) 2017-2019 Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */
function a(e){var t=document.currentScript;if(t===e)return!1;if(t instanceof HTMLScriptElement){var n=t.src;if(-1!==n.indexOf("instart.js")||-1!==n.indexOf("?:i10c."))return!0;var r=t.textContent;if(null!==r&&(-1!==r.indexOf(":Instart-")||-1!==r.indexOf("I10C")||-1!==r.indexOf("IXC")||-1!==r.indexOf("INSTART")))return!0}return!1}var c=i((function(e){var t=document.currentScript;["atob","console.error","INSTART_TARGET_NAME","navigator.userAgent","performance","require"].forEach((function(n){var r,o=window,i=n.split("."),s=i.pop();(i.forEach((function(e){o=o[e]})),void 0!==s&&void 0!==o)&&Object.defineProperty(o,s,(r=o[s],{get:function(){if(a(t))throw new ReferenceError(e);return r},set:function(n){if(a(t))throw new ReferenceError(e);r=n}}))}))}),[a]),l=i((function(e){var t,n={InsertTags:function(e,t){document.write(t)},MoveTagAndCleanUp:function(){},MoveTag:function(){},RemoveTags:function(){},InterceptNode:function(){},PatchBegin:function(){},PatchEnd:function(){},PatchInit:function(){},PatchK:function(){},ReloadWithNoHtmlStreaming:function(){window.location.reload(!0)},RemoveAttributes:function(){},UpdateAttributes:function(){},SendR:function(){},RemoveCurrentScript:function(){}},r=new Proxy({},{get:function(e,t){switch(t){case"HtmlStreaming":return n;default:return e[t]}},set:function(e,t,n){switch(t){case"CanRun":e.CanRun=function(){return!1};break;default:e[t]=n}return!0}});Object.defineProperty(window,"_bcm_il",{value:!0}),Object.defineProperty(window,"I10C",{value:r}),Object.defineProperty(window,"I11C",{value:r}),Object.defineProperty(window,"INSTART",{value:new Proxy({},{get:function(n,o){switch(o){case"Init":return function(e){e instanceof Object&&"string"==typeof e.nanovisorGlobalNameSpace&&""!==e.nanovisorGlobalNameSpace&&(window[e.nanovisorGlobalNameSpace]=r),e.disableInjectionXhr=!0,e.enableHtmlStreaming=!1,e.enableQSCallDiffComputationConfig=!1,e.enableQuerySelectorMonitoring=!1,e.partialImage=!1,e.rum=!1,e.serveNanovisorSameDomain=!1,e.useWrapper=!1,e.virtualDomains=0,e.virtualizeDomains=[],void 0!==t&&t(e)};default:if(void 0===n[o])throw new Error(e);return n[o]}},set:function(e,n,r){switch(n){case"Init":t=r;break;default:e[n]=r}return!0}})})}));!function(e){!function(e){-1!==["afterellen.com","allakhazam.com","americanphotomag.com","atvrider.com","baggersmag.com","baltimoresun.com","boatingmag.com","boston.com","cafemom.com","calgaryherald.com","calgarysun.com","capitalgazette.com","carrollcountytimes.com","cattime.com","cbssports.com","celebslam.com","celebuzz.com","chicagotribune.com","chowhound.com","chron.com","chroniclelive.co.uk","citypaper.com","cnet.com","comingsoon.net","computershopper.com","courant.com","craveonline.com","cruisingworld.com","csgoutpost.com","ctnow.com","cycleworld.com","dailydot.com","dailypress.com","dayzdb.com","deathandtaxesmag.com","delmartimes.net","destinationweddingmag.com","dirtrider.com","diversitybestpractices.com","dogtime.com","dotaoutpost.com","download.cnet.com","edmontonjournal.com","edmontonsun.com","edmunds.com","emedicinehealth.com","esohead.com","everquest.allakhazam.com","everydayhealth.com","extremetech.com","fieldandstream.com","financialpost.com","floridatravellife.com","flyingmag.com","focus.de","gamepedia.com","gamerevolution.com","gamespot.com","geek.com","gofugyourself.com","growthspotter.com","hearthhead.com","hockeysfuture.com","hotbikeweb.com","hoylosangeles.com","ibtimes.com","idigitaltimes.com","ign.com","infinitiev.com","islands.com","lajollalight.com","laptopmag.com","latintimes.com","leaderpost.com","legacy.com","lifewire.com","livescience.com","lolking.net","mamaslatinas.com","marlinmag.com","mcall.com","medicaldaily.com","medicinenet.com","metacritic.com","metrolyrics.com","mmo-champion.com","momtastic.com","montrealgazette.com","motorcyclecruiser.com","motorcyclistonline.com","motortrend.com","msn.com","musicfeeds.com.au","mustangandfords.com","mysanantonio.com","nasdaq.com","nationalpost.com","newsarama.com","newsweek.com","opshead.com","orlandosentinel.com","ottawacitizen.com","ottawasun.com","outdoorlife.com","pcmag.com","playstationlifestyle.net","popphoto.com","popsci.com","ranchosantafereview.com","range365.com","ranker.com","realclearpolitics.com","realitytea.com","redeyechicago.com","salon.com","saltwatersportsman.com","sandiegouniontribune.com","saveur.com","scubadiving.com","scubadivingintro.com","seattlepi.com","sfgate.com","sherdog.com","slate.com","slickdeals.net","southflorida.com","space.com","spin.com","sporcle.com","sportdiver.com","sportfishingmag.com","sportingnews.com","sportrider.com","spox.com","stereogum.com","streetchopperweb.com","sun-sentinel.com","superherohype.com","superstreetbike.com","tenplay.com.au","tf2outpost.com","thebalance.com","thefashionspot.com","thefrisky.com","theprovince.com","thespruce.com","thestarphoenix.com","thesuperficial.com","thoughtcatalog.com","thoughtco.com","timeanddate.com","timesunion.com","tmn.today","tomsguide.com","tomsguide.fr","tomshardware.co.uk","tomshardware.com","tomshardware.de","tomshardware.fr","torontosun.com","totalbeauty.com","trustedreviews.com","tv.com","tvguide.com","tvtropes.org","twincities.com","utvdriver.com","vancouversun.com","vg.no","vibe.com","wakeboardingmag.com","washingtonpost.com","waterskimag.com","webmd.com","wikia.com","windowscentral.com","windsorstar.com","winnipegsun.com","workingmother.com","wowhead.com","wrestlezone.com","xda-developers.com","yachtingmagazine.com","zam.com"].indexOf(
/*!
 * Copyright (c) 2017-2019 Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */
function(e){for(var t=function(e){return e.startsWith("www.")?e.slice(4):e},n=e;n;){var r=n.location.hostname;if(""!==r)return t(r);if(n===e.parent)break;n=n.parent}return""}(e))&&(s(e,[o]),l(e,[o]),c(e,[o]))}
/*!
 * Copyright (c) 2017-2019 Cliqz GmbH. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */(e)}(window)},91:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.throttle=function(e,t,n){let r,o;return function(){for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];const c=Date.now();r&&c<r+n?(e.clearTimeout(o),o=e.setTimeout(()=>{r=c,t(...s)},n)):(r=c,t(...s))}},t.deadline=function(e,t){return Promise.race([(0,o.default)(t),e])},t.nextTick=a,t.nextIdle=function(){if("undefined"==typeof window||!window.requestIdleCallback)return a(()=>{});return new Promise(e=>{window.requestIdleCallback(e)})},t.withTimeout=c,t.tryPromise=function(e){return u.apply(this,arguments)};var r,o=(r=n(266))&&r.__esModule?r:{default:r};function i(e,t,n,r,o,i,s){try{var a=e[i](s),c=a.value}catch(e){return void n(e)}a.done?t(c):Promise.resolve(c).then(r,o)}function s(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var s=e.apply(t,n);function a(e){i(s,r,o,a,c,"next",e)}function c(e){i(s,r,o,a,c,"throw",e)}a(void 0)}))}}function a(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Promise.resolve().then(()=>e(...n))}function c(e,t){return l.apply(this,arguments)}function l(){return(l=s((function*(e,t){let n;try{return n=new Promise((e,n)=>{setTimeout(()=>n(new Error(`Timed out after ${t/1e3} seconds`)),t)}),yield Promise.race([e,n])}finally{clearTimeout(n)}}))).apply(this,arguments)}function u(){return(u=s((function*(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;try{return yield c(e,t)}catch(e){return`Failed: ${e}`}}))).apply(this,arguments)}}});